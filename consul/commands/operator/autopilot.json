{"pageProps":{"layoutProps":{"breadcrumbLinks":[{"title":"Developer","url":"/"},{"title":"Consul","url":"/consul"},{"title":"CLI","url":"/consul/commands","isCurrentPage":false},{"title":"operator","url":"/consul/commands/operator"},{"title":"autopilot","url":"/consul/commands/operator/autopilot","isCurrentPage":true}],"sidebarNavDataLevels":[{"levelButtonProps":{"levelDownButtonText":"Consul Home"},"menuItems":[{"leadingIconName":"home","title":"HashiCorp Developer","href":"/"},{"leadingIconName":"guide","title":"Tutorials","href":"/tutorials"},{"divider":true},{"heading":"Products"},{"leadingIconName":"hcp","title":"HashiCorp Cloud Platform","href":"/hcp"},{"leadingIconName":"terraform","title":"Terraform","href":"/terraform"},{"leadingIconName":"packer","title":"Packer","href":"/packer"},{"leadingIconName":"consul","title":"Consul","href":"/consul"},{"leadingIconName":"vault","title":"Vault","href":"/vault"},{"leadingIconName":"boundary","title":"Boundary","href":"/boundary"},{"leadingIconName":"nomad","title":"Nomad","href":"/nomad"},{"leadingIconName":"waypoint","title":"Waypoint","href":"/waypoint"},{"leadingIconName":"vagrant","title":"Vagrant","href":"/vagrant"}],"showFilterInput":false,"title":"Main Menu"},{"levelButtonProps":{"levelUpButtonText":"Main Menu","levelDownButtonText":"Previous"},"menuItems":[{"title":"Consul","fullPath":"/consul","theme":"consul"},{"title":"Install","fullPath":"/consul/install"},{"title":"Tutorials","fullPath":"/consul/tutorials"},{"title":"Documentation","fullPath":"/consul/docs"},{"title":"API","fullPath":"/consul/api-docs"},{"title":"CLI","fullPath":"/consul/commands"}],"showFilterInput":false,"title":"Consul","visuallyHideTitle":true},{"backToLinkProps":{"text":"Consul Home","href":"/consul"},"levelButtonProps":{"levelUpButtonText":"Consul Home"},"menuItems":[{"title":"CLI","fullPath":"/consul/commands","theme":"consul"},{"title":"acl","routes":[{"title":"Overview","path":"acl","filePath":"../content/commands/acl/index.mdx","fullPath":"/consul/commands/acl","id":"sidebar-nav-item-2"},{"title":"auth-method","routes":[{"title":"Overview","path":"acl/auth-method","filePath":"../content/commands/acl/auth-method/index.mdx","fullPath":"/consul/commands/acl/auth-method","id":"sidebar-nav-item-4"},{"title":"create","path":"acl/auth-method/create","filePath":"../content/commands/acl/auth-method/create.mdx","fullPath":"/consul/commands/acl/auth-method/create","id":"sidebar-nav-item-5"},{"title":"delete","path":"acl/auth-method/delete","filePath":"../content/commands/acl/auth-method/delete.mdx","fullPath":"/consul/commands/acl/auth-method/delete","id":"sidebar-nav-item-6"},{"title":"list","path":"acl/auth-method/list","filePath":"../content/commands/acl/auth-method/list.mdx","fullPath":"/consul/commands/acl/auth-method/list","id":"sidebar-nav-item-7"},{"title":"read","path":"acl/auth-method/read","filePath":"../content/commands/acl/auth-method/read.mdx","fullPath":"/consul/commands/acl/auth-method/read","id":"sidebar-nav-item-8"},{"title":"update","path":"acl/auth-method/update","filePath":"../content/commands/acl/auth-method/update.mdx","fullPath":"/consul/commands/acl/auth-method/update","id":"sidebar-nav-item-9"}],"id":"sidebar-nav-item-3"},{"title":"binding-rule","routes":[{"title":"Overview","path":"acl/binding-rule","filePath":"../content/commands/acl/binding-rule/index.mdx","fullPath":"/consul/commands/acl/binding-rule","id":"sidebar-nav-item-11"},{"title":"create","path":"acl/binding-rule/create","filePath":"../content/commands/acl/binding-rule/create.mdx","fullPath":"/consul/commands/acl/binding-rule/create","id":"sidebar-nav-item-12"},{"title":"delete","path":"acl/binding-rule/delete","filePath":"../content/commands/acl/binding-rule/delete.mdx","fullPath":"/consul/commands/acl/binding-rule/delete","id":"sidebar-nav-item-13"},{"title":"list","path":"acl/binding-rule/list","filePath":"../content/commands/acl/binding-rule/list.mdx","fullPath":"/consul/commands/acl/binding-rule/list","id":"sidebar-nav-item-14"},{"title":"read","path":"acl/binding-rule/read","filePath":"../content/commands/acl/binding-rule/read.mdx","fullPath":"/consul/commands/acl/binding-rule/read","id":"sidebar-nav-item-15"},{"title":"update","path":"acl/binding-rule/update","filePath":"../content/commands/acl/binding-rule/update.mdx","fullPath":"/consul/commands/acl/binding-rule/update","id":"sidebar-nav-item-16"}],"id":"sidebar-nav-item-10"},{"title":"bootstrap","path":"acl/bootstrap","filePath":"../content/commands/acl/bootstrap.mdx","fullPath":"/consul/commands/acl/bootstrap","id":"sidebar-nav-item-17"},{"title":"policy","routes":[{"title":"Overview","path":"acl/policy","filePath":"../content/commands/acl/policy/index.mdx","fullPath":"/consul/commands/acl/policy","id":"sidebar-nav-item-19"},{"title":"create","path":"acl/policy/create","filePath":"../content/commands/acl/policy/create.mdx","fullPath":"/consul/commands/acl/policy/create","id":"sidebar-nav-item-20"},{"title":"delete","path":"acl/policy/delete","filePath":"../content/commands/acl/policy/delete.mdx","fullPath":"/consul/commands/acl/policy/delete","id":"sidebar-nav-item-21"},{"title":"list","path":"acl/policy/list","filePath":"../content/commands/acl/policy/list.mdx","fullPath":"/consul/commands/acl/policy/list","id":"sidebar-nav-item-22"},{"title":"read","path":"acl/policy/read","filePath":"../content/commands/acl/policy/read.mdx","fullPath":"/consul/commands/acl/policy/read","id":"sidebar-nav-item-23"},{"title":"update","path":"acl/policy/update","filePath":"../content/commands/acl/policy/update.mdx","fullPath":"/consul/commands/acl/policy/update","id":"sidebar-nav-item-24"}],"id":"sidebar-nav-item-18"},{"title":"templated policy","routes":[{"title":"Overview","path":"acl/templated-policy","filePath":"../content/commands/acl/templated-policy/index.mdx","fullPath":"/consul/commands/acl/templated-policy","id":"sidebar-nav-item-26"},{"title":"list","path":"acl/templated-policy/list","filePath":"../content/commands/acl/templated-policy/list.mdx","fullPath":"/consul/commands/acl/templated-policy/list","id":"sidebar-nav-item-27"},{"title":"preview","path":"acl/templated-policy/preview","filePath":"../content/commands/acl/templated-policy/preview.mdx","fullPath":"/consul/commands/acl/templated-policy/preview","id":"sidebar-nav-item-28"},{"title":"read","path":"acl/templated-policy/read","filePath":"../content/commands/acl/templated-policy/read.mdx","fullPath":"/consul/commands/acl/templated-policy/read","id":"sidebar-nav-item-29"}],"id":"sidebar-nav-item-25"},{"title":"role","routes":[{"title":"Overview","path":"acl/role","filePath":"../content/commands/acl/role/index.mdx","fullPath":"/consul/commands/acl/role","id":"sidebar-nav-item-31"},{"title":"create","path":"acl/role/create","filePath":"../content/commands/acl/role/create.mdx","fullPath":"/consul/commands/acl/role/create","id":"sidebar-nav-item-32"},{"title":"delete","path":"acl/role/delete","filePath":"../content/commands/acl/role/delete.mdx","fullPath":"/consul/commands/acl/role/delete","id":"sidebar-nav-item-33"},{"title":"list","path":"acl/role/list","filePath":"../content/commands/acl/role/list.mdx","fullPath":"/consul/commands/acl/role/list","id":"sidebar-nav-item-34"},{"title":"read","path":"acl/role/read","filePath":"../content/commands/acl/role/read.mdx","fullPath":"/consul/commands/acl/role/read","id":"sidebar-nav-item-35"},{"title":"update","path":"acl/role/update","filePath":"../content/commands/acl/role/update.mdx","fullPath":"/consul/commands/acl/role/update","id":"sidebar-nav-item-36"}],"id":"sidebar-nav-item-30"},{"title":"set-agent-token","path":"acl/set-agent-token","filePath":"../content/commands/acl/set-agent-token.mdx","fullPath":"/consul/commands/acl/set-agent-token","id":"sidebar-nav-item-37"},{"title":"token","routes":[{"title":"Overview","path":"acl/token","filePath":"../content/commands/acl/token/index.mdx","fullPath":"/consul/commands/acl/token","id":"sidebar-nav-item-39"},{"title":"clone","path":"acl/token/clone","filePath":"../content/commands/acl/token/clone.mdx","fullPath":"/consul/commands/acl/token/clone","id":"sidebar-nav-item-40"},{"title":"create","path":"acl/token/create","filePath":"../content/commands/acl/token/create.mdx","fullPath":"/consul/commands/acl/token/create","id":"sidebar-nav-item-41"},{"title":"delete","path":"acl/token/delete","filePath":"../content/commands/acl/token/delete.mdx","fullPath":"/consul/commands/acl/token/delete","id":"sidebar-nav-item-42"},{"title":"list","path":"acl/token/list","filePath":"../content/commands/acl/token/list.mdx","fullPath":"/consul/commands/acl/token/list","id":"sidebar-nav-item-43"},{"title":"read","path":"acl/token/read","filePath":"../content/commands/acl/token/read.mdx","fullPath":"/consul/commands/acl/token/read","id":"sidebar-nav-item-44"},{"title":"update","path":"acl/token/update","filePath":"../content/commands/acl/token/update.mdx","fullPath":"/consul/commands/acl/token/update","id":"sidebar-nav-item-45"}],"id":"sidebar-nav-item-38"}],"id":"sidebar-nav-item-1"},{"title":"agent","path":"agent","filePath":"../content/commands/agent.mdx","fullPath":"/consul/commands/agent","id":"sidebar-nav-item-46"},{"title":"catalog","routes":[{"title":"Overview","path":"catalog","filePath":"../content/commands/catalog/index.mdx","fullPath":"/consul/commands/catalog","id":"sidebar-nav-item-48"},{"title":"datacenters","path":"catalog/datacenters","filePath":"../content/commands/catalog/datacenters.mdx","fullPath":"/consul/commands/catalog/datacenters","id":"sidebar-nav-item-49"},{"title":"nodes","path":"catalog/nodes","filePath":"../content/commands/catalog/nodes.mdx","fullPath":"/consul/commands/catalog/nodes","id":"sidebar-nav-item-50"},{"title":"services","path":"catalog/services","filePath":"../content/commands/catalog/services.mdx","fullPath":"/consul/commands/catalog/services","id":"sidebar-nav-item-51"}],"id":"sidebar-nav-item-47"},{"title":"config","routes":[{"title":"Overview","path":"config","filePath":"../content/commands/config/index.mdx","fullPath":"/consul/commands/config","id":"sidebar-nav-item-53"},{"title":"delete","path":"config/delete","filePath":"../content/commands/config/delete.mdx","fullPath":"/consul/commands/config/delete","id":"sidebar-nav-item-54"},{"title":"list","path":"config/list","filePath":"../content/commands/config/list.mdx","fullPath":"/consul/commands/config/list","id":"sidebar-nav-item-55"},{"title":"read","path":"config/read","filePath":"../content/commands/config/read.mdx","fullPath":"/consul/commands/config/read","id":"sidebar-nav-item-56"},{"title":"write","path":"config/write","filePath":"../content/commands/config/write.mdx","fullPath":"/consul/commands/config/write","id":"sidebar-nav-item-57"}],"id":"sidebar-nav-item-52"},{"title":"connect","routes":[{"title":"Overview","path":"connect","filePath":"../content/commands/connect/index.mdx","fullPath":"/consul/commands/connect","id":"sidebar-nav-item-59"},{"title":"ca","path":"connect/ca","filePath":"../content/commands/connect/ca.mdx","fullPath":"/consul/commands/connect/ca","id":"sidebar-nav-item-60"},{"title":"proxy","path":"connect/proxy","filePath":"../content/commands/connect/proxy.mdx","fullPath":"/consul/commands/connect/proxy","id":"sidebar-nav-item-61"},{"title":"envoy","path":"connect/envoy","filePath":"../content/commands/connect/envoy.mdx","fullPath":"/consul/commands/connect/envoy","id":"sidebar-nav-item-62"},{"title":"expose","path":"connect/expose","filePath":"../content/commands/connect/expose.mdx","fullPath":"/consul/commands/connect/expose","id":"sidebar-nav-item-63"},{"title":"redirect-traffic","path":"connect/redirect-traffic","filePath":"../content/commands/connect/redirect-traffic.mdx","fullPath":"/consul/commands/connect/redirect-traffic","id":"sidebar-nav-item-64"}],"id":"sidebar-nav-item-58"},{"title":"debug","path":"debug","filePath":"../content/commands/debug.mdx","fullPath":"/consul/commands/debug","id":"sidebar-nav-item-65"},{"title":"event","path":"event","filePath":"../content/commands/event.mdx","fullPath":"/consul/commands/event","id":"sidebar-nav-item-66"},{"title":"exec","path":"exec","filePath":"../content/commands/exec.mdx","fullPath":"/consul/commands/exec","id":"sidebar-nav-item-67"},{"title":"force-leave","path":"force-leave","filePath":"../content/commands/force-leave.mdx","fullPath":"/consul/commands/force-leave","id":"sidebar-nav-item-68"},{"title":"info","path":"info","filePath":"../content/commands/info.mdx","fullPath":"/consul/commands/info","id":"sidebar-nav-item-69"},{"title":"intention","routes":[{"title":"Overview","path":"intention","filePath":"../content/commands/intention/index.mdx","fullPath":"/consul/commands/intention","id":"sidebar-nav-item-71"},{"title":"check","path":"intention/check","filePath":"../content/commands/intention/check.mdx","fullPath":"/consul/commands/intention/check","id":"sidebar-nav-item-72"},{"title":"create","path":"intention/create","filePath":"../content/commands/intention/create.mdx","fullPath":"/consul/commands/intention/create","id":"sidebar-nav-item-73"},{"title":"delete","path":"intention/delete","filePath":"../content/commands/intention/delete.mdx","fullPath":"/consul/commands/intention/delete","id":"sidebar-nav-item-74"},{"title":"get","path":"intention/get","filePath":"../content/commands/intention/get.mdx","fullPath":"/consul/commands/intention/get","id":"sidebar-nav-item-75"},{"title":"list","path":"intention/list","filePath":"../content/commands/intention/list.mdx","fullPath":"/consul/commands/intention/list","id":"sidebar-nav-item-76"},{"title":"match","path":"intention/match","filePath":"../content/commands/intention/match.mdx","fullPath":"/consul/commands/intention/match","id":"sidebar-nav-item-77"}],"id":"sidebar-nav-item-70"},{"title":"join","path":"join","filePath":"../content/commands/join.mdx","fullPath":"/consul/commands/join","id":"sidebar-nav-item-78"},{"title":"keygen","path":"keygen","filePath":"../content/commands/keygen.mdx","fullPath":"/consul/commands/keygen","id":"sidebar-nav-item-79"},{"title":"keyring","path":"keyring","filePath":"../content/commands/keyring.mdx","fullPath":"/consul/commands/keyring","id":"sidebar-nav-item-80"},{"title":"kv","routes":[{"title":"Overview","path":"kv","filePath":"../content/commands/kv/index.mdx","fullPath":"/consul/commands/kv","id":"sidebar-nav-item-82"},{"title":"delete","path":"kv/delete","filePath":"../content/commands/kv/delete.mdx","fullPath":"/consul/commands/kv/delete","id":"sidebar-nav-item-83"},{"title":"export","path":"kv/export","filePath":"../content/commands/kv/export.mdx","fullPath":"/consul/commands/kv/export","id":"sidebar-nav-item-84"},{"title":"get","path":"kv/get","filePath":"../content/commands/kv/get.mdx","fullPath":"/consul/commands/kv/get","id":"sidebar-nav-item-85"},{"title":"import","path":"kv/import","filePath":"../content/commands/kv/import.mdx","fullPath":"/consul/commands/kv/import","id":"sidebar-nav-item-86"},{"title":"put","path":"kv/put","filePath":"../content/commands/kv/put.mdx","fullPath":"/consul/commands/kv/put","id":"sidebar-nav-item-87"}],"id":"sidebar-nav-item-81"},{"title":"leave","path":"leave","filePath":"../content/commands/leave.mdx","fullPath":"/consul/commands/leave","id":"sidebar-nav-item-88"},{"title":"license","path":"license","filePath":"../content/commands/license.mdx","fullPath":"/consul/commands/license","id":"sidebar-nav-item-89"},{"title":"lock","path":"lock","filePath":"../content/commands/lock.mdx","fullPath":"/consul/commands/lock","id":"sidebar-nav-item-90"},{"title":"login","path":"login","filePath":"../content/commands/login.mdx","fullPath":"/consul/commands/login","id":"sidebar-nav-item-91"},{"title":"logout","path":"logout","filePath":"../content/commands/logout.mdx","fullPath":"/consul/commands/logout","id":"sidebar-nav-item-92"},{"title":"maint","path":"maint","filePath":"../content/commands/maint.mdx","fullPath":"/consul/commands/maint","id":"sidebar-nav-item-93"},{"title":"members","path":"members","filePath":"../content/commands/members.mdx","fullPath":"/consul/commands/members","id":"sidebar-nav-item-94"},{"title":"monitor","path":"monitor","filePath":"../content/commands/monitor.mdx","fullPath":"/consul/commands/monitor","id":"sidebar-nav-item-95"},{"title":"namespace","routes":[{"title":"Overview","path":"namespace","filePath":"../content/commands/namespace/index.mdx","fullPath":"/consul/commands/namespace","id":"sidebar-nav-item-97"},{"title":"create","path":"namespace/create","filePath":"../content/commands/namespace/create.mdx","fullPath":"/consul/commands/namespace/create","id":"sidebar-nav-item-98"},{"title":"delete","path":"namespace/delete","filePath":"../content/commands/namespace/delete.mdx","fullPath":"/consul/commands/namespace/delete","id":"sidebar-nav-item-99"},{"title":"list","path":"namespace/list","filePath":"../content/commands/namespace/list.mdx","fullPath":"/consul/commands/namespace/list","id":"sidebar-nav-item-100"},{"title":"read","path":"namespace/read","filePath":"../content/commands/namespace/read.mdx","fullPath":"/consul/commands/namespace/read","id":"sidebar-nav-item-101"},{"title":"update","path":"namespace/update","filePath":"../content/commands/namespace/update.mdx","fullPath":"/consul/commands/namespace/update","id":"sidebar-nav-item-102"},{"title":"write","path":"namespace/write","filePath":"../content/commands/namespace/write.mdx","fullPath":"/consul/commands/namespace/write","id":"sidebar-nav-item-103"}],"id":"sidebar-nav-item-96"},{"title":"operator","routes":[{"title":"Overview","path":"operator","filePath":"../content/commands/operator/index.mdx","fullPath":"/consul/commands/operator","id":"sidebar-nav-item-105"},{"title":"area","path":"operator/area","filePath":"../content/commands/operator/area.mdx","fullPath":"/consul/commands/operator/area","id":"sidebar-nav-item-106"},{"title":"autopilot","path":"operator/autopilot","filePath":"../content/commands/operator/autopilot.mdx","fullPath":"/consul/commands/operator/autopilot","id":"sidebar-nav-item-107"},{"title":"raft","path":"operator/raft","filePath":"../content/commands/operator/raft.mdx","fullPath":"/consul/commands/operator/raft","id":"sidebar-nav-item-108"},{"title":"usage","path":"operator/usage","filePath":"../content/commands/operator/usage.mdx","fullPath":"/consul/commands/operator/usage","id":"sidebar-nav-item-109"}],"id":"sidebar-nav-item-104"},{"title":"partition","path":"partition","filePath":"../content/commands/partition.mdx","fullPath":"/consul/commands/partition","id":"sidebar-nav-item-110"},{"title":"peering","routes":[{"title":"Overview","path":"peering","filePath":"../content/commands/peering/index.mdx","fullPath":"/consul/commands/peering","id":"sidebar-nav-item-112"},{"title":"delete","path":"peering/delete","filePath":"../content/commands/peering/delete.mdx","fullPath":"/consul/commands/peering/delete","id":"sidebar-nav-item-113"},{"title":"establish","path":"peering/establish","filePath":"../content/commands/peering/establish.mdx","fullPath":"/consul/commands/peering/establish","id":"sidebar-nav-item-114"},{"title":"exported-services","path":"peering/exported-services","filePath":"../content/commands/peering/exported-services.mdx","fullPath":"/consul/commands/peering/exported-services","id":"sidebar-nav-item-115"},{"title":"generate-token","path":"peering/generate-token","filePath":"../content/commands/peering/generate-token.mdx","fullPath":"/consul/commands/peering/generate-token","id":"sidebar-nav-item-116"},{"title":"list","path":"peering/list","filePath":"../content/commands/peering/list.mdx","fullPath":"/consul/commands/peering/list","id":"sidebar-nav-item-117"},{"title":"read","path":"peering/read","filePath":"../content/commands/peering/read.mdx","fullPath":"/consul/commands/peering/read","id":"sidebar-nav-item-118"}],"id":"sidebar-nav-item-111"},{"title":"reload","path":"reload","filePath":"../content/commands/reload.mdx","fullPath":"/consul/commands/reload","id":"sidebar-nav-item-119"},{"title":"resource","path":"resource","badge":{"text":"v2","type":"outlined","color":"neutral"},"filePath":"../content/commands/resource.mdx","fullPath":"/consul/commands/resource","id":"sidebar-nav-item-120"},{"title":"rtt","path":"rtt","filePath":"../content/commands/rtt.mdx","fullPath":"/consul/commands/rtt","id":"sidebar-nav-item-121"},{"title":"services","routes":[{"title":"Overview","path":"services","filePath":"../content/commands/services/index.mdx","fullPath":"/consul/commands/services","id":"sidebar-nav-item-123"},{"title":"register","path":"services/register","filePath":"../content/commands/services/register.mdx","fullPath":"/consul/commands/services/register","id":"sidebar-nav-item-124"},{"title":"deregister","path":"services/deregister","filePath":"../content/commands/services/deregister.mdx","fullPath":"/consul/commands/services/deregister","id":"sidebar-nav-item-125"},{"title":"export","path":"services/export","filePath":"../content/commands/services/export.mdx","fullPath":"/consul/commands/services/export","id":"sidebar-nav-item-126"},{"title":"exported-services","path":"services/exported-services","filePath":"../content/commands/services/exported-services.mdx","fullPath":"/consul/commands/services/exported-services","id":"sidebar-nav-item-127"}],"id":"sidebar-nav-item-122"},{"title":"snapshot","routes":[{"title":"Overview","path":"snapshot","filePath":"../content/commands/snapshot/index.mdx","fullPath":"/consul/commands/snapshot","id":"sidebar-nav-item-129"},{"title":"agent","path":"snapshot/agent","filePath":"../content/commands/snapshot/agent.mdx","fullPath":"/consul/commands/snapshot/agent","id":"sidebar-nav-item-130"},{"title":"inspect","path":"snapshot/inspect","filePath":"../content/commands/snapshot/inspect.mdx","fullPath":"/consul/commands/snapshot/inspect","id":"sidebar-nav-item-131"},{"title":"restore","path":"snapshot/restore","filePath":"../content/commands/snapshot/restore.mdx","fullPath":"/consul/commands/snapshot/restore","id":"sidebar-nav-item-132"},{"title":"save","path":"snapshot/save","filePath":"../content/commands/snapshot/save.mdx","fullPath":"/consul/commands/snapshot/save","id":"sidebar-nav-item-133"}],"id":"sidebar-nav-item-128"},{"title":"tls","routes":[{"title":"Overview","path":"tls","filePath":"../content/commands/tls/index.mdx","fullPath":"/consul/commands/tls","id":"sidebar-nav-item-135"},{"title":"ca","path":"tls/ca","filePath":"../content/commands/tls/ca.mdx","fullPath":"/consul/commands/tls/ca","id":"sidebar-nav-item-136"},{"title":"cert","path":"tls/cert","filePath":"../content/commands/tls/cert.mdx","fullPath":"/consul/commands/tls/cert","id":"sidebar-nav-item-137"}],"id":"sidebar-nav-item-134"},{"title":"troubleshoot","routes":[{"title":"Overview","path":"troubleshoot","filePath":"../content/commands/troubleshoot/index.mdx","fullPath":"/consul/commands/troubleshoot","id":"sidebar-nav-item-139"},{"title":"upstreams","path":"troubleshoot/upstreams","filePath":"../content/commands/troubleshoot/upstreams.mdx","fullPath":"/consul/commands/troubleshoot/upstreams","id":"sidebar-nav-item-140"},{"title":"proxy","path":"troubleshoot/proxy","filePath":"../content/commands/troubleshoot/proxy.mdx","fullPath":"/consul/commands/troubleshoot/proxy","id":"sidebar-nav-item-141"},{"title":"ports","path":"troubleshoot/ports","filePath":"../content/commands/troubleshoot/ports.mdx","fullPath":"/consul/commands/troubleshoot/ports","id":"sidebar-nav-item-142"}],"id":"sidebar-nav-item-138"},{"title":"validate","path":"validate","filePath":"../content/commands/validate.mdx","fullPath":"/consul/commands/validate","id":"sidebar-nav-item-143"},{"title":"version","path":"version","filePath":"../content/commands/version.mdx","fullPath":"/consul/commands/version","id":"sidebar-nav-item-144"},{"title":"watch","path":"watch","filePath":"../content/commands/watch.mdx","fullPath":"/consul/commands/watch","id":"sidebar-nav-item-145"}],"title":"CLI","visuallyHideTitle":true}],"mainWidth":"narrow","githubFileUrl":"https://github.com/hashicorp/consul/blob/main/website/../content/commands/operator/autopilot.mdx"},"metadata":{"title":"Commands: Operator Autopilot","description":"The operator autopilot subcommand is used to view and modify Consul's Autopilot configuration.\n","layout":null},"outlineItems":[{"title":"Consul Operator Autopilot","url":"#consul-operator-autopilot","dataHeapTrack":"toc-list-item-index-0"},{"title":"get-config","url":"#get-config","dataHeapTrack":"toc-list-item-index-1"},{"title":"set-config","url":"#set-config","dataHeapTrack":"toc-list-item-index-2"},{"title":"state","url":"#state","dataHeapTrack":"toc-list-item-index-3"}],"pageHeading":{"id":"consul-operator-autopilot","title":"Consul Operator Autopilot"},"mdxSource":{"compiledSource":"var d=Object.defineProperty,c=Object.defineProperties;var u=Object.getOwnPropertyDescriptors;var l=Object.getOwnPropertySymbols;var r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;var p=(a,n,i)=>n in a?d(a,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[n]=i,e=(a,n)=>{for(var i in n||(n={}))r.call(n,i)&&p(a,i,n[i]);if(l)for(var i of l(n))o.call(n,i)&&p(a,i,n[i]);return a},s=(a,n)=>c(a,u(n));var m=(a,n)=>{var i={};for(var t in a)r.call(a,t)&&n.indexOf(t)<0&&(i[t]=a[t]);if(a!=null&&l)for(var t of l(a))n.indexOf(t)<0&&o.call(a,t)&&(i[t]=a[t]);return i};const makeShortcode=a=>function(i){return console.warn(\"Component \"+a+\" was not imported, exported, or provided by MDXProvider as global scope\"),mdx(\"div\",e({},i))},EnterpriseAlert=makeShortcode(\"EnterpriseAlert\"),layoutProps={},MDXLayout=\"wrapper\";function MDXContent(i){var t=i,{components:a}=t,n=m(t,[\"components\"]);return mdx(MDXLayout,s(e(e({},layoutProps),n),{components:a,mdxType:\"MDXLayout\"}),mdx(\"p\",null,\"Command: \",mdx(\"inlineCode\",{parentName:\"p\"},\"consul operator autopilot\")),mdx(\"p\",null,`The Autopilot operator command is used to interact with Consul's Autopilot subsystem. The\ncommand can be used to view or modify the current Autopilot configuration. See the\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"/consul/tutorials/datacenter-operations/autopilot-datacenter-operations\"}),\"Autopilot Guide\"),\" for more information about Autopilot.\"),mdx(\"pre\",e({},{className:\"language-text\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-text\"}),\"Usage: consul operator autopilot <subcommand> [options]\",`\n`,`\n`,\"The Autopilot operator command is used to interact with Consul's Autopilot\",`\n`,\"subsystem. The command can be used to view or modify the current configuration.\",`\n`,`\n`,\"Subcommands:\",`\n`,`\n`,\"    get-config    Display the current Autopilot configuration\",`\n`,\"    set-config    Modify the current Autopilot configuration\",`\n`)),mdx(\"h2\",e({},{id:\"get-config\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#get-config\",\"aria-label\":\"get config permalink\"}),\"\\xBB\"),\"get-config\"),mdx(\"p\",null,\"Corresponding HTTP API Endpoint: \",mdx(\"a\",e({parentName:\"p\"},{href:\"/consul/api-docs/operator/autopilot#read-configuration\"}),\"[\",\"GET\",\"]\",\" /v1/operator/autopilot/configuration\")),mdx(\"p\",null,\"This command displays the current autopilot configuration.\"),mdx(\"p\",null,\"The table below shows this command's \",mdx(\"a\",e({parentName:\"p\"},{href:\"/consul/api-docs/api-structure#authentication\"}),\"required ACLs\"),`. Configuration of\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"/consul/api-docs/features/blocking\"}),\"blocking queries\"),\" and \",mdx(\"a\",e({parentName:\"p\"},{href:\"/consul/api-docs/features/caching\"}),\"agent caching\"),`\nare not supported from commands, but may be from the corresponding HTTP endpoint.`),mdx(\"table\",null,mdx(\"thead\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"thead\"},mdx(\"th\",e({parentName:\"tr\"},{align:null}),\"ACL Required\"))),mdx(\"tbody\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"operator:read\"))))),mdx(\"p\",null,\"Usage: \",mdx(\"inlineCode\",{parentName:\"p\"},\"consul operator autopilot get-config [options]\")),mdx(\"h4\",e({},{id:\"sample-output\"}),mdx(\"a\",e({parentName:\"h4\"},{className:\"__permalink-h\",href:\"#sample-output\",\"aria-label\":\"sample output permalink\"}),\"\\xBB\"),\"Sample Output\"),mdx(\"pre\",e({},{className:\"language-sh\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-sh\"}),\"$ consul operator autopilot get-config\",`\n`,\"CleanupDeadServers = true\",`\n`,\"LastContactThreshold = 200ms\",`\n`,\"MaxTrailingLogs = 250\",`\n`,\"ServerStabilizationTime = 10s\",`\n`,'RedundancyZoneTag = \"\"',`\n`,\"DisableUpgradeMigration = false\",`\n`,'UpgradeMigrationTag = \"\"',`\n`)),mdx(\"h4\",e({},{id:\"api-options\"}),mdx(\"a\",e({parentName:\"h4\"},{className:\"__permalink-h\",href:\"#api-options\",\"aria-label\":\"api options permalink\"}),\"\\xBB\"),\"API Options\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"ca-file\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",e({parentName:\"p\"},{href:\"#ca-file\",\"aria-label\":\"ca file permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"-ca-file=<value>\")),` - Path to a CA file to use for TLS when communicating with Consul.\nThis can also be specified via the `,mdx(\"inlineCode\",{parentName:\"p\"},\"CONSUL_CACERT\"),\" environment variable.\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"ca-path\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",e({parentName:\"p\"},{href:\"#ca-path\",\"aria-label\":\"ca path permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"-ca-path=<value>\")),` - Path to a directory of CA certificates to use for TLS when\ncommunicating with Consul. This can also be specified via the `,mdx(\"inlineCode\",{parentName:\"p\"},\"CONSUL_CAPATH\"),`\nenvironment variable.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"client-cert\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",e({parentName:\"p\"},{href:\"#client-cert\",\"aria-label\":\"client cert permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"-client-cert=<value>\")),` - Path to a client cert file to use for TLS when\n`,mdx(\"inlineCode\",{parentName:\"p\"},\"verify_incoming\"),\" is enabled. This can also be specified via the \",mdx(\"inlineCode\",{parentName:\"p\"},\"CONSUL_CLIENT_CERT\"),`\nenvironment variable.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"client-key\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",e({parentName:\"p\"},{href:\"#client-key\",\"aria-label\":\"client key permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"-client-key=<value>\")),` - Path to a client key file to use for TLS when\n`,mdx(\"inlineCode\",{parentName:\"p\"},\"verify_incoming\"),\" is enabled. This can also be specified via the \",mdx(\"inlineCode\",{parentName:\"p\"},\"CONSUL_CLIENT_KEY\"),`\nenvironment variable.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"http-addr\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",e({parentName:\"p\"},{href:\"#http-addr\",\"aria-label\":\"http addr permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"-http-addr=<addr>\")),` - Address of the Consul agent with the port. This can be\nan IP address or DNS address, but it must include the port. This can also be\nspecified via the `,mdx(\"inlineCode\",{parentName:\"p\"},\"CONSUL_HTTP_ADDR\"),` environment variable. In Consul 0.8 and\nlater, the default value is `,mdx(\"a\",e({parentName:\"p\"},{href:\"http://127.0.0.1:8500\"}),\"http://127.0.0.1:8500\"),`, and https can optionally be\nused instead. The scheme can also be set to HTTPS by setting the environment\nvariable `,mdx(\"inlineCode\",{parentName:\"p\"},\"CONSUL_HTTP_SSL=true\"),`. This may be a unix domain socket using\n`,mdx(\"inlineCode\",{parentName:\"p\"},\"unix:///path/to/socket\"),\" if the \",mdx(\"a\",e({parentName:\"p\"},{href:\"/consul/docs/agent/config/config-files#addresses\"}),`agent is configured to\nlisten`),\" that way.\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"tls-server-name\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",e({parentName:\"p\"},{href:\"#tls-server-name\",\"aria-label\":\"tls server name permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"-tls-server-name=<value>\")),` - The server name to use as the SNI host when\nconnecting via TLS. This can also be specified via the `,mdx(\"inlineCode\",{parentName:\"p\"},\"CONSUL_TLS_SERVER_NAME\"),`\nenvironment variable.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"token\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",e({parentName:\"p\"},{href:\"#token\",\"aria-label\":\"token permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"-token=<value>\")),` - ACL token to use in the request. This can also be specified\nvia the `,mdx(\"inlineCode\",{parentName:\"p\"},\"CONSUL_HTTP_TOKEN\"),` environment variable. If unspecified, the query\nwill default to the token of the Consul agent at the HTTP address.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"token-file\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",e({parentName:\"p\"},{href:\"#token-file\",\"aria-label\":\"token file permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"-token-file=<value>\")),` - File containing the ACL token to use in the request\ninstead of one specified via the `,mdx(\"inlineCode\",{parentName:\"p\"},\"-token\"),\" argument or \",mdx(\"inlineCode\",{parentName:\"p\"},\"CONSUL_HTTP_TOKEN\"),`\nenvironment variable. This can also be specified via the\n`,mdx(\"inlineCode\",{parentName:\"p\"},\"CONSUL_HTTP_TOKEN_FILE\"),\" environment variable.\"))),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"datacenter\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",e({parentName:\"p\"},{href:\"#datacenter\",\"aria-label\":\"datacenter permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"-datacenter=<name>\")),` - Name of the datacenter to query. If unspecified, the\nquery will default to the datacenter of the Consul agent at the HTTP address.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"stale\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",e({parentName:\"p\"},{href:\"#stale\",\"aria-label\":\"stale permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"-stale\")),` - Permit any Consul server (non-leader) to respond to this request.\nThis allows for lower latency and higher throughput, but can result in stale\ndata. This option has no effect on non-read operations. The default value is\nfalse.`))),mdx(\"h2\",e({},{id:\"set-config\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#set-config\",\"aria-label\":\"set config permalink\"}),\"\\xBB\"),\"set-config\"),mdx(\"p\",null,\"Corresponding HTTP API Endpoint: \",mdx(\"a\",e({parentName:\"p\"},{href:\"/consul/api-docs/operator/autopilot#update-configuration\"}),\"[\",\"PUT\",\"]\",\" /v1/operator/autopilot/configuration\")),mdx(\"p\",null,\"Modifies the current Autopilot configuration.\"),mdx(\"p\",null,\"The table below shows this command's \",mdx(\"a\",e({parentName:\"p\"},{href:\"/consul/api-docs/api-structure#authentication\"}),\"required ACLs\"),`. Configuration of\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"/consul/api-docs/features/blocking\"}),\"blocking queries\"),\" and \",mdx(\"a\",e({parentName:\"p\"},{href:\"/consul/api-docs/features/caching\"}),\"agent caching\"),`\nare not supported from commands, but may be from the corresponding HTTP endpoint.`),mdx(\"table\",null,mdx(\"thead\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"thead\"},mdx(\"th\",e({parentName:\"tr\"},{align:null}),\"ACL Required\"))),mdx(\"tbody\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"operator:write\"))))),mdx(\"p\",null,\"Usage: \",mdx(\"inlineCode\",{parentName:\"p\"},\"consul operator autopilot set-config [options]\")),mdx(\"h4\",e({},{id:\"sample-output-1\"}),mdx(\"a\",e({parentName:\"h4\"},{className:\"__permalink-h\",href:\"#sample-output-1\",\"aria-label\":\"sample output permalink\"}),\"\\xBB\"),\"Sample Output\"),mdx(\"pre\",e({},{className:\"language-sh\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-sh\"}),\"$ consul operator autopilot set-config -min-quorum=3\",`\n`,\"Configuration updated!\",`\n`)),mdx(\"p\",null,\"The return code indicates success or failure.\"),mdx(\"h4\",e({},{id:\"command-options\"}),mdx(\"a\",e({parentName:\"h4\"},{className:\"__permalink-h\",href:\"#command-options\",\"aria-label\":\"command options permalink\"}),\"\\xBB\"),\"Command Options\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"cleanup-dead-servers\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",e({parentName:\"p\"},{href:\"#cleanup-dead-servers\",\"aria-label\":\"cleanup dead servers permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"-cleanup-dead-servers\")),` - Specifies whether to enable automatic removal of dead servers\nupon the successful joining of new servers to the cluster. Must be one of `,mdx(\"inlineCode\",{parentName:\"p\"},\"[true|false]\"),\".\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"last-contact-threshold\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",e({parentName:\"p\"},{href:\"#last-contact-threshold\",\"aria-label\":\"last contact threshold permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"-last-contact-threshold\")),` - Controls the maximum amount of time a server can go without contact\nfrom the leader before being considered unhealthy. Must be a duration value such as `,mdx(\"inlineCode\",{parentName:\"p\"},\"200ms\"),\".\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"max-trailing-logs\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",e({parentName:\"p\"},{href:\"#max-trailing-logs\",\"aria-label\":\"max trailing logs permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"-max-trailing-logs\")),` - Controls the maximum number of log entries that a server can trail\nthe leader by before being considered unhealthy.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"min-quorum\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",e({parentName:\"p\"},{href:\"#min-quorum\",\"aria-label\":\"min quorum permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"-min-quorum\")),` - Sets the minimum number of servers required in a cluster\nbefore autopilot is allowed to prune dead servers.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"server-stabilization-time\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",e({parentName:\"p\"},{href:\"#server-stabilization-time\",\"aria-label\":\"server stabilization time permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"-server-stabilization-time\")),` - Controls the minimum amount of time a server must be stable in\nthe 'healthy' state before being added to the cluster. Only takes effect if all servers are\nrunning Raft protocol version 3 or higher. Must be a duration value such as `,mdx(\"inlineCode\",{parentName:\"p\"},\"10s\"),\".\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"disable-upgrade-migration\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",e({parentName:\"p\"},{href:\"#disable-upgrade-migration\",\"aria-label\":\"disable upgrade migration permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"-disable-upgrade-migration\")),\" \",mdx(EnterpriseAlert,{inline:!0,mdxType:\"EnterpriseAlert\"}),` - Controls whether Consul will avoid promoting\nnew servers until it can perform a migration. Must be one of `,mdx(\"inlineCode\",{parentName:\"p\"},\"[true|false]\"),\".\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"redundancy-zone-tag\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",e({parentName:\"p\"},{href:\"#redundancy-zone-tag\",\"aria-label\":\"redundancy zone tag permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"-redundancy-zone-tag\")),\" \",mdx(EnterpriseAlert,{inline:!0,mdxType:\"EnterpriseAlert\"}),\" - Controls the \",mdx(\"a\",e({parentName:\"p\"},{href:\"/consul/docs/agent/config/cli-flags#_node_meta\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"-node-meta\")),`\nkey name used for separating servers into different redundancy zones.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"upgrade-version-tag\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",e({parentName:\"p\"},{href:\"#upgrade-version-tag\",\"aria-label\":\"upgrade version tag permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"-upgrade-version-tag\")),\" \",mdx(EnterpriseAlert,{inline:!0,mdxType:\"EnterpriseAlert\"}),\" - Controls the \",mdx(\"a\",e({parentName:\"p\"},{href:\"/consul/docs/agent/config/cli-flags#_node_meta\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"-node-meta\")),`\ntag to use for version info when performing upgrade migrations. If left blank, the Consul version will be used.`))),mdx(\"h4\",e({},{id:\"api-options-1\"}),mdx(\"a\",e({parentName:\"h4\"},{className:\"__permalink-h\",href:\"#api-options-1\",\"aria-label\":\"api options permalink\"}),\"\\xBB\"),\"API Options\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"ca-file-1\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",e({parentName:\"p\"},{href:\"#ca-file-1\",\"aria-label\":\"ca file permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"-ca-file=<value>\")),` - Path to a CA file to use for TLS when communicating with Consul.\nThis can also be specified via the `,mdx(\"inlineCode\",{parentName:\"p\"},\"CONSUL_CACERT\"),\" environment variable.\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"ca-path-1\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",e({parentName:\"p\"},{href:\"#ca-path-1\",\"aria-label\":\"ca path permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"-ca-path=<value>\")),` - Path to a directory of CA certificates to use for TLS when\ncommunicating with Consul. This can also be specified via the `,mdx(\"inlineCode\",{parentName:\"p\"},\"CONSUL_CAPATH\"),`\nenvironment variable.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"client-cert-1\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",e({parentName:\"p\"},{href:\"#client-cert-1\",\"aria-label\":\"client cert permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"-client-cert=<value>\")),` - Path to a client cert file to use for TLS when\n`,mdx(\"inlineCode\",{parentName:\"p\"},\"verify_incoming\"),\" is enabled. This can also be specified via the \",mdx(\"inlineCode\",{parentName:\"p\"},\"CONSUL_CLIENT_CERT\"),`\nenvironment variable.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"client-key-1\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",e({parentName:\"p\"},{href:\"#client-key-1\",\"aria-label\":\"client key permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"-client-key=<value>\")),` - Path to a client key file to use for TLS when\n`,mdx(\"inlineCode\",{parentName:\"p\"},\"verify_incoming\"),\" is enabled. This can also be specified via the \",mdx(\"inlineCode\",{parentName:\"p\"},\"CONSUL_CLIENT_KEY\"),`\nenvironment variable.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"http-addr-1\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",e({parentName:\"p\"},{href:\"#http-addr-1\",\"aria-label\":\"http addr permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"-http-addr=<addr>\")),` - Address of the Consul agent with the port. This can be\nan IP address or DNS address, but it must include the port. This can also be\nspecified via the `,mdx(\"inlineCode\",{parentName:\"p\"},\"CONSUL_HTTP_ADDR\"),` environment variable. In Consul 0.8 and\nlater, the default value is `,mdx(\"a\",e({parentName:\"p\"},{href:\"http://127.0.0.1:8500\"}),\"http://127.0.0.1:8500\"),`, and https can optionally be\nused instead. The scheme can also be set to HTTPS by setting the environment\nvariable `,mdx(\"inlineCode\",{parentName:\"p\"},\"CONSUL_HTTP_SSL=true\"),`. This may be a unix domain socket using\n`,mdx(\"inlineCode\",{parentName:\"p\"},\"unix:///path/to/socket\"),\" if the \",mdx(\"a\",e({parentName:\"p\"},{href:\"/consul/docs/agent/config/config-files#addresses\"}),`agent is configured to\nlisten`),\" that way.\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"tls-server-name-1\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",e({parentName:\"p\"},{href:\"#tls-server-name-1\",\"aria-label\":\"tls server name permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"-tls-server-name=<value>\")),` - The server name to use as the SNI host when\nconnecting via TLS. This can also be specified via the `,mdx(\"inlineCode\",{parentName:\"p\"},\"CONSUL_TLS_SERVER_NAME\"),`\nenvironment variable.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"token-1\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",e({parentName:\"p\"},{href:\"#token-1\",\"aria-label\":\"token permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"-token=<value>\")),` - ACL token to use in the request. This can also be specified\nvia the `,mdx(\"inlineCode\",{parentName:\"p\"},\"CONSUL_HTTP_TOKEN\"),` environment variable. If unspecified, the query\nwill default to the token of the Consul agent at the HTTP address.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"token-file-1\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",e({parentName:\"p\"},{href:\"#token-file-1\",\"aria-label\":\"token file permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"-token-file=<value>\")),` - File containing the ACL token to use in the request\ninstead of one specified via the `,mdx(\"inlineCode\",{parentName:\"p\"},\"-token\"),\" argument or \",mdx(\"inlineCode\",{parentName:\"p\"},\"CONSUL_HTTP_TOKEN\"),`\nenvironment variable. This can also be specified via the\n`,mdx(\"inlineCode\",{parentName:\"p\"},\"CONSUL_HTTP_TOKEN_FILE\"),\" environment variable.\"))),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"datacenter-1\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",e({parentName:\"p\"},{href:\"#datacenter-1\",\"aria-label\":\"datacenter permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"-datacenter=<name>\")),` - Name of the datacenter to query. If unspecified, the\nquery will default to the datacenter of the Consul agent at the HTTP address.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"stale-1\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",e({parentName:\"p\"},{href:\"#stale-1\",\"aria-label\":\"stale permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"-stale\")),` - Permit any Consul server (non-leader) to respond to this request.\nThis allows for lower latency and higher throughput, but can result in stale\ndata. This option has no effect on non-read operations. The default value is\nfalse.`))),mdx(\"h2\",e({},{id:\"state\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#state\",\"aria-label\":\"state permalink\"}),\"\\xBB\"),\"state\"),mdx(\"p\",null,\"Corresponding HTTP API Endpoint: \",mdx(\"a\",e({parentName:\"p\"},{href:\"/consul/api-docs/operator/autopilot#read-the-autopilot-state\"}),\"[\",\"GET\",\"]\",\" /v1/operator/autopilot/state\")),mdx(\"p\",null,\"This command displays the current autopilot state.\"),mdx(\"p\",null,\"The table below shows this command's \",mdx(\"a\",e({parentName:\"p\"},{href:\"/consul/api-docs/api-structure#authentication\"}),\"required ACLs\"),`. Configuration of\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"/consul/api-docs/features/blocking\"}),\"blocking queries\"),\" and \",mdx(\"a\",e({parentName:\"p\"},{href:\"/consul/api-docs/features/caching\"}),\"agent caching\"),`\nare not supported from commands, but may be from the corresponding HTTP endpoint.`),mdx(\"table\",null,mdx(\"thead\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"thead\"},mdx(\"th\",e({parentName:\"tr\"},{align:null}),\"ACL Required\"))),mdx(\"tbody\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"operator:read\"))))),mdx(\"p\",null,\"Usage: \",mdx(\"inlineCode\",{parentName:\"p\"},\"consul operator autopilot state [options]\")),mdx(\"h4\",e({},{id:\"api-options-2\"}),mdx(\"a\",e({parentName:\"h4\"},{className:\"__permalink-h\",href:\"#api-options-2\",\"aria-label\":\"api options permalink\"}),\"\\xBB\"),\"API Options\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"ca-file-2\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",e({parentName:\"p\"},{href:\"#ca-file-2\",\"aria-label\":\"ca file permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"-ca-file=<value>\")),` - Path to a CA file to use for TLS when communicating with Consul.\nThis can also be specified via the `,mdx(\"inlineCode\",{parentName:\"p\"},\"CONSUL_CACERT\"),\" environment variable.\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"ca-path-2\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",e({parentName:\"p\"},{href:\"#ca-path-2\",\"aria-label\":\"ca path permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"-ca-path=<value>\")),` - Path to a directory of CA certificates to use for TLS when\ncommunicating with Consul. This can also be specified via the `,mdx(\"inlineCode\",{parentName:\"p\"},\"CONSUL_CAPATH\"),`\nenvironment variable.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"client-cert-2\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",e({parentName:\"p\"},{href:\"#client-cert-2\",\"aria-label\":\"client cert permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"-client-cert=<value>\")),` - Path to a client cert file to use for TLS when\n`,mdx(\"inlineCode\",{parentName:\"p\"},\"verify_incoming\"),\" is enabled. This can also be specified via the \",mdx(\"inlineCode\",{parentName:\"p\"},\"CONSUL_CLIENT_CERT\"),`\nenvironment variable.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"client-key-2\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",e({parentName:\"p\"},{href:\"#client-key-2\",\"aria-label\":\"client key permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"-client-key=<value>\")),` - Path to a client key file to use for TLS when\n`,mdx(\"inlineCode\",{parentName:\"p\"},\"verify_incoming\"),\" is enabled. This can also be specified via the \",mdx(\"inlineCode\",{parentName:\"p\"},\"CONSUL_CLIENT_KEY\"),`\nenvironment variable.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"http-addr-2\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",e({parentName:\"p\"},{href:\"#http-addr-2\",\"aria-label\":\"http addr permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"-http-addr=<addr>\")),` - Address of the Consul agent with the port. This can be\nan IP address or DNS address, but it must include the port. This can also be\nspecified via the `,mdx(\"inlineCode\",{parentName:\"p\"},\"CONSUL_HTTP_ADDR\"),` environment variable. In Consul 0.8 and\nlater, the default value is `,mdx(\"a\",e({parentName:\"p\"},{href:\"http://127.0.0.1:8500\"}),\"http://127.0.0.1:8500\"),`, and https can optionally be\nused instead. The scheme can also be set to HTTPS by setting the environment\nvariable `,mdx(\"inlineCode\",{parentName:\"p\"},\"CONSUL_HTTP_SSL=true\"),`. This may be a unix domain socket using\n`,mdx(\"inlineCode\",{parentName:\"p\"},\"unix:///path/to/socket\"),\" if the \",mdx(\"a\",e({parentName:\"p\"},{href:\"/consul/docs/agent/config/config-files#addresses\"}),`agent is configured to\nlisten`),\" that way.\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"tls-server-name-2\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",e({parentName:\"p\"},{href:\"#tls-server-name-2\",\"aria-label\":\"tls server name permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"-tls-server-name=<value>\")),` - The server name to use as the SNI host when\nconnecting via TLS. This can also be specified via the `,mdx(\"inlineCode\",{parentName:\"p\"},\"CONSUL_TLS_SERVER_NAME\"),`\nenvironment variable.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"token-2\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",e({parentName:\"p\"},{href:\"#token-2\",\"aria-label\":\"token permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"-token=<value>\")),` - ACL token to use in the request. This can also be specified\nvia the `,mdx(\"inlineCode\",{parentName:\"p\"},\"CONSUL_HTTP_TOKEN\"),` environment variable. If unspecified, the query\nwill default to the token of the Consul agent at the HTTP address.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"token-file-2\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",e({parentName:\"p\"},{href:\"#token-file-2\",\"aria-label\":\"token file permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"-token-file=<value>\")),` - File containing the ACL token to use in the request\ninstead of one specified via the `,mdx(\"inlineCode\",{parentName:\"p\"},\"-token\"),\" argument or \",mdx(\"inlineCode\",{parentName:\"p\"},\"CONSUL_HTTP_TOKEN\"),`\nenvironment variable. This can also be specified via the\n`,mdx(\"inlineCode\",{parentName:\"p\"},\"CONSUL_HTTP_TOKEN_FILE\"),\" environment variable.\"))),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"datacenter-2\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",e({parentName:\"p\"},{href:\"#datacenter-2\",\"aria-label\":\"datacenter permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"-datacenter=<name>\")),` - Name of the datacenter to query. If unspecified, the\nquery will default to the datacenter of the Consul agent at the HTTP address.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"stale-2\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",e({parentName:\"p\"},{href:\"#stale-2\",\"aria-label\":\"stale permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"-stale\")),` - Permit any Consul server (non-leader) to respond to this request.\nThis allows for lower latency and higher throughput, but can result in stale\ndata. This option has no effect on non-read operations. The default value is\nfalse.`))),mdx(\"h4\",e({},{id:\"command-options-1\"}),mdx(\"a\",e({parentName:\"h4\"},{className:\"__permalink-h\",href:\"#command-options-1\",\"aria-label\":\"command options permalink\"}),\"\\xBB\"),\"Command Options\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"format\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#format\",\"aria-label\":\"format permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"-format\")),\" - Specifies the output format. Must be one of \",mdx(\"inlineCode\",{parentName:\"li\"},\"[pretty|json]\"),\" and it defaults to \",mdx(\"inlineCode\",{parentName:\"li\"},\"pretty\"),\".\")),mdx(\"h4\",e({},{id:\"command-output\"}),mdx(\"a\",e({parentName:\"h4\"},{className:\"__permalink-h\",href:\"#command-output\",\"aria-label\":\"command output permalink\"}),\"\\xBB\"),\"Command Output\"),mdx(\"pre\",e({},{className:\"language-sh\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-sh\"}),\"$ consul operator autopilot state\",`\n`,\"Healthy:                      true\",`\n`,\"Failure Tolerance:            1\",`\n`,\"Optimistic Failure Tolerance: 0\",`\n`,\"Leader:                       79324811-9588-4311-b208-f272e38aaabf\",`\n`,\"Voters:\",`\n`,\"   79324811-9588-4311-b208-f272e38aaabf\",`\n`,\"   ef8aee9a-f9d6-4ec4-b383-aac956bdb80f\",`\n`,\"   ae84aefb-a303-4734-8739-5c102d4ee2d9\",`\n`,\"Servers:\",`\n`,\"   79324811-9588-4311-b208-f272e38aaabf\",`\n`,\"      Name:            node1\",`\n`,\"      Address:         198.18.0.1:8300\",`\n`,\"      Version:         1.9.0\",`\n`,\"      Status:          leader\",`\n`,\"      Node Type:       voter\",`\n`,\"      Node Status:     alive\",`\n`,\"      Healthy:         true\",`\n`,\"      Last Contact:    0s\",`\n`,\"      Last Term:       3\",`\n`,\"      Last Index:      42\",`\n`,\"      Meta\",`\n`,'         \"foo\": \"bar\"',`\n`,\"   ae84aefb-a303-4734-8739-5c102d4ee2d9\",`\n`,\"      Name:            node3\",`\n`,\"      Address:         198.18.0.3:8300\",`\n`,\"      Version:         1.9.0\",`\n`,\"      Status:          voter\",`\n`,\"      Node Type:       voter\",`\n`,\"      Node Status:     alive\",`\n`,\"      Healthy:         true\",`\n`,\"      Last Contact:    2ms\",`\n`,\"      Last Term:       3\",`\n`,\"      Last Index:      39\",`\n`,\"      Meta\",`\n`,'         \"baz\": \"foo\"',`\n`,\"   ef8aee9a-f9d6-4ec4-b383-aac956bdb80f\",`\n`,\"      Name:            node2\",`\n`,\"      Address:         198.18.0.2:8300\",`\n`,\"      Version:         1.9.0\",`\n`,\"      Status:          voter\",`\n`,\"      Node Type:       voter\",`\n`,\"      Node Status:     alive\",`\n`,\"      Healthy:         true\",`\n`,\"      Last Contact:    1ms\",`\n`,\"      Last Term:       3\",`\n`,\"      Last Index:      41\",`\n`,\"      Meta\",`\n`,'         \"bar\": \"baz\"',`\n`)))}MDXContent.isMDXComponent=!0;\n","scope":{"version":"latest"}},"product":{"name":"Consul","slug":"consul","algoliaConfig":{"indexName":"product_CONSUL","searchOnlyApiKey":"fbd5dc1f0078d41509fcc560386fd534"},"analyticsConfig":{"includedDomains":"consul.io www.consul.io","segmentWriteKey":"IyzLrqXkox5KJ8XL4fo8vTYNGfiKlTCm"},"datoToken":"88b4984480dad56295a8aadae6caad","metadata":{"title":"Consul by HashiCorp","description":"Consul is a service networking solution to automate network configurations, discover services, and enable secure connectivity across any cloud or runtime.","image":"https://www.consulproject.io/consul-public/img/og-image.png","icon":[{"href":"/consul-public/_favicon.ico"}]},"alertBannerActive":true,"alertBanner":{"tag":"HashiConf","url":"https://hashiconf.com/2023?utm_source=direct&utm_medium=banner&utm_campaign=23Q3_HASHICONFGLOBAL_EVENT&utm_content=&utm_offer=event","text":"Our community conference is taking place in San Francisco and online October 10-12.","linkText":"Register now","expirationDate":""},"version":"1.11.3","subnavItems":[],"basePaths":["docs","api-docs","commands","downloads"],"rootDocsPaths":[{"iconName":"docs","name":"Documentation","path":"docs"},{"iconName":"api","name":"API","path":"api-docs"},{"iconName":"terminal-screen","name":"CLI","path":"commands"}],"currentRootDocsPath":{"iconName":"terminal-screen","name":"CLI","path":"commands"}},"projectName":null,"versions":null},"__N_SSG":true}