{"pageProps":{"layoutProps":{"breadcrumbLinks":[{"title":"Developer","url":"/"},{"title":"Consul","url":"/consul"},{"title":"API","url":"/consul/api-docs","isCurrentPage":false},{"title":"API Structure","url":"/consul/api-docs/api-structure","isCurrentPage":true}],"sidebarNavDataLevels":[{"levelButtonProps":{"levelDownButtonText":"Consul Home"},"menuItems":[{"leadingIconName":"home","title":"HashiCorp Developer","href":"/"},{"leadingIconName":"guide","title":"Tutorials","href":"/tutorials"},{"divider":true},{"heading":"Products"},{"leadingIconName":"hcp","title":"HashiCorp Cloud Platform","href":"/hcp"},{"leadingIconName":"terraform","title":"Terraform","href":"/terraform"},{"leadingIconName":"packer","title":"Packer","href":"/packer"},{"leadingIconName":"consul","title":"Consul","href":"/consul"},{"leadingIconName":"vault","title":"Vault","href":"/vault"},{"leadingIconName":"boundary","title":"Boundary","href":"/boundary"},{"leadingIconName":"nomad","title":"Nomad","href":"/nomad"},{"leadingIconName":"waypoint","title":"Waypoint","href":"/waypoint"},{"leadingIconName":"vagrant","title":"Vagrant","href":"/vagrant"}],"showFilterInput":false,"title":"Main Menu"},{"levelButtonProps":{"levelUpButtonText":"Main Menu","levelDownButtonText":"Previous"},"menuItems":[{"title":"Consul","fullPath":"/consul","theme":"consul"},{"title":"Install","fullPath":"/consul/install"},{"title":"Tutorials","fullPath":"/consul/tutorials"},{"title":"Documentation","fullPath":"/consul/docs"},{"title":"API","fullPath":"/consul/api-docs"},{"title":"CLI","fullPath":"/consul/commands"}],"showFilterInput":false,"title":"Consul","visuallyHideTitle":true},{"backToLinkProps":{"text":"Consul Home","href":"/consul"},"levelButtonProps":{"levelUpButtonText":"Consul Home"},"menuItems":[{"title":"API","fullPath":"/consul/api-docs","theme":"consul"},{"title":"API Structure","path":"api-structure","filePath":"../content/api-docs/api-structure.mdx","fullPath":"/consul/api-docs/api-structure","id":"sidebar-nav-item-0"},{"title":"API Features","routes":[{"title":"Consistency Modes","path":"features/consistency","filePath":"../content/api-docs/features/consistency.mdx","fullPath":"/consul/api-docs/features/consistency","id":"sidebar-nav-item-2"},{"title":"Blocking Queries","path":"features/blocking","filePath":"../content/api-docs/features/blocking.mdx","fullPath":"/consul/api-docs/features/blocking","id":"sidebar-nav-item-3"},{"title":"Filtering","path":"features/filtering","filePath":"../content/api-docs/features/filtering.mdx","fullPath":"/consul/api-docs/features/filtering","id":"sidebar-nav-item-4"},{"title":"Agent Caching","path":"features/caching","filePath":"../content/api-docs/features/caching.mdx","fullPath":"/consul/api-docs/features/caching","id":"sidebar-nav-item-5"}],"id":"sidebar-nav-item-1"},{"divider":true,"id":"sidebar-nav-item-6"},{"title":"ACLs","routes":[{"title":"Overview","path":"acl","filePath":"../content/api-docs/acl/index.mdx","fullPath":"/consul/api-docs/acl","id":"sidebar-nav-item-8"},{"title":"Tokens","path":"acl/tokens","filePath":"../content/api-docs/acl/tokens.mdx","fullPath":"/consul/api-docs/acl/tokens","id":"sidebar-nav-item-9"},{"title":"Policies","path":"acl/policies","filePath":"../content/api-docs/acl/policies.mdx","fullPath":"/consul/api-docs/acl/policies","id":"sidebar-nav-item-10"},{"title":"Templated Policies","path":"acl/templated-policies","filePath":"../content/api-docs/acl/templated-policies.mdx","fullPath":"/consul/api-docs/acl/templated-policies","id":"sidebar-nav-item-11"},{"title":"Roles","path":"acl/roles","filePath":"../content/api-docs/acl/roles.mdx","fullPath":"/consul/api-docs/acl/roles","id":"sidebar-nav-item-12"},{"title":"Auth Methods","path":"acl/auth-methods","filePath":"../content/api-docs/acl/auth-methods.mdx","fullPath":"/consul/api-docs/acl/auth-methods","id":"sidebar-nav-item-13"},{"title":"Binding Rules","path":"acl/binding-rules","filePath":"../content/api-docs/acl/binding-rules.mdx","fullPath":"/consul/api-docs/acl/binding-rules","id":"sidebar-nav-item-14"}],"id":"sidebar-nav-item-7"},{"title":"Admin Partitions","path":"admin-partitions","filePath":"../content/api-docs/admin-partitions.mdx","fullPath":"/consul/api-docs/admin-partitions","id":"sidebar-nav-item-15"},{"title":"Agent","routes":[{"title":"Overview","path":"agent","filePath":"../content/api-docs/agent/index.mdx","fullPath":"/consul/api-docs/agent","id":"sidebar-nav-item-17"},{"title":"Checks","path":"agent/check","filePath":"../content/api-docs/agent/check.mdx","fullPath":"/consul/api-docs/agent/check","id":"sidebar-nav-item-18"},{"title":"Services","path":"agent/service","filePath":"../content/api-docs/agent/service.mdx","fullPath":"/consul/api-docs/agent/service","id":"sidebar-nav-item-19"},{"title":"Connect","path":"agent/connect","filePath":"../content/api-docs/agent/connect.mdx","fullPath":"/consul/api-docs/agent/connect","id":"sidebar-nav-item-20"}],"id":"sidebar-nav-item-16"},{"title":"Catalog","path":"catalog","filePath":"../content/api-docs/catalog.mdx","fullPath":"/consul/api-docs/catalog","id":"sidebar-nav-item-21"},{"title":"Cluster Peering","path":"peering","filePath":"../content/api-docs/peering.mdx","fullPath":"/consul/api-docs/peering","id":"sidebar-nav-item-22"},{"title":"Config","path":"config","filePath":"../content/api-docs/config.mdx","fullPath":"/consul/api-docs/config","id":"sidebar-nav-item-23"},{"title":"Connect","routes":[{"title":"Overview","path":"connect","filePath":"../content/api-docs/connect/index.mdx","fullPath":"/consul/api-docs/connect","id":"sidebar-nav-item-25"},{"title":"Certificate Authority (CA)","path":"connect/ca","filePath":"../content/api-docs/connect/ca.mdx","fullPath":"/consul/api-docs/connect/ca","id":"sidebar-nav-item-26"},{"title":"Intentions","path":"connect/intentions","filePath":"../content/api-docs/connect/intentions.mdx","fullPath":"/consul/api-docs/connect/intentions","id":"sidebar-nav-item-27"}],"id":"sidebar-nav-item-24"},{"title":"Coordinates","path":"coordinate","filePath":"../content/api-docs/coordinate.mdx","fullPath":"/consul/api-docs/coordinate","id":"sidebar-nav-item-28"},{"title":"Discovery Chain","path":"discovery-chain","filePath":"../content/api-docs/discovery-chain.mdx","fullPath":"/consul/api-docs/discovery-chain","id":"sidebar-nav-item-29"},{"title":"Events","path":"event","filePath":"../content/api-docs/event.mdx","fullPath":"/consul/api-docs/event","id":"sidebar-nav-item-30"},{"title":"Exported Services","path":"exported-services","filePath":"../content/api-docs/exported-services.mdx","fullPath":"/consul/api-docs/exported-services","id":"sidebar-nav-item-31"},{"title":"HCP Consul Central Link","path":"hcp-link","filePath":"../content/api-docs/hcp-link.mdx","fullPath":"/consul/api-docs/hcp-link","id":"sidebar-nav-item-32"},{"title":"Health","path":"health","filePath":"../content/api-docs/health.mdx","fullPath":"/consul/api-docs/health","id":"sidebar-nav-item-33"},{"title":"KV Store","path":"kv","filePath":"../content/api-docs/kv.mdx","fullPath":"/consul/api-docs/kv","id":"sidebar-nav-item-34"},{"title":"Operator","routes":[{"title":"Overview","path":"operator","filePath":"../content/api-docs/operator/index.mdx","fullPath":"/consul/api-docs/operator","id":"sidebar-nav-item-36"},{"title":"Area","path":"operator/area","filePath":"../content/api-docs/operator/area.mdx","fullPath":"/consul/api-docs/operator/area","id":"sidebar-nav-item-37"},{"title":"Autopilot","path":"operator/autopilot","filePath":"../content/api-docs/operator/autopilot.mdx","fullPath":"/consul/api-docs/operator/autopilot","id":"sidebar-nav-item-38"},{"title":"Keyring","path":"operator/keyring","filePath":"../content/api-docs/operator/keyring.mdx","fullPath":"/consul/api-docs/operator/keyring","id":"sidebar-nav-item-39"},{"title":"License","path":"operator/license","filePath":"../content/api-docs/operator/license.mdx","fullPath":"/consul/api-docs/operator/license","id":"sidebar-nav-item-40"},{"title":"Raft","path":"operator/raft","filePath":"../content/api-docs/operator/raft.mdx","fullPath":"/consul/api-docs/operator/raft","id":"sidebar-nav-item-41"},{"title":"Segment","path":"operator/segment","filePath":"../content/api-docs/operator/segment.mdx","fullPath":"/consul/api-docs/operator/segment","id":"sidebar-nav-item-42"},{"title":"Usage","path":"operator/usage","filePath":"../content/api-docs/operator/usage.mdx","fullPath":"/consul/api-docs/operator/usage","id":"sidebar-nav-item-43"}],"id":"sidebar-nav-item-35"},{"title":"Namespaces","path":"namespaces","filePath":"../content/api-docs/namespaces.mdx","fullPath":"/consul/api-docs/namespaces","id":"sidebar-nav-item-44"},{"title":"Prepared Queries","path":"query","filePath":"../content/api-docs/query.mdx","fullPath":"/consul/api-docs/query","id":"sidebar-nav-item-45"},{"title":"Sessions","path":"session","filePath":"../content/api-docs/session.mdx","fullPath":"/consul/api-docs/session","id":"sidebar-nav-item-46"},{"title":"Snapshots","path":"snapshot","filePath":"../content/api-docs/snapshot.mdx","fullPath":"/consul/api-docs/snapshot","id":"sidebar-nav-item-47"},{"title":"Status","path":"status","filePath":"../content/api-docs/status.mdx","fullPath":"/consul/api-docs/status","id":"sidebar-nav-item-48"},{"title":"Transactions","path":"txn","filePath":"../content/api-docs/txn.mdx","fullPath":"/consul/api-docs/txn","id":"sidebar-nav-item-49"},{"divider":true,"id":"sidebar-nav-item-50"},{"title":"Libraries &amp; SDKs","path":"libraries-and-sdks","filePath":"../content/api-docs/libraries-and-sdks.mdx","fullPath":"/consul/api-docs/libraries-and-sdks","id":"sidebar-nav-item-51"}],"title":"API","visuallyHideTitle":true}],"mainWidth":"narrow","githubFileUrl":"https://github.com/hashicorp/consul/blob/main/website/../content/api-docs/api-structure.mdx"},"metadata":{"title":"HTTP API","description":"Consul exposes a RESTful HTTP API to control almost every aspect of the\nConsul agent.","layout":null},"outlineItems":[{"title":"HTTP API Structure","url":"#http-api-structure","dataHeapTrack":"toc-list-item-index-0"},{"title":"Authentication","url":"#authentication","dataHeapTrack":"toc-list-item-index-1"},{"title":"Version Prefix","url":"#version-prefix","dataHeapTrack":"toc-list-item-index-2"},{"title":"Formatted JSON Output","url":"#formatted-json-output","dataHeapTrack":"toc-list-item-index-3"},{"title":"HTTP Methods","url":"#http-methods","dataHeapTrack":"toc-list-item-index-4"},{"title":"URL-Encoded Resource Names","url":"#url-encoded-resource-names","dataHeapTrack":"toc-list-item-index-5"},{"title":"Translated Addresses","url":"#translated-addresses","dataHeapTrack":"toc-list-item-index-6"},{"title":"Default ACL Policy","url":"#default-acl-policy","dataHeapTrack":"toc-list-item-index-7"},{"title":"Results Filtered by ACLs","url":"#results-filtered-by-acls","dataHeapTrack":"toc-list-item-index-8"},{"title":"UUID Format","url":"#uuid-format","dataHeapTrack":"toc-list-item-index-9"},{"title":"CORS HTTP Response Headers","url":"#cors-http-response-headers","dataHeapTrack":"toc-list-item-index-10"}],"pageHeading":{"id":"http-api-structure","title":"HTTP API Structure"},"mdxSource":{"compiledSource":"var c=Object.defineProperty,d=Object.defineProperties;var h=Object.getOwnPropertyDescriptors;var o=Object.getOwnPropertySymbols;var p=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;var l=(a,n,s)=>n in a?c(a,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[n]=s,e=(a,n)=>{for(var s in n||(n={}))p.call(n,s)&&l(a,s,n[s]);if(o)for(var s of o(n))r.call(n,s)&&l(a,s,n[s]);return a},i=(a,n)=>d(a,h(n));var m=(a,n)=>{var s={};for(var t in a)p.call(a,t)&&n.indexOf(t)<0&&(s[t]=a[t]);if(a!=null&&o)for(var t of o(a))n.indexOf(t)<0&&r.call(a,t)&&(s[t]=a[t]);return s};const layoutProps={},MDXLayout=\"wrapper\";function MDXContent(s){var t=s,{components:a}=t,n=m(t,[\"components\"]);return mdx(MDXLayout,i(e(e({},layoutProps),n),{components:a,mdxType:\"MDXLayout\"}),mdx(\"p\",null,`The main interface to Consul is a RESTful HTTP API. The API can perform basic\nCRUD operations on nodes, services, checks, configuration, and more.`),mdx(\"h2\",e({},{id:\"authentication\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#authentication\",\"aria-label\":\"authentication permalink\"}),\"\\xBB\"),\"Authentication\"),mdx(\"p\",null,`When authentication is enabled, a Consul token should be provided to API\nrequests using the `,mdx(\"inlineCode\",{parentName:\"p\"},\"X-Consul-Token\"),` header or with the\nBearer scheme in the authorization header.\nThis reduces the probability of the\ntoken accidentally getting logged or exposed. When using authentication,\nclients should communicate via TLS.`),mdx(\"p\",null,`If no token is provided for an HTTP request then Consul will use the default ACL token\nif it has been configured. If no default ACL token was configured then the anonymous\ntoken will be used.`),mdx(\"p\",null,\"Below is an example using \",mdx(\"inlineCode\",{parentName:\"p\"},\"curl\"),\" with \",mdx(\"inlineCode\",{parentName:\"p\"},\"X-Consul-Token\"),\".\"),mdx(\"pre\",e({},{className:\"language-shell-session\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-shell-session\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token shell-symbol important\"}),\"$\"),\" \",mdx(\"span\",e({parentName:\"span\"},{className:\"token bash language-bash\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token function\"}),\"curl\"),\" \",mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"\\\\\"))),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token bash language-bash\"}),\"    --header \",mdx(\"span\",e({parentName:\"span\"},{className:\"token string\"}),'\"X-Consul-Token: <consul token>\"'),\" \",mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"\\\\\"))),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token bash language-bash\"}),\"    http://127.0.0.1:8500/v1/agent/members\")),`\n`)),mdx(\"p\",null,\"Below is an example using \",mdx(\"inlineCode\",{parentName:\"p\"},\"curl\"),\" with a \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://tools.ietf.org/html/rfc6750\"}),\"RFC6750\"),\" Bearer token.\"),mdx(\"pre\",e({},{className:\"language-shell-session\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-shell-session\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token shell-symbol important\"}),\"$\"),\" \",mdx(\"span\",e({parentName:\"span\"},{className:\"token bash language-bash\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token function\"}),\"curl\"),\" \",mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"\\\\\"))),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token bash language-bash\"}),\"    --header \",mdx(\"span\",e({parentName:\"span\"},{className:\"token string\"}),'\"Authorization: Bearer <consul token>\"'),\" \",mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"\\\\\"))),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token bash language-bash\"}),\"    http://127.0.0.1:8500/v1/agent/members\")),`\n`)),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},\"Security Note:\"),\" Though you could pass the token through the \",mdx(\"inlineCode\",{parentName:\"p\"},\"?token=\"),` query parameter,\nthis method is highly discouraged because the token can show up in access logs as part of the URL.\nThe `,mdx(\"inlineCode\",{parentName:\"p\"},\"?token=\"),\" query parameter is deprecated and will be removed in a future Consul version.\"),mdx(\"p\",null,\"To learn more about the ACL system read the \",mdx(\"a\",e({parentName:\"p\"},{href:\"/consul/docs/security/acl\"}),\"documentation\"),\".\"),mdx(\"h2\",e({},{id:\"version-prefix\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#version-prefix\",\"aria-label\":\"version prefix permalink\"}),\"\\xBB\"),\"Version Prefix\"),mdx(\"p\",null,\"Unless indicated otherwise, all API routes are prefixed with \",mdx(\"inlineCode\",{parentName:\"p\"},\"/v1/\"),\".\"),mdx(\"h2\",e({},{id:\"formatted-json-output\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#formatted-json-output\",\"aria-label\":\"formatted json output permalink\"}),\"\\xBB\"),\"Formatted JSON Output\"),mdx(\"p\",null,`By default, the output of all HTTP API requests is minimized JSON. If the client\npasses `,mdx(\"inlineCode\",{parentName:\"p\"},\"pretty\"),\" on the query string, formatted JSON will be returned.\"),mdx(\"h2\",e({},{id:\"http-methods\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#http-methods\",\"aria-label\":\"http methods permalink\"}),\"\\xBB\"),\"HTTP Methods\"),mdx(\"p\",null,`Consul's API aims to be RESTful, although there are some exceptions. The API\nresponds to the standard HTTP verbs GET, PUT, and DELETE. Each API method will\nclearly document the verb(s) it responds to and the generated response. The same\npath with different verbs may trigger different behavior. For example:`),mdx(\"pre\",e({},{className:\"language-text\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-text\"}),\"PUT /v1/kv/foo\",`\n`,\"GET /v1/kv/foo\",`\n`)),mdx(\"p\",null,\"Even though these share a path, the \",mdx(\"inlineCode\",{parentName:\"p\"},\"PUT\"),` operation creates a new key whereas\nthe `,mdx(\"inlineCode\",{parentName:\"p\"},\"GET\"),\" operation reads an existing key.\"),mdx(\"p\",null,\"Here is the same example using \",mdx(\"inlineCode\",{parentName:\"p\"},\"curl\"),\":\"),mdx(\"pre\",e({},{className:\"language-shell-session\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-shell-session\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token shell-symbol important\"}),\"$\"),\" \",mdx(\"span\",e({parentName:\"span\"},{className:\"token bash language-bash\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token function\"}),\"curl\"),\" \",mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"\\\\\"))),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token bash language-bash\"}),\"    --request PUT \",mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"\\\\\"))),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token bash language-bash\"}),\"    --data \",mdx(\"span\",e({parentName:\"span\"},{className:\"token string\"}),\"'hello consul'\"),\" \",mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"\\\\\"))),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token bash language-bash\"}),\"    http://127.0.0.1:8500/v1/kv/foo\")),`\n`)),mdx(\"h2\",e({},{id:\"url-encoded-resource-names\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#url-encoded-resource-names\",\"aria-label\":\"url encoded resource names permalink\"}),\"\\xBB\"),\"URL-Encoded Resource Names\"),mdx(\"p\",null,`Some Consul HTTP API endpoints accept resource names in URL path or query parameters.\nTo pass a resource name containing URL-invalid characters, such as `,mdx(\"inlineCode\",{parentName:\"p\"},\"/\"),\" or \",mdx(\"inlineCode\",{parentName:\"p\"},\" \"),`,\nURL-encode the resource name into the URL.`),mdx(\"p\",null,`However, we generally recommend using resource names that don't require URL-encoding.\nDepending on the validation that Consul applies to a resource name,\nConsul may still reject a request if it considers the resource name invalid for that endpoint.\nAnd even if Consul considers the resource name valid, it may degrade other functionality,\nsuch as failed `,mdx(\"a\",e({parentName:\"p\"},{href:\"/consul/docs/services/discovery/dns-overview\"}),\"DNS lookups\"),`\nfor nodes or services with names containing invalid DNS characters.`),mdx(\"p\",null,`This HTTP API capability also allows the\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"/consul/commands#arguments-with-url-invalid-characters\"}),\"CLI to accept arguments with URL-invalid characters\"),\".\"),mdx(\"h3\",e({},{id:\"invalid-characters\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"__permalink-h\",href:\"#invalid-characters\",\"aria-label\":\"invalid characters permalink\"}),\"\\xBB\"),\"Invalid Characters\"),mdx(\"p\",null,\"The linefeed character (\",mdx(\"inlineCode\",{parentName:\"p\"},\"%0a\"),\") will cause a request to be rejected even if it is URL-encoded.\"),mdx(\"h2\",e({},{id:\"translated-addresses\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#translated-addresses\",\"aria-label\":\"translated addresses permalink\"}),\"\\xBB\"),\"Translated Addresses\"),mdx(\"p\",null,`Consul 0.7 added the ability to translate addresses in HTTP response based on\nthe configuration setting for\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"/consul/docs/agent/config/config-files#translate_wan_addrs\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"translate_wan_addrs\")),`. In order\nto allow clients to know if address translation is in effect, the\n`,mdx(\"inlineCode\",{parentName:\"p\"},\"X-Consul-Translate-Addresses\"),` header will be added if translation is enabled,\nand will have a value of `,mdx(\"inlineCode\",{parentName:\"p\"},\"true\"),`. If translation is not enabled then this header\nwill not be present.`),mdx(\"h2\",e({},{id:\"default-acl-policy\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#default-acl-policy\",\"aria-label\":\"default acl policy permalink\"}),\"\\xBB\"),\"Default ACL Policy\"),mdx(\"p\",null,`All API responses for Consul versions after 1.9 will include an HTTP response\nheader `,mdx(\"inlineCode\",{parentName:\"p\"},\"X-Consul-Default-ACL-Policy\"),` set to either \"allow\" or \"deny\" which\nmirrors the current value of the agent's\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"/consul/docs/agent/config/config-files#acl_default_policy\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"acl.default_policy\")),\" option.\"),mdx(\"p\",null,\"This is also the default \",mdx(\"a\",e({parentName:\"p\"},{href:\"/consul/docs/connect/intentions\"}),\"intention\"),` enforcement\naction if no intention matches.`),mdx(\"p\",null,\"This is returned even if ACLs are disabled.\"),mdx(\"h2\",e({},{id:\"results-filtered-by-acls\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#results-filtered-by-acls\",\"aria-label\":\"results filtered by acls permalink\"}),\"\\xBB\"),\"Results Filtered by ACLs\"),mdx(\"p\",null,\"As of Consul 1.11, most list endpoints support an \",mdx(\"inlineCode\",{parentName:\"p\"},\"X-Consul-Results-Filtered-By-ACLs\"),`\nHTTP response header. This indicates that the response contains a partial subset\nof results, because some have been filtered out by ACL policies.`),mdx(\"p\",null,`In order to limit information leakage, this header is only present for requests\nauthenticated by a valid ACL token.`),mdx(\"p\",null,\"The following example uses \",mdx(\"inlineCode\",{parentName:\"p\"},\"curl\"),` to view the\n`,mdx(\"inlineCode\",{parentName:\"p\"},\"X-Consul-Results-Filtered-By-ACLs\"),\" response header.\"),mdx(\"pre\",e({},{className:\"language-shell-session\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-shell-session\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token shell-symbol important\"}),\"$\"),\" \",mdx(\"span\",e({parentName:\"span\"},{className:\"token bash language-bash\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token function\"}),\"curl\"),\" \",mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"\\\\\"))),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token bash language-bash\"}),\"    --header \",mdx(\"span\",e({parentName:\"span\"},{className:\"token string\"}),'\"X-Consul-Token: <non-anonymous consul token>\"'),\" \",mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"\\\\\"))),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token bash language-bash\"}),\"    --include \",mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"\\\\\"))),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token command\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"token bash language-bash\"}),\"    http://127.0.0.1:8500/v1/catalog/services\")),`\n`,`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token output\"}),\"HTTP/1.1 200 OK\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token output\"}),\"Content-Type: application/json\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token output\"}),\"...\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token output\"}),\"X-Consul-Default-Acl-Policy: deny\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token output\"}),\"X-Consul-Results-Filtered-By-Acls: true\"),`\n`,`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token output\"}),\"{\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token output\"}),'  \"redis\": [],'),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token output\"}),'  \"postgresql\": [\"primary\", \"secondary\"]'),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token output\"}),\"}\"),`\n`)),mdx(\"h2\",e({},{id:\"uuid-format\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#uuid-format\",\"aria-label\":\"uuid format permalink\"}),\"\\xBB\"),\"UUID Format\"),mdx(\"p\",null,`UUID-format identifiers generated by the Consul API use the\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"https://github.com/hashicorp/go-uuid\"}),\"hashicorp/go-uuid\"),\" library.\"),mdx(\"p\",null,`These UUID-format strings are generated using high quality, purely random bytes.\nIt is not intended to be RFC compliant, merely to use a well-understood string\nrepresentation of a 128-bit value.`),mdx(\"h2\",e({},{id:\"cors-http-response-headers\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#cors-http-response-headers\",\"aria-label\":\"cors http response headers permalink\"}),\"\\xBB\"),\"CORS HTTP Response Headers\"),mdx(\"p\",null,\"As of Consul 1.18, Consul adds an HTTP header \",mdx(\"inlineCode\",{parentName:\"p\"},\"Access-Control-Expose-Headers: x-consul-default-acl-policy\"),` to\nall responses in order to support linking self-managed Consul clusters to HCP Consul Central.`))}MDXContent.isMDXComponent=!0;\n","scope":{"version":"latest"}},"product":{"name":"Consul","slug":"consul","algoliaConfig":{"indexName":"product_CONSUL","searchOnlyApiKey":"fbd5dc1f0078d41509fcc560386fd534"},"analyticsConfig":{"includedDomains":"consul.io www.consul.io","segmentWriteKey":"IyzLrqXkox5KJ8XL4fo8vTYNGfiKlTCm"},"datoToken":"88b4984480dad56295a8aadae6caad","metadata":{"title":"Consul by HashiCorp","description":"Consul is a service networking solution to automate network configurations, discover services, and enable secure connectivity across any cloud or runtime.","image":"https://www.consulproject.io/consul-public/img/og-image.png","icon":[{"href":"/consul-public/_favicon.ico"}]},"alertBannerActive":true,"alertBanner":{"tag":"HashiConf","url":"https://hashiconf.com/2023?utm_source=direct&utm_medium=banner&utm_campaign=23Q3_HASHICONFGLOBAL_EVENT&utm_content=&utm_offer=event","text":"Our community conference is taking place in San Francisco and online October 10-12.","linkText":"Register now","expirationDate":""},"version":"1.11.3","subnavItems":[],"basePaths":["docs","api-docs","commands","downloads"],"rootDocsPaths":[{"iconName":"docs","name":"Documentation","path":"docs"},{"iconName":"api","name":"API","path":"api-docs"},{"iconName":"terminal-screen","name":"CLI","path":"commands"}],"currentRootDocsPath":{"iconName":"api","name":"API","path":"api-docs"}},"projectName":null,"versions":null},"__N_SSG":true}