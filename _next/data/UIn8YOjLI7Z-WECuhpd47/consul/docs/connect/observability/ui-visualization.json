{"pageProps":{"layoutProps":{"breadcrumbLinks":[{"title":"Developer","url":"/"},{"title":"Consul","url":"/consul"},{"title":"Documentation","url":"/consul/docs","isCurrentPage":false},{"title":"Service Mesh","url":"/consul/docs/connect"},{"title":"Observability","url":"/consul/docs/connect/observability"},{"title":"UI Visualization","url":"/consul/docs/connect/observability/ui-visualization","isCurrentPage":true}],"sidebarNavDataLevels":[{"levelButtonProps":{"levelDownButtonText":"Consul Home"},"menuItems":[{"leadingIconName":"home","title":"HashiCorp Developer","href":"/"},{"leadingIconName":"guide","title":"Tutorials","href":"/tutorials"},{"divider":true},{"heading":"Products"},{"leadingIconName":"hcp","title":"HashiCorp Cloud Platform","href":"/hcp"},{"leadingIconName":"terraform","title":"Terraform","href":"/terraform"},{"leadingIconName":"packer","title":"Packer","href":"/packer"},{"leadingIconName":"consul","title":"Consul","href":"/consul"},{"leadingIconName":"vault","title":"Vault","href":"/vault"},{"leadingIconName":"boundary","title":"Boundary","href":"/boundary"},{"leadingIconName":"nomad","title":"Nomad","href":"/nomad"},{"leadingIconName":"waypoint","title":"Waypoint","href":"/waypoint"},{"leadingIconName":"vagrant","title":"Vagrant","href":"/vagrant"}],"showFilterInput":false,"title":"Main Menu"},{"levelButtonProps":{"levelUpButtonText":"Main Menu","levelDownButtonText":"Previous"},"menuItems":[{"title":"Consul","fullPath":"/consul","theme":"consul"},{"title":"Install","fullPath":"/consul/install"},{"title":"Tutorials","fullPath":"/consul/tutorials"},{"title":"Documentation","fullPath":"/consul/docs"},{"title":"API","fullPath":"/consul/api-docs"},{"title":"CLI","fullPath":"/consul/commands"}],"showFilterInput":false,"title":"Consul","visuallyHideTitle":true},{"backToLinkProps":{"text":"Consul Home","href":"/consul"},"levelButtonProps":{"levelUpButtonText":"Consul Home"},"menuItems":[{"title":"Documentation","fullPath":"/consul/docs","theme":"consul"},{"title":"What is Consul?","path":"intro","filePath":"../content/docs/intro/index.mdx","fullPath":"/consul/docs/intro","id":"sidebar-nav-item-0"},{"title":"Why Choose Consul?","routes":[{"title":"Overview","path":"consul-vs-other","filePath":"../content/docs/consul-vs-other/index.mdx","fullPath":"/consul/docs/consul-vs-other","id":"sidebar-nav-item-2"},{"title":"Service Meshes","path":"consul-vs-other/service-mesh-compare","filePath":"../content/docs/consul-vs-other/service-mesh-compare.mdx","fullPath":"/consul/docs/consul-vs-other/service-mesh-compare","id":"sidebar-nav-item-3"},{"title":"DNS Tools","path":"consul-vs-other/dns-tools-compare","filePath":"../content/docs/consul-vs-other/dns-tools-compare.mdx","fullPath":"/consul/docs/consul-vs-other/dns-tools-compare","id":"sidebar-nav-item-4"},{"title":"Configuration Management Tools","path":"consul-vs-other/config-management-compare","filePath":"../content/docs/consul-vs-other/config-management-compare.mdx","fullPath":"/consul/docs/consul-vs-other/config-management-compare","id":"sidebar-nav-item-5"},{"title":"API Gateways","path":"consul-vs-other/api-gateway-compare","filePath":"../content/docs/consul-vs-other/api-gateway-compare.mdx","fullPath":"/consul/docs/consul-vs-other/api-gateway-compare","id":"sidebar-nav-item-6"}],"id":"sidebar-nav-item-1"},{"title":"Core Concepts","routes":[{"title":"Service Discovery","path":"concepts/service-discovery","filePath":"../content/docs/concepts/service-discovery.mdx","fullPath":"/consul/docs/concepts/service-discovery","id":"sidebar-nav-item-8"},{"title":"Service Mesh","path":"concepts/service-mesh","filePath":"../content/docs/concepts/service-mesh.mdx","fullPath":"/consul/docs/concepts/service-mesh","id":"sidebar-nav-item-9"}],"id":"sidebar-nav-item-7"},{"title":"Get Started","routes":[{"title":"Install Consul","path":"install","filePath":"../content/docs/install/index.mdx","fullPath":"/consul/docs/install","id":"sidebar-nav-item-11"},{"title":"Learn HCP Consul","href":"https://developer.hashicorp.com/consul/tutorials/get-started-hcp","id":"sidebar-nav-item-12"},{"title":"Learn Consul on Kubernetes","href":"https://developer.hashicorp.com/consul/tutorials/get-started-kubernetes","id":"sidebar-nav-item-13"},{"title":"Learn Consul on VMs","href":"https://developer.hashicorp.com/consul/tutorials/get-started-vms","id":"sidebar-nav-item-14"},{"title":"Consul Agent","href":null,"fullPath":"/consul/docs/agent","id":"sidebar-nav-item-15","path":"/docs/agent"},{"title":"Glossary","path":"install/glossary","filePath":"../content/docs/install/glossary.mdx","fullPath":"/consul/docs/install/glossary","id":"sidebar-nav-item-16"},{"title":"Required Ports","path":"install/ports","filePath":"../content/docs/install/ports.mdx","fullPath":"/consul/docs/install/ports","id":"sidebar-nav-item-17"},{"title":"Bootstrapping a Datacenter","path":"install/bootstrapping","filePath":"../content/docs/install/bootstrapping.mdx","fullPath":"/consul/docs/install/bootstrapping","id":"sidebar-nav-item-18"},{"title":"Cloud Auto-join","path":"install/cloud-auto-join","filePath":"../content/docs/install/cloud-auto-join.mdx","fullPath":"/consul/docs/install/cloud-auto-join","id":"sidebar-nav-item-19"},{"title":"Server Performance","path":"install/performance","filePath":"../content/docs/install/performance.mdx","fullPath":"/consul/docs/install/performance","id":"sidebar-nav-item-20"},{"title":"Kubernetes","href":null,"fullPath":"/consul/docs/k8s","id":"sidebar-nav-item-21","path":"/docs/k8s"}],"id":"sidebar-nav-item-10"},{"title":"Architecture","routes":[{"title":"Overview","path":"architecture","filePath":"../content/docs/architecture/index.mdx","fullPath":"/consul/docs/architecture","id":"sidebar-nav-item-23"},{"title":"v1 Catalog","path":"architecture/catalog","filePath":"../content/docs/architecture/catalog.mdx","fullPath":"/consul/docs/architecture/catalog","id":"sidebar-nav-item-24"},{"title":"v2 architecture","routes":[{"title":"Overview","path":"architecture/v2","filePath":"../content/docs/architecture/v2/index.mdx","fullPath":"/consul/docs/architecture/v2","id":"sidebar-nav-item-26"},{"title":"Catalog","path":"architecture/v2/catalog","filePath":"../content/docs/architecture/v2/catalog.mdx","fullPath":"/consul/docs/architecture/v2/catalog","id":"sidebar-nav-item-27"},{"title":"Resource groups","path":"architecture/v2/groups","filePath":"../content/docs/architecture/v2/groups.mdx","fullPath":"/consul/docs/architecture/v2/groups","id":"sidebar-nav-item-28"}],"id":"sidebar-nav-item-25"},{"title":"Improving Consul Resilience","path":"architecture/improving-consul-resilience","filePath":"../content/docs/architecture/improving-consul-resilience.mdx","fullPath":"/consul/docs/architecture/improving-consul-resilience","id":"sidebar-nav-item-29"},{"title":"Anti-Entropy","path":"architecture/anti-entropy","filePath":"../content/docs/architecture/anti-entropy.mdx","fullPath":"/consul/docs/architecture/anti-entropy","id":"sidebar-nav-item-30"},{"title":"Consensus Protocol","path":"architecture/consensus","filePath":"../content/docs/architecture/consensus.mdx","fullPath":"/consul/docs/architecture/consensus","id":"sidebar-nav-item-31"},{"title":"Gossip Protocol","path":"architecture/gossip","filePath":"../content/docs/architecture/gossip.mdx","fullPath":"/consul/docs/architecture/gossip","id":"sidebar-nav-item-32"},{"title":"Jepsen Testing","path":"architecture/jepsen","filePath":"../content/docs/architecture/jepsen.mdx","fullPath":"/consul/docs/architecture/jepsen","id":"sidebar-nav-item-33"},{"title":"Network Coordinates","path":"architecture/coordinates","filePath":"../content/docs/architecture/coordinates.mdx","fullPath":"/consul/docs/architecture/coordinates","id":"sidebar-nav-item-34"},{"title":"Consul at Scale","path":"architecture/scale","filePath":"../content/docs/architecture/scale.mdx","fullPath":"/consul/docs/architecture/scale","id":"sidebar-nav-item-35"}],"id":"sidebar-nav-item-22"},{"divider":true,"id":"sidebar-nav-item-36"},{"title":"Release Notes","routes":[{"title":"Overview","path":"release-notes","filePath":"../content/docs/release-notes/index.mdx","fullPath":"/consul/docs/release-notes","id":"sidebar-nav-item-38"},{"title":"Consul","routes":[{"title":"v1.18.x","path":"release-notes/consul/v1_18_x","filePath":"../content/docs/release-notes/consul/v1_18_x.mdx","fullPath":"/consul/docs/release-notes/consul/v1_18_x","id":"sidebar-nav-item-40"},{"title":"v1.17.x","path":"release-notes/consul/v1_17_x","filePath":"../content/docs/release-notes/consul/v1_17_x.mdx","fullPath":"/consul/docs/release-notes/consul/v1_17_x","id":"sidebar-nav-item-41"},{"title":"v1.16.x","path":"release-notes/consul/v1_16_x","filePath":"../content/docs/release-notes/consul/v1_16_x.mdx","fullPath":"/consul/docs/release-notes/consul/v1_16_x","id":"sidebar-nav-item-42"},{"title":"v1.15.x","path":"release-notes/consul/v1_15_x","filePath":"../content/docs/release-notes/consul/v1_15_x.mdx","fullPath":"/consul/docs/release-notes/consul/v1_15_x","id":"sidebar-nav-item-43"},{"title":"v1.14.x","path":"release-notes/consul/v1_14_x","filePath":"../content/docs/release-notes/consul/v1_14_x.mdx","fullPath":"/consul/docs/release-notes/consul/v1_14_x","id":"sidebar-nav-item-44"},{"title":"v1.13.x","path":"release-notes/consul/v1_13_x","filePath":"../content/docs/release-notes/consul/v1_13_x.mdx","fullPath":"/consul/docs/release-notes/consul/v1_13_x","id":"sidebar-nav-item-45"},{"title":"v1.12.x","path":"release-notes/consul/v1_12_x","filePath":"../content/docs/release-notes/consul/v1_12_x.mdx","fullPath":"/consul/docs/release-notes/consul/v1_12_x","id":"sidebar-nav-item-46"},{"title":"v1.11.x","path":"release-notes/consul/v1_11_x","filePath":"../content/docs/release-notes/consul/v1_11_x.mdx","fullPath":"/consul/docs/release-notes/consul/v1_11_x","id":"sidebar-nav-item-47"},{"title":"v1.10.x","path":"release-notes/consul/v1_10_x","filePath":"../content/docs/release-notes/consul/v1_10_x.mdx","fullPath":"/consul/docs/release-notes/consul/v1_10_x","id":"sidebar-nav-item-48"},{"title":"v1.9.x","path":"release-notes/consul/v1_9_x","filePath":"../content/docs/release-notes/consul/v1_9_x.mdx","fullPath":"/consul/docs/release-notes/consul/v1_9_x","id":"sidebar-nav-item-49"}],"id":"sidebar-nav-item-39"},{"title":"Consul K8s","routes":[{"title":"v1.4.x","path":"release-notes/consul-k8s/v1_4_x","filePath":"../content/docs/release-notes/consul-k8s/v1_4_x.mdx","fullPath":"/consul/docs/release-notes/consul-k8s/v1_4_x","id":"sidebar-nav-item-51"},{"title":"v1.3.x","path":"release-notes/consul-k8s/v1_3_x","filePath":"../content/docs/release-notes/consul-k8s/v1_3_x.mdx","fullPath":"/consul/docs/release-notes/consul-k8s/v1_3_x","id":"sidebar-nav-item-52"},{"title":"v1.2.x","path":"release-notes/consul-k8s/v1_2_x","filePath":"../content/docs/release-notes/consul-k8s/v1_2_x.mdx","fullPath":"/consul/docs/release-notes/consul-k8s/v1_2_x","id":"sidebar-nav-item-53"},{"title":"v1.1.x","path":"release-notes/consul-k8s/v1_1_x","filePath":"../content/docs/release-notes/consul-k8s/v1_1_x.mdx","fullPath":"/consul/docs/release-notes/consul-k8s/v1_1_x","id":"sidebar-nav-item-54"},{"title":"v1.0.x","path":"release-notes/consul-k8s/v1_0_x","filePath":"../content/docs/release-notes/consul-k8s/v1_0_x.mdx","fullPath":"/consul/docs/release-notes/consul-k8s/v1_0_x","id":"sidebar-nav-item-55"},{"title":"v0.49.x","path":"release-notes/consul-k8s/v0_49_x","filePath":"../content/docs/release-notes/consul-k8s/v0_49_x.mdx","fullPath":"/consul/docs/release-notes/consul-k8s/v0_49_x","id":"sidebar-nav-item-56"},{"title":"v0.48.x","path":"release-notes/consul-k8s/v0_48_x","filePath":"../content/docs/release-notes/consul-k8s/v0_48_x.mdx","fullPath":"/consul/docs/release-notes/consul-k8s/v0_48_x","id":"sidebar-nav-item-57"},{"title":"v0.47.x","path":"release-notes/consul-k8s/v0_47_x","filePath":"../content/docs/release-notes/consul-k8s/v0_47_x.mdx","fullPath":"/consul/docs/release-notes/consul-k8s/v0_47_x","id":"sidebar-nav-item-58"}],"id":"sidebar-nav-item-50"},{"title":"API Gateway for Kubernetes","routes":[{"title":"v0.5.x","path":"release-notes/consul-api-gateway/v0_5_x","filePath":"../content/docs/release-notes/consul-api-gateway/v0_5_x.mdx","fullPath":"/consul/docs/release-notes/consul-api-gateway/v0_5_x","id":"sidebar-nav-item-60"},{"title":"v0.4.x","path":"release-notes/consul-api-gateway/v0_4_x","filePath":"../content/docs/release-notes/consul-api-gateway/v0_4_x.mdx","fullPath":"/consul/docs/release-notes/consul-api-gateway/v0_4_x","id":"sidebar-nav-item-61"},{"title":"v0.3.x","path":"release-notes/consul-api-gateway/v0_3_x","filePath":"../content/docs/release-notes/consul-api-gateway/v0_3_x.mdx","fullPath":"/consul/docs/release-notes/consul-api-gateway/v0_3_x","id":"sidebar-nav-item-62"},{"title":"v0.2.x","path":"release-notes/consul-api-gateway/v0_2_x","filePath":"../content/docs/release-notes/consul-api-gateway/v0_2_x.mdx","fullPath":"/consul/docs/release-notes/consul-api-gateway/v0_2_x","id":"sidebar-nav-item-63"},{"title":"v0.1.x","path":"release-notes/consul-api-gateway/v0_1_x","filePath":"../content/docs/release-notes/consul-api-gateway/v0_1_x.mdx","fullPath":"/consul/docs/release-notes/consul-api-gateway/v0_1_x","id":"sidebar-nav-item-64"}],"id":"sidebar-nav-item-59"},{"title":"Consul ECS","routes":[{"title":"v0.7.x","path":"release-notes/consul-ecs/v0_7_x","filePath":"../content/docs/release-notes/consul-ecs/v0_7_x.mdx","fullPath":"/consul/docs/release-notes/consul-ecs/v0_7_x","id":"sidebar-nav-item-66"},{"title":"v0.5.x","path":"release-notes/consul-ecs/v0_5_x","filePath":"../content/docs/release-notes/consul-ecs/v0_5_x.mdx","fullPath":"/consul/docs/release-notes/consul-ecs/v0_5_x","id":"sidebar-nav-item-67"},{"title":"v0.4.x","path":"release-notes/consul-ecs/v0_4_x","filePath":"../content/docs/release-notes/consul-ecs/v0_4_x.mdx","fullPath":"/consul/docs/release-notes/consul-ecs/v0_4_x","id":"sidebar-nav-item-68"},{"title":"v0.3.x","path":"release-notes/consul-ecs/v0_3_x","filePath":"../content/docs/release-notes/consul-ecs/v0_3_x.mdx","fullPath":"/consul/docs/release-notes/consul-ecs/v0_3_x","id":"sidebar-nav-item-69"},{"title":"v0.2.x","path":"release-notes/consul-ecs/v0_2_x","filePath":"../content/docs/release-notes/consul-ecs/v0_2_x.mdx","fullPath":"/consul/docs/release-notes/consul-ecs/v0_2_x","id":"sidebar-nav-item-70"}],"id":"sidebar-nav-item-65"},{"title":"Consul Terraform Sync","routes":[{"title":"v0.6.x","path":"release-notes/consul-terraform-sync/v0_6_x","filePath":"../content/docs/release-notes/consul-terraform-sync/v0_6_x.mdx","fullPath":"/consul/docs/release-notes/consul-terraform-sync/v0_6_x","id":"sidebar-nav-item-72"},{"title":"v0.5.x","path":"release-notes/consul-terraform-sync/v0_5_x","filePath":"../content/docs/release-notes/consul-terraform-sync/v0_5_x.mdx","fullPath":"/consul/docs/release-notes/consul-terraform-sync/v0_5_x","id":"sidebar-nav-item-73"}],"id":"sidebar-nav-item-71"}],"id":"sidebar-nav-item-37"},{"title":"Upgrade","routes":[{"title":"Overview","path":"upgrading","filePath":"../content/docs/upgrading/index.mdx","fullPath":"/consul/docs/upgrading","id":"sidebar-nav-item-75"},{"title":"Compatibility Promise","path":"upgrading/compatibility","filePath":"../content/docs/upgrading/compatibility.mdx","fullPath":"/consul/docs/upgrading/compatibility","id":"sidebar-nav-item-76"},{"title":"Specific Version Details","path":"upgrading/upgrade-specific","filePath":"../content/docs/upgrading/upgrade-specific.mdx","fullPath":"/consul/docs/upgrading/upgrade-specific","id":"sidebar-nav-item-77"},{"title":"Upgrade Instructions","routes":[{"title":"Overview","path":"upgrading/instructions","filePath":"../content/docs/upgrading/instructions/index.mdx","fullPath":"/consul/docs/upgrading/instructions","id":"sidebar-nav-item-79"},{"title":"General Process","path":"upgrading/instructions/general-process","filePath":"../content/docs/upgrading/instructions/general-process.mdx","fullPath":"/consul/docs/upgrading/instructions/general-process","id":"sidebar-nav-item-80"},{"title":"Upgrading to Latest 1.2.x","path":"upgrading/instructions/upgrade-to-1-2-x","filePath":"../content/docs/upgrading/instructions/upgrade-to-1-2-x.mdx","fullPath":"/consul/docs/upgrading/instructions/upgrade-to-1-2-x","id":"sidebar-nav-item-81"},{"title":"Upgrading to Latest 1.6.x","path":"upgrading/instructions/upgrade-to-1-6-x","filePath":"../content/docs/upgrading/instructions/upgrade-to-1-6-x.mdx","fullPath":"/consul/docs/upgrading/instructions/upgrade-to-1-6-x","id":"sidebar-nav-item-82"},{"title":"Upgrading to Latest 1.8.x","path":"upgrading/instructions/upgrade-to-1-8-x","filePath":"../content/docs/upgrading/instructions/upgrade-to-1-8-x.mdx","fullPath":"/consul/docs/upgrading/instructions/upgrade-to-1-8-x","id":"sidebar-nav-item-83"},{"title":"Upgrading to Latest 1.10.x","path":"upgrading/instructions/upgrade-to-1-10-x","filePath":"../content/docs/upgrading/instructions/upgrade-to-1-10-x.mdx","fullPath":"/consul/docs/upgrading/instructions/upgrade-to-1-10-x","id":"sidebar-nav-item-84"}],"id":"sidebar-nav-item-78"}],"id":"sidebar-nav-item-74"},{"divider":true,"id":"sidebar-nav-item-85"},{"title":"Services","routes":[{"title":"Overview","path":"services/services","filePath":"../content/docs/services/services.mdx","fullPath":"/consul/docs/services/services","id":"sidebar-nav-item-87"},{"title":"Usage","routes":[{"title":"Define services","path":"services/usage/define-services","filePath":"../content/docs/services/usage/define-services.mdx","fullPath":"/consul/docs/services/usage/define-services","id":"sidebar-nav-item-89"},{"title":"Define health checks","path":"services/usage/checks","filePath":"../content/docs/services/usage/checks.mdx","fullPath":"/consul/docs/services/usage/checks","id":"sidebar-nav-item-90"},{"title":"Register services and health checks","path":"services/usage/register-services-checks","filePath":"../content/docs/services/usage/register-services-checks.mdx","fullPath":"/consul/docs/services/usage/register-services-checks","id":"sidebar-nav-item-91"}],"id":"sidebar-nav-item-88"},{"title":"Discover services with DNS","routes":[{"title":"Overview","path":"services/discovery/dns-overview","filePath":"../content/docs/services/discovery/dns-overview.mdx","fullPath":"/consul/docs/services/discovery/dns-overview","id":"sidebar-nav-item-93"},{"title":"Configure DNS behavior","path":"services/discovery/dns-configuration","filePath":"../content/docs/services/discovery/dns-configuration.mdx","fullPath":"/consul/docs/services/discovery/dns-configuration","id":"sidebar-nav-item-94"},{"title":"Perform static DNS lookups","path":"services/discovery/dns-static-lookups","filePath":"../content/docs/services/discovery/dns-static-lookups.mdx","fullPath":"/consul/docs/services/discovery/dns-static-lookups","id":"sidebar-nav-item-95"},{"title":"Enable dynamic DNS lookups","path":"services/discovery/dns-dynamic-lookups","filePath":"../content/docs/services/discovery/dns-dynamic-lookups.mdx","fullPath":"/consul/docs/services/discovery/dns-dynamic-lookups","id":"sidebar-nav-item-96"}],"id":"sidebar-nav-item-92"},{"title":"Configuration","routes":[{"title":"Overview","path":"services/configuration/services-configuration-overview","filePath":"../content/docs/services/configuration/services-configuration-overview.mdx","fullPath":"/consul/docs/services/configuration/services-configuration-overview","id":"sidebar-nav-item-98"},{"title":"Services","path":"services/configuration/services-configuration-reference","filePath":"../content/docs/services/configuration/services-configuration-reference.mdx","fullPath":"/consul/docs/services/configuration/services-configuration-reference","id":"sidebar-nav-item-99"},{"title":"Health checks","path":"services/configuration/checks-configuration-reference","filePath":"../content/docs/services/configuration/checks-configuration-reference.mdx","fullPath":"/consul/docs/services/configuration/checks-configuration-reference","id":"sidebar-nav-item-100"},{"title":"Service defaults","href":null,"fullPath":"/consul/docs/connect/config-entries/service-defaults","id":"sidebar-nav-item-101","path":"connect/config-entries/service-defaults"}],"id":"sidebar-nav-item-97"}],"id":"sidebar-nav-item-86"},{"title":"Service Mesh","routes":[{"title":"Overview","path":"connect","filePath":"../content/docs/connect/index.mdx","fullPath":"/consul/docs/connect","id":"sidebar-nav-item-103"},{"title":"How Service Mesh Works","path":"connect/connect-internals","filePath":"../content/docs/connect/connect-internals.mdx","fullPath":"/consul/docs/connect/connect-internals","id":"sidebar-nav-item-104"},{"title":"Configuration","path":"connect/configuration","filePath":"../content/docs/connect/configuration.mdx","fullPath":"/consul/docs/connect/configuration","id":"sidebar-nav-item-105"},{"title":"Configuration entries","routes":[{"title":"Overview","path":"connect/config-entries","filePath":"../content/docs/connect/config-entries/index.mdx","fullPath":"/consul/docs/connect/config-entries","id":"sidebar-nav-item-107"},{"title":"API gateway","path":"connect/config-entries/api-gateway","filePath":"../content/docs/connect/config-entries/api-gateway.mdx","fullPath":"/consul/docs/connect/config-entries/api-gateway","id":"sidebar-nav-item-108"},{"title":"HTTP route","path":"connect/config-entries/http-route","filePath":"../content/docs/connect/config-entries/http-route.mdx","fullPath":"/consul/docs/connect/config-entries/http-route","id":"sidebar-nav-item-109"},{"title":"TCP route","path":"connect/config-entries/tcp-route","filePath":"../content/docs/connect/config-entries/tcp-route.mdx","fullPath":"/consul/docs/connect/config-entries/tcp-route","id":"sidebar-nav-item-110"},{"title":"Inline certificate","path":"connect/config-entries/inline-certificate","filePath":"../content/docs/connect/config-entries/inline-certificate.mdx","fullPath":"/consul/docs/connect/config-entries/inline-certificate","id":"sidebar-nav-item-111"},{"title":"Ingress gateway","path":"connect/config-entries/ingress-gateway","filePath":"../content/docs/connect/config-entries/ingress-gateway.mdx","fullPath":"/consul/docs/connect/config-entries/ingress-gateway","id":"sidebar-nav-item-112"},{"title":"JWT Provider","path":"connect/config-entries/jwt-provider","filePath":"../content/docs/connect/config-entries/jwt-provider.mdx","fullPath":"/consul/docs/connect/config-entries/jwt-provider","id":"sidebar-nav-item-113"},{"title":"Mesh","path":"connect/config-entries/mesh","filePath":"../content/docs/connect/config-entries/mesh.mdx","fullPath":"/consul/docs/connect/config-entries/mesh","id":"sidebar-nav-item-114"},{"title":"Exported services","path":"connect/config-entries/exported-services","filePath":"../content/docs/connect/config-entries/exported-services.mdx","fullPath":"/consul/docs/connect/config-entries/exported-services","id":"sidebar-nav-item-115"},{"title":"Proxy defaults","path":"connect/config-entries/proxy-defaults","filePath":"../content/docs/connect/config-entries/proxy-defaults.mdx","fullPath":"/consul/docs/connect/config-entries/proxy-defaults","id":"sidebar-nav-item-116"},{"title":"Sameness Group","path":"connect/config-entries/sameness-group","filePath":"../content/docs/connect/config-entries/sameness-group.mdx","fullPath":"/consul/docs/connect/config-entries/sameness-group","id":"sidebar-nav-item-117"},{"title":"Service Defaults","path":"connect/config-entries/service-defaults","filePath":"../content/docs/connect/config-entries/service-defaults.mdx","fullPath":"/consul/docs/connect/config-entries/service-defaults","id":"sidebar-nav-item-118"},{"title":"Service intentions","path":"connect/config-entries/service-intentions","filePath":"../content/docs/connect/config-entries/service-intentions.mdx","fullPath":"/consul/docs/connect/config-entries/service-intentions","id":"sidebar-nav-item-119"},{"title":"Service resolver","path":"connect/config-entries/service-resolver","filePath":"../content/docs/connect/config-entries/service-resolver.mdx","fullPath":"/consul/docs/connect/config-entries/service-resolver","id":"sidebar-nav-item-120"},{"title":"Service router","path":"connect/config-entries/service-router","filePath":"../content/docs/connect/config-entries/service-router.mdx","fullPath":"/consul/docs/connect/config-entries/service-router","id":"sidebar-nav-item-121"},{"title":"Service splitter","path":"connect/config-entries/service-splitter","filePath":"../content/docs/connect/config-entries/service-splitter.mdx","fullPath":"/consul/docs/connect/config-entries/service-splitter","id":"sidebar-nav-item-122"},{"title":"Terminating gateway","path":"connect/config-entries/terminating-gateway","filePath":"../content/docs/connect/config-entries/terminating-gateway.mdx","fullPath":"/consul/docs/connect/config-entries/terminating-gateway","id":"sidebar-nav-item-123"},{"title":"Control plane request limit","path":"connect/config-entries/control-plane-request-limit","filePath":"../content/docs/connect/config-entries/control-plane-request-limit.mdx","fullPath":"/consul/docs/connect/config-entries/control-plane-request-limit","id":"sidebar-nav-item-124"}],"id":"sidebar-nav-item-106"},{"title":"Proxies","routes":[{"title":"Overview","path":"connect/proxies","filePath":"../content/docs/connect/proxies/index.mdx","fullPath":"/consul/docs/connect/proxies","id":"sidebar-nav-item-126"},{"title":"Deploy service mesh proxies","path":"connect/proxies/deploy-service-mesh-proxies","filePath":"../content/docs/connect/proxies/deploy-service-mesh-proxies.mdx","fullPath":"/consul/docs/connect/proxies/deploy-service-mesh-proxies","id":"sidebar-nav-item-127"},{"title":"Deploy sidecar services","path":"connect/proxies/deploy-sidecar-services","filePath":"../content/docs/connect/proxies/deploy-sidecar-services.mdx","fullPath":"/consul/docs/connect/proxies/deploy-sidecar-services","id":"sidebar-nav-item-128"},{"title":"Envoy Extensions","routes":[{"title":"Overview","path":"connect/proxies/envoy-extensions","filePath":"../content/docs/connect/proxies/envoy-extensions/index.mdx","fullPath":"/consul/docs/connect/proxies/envoy-extensions","id":"sidebar-nav-item-130"},{"title":"Usage","routes":[{"title":"Delegate authorization to Apigee","path":"connect/proxies/envoy-extensions/usage/apigee-ext-authz","filePath":"../content/docs/connect/proxies/envoy-extensions/usage/apigee-ext-authz.mdx","fullPath":"/consul/docs/connect/proxies/envoy-extensions/usage/apigee-ext-authz","id":"sidebar-nav-item-132"},{"title":"Delegate authorization to external services","path":"connect/proxies/envoy-extensions/usage/ext-authz","filePath":"../content/docs/connect/proxies/envoy-extensions/usage/ext-authz.mdx","fullPath":"/consul/docs/connect/proxies/envoy-extensions/usage/ext-authz","id":"sidebar-nav-item-133"},{"title":"Run Lua scripts in Envoy proxies","path":"connect/proxies/envoy-extensions/usage/lua","filePath":"../content/docs/connect/proxies/envoy-extensions/usage/lua.mdx","fullPath":"/consul/docs/connect/proxies/envoy-extensions/usage/lua","id":"sidebar-nav-item-134"},{"title":"Invoke Lambda functions in Envoy proxies","path":"connect/proxies/envoy-extensions/usage/lambda","filePath":"../content/docs/connect/proxies/envoy-extensions/usage/lambda.mdx","fullPath":"/consul/docs/connect/proxies/envoy-extensions/usage/lambda","id":"sidebar-nav-item-135"},{"title":"Send access logs to OpenTelemetry collector service","path":"connect/proxies/envoy-extensions/usage/otel-access-logging","filePath":"../content/docs/connect/proxies/envoy-extensions/usage/otel-access-logging.mdx","fullPath":"/consul/docs/connect/proxies/envoy-extensions/usage/otel-access-logging","id":"sidebar-nav-item-136"},{"title":"Configure Envoy proxy properties","path":"connect/proxies/envoy-extensions/usage/property-override","filePath":"../content/docs/connect/proxies/envoy-extensions/usage/property-override.mdx","fullPath":"/consul/docs/connect/proxies/envoy-extensions/usage/property-override","id":"sidebar-nav-item-137"},{"title":"Run WebAssembly plug-ins in Envoy proxies","path":"connect/proxies/envoy-extensions/usage/wasm","filePath":"../content/docs/connect/proxies/envoy-extensions/usage/wasm.mdx","fullPath":"/consul/docs/connect/proxies/envoy-extensions/usage/wasm","id":"sidebar-nav-item-138"}],"id":"sidebar-nav-item-131"},{"title":"Configuration","routes":[{"title":"External authorization","path":"connect/proxies/envoy-extensions/configuration/ext-authz","filePath":"../content/docs/connect/proxies/envoy-extensions/configuration/ext-authz.mdx","fullPath":"/consul/docs/connect/proxies/envoy-extensions/configuration/ext-authz","id":"sidebar-nav-item-140"},{"title":"OpenTelemetry Access Logging","path":"connect/proxies/envoy-extensions/configuration/otel-access-logging","filePath":"../content/docs/connect/proxies/envoy-extensions/configuration/otel-access-logging.mdx","fullPath":"/consul/docs/connect/proxies/envoy-extensions/configuration/otel-access-logging","id":"sidebar-nav-item-141"},{"title":"Property override","path":"connect/proxies/envoy-extensions/configuration/property-override","filePath":"../content/docs/connect/proxies/envoy-extensions/configuration/property-override.mdx","fullPath":"/consul/docs/connect/proxies/envoy-extensions/configuration/property-override","id":"sidebar-nav-item-142"},{"title":"WebAssembly","path":"connect/proxies/envoy-extensions/configuration/wasm","filePath":"../content/docs/connect/proxies/envoy-extensions/configuration/wasm.mdx","fullPath":"/consul/docs/connect/proxies/envoy-extensions/configuration/wasm","id":"sidebar-nav-item-143"}],"id":"sidebar-nav-item-139"}],"id":"sidebar-nav-item-129"},{"title":"Proxy integration","path":"connect/proxies/integrate","filePath":"../content/docs/connect/proxies/integrate.mdx","fullPath":"/consul/docs/connect/proxies/integrate","id":"sidebar-nav-item-144"},{"title":"Proxy defaults configuration reference","href":null,"fullPath":"/consul/docs/connect/config-entries/proxy-defaults","id":"sidebar-nav-item-145","path":"/consul/docs/connect/config-entries/proxy-defaults"},{"title":"Envoy proxies reference","path":"connect/proxies/envoy","filePath":"../content/docs/connect/proxies/envoy.mdx","fullPath":"/consul/docs/connect/proxies/envoy","id":"sidebar-nav-item-146"},{"title":"Built-in proxy reference","path":"connect/proxies/built-in","filePath":"../content/docs/connect/proxies/built-in.mdx","fullPath":"/consul/docs/connect/proxies/built-in","id":"sidebar-nav-item-147"},{"title":"Service mesh proxy configuration reference","path":"connect/proxies/proxy-config-reference","filePath":"../content/docs/connect/proxies/proxy-config-reference.mdx","fullPath":"/consul/docs/connect/proxies/proxy-config-reference","id":"sidebar-nav-item-148"}],"id":"sidebar-nav-item-125"},{"title":"Service intentions","routes":[{"title":"Overview","path":"connect/intentions","filePath":"../content/docs/connect/intentions/index.mdx","fullPath":"/consul/docs/connect/intentions","id":"sidebar-nav-item-150"},{"title":"Create and manage service intentions","path":"connect/intentions/create-manage-intentions","filePath":"../content/docs/connect/intentions/create-manage-intentions.mdx","fullPath":"/consul/docs/connect/intentions/create-manage-intentions","id":"sidebar-nav-item-151"},{"title":"JWT authorization for intentions","path":"connect/intentions/jwt-authorization","filePath":"../content/docs/connect/intentions/jwt-authorization.mdx","fullPath":"/consul/docs/connect/intentions/jwt-authorization","id":"sidebar-nav-item-152"},{"title":"Service intentions legacy mode","path":"connect/intentions/legacy","filePath":"../content/docs/connect/intentions/legacy.mdx","fullPath":"/consul/docs/connect/intentions/legacy","id":"sidebar-nav-item-153"},{"title":"Configuration","href":null,"fullPath":"/consul/docs/connect/config-entries/service-intentions","id":"sidebar-nav-item-154","path":"/consul/docs/connect/config-entries/service-intentions"}],"id":"sidebar-nav-item-149"},{"title":"Observability","routes":[{"title":"Overview","path":"connect/observability","filePath":"../content/docs/connect/observability/index.mdx","fullPath":"/consul/docs/connect/observability","id":"sidebar-nav-item-156"},{"title":"Access Logs","path":"connect/observability/access-logs","filePath":"../content/docs/connect/observability/access-logs.mdx","fullPath":"/consul/docs/connect/observability/access-logs","id":"sidebar-nav-item-157"},{"title":"UI Visualization","path":"connect/observability/ui-visualization","filePath":"../content/docs/connect/observability/ui-visualization.mdx","fullPath":"/consul/docs/connect/observability/ui-visualization","id":"sidebar-nav-item-158"}],"id":"sidebar-nav-item-155"},{"title":"Manage traffic","routes":[{"title":"Overview","path":"connect/manage-traffic","filePath":"../content/docs/connect/manage-traffic/index.mdx","fullPath":"/consul/docs/connect/manage-traffic","id":"sidebar-nav-item-160"},{"title":"Route traffic to local upstreams","path":"connect/manage-traffic/route-to-local-upstreams","filePath":"../content/docs/connect/manage-traffic/route-to-local-upstreams.mdx","fullPath":"/consul/docs/connect/manage-traffic/route-to-local-upstreams","id":"sidebar-nav-item-161"},{"title":"Limit request rates to services","path":"connect/manage-traffic/limit-request-rates","filePath":"../content/docs/connect/manage-traffic/limit-request-rates.mdx","fullPath":"/consul/docs/connect/manage-traffic/limit-request-rates","id":"sidebar-nav-item-162"},{"title":"Fault Injection","path":"connect/manage-traffic/fault-injection","filePath":"../content/docs/connect/manage-traffic/fault-injection.mdx","fullPath":"/consul/docs/connect/manage-traffic/fault-injection","id":"sidebar-nav-item-163"},{"title":"Failover","routes":[{"title":"Overview","path":"connect/manage-traffic/failover","filePath":"../content/docs/connect/manage-traffic/failover/index.mdx","fullPath":"/consul/docs/connect/manage-traffic/failover","id":"sidebar-nav-item-165"},{"title":"Configure failover services for Kubernetes","href":null,"fullPath":"/consul/docs/k8s/l7-traffic/failover-tproxy","id":"sidebar-nav-item-166","path":"/docs/k8s/l7-traffic/failover-tproxy"},{"title":"Automate geo-failover with prepared queries","href":null,"fullPath":"/consul/tutorials/developer-discovery/automate-geo-failover","id":"sidebar-nav-item-167","path":"/tutorials/developer-discovery/automate-geo-failover"},{"title":"Failover with sameness groups","path":"connect/manage-traffic/failover/sameness","filePath":"../content/docs/connect/manage-traffic/failover/sameness.mdx","fullPath":"/consul/docs/connect/manage-traffic/failover/sameness","id":"sidebar-nav-item-168"},{"title":"Configuration","routes":[{"title":"Service resolver","href":null,"fullPath":"/consul/docs/connect/config-entries/service-resolver","id":"sidebar-nav-item-170","path":"/consul/docs/connect/config-entries/service-resolver"},{"title":"Service intentions","href":null,"fullPath":"/consul/docs/connect/config-entries/service-intentions","id":"sidebar-nav-item-171","path":"/consul/docs/connect/config-entries/service-intentions"}],"id":"sidebar-nav-item-169"}],"id":"sidebar-nav-item-164"},{"title":"Discovery chain reference","path":"connect/manage-traffic/discovery-chain","filePath":"../content/docs/connect/manage-traffic/discovery-chain.mdx","fullPath":"/consul/docs/connect/manage-traffic/discovery-chain","id":"sidebar-nav-item-172"}],"id":"sidebar-nav-item-159"},{"title":"Connectivity Tasks","path":"connect/connectivity-tasks","filePath":"../content/docs/connect/connectivity-tasks.mdx","fullPath":"/consul/docs/connect/connectivity-tasks","id":"sidebar-nav-item-173"},{"title":"Distributed Tracing","path":"connect/distributed-tracing","filePath":"../content/docs/connect/distributed-tracing.mdx","fullPath":"/consul/docs/connect/distributed-tracing","id":"sidebar-nav-item-174"},{"title":"Gateways","routes":[{"title":"Overview","path":"connect/gateways","filePath":"../content/docs/connect/gateways/index.mdx","fullPath":"/consul/docs/connect/gateways","id":"sidebar-nav-item-176"},{"title":"API Gateways","routes":[{"title":"Overview","path":"connect/gateways/api-gateway","filePath":"../content/docs/connect/gateways/api-gateway/index.mdx","fullPath":"/consul/docs/connect/gateways/api-gateway","id":"sidebar-nav-item-178"},{"title":"Technical specifications for Kubernetes","path":"connect/gateways/api-gateway/tech-specs","filePath":"../content/docs/connect/gateways/api-gateway/tech-specs.mdx","fullPath":"/consul/docs/connect/gateways/api-gateway/tech-specs","id":"sidebar-nav-item-179"},{"title":"Install on Kubernetes","path":"connect/gateways/api-gateway/install-k8s","filePath":"../content/docs/connect/gateways/api-gateway/install-k8s.mdx","fullPath":"/consul/docs/connect/gateways/api-gateway/install-k8s","id":"sidebar-nav-item-180"},{"title":"Upgrade on Kubernetes","path":"connect/gateways/api-gateway/upgrades-k8s","filePath":"../content/docs/connect/gateways/api-gateway/upgrades-k8s.mdx","fullPath":"/consul/docs/connect/gateways/api-gateway/upgrades-k8s","id":"sidebar-nav-item-181"},{"title":"Deploy listeners","routes":[{"title":"Deploy listeners to VMs","path":"connect/gateways/api-gateway/deploy/listeners-vms","filePath":"../content/docs/connect/gateways/api-gateway/deploy/listeners-vms.mdx","fullPath":"/consul/docs/connect/gateways/api-gateway/deploy/listeners-vms","id":"sidebar-nav-item-183"},{"title":"Deploy listeners to Kubernetes","path":"connect/gateways/api-gateway/deploy/listeners-k8s","filePath":"../content/docs/connect/gateways/api-gateway/deploy/listeners-k8s.mdx","fullPath":"/consul/docs/connect/gateways/api-gateway/deploy/listeners-k8s","id":"sidebar-nav-item-184"}],"id":"sidebar-nav-item-182"},{"title":"Define routes","routes":[{"title":"Define routes on VMs","path":"connect/gateways/api-gateway/define-routes/routes-vms","filePath":"../content/docs/connect/gateways/api-gateway/define-routes/routes-vms.mdx","fullPath":"/consul/docs/connect/gateways/api-gateway/define-routes/routes-vms","id":"sidebar-nav-item-186"},{"title":"Define routes on Kubernetes","path":"connect/gateways/api-gateway/define-routes/routes-k8s","filePath":"../content/docs/connect/gateways/api-gateway/define-routes/routes-k8s.mdx","fullPath":"/consul/docs/connect/gateways/api-gateway/define-routes/routes-k8s","id":"sidebar-nav-item-187"},{"title":"Reroute traffic in Kubernetes","path":"connect/gateways/api-gateway/define-routes/reroute-http-requests","filePath":"../content/docs/connect/gateways/api-gateway/define-routes/reroute-http-requests.mdx","fullPath":"/consul/docs/connect/gateways/api-gateway/define-routes/reroute-http-requests","id":"sidebar-nav-item-188"},{"title":"Route to peered services in Kubernetes","path":"connect/gateways/api-gateway/define-routes/route-to-peered-services","filePath":"../content/docs/connect/gateways/api-gateway/define-routes/route-to-peered-services.mdx","fullPath":"/consul/docs/connect/gateways/api-gateway/define-routes/route-to-peered-services","id":"sidebar-nav-item-189"}],"id":"sidebar-nav-item-185"},{"title":"Secure traffic","routes":[{"title":"Encrypt traffic on virtual machines","path":"connect/gateways/api-gateway/secure-traffic/encrypt-vms","filePath":"../content/docs/connect/gateways/api-gateway/secure-traffic/encrypt-vms.mdx","fullPath":"/consul/docs/connect/gateways/api-gateway/secure-traffic/encrypt-vms","id":"sidebar-nav-item-191"},{"title":"Verify incoming requests with JWTs on virtual machines","path":"connect/gateways/api-gateway/secure-traffic/verify-jwts-vms","filePath":"../content/docs/connect/gateways/api-gateway/secure-traffic/verify-jwts-vms.mdx","fullPath":"/consul/docs/connect/gateways/api-gateway/secure-traffic/verify-jwts-vms","id":"sidebar-nav-item-192"},{"title":"Verify incoming requests with JWTs on Kubernetes","path":"connect/gateways/api-gateway/secure-traffic/verify-jwts-k8s","filePath":"../content/docs/connect/gateways/api-gateway/secure-traffic/verify-jwts-k8s.mdx","fullPath":"/consul/docs/connect/gateways/api-gateway/secure-traffic/verify-jwts-k8s","id":"sidebar-nav-item-193"}],"id":"sidebar-nav-item-190"},{"title":"Configuration","routes":[{"title":"Overview","path":"connect/gateways/api-gateway/configuration","filePath":"../content/docs/connect/gateways/api-gateway/configuration/index.mdx","fullPath":"/consul/docs/connect/gateways/api-gateway/configuration","id":"sidebar-nav-item-195"},{"title":"Gateway","path":"connect/gateways/api-gateway/configuration/gateway","filePath":"../content/docs/connect/gateways/api-gateway/configuration/gateway.mdx","fullPath":"/consul/docs/connect/gateways/api-gateway/configuration/gateway","id":"sidebar-nav-item-196"},{"title":"GatewayClass","path":"connect/gateways/api-gateway/configuration/gatewayclass","filePath":"../content/docs/connect/gateways/api-gateway/configuration/gatewayclass.mdx","fullPath":"/consul/docs/connect/gateways/api-gateway/configuration/gatewayclass","id":"sidebar-nav-item-197"},{"title":"GatewayClassConfig","path":"connect/gateways/api-gateway/configuration/gatewayclassconfig","filePath":"../content/docs/connect/gateways/api-gateway/configuration/gatewayclassconfig.mdx","fullPath":"/consul/docs/connect/gateways/api-gateway/configuration/gatewayclassconfig","id":"sidebar-nav-item-198"},{"title":"GatewayPolicy","path":"connect/gateways/api-gateway/configuration/gatewaypolicy","filePath":"../content/docs/connect/gateways/api-gateway/configuration/gatewaypolicy.mdx","fullPath":"/consul/docs/connect/gateways/api-gateway/configuration/gatewaypolicy","id":"sidebar-nav-item-199"},{"title":"RouteAuthFilter","path":"connect/gateways/api-gateway/configuration/routeauthfilter","filePath":"../content/docs/connect/gateways/api-gateway/configuration/routeauthfilter.mdx","fullPath":"/consul/docs/connect/gateways/api-gateway/configuration/routeauthfilter","id":"sidebar-nav-item-200"},{"title":"Routes","path":"connect/gateways/api-gateway/configuration/routes","filePath":"../content/docs/connect/gateways/api-gateway/configuration/routes.mdx","fullPath":"/consul/docs/connect/gateways/api-gateway/configuration/routes","id":"sidebar-nav-item-201"},{"title":"RouteRetryFilter","path":"connect/gateways/api-gateway/configuration/routeretryfilter","filePath":"../content/docs/connect/gateways/api-gateway/configuration/routeretryfilter.mdx","fullPath":"/consul/docs/connect/gateways/api-gateway/configuration/routeretryfilter","id":"sidebar-nav-item-202"},{"title":"RouteTimeoutFilter","path":"connect/gateways/api-gateway/configuration/routetimeoutfilter","filePath":"../content/docs/connect/gateways/api-gateway/configuration/routetimeoutfilter.mdx","fullPath":"/consul/docs/connect/gateways/api-gateway/configuration/routetimeoutfilter","id":"sidebar-nav-item-203"},{"title":"MeshService","path":"connect/gateways/api-gateway/configuration/meshservice","filePath":"../content/docs/connect/gateways/api-gateway/configuration/meshservice.mdx","fullPath":"/consul/docs/connect/gateways/api-gateway/configuration/meshservice","id":"sidebar-nav-item-204"}],"id":"sidebar-nav-item-194"},{"title":"Error Messages","path":"connect/gateways/api-gateway/errors","filePath":"../content/docs/connect/gateways/api-gateway/errors.mdx","fullPath":"/consul/docs/connect/gateways/api-gateway/errors","id":"sidebar-nav-item-205"}],"id":"sidebar-nav-item-177"},{"title":"Mesh Gateways","routes":[{"title":"Overview","path":"connect/gateways/mesh-gateway","filePath":"../content/docs/connect/gateways/mesh-gateway/index.mdx","fullPath":"/consul/docs/connect/gateways/mesh-gateway","id":"sidebar-nav-item-207"},{"title":"Enabling WAN Federation Control Plane Traffic","path":"connect/gateways/mesh-gateway/wan-federation-via-mesh-gateways","filePath":"../content/docs/connect/gateways/mesh-gateway/wan-federation-via-mesh-gateways.mdx","fullPath":"/consul/docs/connect/gateways/mesh-gateway/wan-federation-via-mesh-gateways","id":"sidebar-nav-item-208"},{"title":"Enabling Service-to-service Traffic Across WAN Federated Datacenters","path":"connect/gateways/mesh-gateway/service-to-service-traffic-wan-datacenters","filePath":"../content/docs/connect/gateways/mesh-gateway/service-to-service-traffic-wan-datacenters.mdx","fullPath":"/consul/docs/connect/gateways/mesh-gateway/service-to-service-traffic-wan-datacenters","id":"sidebar-nav-item-209"},{"title":"Enabling Service-to-service Traffic Across Admin Partitions","path":"connect/gateways/mesh-gateway/service-to-service-traffic-partitions","filePath":"../content/docs/connect/gateways/mesh-gateway/service-to-service-traffic-partitions.mdx","fullPath":"/consul/docs/connect/gateways/mesh-gateway/service-to-service-traffic-partitions","id":"sidebar-nav-item-210"},{"title":"Enabling Peering Control Plane Traffic","path":"connect/gateways/mesh-gateway/peering-via-mesh-gateways","filePath":"../content/docs/connect/gateways/mesh-gateway/peering-via-mesh-gateways.mdx","fullPath":"/consul/docs/connect/gateways/mesh-gateway/peering-via-mesh-gateways","id":"sidebar-nav-item-211"}],"id":"sidebar-nav-item-206"},{"title":"Ingress Gateways","routes":[{"title":"Overview","path":"connect/gateways/ingress-gateway","filePath":"../content/docs/connect/gateways/ingress-gateway/index.mdx","fullPath":"/consul/docs/connect/gateways/ingress-gateway","id":"sidebar-nav-item-213"},{"title":"Implement an ingress gateway","path":"connect/gateways/ingress-gateway/usage","filePath":"../content/docs/connect/gateways/ingress-gateway/usage.mdx","fullPath":"/consul/docs/connect/gateways/ingress-gateway/usage","id":"sidebar-nav-item-214"},{"title":"Serve TLS certificates from an external service","path":"connect/gateways/ingress-gateway/tls-external-service","filePath":"../content/docs/connect/gateways/ingress-gateway/tls-external-service.mdx","fullPath":"/consul/docs/connect/gateways/ingress-gateway/tls-external-service","id":"sidebar-nav-item-215"},{"title":"Configuration","href":null,"fullPath":"/consul/docs/connect/config-entries/ingress-gateway","id":"sidebar-nav-item-216","path":"/consul/docs/connect/config-entries/ingress-gateway"}],"id":"sidebar-nav-item-212"},{"title":"Terminating Gateways","path":"connect/gateways/terminating-gateway","filePath":"../content/docs/connect/gateways/terminating-gateway.mdx","fullPath":"/consul/docs/connect/gateways/terminating-gateway","id":"sidebar-nav-item-217"}],"id":"sidebar-nav-item-175"},{"title":"Cluster Peering","routes":[{"title":"Overview","path":"connect/cluster-peering","filePath":"../content/docs/connect/cluster-peering/index.mdx","fullPath":"/consul/docs/connect/cluster-peering","id":"sidebar-nav-item-219"},{"title":"Technical Specifications","path":"connect/cluster-peering/tech-specs","filePath":"../content/docs/connect/cluster-peering/tech-specs.mdx","fullPath":"/consul/docs/connect/cluster-peering/tech-specs","id":"sidebar-nav-item-220"},{"title":"Usage","routes":[{"title":"Establish Cluster Peering Connections","path":"connect/cluster-peering/usage/establish-cluster-peering","filePath":"../content/docs/connect/cluster-peering/usage/establish-cluster-peering.mdx","fullPath":"/consul/docs/connect/cluster-peering/usage/establish-cluster-peering","id":"sidebar-nav-item-222"},{"title":"Manage Cluster Peering Connections","path":"connect/cluster-peering/usage/manage-connections","filePath":"../content/docs/connect/cluster-peering/usage/manage-connections.mdx","fullPath":"/consul/docs/connect/cluster-peering/usage/manage-connections","id":"sidebar-nav-item-223"},{"title":"Manage L7 Traffic With Cluster Peering","path":"connect/cluster-peering/usage/peering-traffic-management","filePath":"../content/docs/connect/cluster-peering/usage/peering-traffic-management.mdx","fullPath":"/consul/docs/connect/cluster-peering/usage/peering-traffic-management","id":"sidebar-nav-item-224"},{"title":"Create Sameness Groups","path":"connect/cluster-peering/usage/create-sameness-groups","filePath":"../content/docs/connect/cluster-peering/usage/create-sameness-groups.mdx","fullPath":"/consul/docs/connect/cluster-peering/usage/create-sameness-groups","id":"sidebar-nav-item-225"}],"id":"sidebar-nav-item-221"}],"id":"sidebar-nav-item-218"},{"title":"Nomad","path":"connect/nomad","filePath":"../content/docs/connect/nomad.mdx","fullPath":"/consul/docs/connect/nomad","id":"sidebar-nav-item-226"},{"title":"Kubernetes","href":null,"fullPath":"/consul/docs/k8s/connect","id":"sidebar-nav-item-227","path":"/docs/k8s/connect"},{"title":"Native App Integration","routes":[{"title":"Overview","path":"connect/native","filePath":"../content/docs/connect/native/index.mdx","fullPath":"/consul/docs/connect/native","id":"sidebar-nav-item-229"},{"title":"Go Integration","path":"connect/native/go","filePath":"../content/docs/connect/native/go.mdx","fullPath":"/consul/docs/connect/native/go","id":"sidebar-nav-item-230"}],"id":"sidebar-nav-item-228"},{"title":"Certificate Management","routes":[{"title":"Overview","path":"connect/ca","filePath":"../content/docs/connect/ca/index.mdx","fullPath":"/consul/docs/connect/ca","id":"sidebar-nav-item-232"},{"title":"Built-In CA","path":"connect/ca/consul","filePath":"../content/docs/connect/ca/consul.mdx","fullPath":"/consul/docs/connect/ca/consul","id":"sidebar-nav-item-233"},{"title":"Vault","path":"connect/ca/vault","filePath":"../content/docs/connect/ca/vault.mdx","fullPath":"/consul/docs/connect/ca/vault","id":"sidebar-nav-item-234"},{"title":"ACM Private CA","path":"connect/ca/aws","filePath":"../content/docs/connect/ca/aws.mdx","fullPath":"/consul/docs/connect/ca/aws","id":"sidebar-nav-item-235"}],"id":"sidebar-nav-item-231"},{"title":"Develop and Debug","path":"connect/dev","filePath":"../content/docs/connect/dev.mdx","fullPath":"/consul/docs/connect/dev","id":"sidebar-nav-item-236"},{"title":"Consul Dataplane","routes":[{"title":"Overview","path":"connect/dataplane","filePath":"../content/docs/connect/dataplane/index.mdx","fullPath":"/consul/docs/connect/dataplane","id":"sidebar-nav-item-238"},{"title":"CLI Reference","path":"connect/dataplane/consul-dataplane","filePath":"../content/docs/connect/dataplane/consul-dataplane.mdx","fullPath":"/consul/docs/connect/dataplane/consul-dataplane","id":"sidebar-nav-item-239"},{"title":"Telemetry","path":"connect/dataplane/telemetry","filePath":"../content/docs/connect/dataplane/telemetry.mdx","fullPath":"/consul/docs/connect/dataplane/telemetry","id":"sidebar-nav-item-240"}],"id":"sidebar-nav-item-237"}],"id":"sidebar-nav-item-102"},{"title":"Dynamic App Configuration","routes":[{"title":"Consul KV","path":"dynamic-app-config/kv","filePath":"../content/docs/dynamic-app-config/kv.mdx","fullPath":"/consul/docs/dynamic-app-config/kv","id":"sidebar-nav-item-242"},{"title":"Sessions","path":"dynamic-app-config/sessions","filePath":"../content/docs/dynamic-app-config/sessions.mdx","fullPath":"/consul/docs/dynamic-app-config/sessions","id":"sidebar-nav-item-243"},{"title":"Watches","path":"dynamic-app-config/watches","filePath":"../content/docs/dynamic-app-config/watches.mdx","fullPath":"/consul/docs/dynamic-app-config/watches","id":"sidebar-nav-item-244"}],"id":"sidebar-nav-item-241"},{"title":"Security","routes":[{"title":"Overview","path":"security","filePath":"../content/docs/security/index.mdx","fullPath":"/consul/docs/security","id":"sidebar-nav-item-246"},{"title":"Access Control (ACLs)","routes":[{"title":"ACL System Overview","path":"security/acl","filePath":"../content/docs/security/acl/index.mdx","fullPath":"/consul/docs/security/acl","id":"sidebar-nav-item-248"},{"title":"Tokens","routes":[{"title":"Overview","path":"security/acl/tokens","filePath":"../content/docs/security/acl/tokens/index.mdx","fullPath":"/consul/docs/security/acl/tokens","id":"sidebar-nav-item-250"},{"title":"Create ACL Tokens","routes":[{"title":"Create a service token","path":"security/acl/tokens/create/create-a-service-token","filePath":"../content/docs/security/acl/tokens/create/create-a-service-token.mdx","fullPath":"/consul/docs/security/acl/tokens/create/create-a-service-token","id":"sidebar-nav-item-252"},{"title":"Create an agent token","path":"security/acl/tokens/create/create-an-agent-token","filePath":"../content/docs/security/acl/tokens/create/create-an-agent-token.mdx","fullPath":"/consul/docs/security/acl/tokens/create/create-an-agent-token","id":"sidebar-nav-item-253"},{"title":"Create a UI token","path":"security/acl/tokens/create/create-a-ui-token","filePath":"../content/docs/security/acl/tokens/create/create-a-ui-token.mdx","fullPath":"/consul/docs/security/acl/tokens/create/create-a-ui-token","id":"sidebar-nav-item-254"},{"title":"Create a mesh gateway token","path":"security/acl/tokens/create/create-a-mesh-gateway-token","filePath":"../content/docs/security/acl/tokens/create/create-a-mesh-gateway-token.mdx","fullPath":"/consul/docs/security/acl/tokens/create/create-a-mesh-gateway-token","id":"sidebar-nav-item-255"},{"title":"Create an ingress gateway token","path":"security/acl/tokens/create/create-an-ingress-gateway-token","filePath":"../content/docs/security/acl/tokens/create/create-an-ingress-gateway-token.mdx","fullPath":"/consul/docs/security/acl/tokens/create/create-an-ingress-gateway-token","id":"sidebar-nav-item-256"},{"title":"Create a terminating gateway token","path":"security/acl/tokens/create/create-a-terminating-gateway-token","filePath":"../content/docs/security/acl/tokens/create/create-a-terminating-gateway-token.mdx","fullPath":"/consul/docs/security/acl/tokens/create/create-a-terminating-gateway-token","id":"sidebar-nav-item-257"},{"title":"Create a DNS token","path":"security/acl/tokens/create/create-a-dns-token","filePath":"../content/docs/security/acl/tokens/create/create-a-dns-token.mdx","fullPath":"/consul/docs/security/acl/tokens/create/create-a-dns-token","id":"sidebar-nav-item-258"},{"title":"Create a replication token","path":"security/acl/tokens/create/create-a-replication-token","filePath":"../content/docs/security/acl/tokens/create/create-a-replication-token.mdx","fullPath":"/consul/docs/security/acl/tokens/create/create-a-replication-token","id":"sidebar-nav-item-259"},{"title":"Create a snapshot agent token","path":"security/acl/tokens/create/create-a-snapshot-agent-token","filePath":"../content/docs/security/acl/tokens/create/create-a-snapshot-agent-token.mdx","fullPath":"/consul/docs/security/acl/tokens/create/create-a-snapshot-agent-token","id":"sidebar-nav-item-260"},{"title":"Create a token for Vault's Consul storage backend","path":"security/acl/tokens/create/create-a-token-for-vault-consul-storage","filePath":"../content/docs/security/acl/tokens/create/create-a-token-for-vault-consul-storage.mdx","fullPath":"/consul/docs/security/acl/tokens/create/create-a-token-for-vault-consul-storage","id":"sidebar-nav-item-261"},{"title":"Create a Consul ESM token","path":"security/acl/tokens/create/create-a-consul-esm-token","filePath":"../content/docs/security/acl/tokens/create/create-a-consul-esm-token.mdx","fullPath":"/consul/docs/security/acl/tokens/create/create-a-consul-esm-token","id":"sidebar-nav-item-262"}],"id":"sidebar-nav-item-251"}],"id":"sidebar-nav-item-249"},{"title":"Policies","path":"security/acl/acl-policies","filePath":"../content/docs/security/acl/acl-policies.mdx","fullPath":"/consul/docs/security/acl/acl-policies","id":"sidebar-nav-item-263"},{"title":"Roles","path":"security/acl/acl-roles","filePath":"../content/docs/security/acl/acl-roles.mdx","fullPath":"/consul/docs/security/acl/acl-roles","id":"sidebar-nav-item-264"},{"title":"Rules Reference","path":"security/acl/acl-rules","filePath":"../content/docs/security/acl/acl-rules.mdx","fullPath":"/consul/docs/security/acl/acl-rules","id":"sidebar-nav-item-265"},{"title":"ACLs in Federated Datacenters","path":"security/acl/acl-federated-datacenters","filePath":"../content/docs/security/acl/acl-federated-datacenters.mdx","fullPath":"/consul/docs/security/acl/acl-federated-datacenters","id":"sidebar-nav-item-266"},{"title":"Auth Methods","routes":[{"title":"Overview","path":"security/acl/auth-methods","filePath":"../content/docs/security/acl/auth-methods/index.mdx","fullPath":"/consul/docs/security/acl/auth-methods","id":"sidebar-nav-item-268"},{"title":"Kubernetes","path":"security/acl/auth-methods/kubernetes","filePath":"../content/docs/security/acl/auth-methods/kubernetes.mdx","fullPath":"/consul/docs/security/acl/auth-methods/kubernetes","id":"sidebar-nav-item-269"},{"title":"JWT","path":"security/acl/auth-methods/jwt","filePath":"../content/docs/security/acl/auth-methods/jwt.mdx","fullPath":"/consul/docs/security/acl/auth-methods/jwt","id":"sidebar-nav-item-270"},{"title":"OIDC","path":"security/acl/auth-methods/oidc","filePath":"../content/docs/security/acl/auth-methods/oidc.mdx","fullPath":"/consul/docs/security/acl/auth-methods/oidc","id":"sidebar-nav-item-271"},{"title":"AWS IAM","path":"security/acl/auth-methods/aws-iam","filePath":"../content/docs/security/acl/auth-methods/aws-iam.mdx","fullPath":"/consul/docs/security/acl/auth-methods/aws-iam","id":"sidebar-nav-item-272"}],"id":"sidebar-nav-item-267"}],"id":"sidebar-nav-item-247"},{"title":"Encryption","path":"security/encryption","filePath":"../content/docs/security/encryption.mdx","fullPath":"/consul/docs/security/encryption","id":"sidebar-nav-item-273"},{"title":"Security Models","routes":[{"title":"Overview","path":"security/security-models","filePath":"../content/docs/security/security-models/index.mdx","fullPath":"/consul/docs/security/security-models","id":"sidebar-nav-item-275"},{"title":"Core","path":"security/security-models/core","filePath":"../content/docs/security/security-models/core.mdx","fullPath":"/consul/docs/security/security-models/core","id":"sidebar-nav-item-276"},{"title":"Network Infrastructure Automation","path":"security/security-models/nia","filePath":"../content/docs/security/security-models/nia.mdx","fullPath":"/consul/docs/security/security-models/nia","id":"sidebar-nav-item-277"}],"id":"sidebar-nav-item-274"}],"id":"sidebar-nav-item-245"},{"title":"Agent","routes":[{"title":"Overview","path":"agent","filePath":"../content/docs/agent/index.mdx","fullPath":"/consul/docs/agent","id":"sidebar-nav-item-279"},{"title":"Configuration","routes":[{"title":"General","path":"agent/config","filePath":"../content/docs/agent/config/index.mdx","fullPath":"/consul/docs/agent/config","id":"sidebar-nav-item-281"},{"title":"CLI Reference","path":"agent/config/cli-flags","filePath":"../content/docs/agent/config/cli-flags.mdx","fullPath":"/consul/docs/agent/config/cli-flags","id":"sidebar-nav-item-282"},{"title":"Configuration Reference","path":"agent/config/config-files","filePath":"../content/docs/agent/config/config-files.mdx","fullPath":"/consul/docs/agent/config/config-files","id":"sidebar-nav-item-283"}],"id":"sidebar-nav-item-280"},{"title":"Limit traffic rates","routes":[{"title":"Overview","path":"agent/limits","filePath":"../content/docs/agent/limits/index.mdx","fullPath":"/consul/docs/agent/limits","id":"sidebar-nav-item-285"},{"title":"Usage","routes":[{"title":"Initialize rate limit settings","path":"agent/limits/usage/init-rate-limits","filePath":"../content/docs/agent/limits/usage/init-rate-limits.mdx","fullPath":"/consul/docs/agent/limits/usage/init-rate-limits","id":"sidebar-nav-item-287"},{"title":"Monitor traffic rate limits","path":"agent/limits/usage/monitor-rate-limits","filePath":"../content/docs/agent/limits/usage/monitor-rate-limits.mdx","fullPath":"/consul/docs/agent/limits/usage/monitor-rate-limits","id":"sidebar-nav-item-288"},{"title":"Set global traffic rate limits","path":"agent/limits/usage/set-global-traffic-rate-limits","filePath":"../content/docs/agent/limits/usage/set-global-traffic-rate-limits.mdx","fullPath":"/consul/docs/agent/limits/usage/set-global-traffic-rate-limits","id":"sidebar-nav-item-289"},{"title":"Limit traffic rates from source IP addresses","path":"agent/limits/usage/limit-request-rates-from-ips","filePath":"../content/docs/agent/limits/usage/limit-request-rates-from-ips.mdx","fullPath":"/consul/docs/agent/limits/usage/limit-request-rates-from-ips","id":"sidebar-nav-item-290"}],"id":"sidebar-nav-item-286"},{"title":"Configuration","href":null,"fullPath":"/consul/docs/connect/config-entries/control-plane-request-limit","id":"sidebar-nav-item-291","path":"/docs/connect/config-entries/control-plane-request-limit"}],"id":"sidebar-nav-item-284"},{"title":"Configuration Entries","path":"agent/config-entries","filePath":"../content/docs/agent/config-entries.mdx","fullPath":"/consul/docs/agent/config-entries","id":"sidebar-nav-item-292"},{"title":"Telemetry","path":"agent/telemetry","filePath":"../content/docs/agent/telemetry.mdx","fullPath":"/consul/docs/agent/telemetry","id":"sidebar-nav-item-293"},{"title":"Sentinel","path":"agent/sentinel","filePath":"../content/docs/agent/sentinel.mdx","fullPath":"/consul/docs/agent/sentinel","id":"sidebar-nav-item-294"},{"title":"Experimental WAL LogStore","routes":[{"title":"Overview","path":"agent/wal-logstore","filePath":"../content/docs/agent/wal-logstore/index.mdx","fullPath":"/consul/docs/agent/wal-logstore","id":"sidebar-nav-item-296"},{"title":"Enable WAL LogStore backend","path":"agent/wal-logstore/enable","filePath":"../content/docs/agent/wal-logstore/enable.mdx","fullPath":"/consul/docs/agent/wal-logstore/enable","id":"sidebar-nav-item-297"},{"title":"Monitor Raft metrics and logs for WAL","path":"agent/wal-logstore/monitoring","filePath":"../content/docs/agent/wal-logstore/monitoring.mdx","fullPath":"/consul/docs/agent/wal-logstore/monitoring","id":"sidebar-nav-item-298"},{"title":"Revert to BoltDB","path":"agent/wal-logstore/revert-to-boltdb","filePath":"../content/docs/agent/wal-logstore/revert-to-boltdb.mdx","fullPath":"/consul/docs/agent/wal-logstore/revert-to-boltdb","id":"sidebar-nav-item-299"}],"id":"sidebar-nav-item-295"}],"id":"sidebar-nav-item-278"},{"title":"Integrations","routes":[{"title":"Consul Integration Program","path":"integrate/partnerships","filePath":"../content/docs/integrate/partnerships.mdx","fullPath":"/consul/docs/integrate/partnerships","id":"sidebar-nav-item-301"},{"title":"NIA Integration Program","path":"integrate/nia-integration","filePath":"../content/docs/integrate/nia-integration.mdx","fullPath":"/consul/docs/integrate/nia-integration","id":"sidebar-nav-item-302"},{"title":"Vault Integration","href":null,"fullPath":"/consul/docs/connect/ca/vault","id":"sidebar-nav-item-303","path":"/docs/connect/ca/vault"},{"title":"Proxy Integration","href":null,"fullPath":"/consul/docs/connect/proxies/integrate","id":"sidebar-nav-item-304","path":"/docs/connect/proxies/integrate"},{"title":"Consul Tools","path":"integrate/download-tools","filePath":"../content/docs/integrate/download-tools.mdx","fullPath":"/consul/docs/integrate/download-tools","id":"sidebar-nav-item-305"}],"id":"sidebar-nav-item-300"},{"title":"Troubleshoot","routes":[{"title":"Service-to-Service Troubleshooting","path":"troubleshoot/troubleshoot-services","filePath":"../content/docs/troubleshoot/troubleshoot-services.mdx","fullPath":"/consul/docs/troubleshoot/troubleshoot-services","id":"sidebar-nav-item-307"},{"title":"Common Error Messages","path":"troubleshoot/common-errors","filePath":"../content/docs/troubleshoot/common-errors.mdx","fullPath":"/consul/docs/troubleshoot/common-errors","id":"sidebar-nav-item-308"},{"title":"FAQ","path":"troubleshoot/faq","filePath":"../content/docs/troubleshoot/faq.mdx","fullPath":"/consul/docs/troubleshoot/faq","id":"sidebar-nav-item-309"}],"id":"sidebar-nav-item-306"},{"divider":true,"id":"sidebar-nav-item-310"},{"title":"Kubernetes","routes":[{"title":"Overview","path":"k8s","filePath":"../content/docs/k8s/index.mdx","fullPath":"/consul/docs/k8s","id":"sidebar-nav-item-312"},{"title":"Architecture","path":"k8s/architecture","filePath":"../content/docs/k8s/architecture.mdx","fullPath":"/consul/docs/k8s/architecture","id":"sidebar-nav-item-313"},{"title":"Installation","routes":[{"title":"Install from Consul K8s CLI","path":"k8s/installation/install-cli","filePath":"../content/docs/k8s/installation/install-cli.mdx","fullPath":"/consul/docs/k8s/installation/install-cli","id":"sidebar-nav-item-315"},{"title":"Install from Helm Chart","path":"k8s/installation/install","filePath":"../content/docs/k8s/installation/install.mdx","fullPath":"/consul/docs/k8s/installation/install","id":"sidebar-nav-item-316"}],"id":"sidebar-nav-item-314"},{"title":"Deployment Configurations","routes":[{"title":"Consul Clients Outside Kubernetes","path":"k8s/deployment-configurations/clients-outside-kubernetes","filePath":"../content/docs/k8s/deployment-configurations/clients-outside-kubernetes.mdx","fullPath":"/consul/docs/k8s/deployment-configurations/clients-outside-kubernetes","id":"sidebar-nav-item-318"},{"title":"Consul Servers Outside Kubernetes","path":"k8s/deployment-configurations/servers-outside-kubernetes","filePath":"../content/docs/k8s/deployment-configurations/servers-outside-kubernetes.mdx","fullPath":"/consul/docs/k8s/deployment-configurations/servers-outside-kubernetes","id":"sidebar-nav-item-319"},{"title":"Single Consul Datacenter in Multiple Kubernetes Clusters","path":"k8s/deployment-configurations/single-dc-multi-k8s","filePath":"../content/docs/k8s/deployment-configurations/single-dc-multi-k8s.mdx","fullPath":"/consul/docs/k8s/deployment-configurations/single-dc-multi-k8s","id":"sidebar-nav-item-320"},{"title":"Consul Enterprise","path":"k8s/deployment-configurations/consul-enterprise","filePath":"../content/docs/k8s/deployment-configurations/consul-enterprise.mdx","fullPath":"/consul/docs/k8s/deployment-configurations/consul-enterprise","id":"sidebar-nav-item-321"},{"title":"Multi-Cluster Federation","routes":[{"title":"Overview","path":"k8s/deployment-configurations/multi-cluster","filePath":"../content/docs/k8s/deployment-configurations/multi-cluster/index.mdx","fullPath":"/consul/docs/k8s/deployment-configurations/multi-cluster","id":"sidebar-nav-item-323"},{"title":"Federation Between Kubernetes Clusters","path":"k8s/deployment-configurations/multi-cluster/kubernetes","filePath":"../content/docs/k8s/deployment-configurations/multi-cluster/kubernetes.mdx","fullPath":"/consul/docs/k8s/deployment-configurations/multi-cluster/kubernetes","id":"sidebar-nav-item-324"},{"title":"Federation Between VMs and Kubernetes","path":"k8s/deployment-configurations/multi-cluster/vms-and-kubernetes","filePath":"../content/docs/k8s/deployment-configurations/multi-cluster/vms-and-kubernetes.mdx","fullPath":"/consul/docs/k8s/deployment-configurations/multi-cluster/vms-and-kubernetes","id":"sidebar-nav-item-325"}],"id":"sidebar-nav-item-322"},{"title":"Vault as Secrets Backend","routes":[{"title":"Overview","path":"k8s/deployment-configurations/vault","filePath":"../content/docs/k8s/deployment-configurations/vault/index.mdx","fullPath":"/consul/docs/k8s/deployment-configurations/vault","id":"sidebar-nav-item-327"},{"title":"Systems Integration","path":"k8s/deployment-configurations/vault/systems-integration","filePath":"../content/docs/k8s/deployment-configurations/vault/systems-integration.mdx","fullPath":"/consul/docs/k8s/deployment-configurations/vault/systems-integration","id":"sidebar-nav-item-328"},{"title":"Data Integration","routes":[{"title":"Overview","path":"k8s/deployment-configurations/vault/data-integration","filePath":"../content/docs/k8s/deployment-configurations/vault/data-integration/index.mdx","fullPath":"/consul/docs/k8s/deployment-configurations/vault/data-integration","id":"sidebar-nav-item-330"},{"title":"Bootstrap Token","path":"k8s/deployment-configurations/vault/data-integration/bootstrap-token","filePath":"../content/docs/k8s/deployment-configurations/vault/data-integration/bootstrap-token.mdx","fullPath":"/consul/docs/k8s/deployment-configurations/vault/data-integration/bootstrap-token","id":"sidebar-nav-item-331"},{"title":"Enterprise License","path":"k8s/deployment-configurations/vault/data-integration/enterprise-license","filePath":"../content/docs/k8s/deployment-configurations/vault/data-integration/enterprise-license.mdx","fullPath":"/consul/docs/k8s/deployment-configurations/vault/data-integration/enterprise-license","id":"sidebar-nav-item-332"},{"title":"Gossip Encryption Key","path":"k8s/deployment-configurations/vault/data-integration/gossip","filePath":"../content/docs/k8s/deployment-configurations/vault/data-integration/gossip.mdx","fullPath":"/consul/docs/k8s/deployment-configurations/vault/data-integration/gossip","id":"sidebar-nav-item-333"},{"title":"Partition Token","path":"k8s/deployment-configurations/vault/data-integration/partition-token","filePath":"../content/docs/k8s/deployment-configurations/vault/data-integration/partition-token.mdx","fullPath":"/consul/docs/k8s/deployment-configurations/vault/data-integration/partition-token","id":"sidebar-nav-item-334"},{"title":"Replication Token","path":"k8s/deployment-configurations/vault/data-integration/replication-token","filePath":"../content/docs/k8s/deployment-configurations/vault/data-integration/replication-token.mdx","fullPath":"/consul/docs/k8s/deployment-configurations/vault/data-integration/replication-token","id":"sidebar-nav-item-335"},{"title":"Server TLS","path":"k8s/deployment-configurations/vault/data-integration/server-tls","filePath":"../content/docs/k8s/deployment-configurations/vault/data-integration/server-tls.mdx","fullPath":"/consul/docs/k8s/deployment-configurations/vault/data-integration/server-tls","id":"sidebar-nav-item-336"},{"title":"Service Mesh Certificates","path":"k8s/deployment-configurations/vault/data-integration/connect-ca","filePath":"../content/docs/k8s/deployment-configurations/vault/data-integration/connect-ca.mdx","fullPath":"/consul/docs/k8s/deployment-configurations/vault/data-integration/connect-ca","id":"sidebar-nav-item-337"},{"title":"Snapshot Agent Config","path":"k8s/deployment-configurations/vault/data-integration/snapshot-agent-config","filePath":"../content/docs/k8s/deployment-configurations/vault/data-integration/snapshot-agent-config.mdx","fullPath":"/consul/docs/k8s/deployment-configurations/vault/data-integration/snapshot-agent-config","id":"sidebar-nav-item-338"},{"title":"Webhook Certificates","path":"k8s/deployment-configurations/vault/data-integration/webhook-certs","filePath":"../content/docs/k8s/deployment-configurations/vault/data-integration/webhook-certs.mdx","fullPath":"/consul/docs/k8s/deployment-configurations/vault/data-integration/webhook-certs","id":"sidebar-nav-item-339"}],"id":"sidebar-nav-item-329"},{"title":"WAN Federation","path":"k8s/deployment-configurations/vault/wan-federation","filePath":"../content/docs/k8s/deployment-configurations/vault/wan-federation.mdx","fullPath":"/consul/docs/k8s/deployment-configurations/vault/wan-federation","id":"sidebar-nav-item-340"}],"id":"sidebar-nav-item-326"},{"title":"Datadog metrics","path":"k8s/deployment-configurations/datadog","filePath":"../content/docs/k8s/deployment-configurations/datadog.mdx","fullPath":"/consul/docs/k8s/deployment-configurations/datadog","id":"sidebar-nav-item-341"}],"id":"sidebar-nav-item-317"},{"title":"Platform Guides","routes":[{"title":"Minikube","href":"https://learn.hashicorp.com/tutorials/consul/kubernetes-minikube?utm_source=consul.io&utm_medium=docs&utm_content=k8s&utm_term=mk","id":"sidebar-nav-item-343"},{"title":"Kind","href":"https://learn.hashicorp.com/tutorials/consul/kubernetes-kind?utm_source=consul.io&utm_medium=docs&utm_content=k8s&utm_term=kind","id":"sidebar-nav-item-344"},{"title":"AKS (Azure)","href":"https://learn.hashicorp.com/tutorials/consul/kubernetes-aks-azure?utm_source=consul.io&utm_medium=docs&utm_content=k8s&utm_term=aks","id":"sidebar-nav-item-345"},{"title":"EKS (AWS)","href":"https://learn.hashicorp.com/tutorials/consul/kubernetes-eks-aws?utm_source=consul.io&utm_medium=docs&utm_content=k8s&utm_term=eks","id":"sidebar-nav-item-346"},{"title":"GKE (Google Cloud)","href":"https://learn.hashicorp.com/tutorials/consul/kubernetes-gke-google?utm_source=consul.io&utm_medium=docs&utm_content=k8s&utm_term=gke","id":"sidebar-nav-item-347"},{"title":"Red Hat OpenShift","href":"https://learn.hashicorp.com/tutorials/consul/kubernetes-openshift-red-hat?utm_source=consul.io&utm_medium=docs&utm_content=k8s&utm_term=openshift","id":"sidebar-nav-item-348"},{"title":"Self Hosted Kubernetes","path":"k8s/platforms/self-hosted-kubernetes","filePath":"../content/docs/k8s/platforms/self-hosted-kubernetes.mdx","fullPath":"/consul/docs/k8s/platforms/self-hosted-kubernetes","id":"sidebar-nav-item-349"}],"id":"sidebar-nav-item-342"},{"title":"Service Mesh","routes":[{"title":"Overview","path":"k8s/connect","filePath":"../content/docs/k8s/connect/index.mdx","fullPath":"/consul/docs/k8s/connect","id":"sidebar-nav-item-351"},{"title":"Admin Partitions","href":null,"fullPath":"/consul/docs/enterprise/admin-partitions","id":"sidebar-nav-item-352","path":"/docs/enterprise/admin-partitions"},{"title":"Cluster Peering","routes":[{"title":"Technical Specifications","path":"k8s/connect/cluster-peering/tech-specs","filePath":"../content/docs/k8s/connect/cluster-peering/tech-specs.mdx","fullPath":"/consul/docs/k8s/connect/cluster-peering/tech-specs","id":"sidebar-nav-item-354"},{"title":"Usage","routes":[{"title":"Establish Cluster Peering Connections","path":"k8s/connect/cluster-peering/usage/establish-peering","filePath":"../content/docs/k8s/connect/cluster-peering/usage/establish-peering.mdx","fullPath":"/consul/docs/k8s/connect/cluster-peering/usage/establish-peering","id":"sidebar-nav-item-356"},{"title":"Manage Cluster Peering Connections","path":"k8s/connect/cluster-peering/usage/manage-peering","filePath":"../content/docs/k8s/connect/cluster-peering/usage/manage-peering.mdx","fullPath":"/consul/docs/k8s/connect/cluster-peering/usage/manage-peering","id":"sidebar-nav-item-357"},{"title":"Manage L7 Traffic With Cluster Peering","path":"k8s/connect/cluster-peering/usage/l7-traffic","filePath":"../content/docs/k8s/connect/cluster-peering/usage/l7-traffic.mdx","fullPath":"/consul/docs/k8s/connect/cluster-peering/usage/l7-traffic","id":"sidebar-nav-item-358"},{"title":"Create Sameness Groups","path":"k8s/connect/cluster-peering/usage/create-sameness-groups","filePath":"../content/docs/k8s/connect/cluster-peering/usage/create-sameness-groups.mdx","fullPath":"/consul/docs/k8s/connect/cluster-peering/usage/create-sameness-groups","id":"sidebar-nav-item-359"}],"id":"sidebar-nav-item-355"}],"id":"sidebar-nav-item-353"},{"title":"Transparent Proxy","routes":[{"title":"Overview","path":"k8s/connect/transparent-proxy","filePath":"../content/docs/k8s/connect/transparent-proxy/index.mdx","fullPath":"/consul/docs/k8s/connect/transparent-proxy","id":"sidebar-nav-item-361"},{"title":"Enable transparent proxy","path":"k8s/connect/transparent-proxy/enable-transparent-proxy","filePath":"../content/docs/k8s/connect/transparent-proxy/enable-transparent-proxy.mdx","fullPath":"/consul/docs/k8s/connect/transparent-proxy/enable-transparent-proxy","id":"sidebar-nav-item-362"},{"title":"Route traffic to virtual services","href":null,"fullPath":"/consul/docs/k8s/l7-traffic/route-to-virtual-services","id":"sidebar-nav-item-363","path":"/docs/k8s/l7-traffic/route-to-virtual-services"}],"id":"sidebar-nav-item-360"},{"title":"Onboarding services in transparent proxy mode","path":"k8s/connect/onboarding-tproxy-mode","filePath":"../content/docs/k8s/connect/onboarding-tproxy-mode.mdx","fullPath":"/consul/docs/k8s/connect/onboarding-tproxy-mode","id":"sidebar-nav-item-364"},{"title":"Ingress Gateways","path":"k8s/connect/ingress-gateways","filePath":"../content/docs/k8s/connect/ingress-gateways.mdx","fullPath":"/consul/docs/k8s/connect/ingress-gateways","id":"sidebar-nav-item-365"},{"title":"Terminating Gateways","path":"k8s/connect/terminating-gateways","filePath":"../content/docs/k8s/connect/terminating-gateways.mdx","fullPath":"/consul/docs/k8s/connect/terminating-gateways","id":"sidebar-nav-item-366"},{"title":"Ingress Controllers","path":"k8s/connect/ingress-controllers","filePath":"../content/docs/k8s/connect/ingress-controllers.mdx","fullPath":"/consul/docs/k8s/connect/ingress-controllers","id":"sidebar-nav-item-367"},{"title":"Configuring a Connect CA Provider","path":"k8s/connect/connect-ca-provider","filePath":"../content/docs/k8s/connect/connect-ca-provider.mdx","fullPath":"/consul/docs/k8s/connect/connect-ca-provider","id":"sidebar-nav-item-368"},{"title":"Health Checks","path":"k8s/connect/health","filePath":"../content/docs/k8s/connect/health.mdx","fullPath":"/consul/docs/k8s/connect/health","id":"sidebar-nav-item-369"},{"title":"Observability","routes":[{"title":"Metrics","path":"k8s/connect/observability/metrics","filePath":"../content/docs/k8s/connect/observability/metrics.mdx","fullPath":"/consul/docs/k8s/connect/observability/metrics","id":"sidebar-nav-item-371"}],"id":"sidebar-nav-item-370"}],"id":"sidebar-nav-item-350"},{"title":"V2 Catalog API","routes":[{"title":"Overview","path":"k8s/multiport","filePath":"../content/docs/k8s/multiport/index.mdx","fullPath":"/consul/docs/k8s/multiport","id":"sidebar-nav-item-373"},{"title":"Configure multi-port services","path":"k8s/multiport/configure","filePath":"../content/docs/k8s/multiport/configure.mdx","fullPath":"/consul/docs/k8s/multiport/configure","id":"sidebar-nav-item-374"},{"title":"Split TCP traffic between multiple ports","path":"k8s/multiport/traffic-split","filePath":"../content/docs/k8s/multiport/traffic-split.mdx","fullPath":"/consul/docs/k8s/multiport/traffic-split","id":"sidebar-nav-item-375"},{"title":"Reference","routes":[{"title":"GRPCRoute resource","path":"k8s/multiport/reference/grpcroute","filePath":"../content/docs/k8s/multiport/reference/grpcroute.mdx","fullPath":"/consul/docs/k8s/multiport/reference/grpcroute","id":"sidebar-nav-item-377"},{"title":"HTTPRoute resource","path":"k8s/multiport/reference/httproute","filePath":"../content/docs/k8s/multiport/reference/httproute.mdx","fullPath":"/consul/docs/k8s/multiport/reference/httproute","id":"sidebar-nav-item-378"},{"title":"ProxyConfiguration resource","path":"k8s/multiport/reference/proxyconfiguration","filePath":"../content/docs/k8s/multiport/reference/proxyconfiguration.mdx","fullPath":"/consul/docs/k8s/multiport/reference/proxyconfiguration","id":"sidebar-nav-item-379"},{"title":"TCPRoute resource","path":"k8s/multiport/reference/tcproute","filePath":"../content/docs/k8s/multiport/reference/tcproute.mdx","fullPath":"/consul/docs/k8s/multiport/reference/tcproute","id":"sidebar-nav-item-380"},{"title":"TrafficPermissions resource","path":"k8s/multiport/reference/trafficpermissions","filePath":"../content/docs/k8s/multiport/reference/trafficpermissions.mdx","fullPath":"/consul/docs/k8s/multiport/reference/trafficpermissions","id":"sidebar-nav-item-381"}],"id":"sidebar-nav-item-376"}],"id":"sidebar-nav-item-372"},{"title":"L7 traffic management","routes":[{"title":"Overview","href":null,"fullPath":"/consul/docs/connect/manage-traffic","id":"sidebar-nav-item-383","path":"/docs/connect/manage-traffic"},{"title":"Configure failover services","path":"k8s/l7-traffic/failover-tproxy","filePath":"../content/docs/k8s/l7-traffic/failover-tproxy.mdx","fullPath":"/consul/docs/k8s/l7-traffic/failover-tproxy","id":"sidebar-nav-item-384"},{"title":"Route traffic to virtual services","path":"k8s/l7-traffic/route-to-virtual-services","filePath":"../content/docs/k8s/l7-traffic/route-to-virtual-services.mdx","fullPath":"/consul/docs/k8s/l7-traffic/route-to-virtual-services","id":"sidebar-nav-item-385"}],"id":"sidebar-nav-item-382"},{"title":"Service Sync","path":"k8s/service-sync","filePath":"../content/docs/k8s/service-sync.mdx","fullPath":"/consul/docs/k8s/service-sync","id":"sidebar-nav-item-386"},{"title":"Custom Resource Definitions","routes":[{"title":"Overview","path":"k8s/crds","filePath":"../content/docs/k8s/crds/index.mdx","fullPath":"/consul/docs/k8s/crds","id":"sidebar-nav-item-388"},{"title":"Upgrade An Existing Cluster to CRDs","path":"k8s/crds/upgrade-to-crds","filePath":"../content/docs/k8s/crds/upgrade-to-crds.mdx","fullPath":"/consul/docs/k8s/crds/upgrade-to-crds","id":"sidebar-nav-item-389"}],"id":"sidebar-nav-item-387"},{"title":"Annotations and Labels","path":"k8s/annotations-and-labels","filePath":"../content/docs/k8s/annotations-and-labels.mdx","fullPath":"/consul/docs/k8s/annotations-and-labels","id":"sidebar-nav-item-390"},{"title":"Consul DNS","path":"k8s/dns","filePath":"../content/docs/k8s/dns.mdx","fullPath":"/consul/docs/k8s/dns","id":"sidebar-nav-item-391"},{"title":"Upgrade","routes":[{"title":"Upgrading Consul on Kubernetes","path":"k8s/upgrade","filePath":"../content/docs/k8s/upgrade/index.mdx","fullPath":"/consul/docs/k8s/upgrade","id":"sidebar-nav-item-393"},{"title":"Upgrading Consul K8s CLI","path":"k8s/upgrade/upgrade-cli","filePath":"../content/docs/k8s/upgrade/upgrade-cli.mdx","fullPath":"/consul/docs/k8s/upgrade/upgrade-cli","id":"sidebar-nav-item-394"}],"id":"sidebar-nav-item-392"},{"title":"Consul Dataplane","routes":[{"title":"Overview","href":null,"fullPath":"/consul/docs/connect/dataplane","id":"sidebar-nav-item-396","path":"/docs/connect/dataplane"},{"title":"CLI Reference","href":null,"fullPath":"/consul/docs/connect/dataplane/consul-dataplane","id":"sidebar-nav-item-397","path":"/docs/connect/dataplane/consul-dataplane"}],"id":"sidebar-nav-item-395"},{"title":"Operations","routes":[{"title":"Uninstall","path":"k8s/operations/uninstall","filePath":"../content/docs/k8s/operations/uninstall.mdx","fullPath":"/consul/docs/k8s/operations/uninstall","id":"sidebar-nav-item-399"},{"title":"Certificate Rotation","path":"k8s/operations/certificate-rotation","filePath":"../content/docs/k8s/operations/certificate-rotation.mdx","fullPath":"/consul/docs/k8s/operations/certificate-rotation","id":"sidebar-nav-item-400"},{"title":"Gossip Encryption Key Rotation","path":"k8s/operations/gossip-encryption-key-rotation","filePath":"../content/docs/k8s/operations/gossip-encryption-key-rotation.mdx","fullPath":"/consul/docs/k8s/operations/gossip-encryption-key-rotation","id":"sidebar-nav-item-401"},{"title":"Configure TLS on an Existing Cluster","path":"k8s/operations/tls-on-existing-cluster","filePath":"../content/docs/k8s/operations/tls-on-existing-cluster.mdx","fullPath":"/consul/docs/k8s/operations/tls-on-existing-cluster","id":"sidebar-nav-item-402"}],"id":"sidebar-nav-item-398"},{"title":"Troubleshoot","routes":[{"title":"Common Error Messages","href":null,"fullPath":"/consul/docs/troubleshoot/common-errors#common-errors-on-kubernetes","id":"sidebar-nav-item-404","path":"/docs/troubleshoot/common-errors#common-errors-on-kubernetes"},{"title":"FAQ","href":null,"fullPath":"/consul/docs/troubleshoot/faq#consul-on-kubernetes","id":"sidebar-nav-item-405","path":"/docs/troubleshoot/faq#consul-on-kubernetes"}],"id":"sidebar-nav-item-403"},{"title":"Compatibility Matrix","path":"k8s/compatibility","filePath":"../content/docs/k8s/compatibility.mdx","fullPath":"/consul/docs/k8s/compatibility","id":"sidebar-nav-item-406"},{"title":"Helm Chart Configuration","path":"k8s/helm","filePath":"../content/docs/k8s/helm.mdx","fullPath":"/consul/docs/k8s/helm","id":"sidebar-nav-item-407"},{"title":"Consul K8s CLI Reference","path":"k8s/k8s-cli","filePath":"../content/docs/k8s/k8s-cli.mdx","fullPath":"/consul/docs/k8s/k8s-cli","id":"sidebar-nav-item-408"}],"id":"sidebar-nav-item-311"},{"title":"Nomad","path":"nomad","filePath":"../content/docs/nomad/index.mdx","fullPath":"/consul/docs/nomad","id":"sidebar-nav-item-409"},{"title":"AWS ECS","routes":[{"title":"Overview","path":"ecs","filePath":"../content/docs/ecs/index.mdx","fullPath":"/consul/docs/ecs","id":"sidebar-nav-item-411"},{"title":"Architecture","path":"ecs/architecture","filePath":"../content/docs/ecs/architecture.mdx","fullPath":"/consul/docs/ecs/architecture","id":"sidebar-nav-item-412"},{"title":"Technical specifications","path":"ecs/tech-specs","filePath":"../content/docs/ecs/tech-specs.mdx","fullPath":"/consul/docs/ecs/tech-specs","id":"sidebar-nav-item-413"},{"title":"Deploy Consul to ECS","routes":[{"title":"Deploy using the Terraform module","path":"ecs/deploy/terraform","filePath":"../content/docs/ecs/deploy/terraform.mdx","fullPath":"/consul/docs/ecs/deploy/terraform","id":"sidebar-nav-item-415"},{"title":"Deploy manually","path":"ecs/deploy/manual","filePath":"../content/docs/ecs/deploy/manual.mdx","fullPath":"/consul/docs/ecs/deploy/manual","id":"sidebar-nav-item-416"},{"title":"Configure the ECS task bind address","path":"ecs/deploy/bind-addresses","filePath":"../content/docs/ecs/deploy/bind-addresses.mdx","fullPath":"/consul/docs/ecs/deploy/bind-addresses","id":"sidebar-nav-item-417"},{"title":"Configure routes between ECS tasks","path":"ecs/deploy/configure-routes","filePath":"../content/docs/ecs/deploy/configure-routes.mdx","fullPath":"/consul/docs/ecs/deploy/configure-routes","id":"sidebar-nav-item-418"},{"title":"Migrate existing tasks","path":"ecs/deploy/migrate-existing-tasks","filePath":"../content/docs/ecs/deploy/migrate-existing-tasks.mdx","fullPath":"/consul/docs/ecs/deploy/migrate-existing-tasks","id":"sidebar-nav-item-419"}],"id":"sidebar-nav-item-414"},{"title":"Upgrade to Consul dataplane architecture","path":"ecs/upgrade-to-dataplanes","filePath":"../content/docs/ecs/upgrade-to-dataplanes.mdx","fullPath":"/consul/docs/ecs/upgrade-to-dataplanes","id":"sidebar-nav-item-420"},{"title":"Consul Enterprise","path":"ecs/enterprise","filePath":"../content/docs/ecs/enterprise.mdx","fullPath":"/consul/docs/ecs/enterprise","id":"sidebar-nav-item-421"},{"title":"Reference","routes":[{"title":"ECS configuration reference","path":"ecs/reference/configuration-reference","filePath":"../content/docs/ecs/reference/configuration-reference.mdx","fullPath":"/consul/docs/ecs/reference/configuration-reference","id":"sidebar-nav-item-423"},{"title":"ECS compatibility matrix","path":"ecs/reference/compatibility","filePath":"../content/docs/ecs/reference/compatibility.mdx","fullPath":"/consul/docs/ecs/reference/compatibility","id":"sidebar-nav-item-424"},{"title":"ECS Consul server JSON schema","path":"ecs/reference/consul-server-json","filePath":"../content/docs/ecs/reference/consul-server-json.mdx","fullPath":"/consul/docs/ecs/reference/consul-server-json","id":"sidebar-nav-item-425"}],"id":"sidebar-nav-item-422"}],"id":"sidebar-nav-item-410"},{"title":"AWS Lambda","routes":[{"title":"Overview","path":"lambda","filePath":"../content/docs/lambda/index.mdx","fullPath":"/consul/docs/lambda","id":"sidebar-nav-item-427"},{"title":"Register Lambda Functions","routes":[{"title":"Requirements","path":"lambda/registration","filePath":"../content/docs/lambda/registration/index.mdx","fullPath":"/consul/docs/lambda/registration","id":"sidebar-nav-item-429"},{"title":"Automate Registration","path":"lambda/registration/automate","filePath":"../content/docs/lambda/registration/automate.mdx","fullPath":"/consul/docs/lambda/registration/automate","id":"sidebar-nav-item-430"},{"title":"Manual Registration","path":"lambda/registration/manual","filePath":"../content/docs/lambda/registration/manual.mdx","fullPath":"/consul/docs/lambda/registration/manual","id":"sidebar-nav-item-431"}],"id":"sidebar-nav-item-428"},{"title":"Invoke Lambda Functions from Services","path":"lambda/invocation","filePath":"../content/docs/lambda/invocation.mdx","fullPath":"/consul/docs/lambda/invocation","id":"sidebar-nav-item-432"},{"title":"Invoke Services from Lambda Functions","path":"lambda/invoke-from-lambda","badge":{"text":"BETA","type":"outlined","color":"neutral"},"filePath":"../content/docs/lambda/invoke-from-lambda.mdx","fullPath":"/consul/docs/lambda/invoke-from-lambda","id":"sidebar-nav-item-433"}],"id":"sidebar-nav-item-426"},{"divider":true,"id":"sidebar-nav-item-434"},{"title":"HCP Consul","href":"/hcp/docs/consul","id":"sidebar-nav-item-435"},{"title":"Consul Enterprise","routes":[{"title":"Overview","path":"enterprise","filePath":"../content/docs/enterprise/index.mdx","fullPath":"/consul/docs/enterprise","id":"sidebar-nav-item-437"},{"title":"Long Term Support (LTS)","path":"enterprise/long-term-support","filePath":"../content/docs/enterprise/long-term-support.mdx","fullPath":"/consul/docs/enterprise/long-term-support","id":"sidebar-nav-item-438"},{"title":"Admin Partitions","path":"enterprise/admin-partitions","filePath":"../content/docs/enterprise/admin-partitions.mdx","fullPath":"/consul/docs/enterprise/admin-partitions","id":"sidebar-nav-item-439"},{"title":"Audit Logging","path":"enterprise/audit-logging","filePath":"../content/docs/enterprise/audit-logging.mdx","fullPath":"/consul/docs/enterprise/audit-logging","id":"sidebar-nav-item-440"},{"title":"Automated Backups","path":"enterprise/backups","filePath":"../content/docs/enterprise/backups.mdx","fullPath":"/consul/docs/enterprise/backups","id":"sidebar-nav-item-441"},{"title":"Automated Upgrades","path":"enterprise/upgrades","filePath":"../content/docs/enterprise/upgrades.mdx","fullPath":"/consul/docs/enterprise/upgrades","id":"sidebar-nav-item-442"},{"title":"Enhanced Read Scalability","path":"enterprise/read-scale","filePath":"../content/docs/enterprise/read-scale.mdx","fullPath":"/consul/docs/enterprise/read-scale","id":"sidebar-nav-item-443"},{"title":"Fault injection","href":null,"fullPath":"/consul/docs/connect/manage-traffic/fault-injection","id":"sidebar-nav-item-444","path":"/docs/connect/manage-traffic/fault-injection"},{"title":"FIPS","path":"enterprise/fips","filePath":"../content/docs/enterprise/fips.mdx","fullPath":"/consul/docs/enterprise/fips","id":"sidebar-nav-item-445"},{"title":"Single sign-on - OIDC","href":null,"fullPath":"/consul/docs/security/acl/auth-methods/oidc","id":"sidebar-nav-item-446","path":"/docs/security/acl/auth-methods/oidc"},{"title":"Redundancy Zones","path":"enterprise/redundancy","filePath":"../content/docs/enterprise/redundancy.mdx","fullPath":"/consul/docs/enterprise/redundancy","id":"sidebar-nav-item-447"},{"title":"Advanced Federation","path":"enterprise/federation","filePath":"../content/docs/enterprise/federation.mdx","fullPath":"/consul/docs/enterprise/federation","id":"sidebar-nav-item-448"},{"title":"Network Segments","routes":[{"title":"Network Segments Overview","path":"enterprise/network-segments/network-segments-overview","filePath":"../content/docs/enterprise/network-segments/network-segments-overview.mdx","fullPath":"/consul/docs/enterprise/network-segments/network-segments-overview","id":"sidebar-nav-item-450"},{"title":"Create a Network Segment","path":"enterprise/network-segments/create-network-segment","filePath":"../content/docs/enterprise/network-segments/create-network-segment.mdx","fullPath":"/consul/docs/enterprise/network-segments/create-network-segment","id":"sidebar-nav-item-451"}],"id":"sidebar-nav-item-449"},{"title":"Namespaces","path":"enterprise/namespaces","filePath":"../content/docs/enterprise/namespaces.mdx","fullPath":"/consul/docs/enterprise/namespaces","id":"sidebar-nav-item-452"},{"title":"NIA with TFE","href":null,"fullPath":"/consul/docs/nia/enterprise","id":"sidebar-nav-item-453","path":"/docs/nia/enterprise"},{"title":"License","routes":[{"title":"Overview","path":"enterprise/license/overview","filePath":"../content/docs/enterprise/license/overview.mdx","fullPath":"/consul/docs/enterprise/license/overview","id":"sidebar-nav-item-455"},{"title":"Automated entitlement utilization reporting","path":"enterprise/license/utilization-reporting","filePath":"../content/docs/enterprise/license/utilization-reporting.mdx","fullPath":"/consul/docs/enterprise/license/utilization-reporting","id":"sidebar-nav-item-456"},{"title":"FAQ","path":"enterprise/license/faq","filePath":"../content/docs/enterprise/license/faq.mdx","fullPath":"/consul/docs/enterprise/license/faq","id":"sidebar-nav-item-457"}],"id":"sidebar-nav-item-454"},{"title":"Enterprise to CE downgrade","path":"enterprise/ent-to-ce-downgrades","filePath":"../content/docs/enterprise/ent-to-ce-downgrades.mdx","fullPath":"/consul/docs/enterprise/ent-to-ce-downgrades","id":"sidebar-nav-item-458"}],"id":"sidebar-nav-item-436"},{"divider":true,"id":"sidebar-nav-item-459"},{"title":"Network Infrastructure Automation","routes":[{"title":"Overview","path":"nia","filePath":"../content/docs/nia/index.mdx","fullPath":"/consul/docs/nia","id":"sidebar-nav-item-461"},{"title":"Get Started","routes":[{"title":"Installation","path":"nia/installation/install","filePath":"../content/docs/nia/installation/install.mdx","fullPath":"/consul/docs/nia/installation/install","id":"sidebar-nav-item-463"},{"title":"Configuration","path":"nia/installation/configure","filePath":"../content/docs/nia/installation/configure.mdx","fullPath":"/consul/docs/nia/installation/configure","id":"sidebar-nav-item-464"}],"id":"sidebar-nav-item-462"},{"title":"Usage","routes":[{"title":"Requirements","path":"nia/usage/requirements","filePath":"../content/docs/nia/usage/requirements.mdx","fullPath":"/consul/docs/nia/usage/requirements","id":"sidebar-nav-item-466"},{"title":"Run Consul-Terraform-Sync","path":"nia/usage/run","filePath":"../content/docs/nia/usage/run.mdx","fullPath":"/consul/docs/nia/usage/run","id":"sidebar-nav-item-467"},{"title":"Run Consul-Terraform-Sync with High Availability","path":"nia/usage/run-ha","filePath":"../content/docs/nia/usage/run-ha.mdx","fullPath":"/consul/docs/nia/usage/run-ha","id":"sidebar-nav-item-468"},{"title":"Error Messages","path":"nia/usage/errors-ref","filePath":"../content/docs/nia/usage/errors-ref.mdx","fullPath":"/consul/docs/nia/usage/errors-ref","id":"sidebar-nav-item-469"}],"id":"sidebar-nav-item-465"},{"title":"Architecture","path":"nia/architecture","filePath":"../content/docs/nia/architecture.mdx","fullPath":"/consul/docs/nia/architecture","id":"sidebar-nav-item-470"},{"title":"API","routes":[{"title":"Overview","path":"nia/api","filePath":"../content/docs/nia/api/index.mdx","fullPath":"/consul/docs/nia/api","id":"sidebar-nav-item-472"},{"title":"Status","path":"nia/api/status","filePath":"../content/docs/nia/api/status.mdx","fullPath":"/consul/docs/nia/api/status","id":"sidebar-nav-item-473"},{"title":"Tasks","path":"nia/api/tasks","filePath":"../content/docs/nia/api/tasks.mdx","fullPath":"/consul/docs/nia/api/tasks","id":"sidebar-nav-item-474"},{"title":"Health","path":"nia/api/health","filePath":"../content/docs/nia/api/health.mdx","fullPath":"/consul/docs/nia/api/health","id":"sidebar-nav-item-475"}],"id":"sidebar-nav-item-471"},{"title":"CLI","routes":[{"title":"Overview","path":"nia/cli","filePath":"../content/docs/nia/cli/index.mdx","fullPath":"/consul/docs/nia/cli","id":"sidebar-nav-item-477"},{"title":"task","path":"nia/cli/task","filePath":"../content/docs/nia/cli/task.mdx","fullPath":"/consul/docs/nia/cli/task","id":"sidebar-nav-item-478"},{"title":"start","path":"nia/cli/start","filePath":"../content/docs/nia/cli/start.mdx","fullPath":"/consul/docs/nia/cli/start","id":"sidebar-nav-item-479"}],"id":"sidebar-nav-item-476"},{"title":"Configuration","path":"nia/configuration","filePath":"../content/docs/nia/configuration.mdx","fullPath":"/consul/docs/nia/configuration","id":"sidebar-nav-item-480"},{"title":"Tasks","path":"nia/tasks","filePath":"../content/docs/nia/tasks.mdx","fullPath":"/consul/docs/nia/tasks","id":"sidebar-nav-item-481"},{"title":"Terraform Modules","path":"nia/terraform-modules","filePath":"../content/docs/nia/terraform-modules.mdx","fullPath":"/consul/docs/nia/terraform-modules","id":"sidebar-nav-item-482"},{"title":"Enterprise","routes":[{"title":"Overview","path":"nia/enterprise","filePath":"../content/docs/nia/enterprise/index.mdx","fullPath":"/consul/docs/nia/enterprise","id":"sidebar-nav-item-484"},{"title":"License","path":"nia/enterprise/license","filePath":"../content/docs/nia/enterprise/license.mdx","fullPath":"/consul/docs/nia/enterprise/license","id":"sidebar-nav-item-485"},{"title":"Terraform Cloud Driver","href":null,"fullPath":"/consul/docs/nia/network-drivers/terraform-cloud","id":"sidebar-nav-item-486","path":"/docs/nia/network-drivers/terraform-cloud"}],"id":"sidebar-nav-item-483"},{"title":"Network Drivers","routes":[{"title":"Overview","path":"nia/network-drivers","filePath":"../content/docs/nia/network-drivers/index.mdx","fullPath":"/consul/docs/nia/network-drivers","id":"sidebar-nav-item-488"},{"title":"Terraform","path":"nia/network-drivers/terraform","filePath":"../content/docs/nia/network-drivers/terraform.mdx","fullPath":"/consul/docs/nia/network-drivers/terraform","id":"sidebar-nav-item-489"},{"title":"Terraform Cloud","path":"nia/network-drivers/terraform-cloud","filePath":"../content/docs/nia/network-drivers/terraform-cloud.mdx","fullPath":"/consul/docs/nia/network-drivers/terraform-cloud","id":"sidebar-nav-item-490"}],"id":"sidebar-nav-item-487"},{"title":"Compatibility","path":"nia/compatibility","filePath":"../content/docs/nia/compatibility.mdx","fullPath":"/consul/docs/nia/compatibility","id":"sidebar-nav-item-491"}],"id":"sidebar-nav-item-460"}],"title":"Documentation","visuallyHideTitle":true}],"mainWidth":"narrow","githubFileUrl":"https://github.com/hashicorp/consul/blob/main/website/../content/docs/connect/observability/ui-visualization.mdx"},"metadata":{"title":"Service Mesh Observability - UI Visualization","description":"Consul's UI can display a service's topology and associated metrics from the service mesh. Learn how to configure the UI to collect metrics from your metrics provider, modify access for metrics proxies, and integrate custom metrics providers.","layout":null},"outlineItems":[{"title":"Service Mesh Observability: UI Visualization","url":"#service-mesh-observability-ui-visualization","dataHeapTrack":"toc-list-item-index-0"},{"title":"Kubernetes","url":"#kubernetes","dataHeapTrack":"toc-list-item-index-1"},{"title":"Configuring the UI To Display Metrics","url":"#configuring-the-ui-to-display-metrics","dataHeapTrack":"toc-list-item-index-2"},{"title":"Configuring Dashboard URLs","url":"#configuring-dashboard-urls","dataHeapTrack":"toc-list-item-index-3"},{"title":"Custom Metrics Providers","url":"#custom-metrics-providers","dataHeapTrack":"toc-list-item-index-4"},{"title":"Current Limitations","url":"#current-limitations","dataHeapTrack":"toc-list-item-index-5"}],"pageHeading":{"id":"service-mesh-observability-ui-visualization","title":"Service Mesh Observability: UI Visualization"},"mdxSource":{"compiledSource":"var d=Object.defineProperty,l=Object.defineProperties;var N=Object.getOwnPropertyDescriptors;var o=Object.getOwnPropertySymbols;var p=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;var m=(a,n,s)=>n in a?d(a,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[n]=s,e=(a,n)=>{for(var s in n||(n={}))p.call(n,s)&&m(a,s,n[s]);if(o)for(var s of o(n))c.call(n,s)&&m(a,s,n[s]);return a},r=(a,n)=>l(a,N(n));var i=(a,n)=>{var s={};for(var t in a)p.call(a,t)&&n.indexOf(t)<0&&(s[t]=a[t]);if(a!=null&&o)for(var t of o(a))n.indexOf(t)<0&&c.call(a,t)&&(s[t]=a[t]);return s};const makeShortcode=a=>function(s){return console.warn(\"Component \"+a+\" was not imported, exported, or provided by MDXProvider as global scope\"),mdx(\"div\",e({},s))},CodeTabs=makeShortcode(\"CodeTabs\"),CodeBlockConfig=makeShortcode(\"CodeBlockConfig\"),Tabs=makeShortcode(\"Tabs\"),Tab=makeShortcode(\"Tab\"),layoutProps={},MDXLayout=\"wrapper\";function MDXContent(s){var t=s,{components:a}=t,n=i(t,[\"components\"]);return mdx(MDXLayout,r(e(e({},layoutProps),n),{components:a,mdxType:\"MDXLayout\"}),mdx(\"div\",e({},{className:\"alert alert-info g-type-body\"}),mdx(\"p\",{parentName:\"div\"},'Coming here from \"Configure metrics dashboard\" or \"Configure dashboard\"? See ',mdx(\"a\",e({parentName:\"p\"},{href:\"#configuring-dashboard-urls\"}),\"Configuring Dashboard URLs\"),\".\")),mdx(\"p\",null,`Since Consul 1.9.0, Consul's built in UI includes a topology visualization to\nshow a service's immediate connectivity at a glance. It is not intended as a\nreplacement for dedicated monitoring solutions, but rather as a quick overview\nof the state of a service and its connections within the Service Mesh.`),mdx(\"p\",null,\"The topology visualization requires services to be using \",mdx(\"a\",e({parentName:\"p\"},{href:\"/consul/docs/connect\"}),\"service mesh\"),\" via \",mdx(\"a\",e({parentName:\"p\"},{href:\"/consul/docs/connect/proxies\"}),\"sidecar proxies\"),\".\"),mdx(\"p\",null,`The visualization may optionally be configured to include a link to an external\nper-service dashboard. This is designed to provide convenient deep links to your\nexisting monitoring or Application Performance Monitoring (APM) solution for\neach service. More information can be found in `,mdx(\"a\",e({parentName:\"p\"},{href:\"#configuring-dashboard-urls\"}),`Configuring Dashboard\nURLs`),\".\"),mdx(\"p\",null,`It is possible to configure the UI to fetch basic metrics from your metrics\nprovider storage to augment the visualization as displayed below.`),mdx(\"p\",null,mdx(\"img\",e({parentName:\"p\"},{src:\"/img/ui-service-topology-view-hover.png\",alt:\"Consul UI Service Mesh Visualization\"}))),mdx(\"p\",null,`Consul has built-in support for overlaying metrics from a\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"https://prometheus.io\"}),\"Prometheus\"),` backend. Alternative metrics providers may\nbe supported using a new and experimental JavaScript API. See `,mdx(\"a\",e({parentName:\"p\"},{href:\"#custom-metrics-providers\"}),`Custom Metrics\nProviders`),\".\"),mdx(\"h2\",e({},{id:\"kubernetes\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#kubernetes\",\"aria-label\":\"kubernetes permalink\"}),\"\\xBB\"),\"Kubernetes\"),mdx(\"p\",null,`If running Consul in Kubernetes, the Helm chart can automatically configure Consul's UI to display topology\nvisualizations. See our `,mdx(\"a\",e({parentName:\"p\"},{href:\"/consul/docs/k8s/connect/observability/metrics\"}),\"Kubernetes observability docs\"),\" for more information.\"),mdx(\"h2\",e({},{id:\"configuring-the-ui-to-display-metrics\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#configuring-the-ui-to-display-metrics\",\"aria-label\":\"configuring the ui to display metrics permalink\"}),\"\\xBB\"),\"Configuring the UI To Display Metrics\"),mdx(\"p\",null,`To configure Consul's UI to fetch metrics there are two required configuration settings.\nThese need to be set on each Consul Agent that is responsible for serving the\nUI. If there are multiple clients with the UI enabled in a datacenter for\nredundancy these configurations must be added to all of them.`),mdx(\"p\",null,`We assume that the UI is already enabled by setting\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"/consul/docs/agent/config/config-files#ui_config_enabled\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"ui_config.enabled\")),\" to \",mdx(\"inlineCode\",{parentName:\"p\"},\"true\"),` in the\nagent's configuration file.`),mdx(\"p\",null,`To use the built-in Prometheus provider\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"/consul/docs/agent/config/config-files#ui_config_metrics_provider\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"ui_config.metrics_provider\")),`\nmust be set to `,mdx(\"inlineCode\",{parentName:\"p\"},\"prometheus\"),\".\"),mdx(\"p\",null,`The UI must query the metrics provider through a proxy endpoint. This simplifies\ndeployment where Prometheus is not exposed externally to UI user's browsers.`),mdx(\"p\",null,\"To set this up, provide the URL that the \",mdx(\"em\",{parentName:\"p\"},\"Consul agent\"),` should use to reach the\nPrometheus server in\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"/consul/docs/agent/config/config-files#ui_config_metrics_proxy_base_url\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"ui_config.metrics_proxy.base_url\")),`.\nFor example in Kubernetes, the Prometheus helm chart by default installs a\nservice named `,mdx(\"inlineCode\",{parentName:\"p\"},\"prometheus-server\"),` so each Consul agent can reach it on\n`,mdx(\"inlineCode\",{parentName:\"p\"},\"http://prometheus-server\"),\" (using Kubernetes' DNS resolution).\"),mdx(\"p\",null,\"A full configuration to enable Prometheus is given below.\"),mdx(CodeTabs,{heading:\"UI metrics configuration\",tabs:[\"HCL\",\"Kubernetes YAML\",\"JSON\"],mdxType:\"CodeTabs\"},mdx(CodeBlockConfig,{filename:\"agent-config.hcl\",mdxType:\"CodeBlockConfig\"},mdx(\"pre\",e({},{className:\"language-hcl\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-hcl\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"ui_config\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"enabled\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token boolean\"}),\"true\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"metrics_provider\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"prometheus\"'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"metrics_proxy\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"base_url\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"http://prometheus-server\"'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`))),mdx(CodeBlockConfig,{filename:\"helm-values.yaml\",mdxType:\"CodeBlockConfig\"},mdx(\"pre\",e({},{className:\"language-yaml\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-yaml\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token key atrule\"}),\"ui\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\":\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token key atrule\"}),\"enabled\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token boolean important\"}),\"true\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token key atrule\"}),\"metrics\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\":\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token key atrule\"}),\"enabled\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token boolean important\"}),\"true\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"# by default, this inherits from the value global.metrics.enabled\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token key atrule\"}),\"provider\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"prometheus\"'),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token key atrule\"}),\"baseURL\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\":\"),\" http\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\":\"),\"//prometheus\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"-\"),\"server\",`\n`))),mdx(CodeBlockConfig,{filename:\"agent-config.json\",mdxType:\"CodeBlockConfig\"},mdx(\"pre\",e({},{className:\"language-json\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-json\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"ui_config\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"enabled\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token boolean\"}),\"true\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"metrics_provider\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"prometheus\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"metrics_proxy\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"base_url\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"http://prometheus-server\"'),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`)))),mdx(\"div\",e({},{className:\"alert alert-info g-type-body\"}),mdx(\"p\",{parentName:\"div\"},\"\",mdx(\"strong\",{parentName:\"p\"},\"Note\"),\": For more information on configuring the observability UI on Kubernetes, use this \",mdx(\"a\",e({parentName:\"p\"},{href:\"/consul/docs/k8s/connect/observability/metrics\"}),\"reference\"),\".\")),mdx(\"h2\",e({},{id:\"configuring-dashboard-urls\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#configuring-dashboard-urls\",\"aria-label\":\"configuring dashboard urls permalink\"}),\"\\xBB\"),\"Configuring Dashboard URLs\"),mdx(\"p\",null,`Since Consul's visualization is intended as an overview of your mesh and not a\ncomprehensive monitoring tool, you can configure a service dashboard URL\ntemplate which allows users to click directly through to the relevant\nservice-specific dashboard in an external tool like\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"https://grafana.com\"}),\"Grafana\"),\" or a hosted provider.\"),mdx(\"p\",null,\"To configure this, you must provide a URL template in the \",mdx(\"a\",e({parentName:\"p\"},{href:\"/consul/docs/agent/config/config-files#ui_config_dashboard_url_templates\"}),`agent configuration\nfile`),` for all agents that\nhave the UI enabled. The template is essentially the URL to the external\ndashboard, but can have placeholder values which will be replaced with the\nservice name, namespace and datacenter where appropriate to allow deep-linking\nto the relevant information.`),mdx(\"p\",null,\"An example with Grafana is shown below.\"),mdx(CodeTabs,{heading:\"Example dashboard URL template configuration for UI visualization\",tabs:[\"HCL\",\"Kubernetes YAML\",\"JSON\"],mdxType:\"CodeTabs\"},mdx(CodeBlockConfig,{filename:\"agent-config.hcl\",mdxType:\"CodeBlockConfig\"},mdx(\"pre\",e({},{className:\"language-hcl\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-hcl\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"ui_config\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"enabled\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token boolean\"}),\"true\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"dashboard_url_templates\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"service\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"https://grafana.example.com/d/lDlaj-NGz/service-overview?orgId=1&var-service={{Service.Name}}&var-namespace={{Service.Namespace}}&var-partition={{Service.Partition}}&var-dc={{Datacenter}}\"'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`))),mdx(CodeBlockConfig,{filename:\"helm-values.yaml\",mdxType:\"CodeBlockConfig\"},mdx(\"pre\",e({},{className:\"language-yaml\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-yaml\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"# The UI is enabled by default so this stanza is not required.\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token key atrule\"}),\"ui\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\":\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token key atrule\"}),\"enabled\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token boolean important\"}),\"true\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"# This configuration requires version 0.40.0 or later of the Helm chart.\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token key atrule\"}),\"dashboardURLTemplates\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\":\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token key atrule\"}),\"service\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"https://grafana.example.com/d/lDlaj-NGz/service-overview?orgId=1&var-service={{Service.Name}}&var-namespace={{Service.Namespace}}&var-dc={{Datacenter}}\"'),`\n`,`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"# If you are using a version of the Helm chart older than 0.40.0, you must\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"# configure the dashboard URL template using the `server.extraConfig` parameter\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"# in the Helm chart's values file.\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token key atrule\"}),\"server\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\":\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token key atrule\"}),\"extraConfig\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"|\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token scalar string\"}),\"    {\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token scalar string\"}),'      \"ui_config\": {'),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token scalar string\"}),'        \"dashboard_url_templates\": {'),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token scalar string\"}),'          \"service\": \"https://grafana.example.com/d/lDlaj-NGz/service-overview?orgId=1&var-service={{ \"{{\" }}Service.Name}}&var-namespace={{ \"{{\" }}Service.Namespace}}&var-dc={{ \"{{\" }}Datacenter}}\"'),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token scalar string\"}),\"        }\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token scalar string\"}),\"      }\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token scalar string\"}),\"    }\"),`\n`))),mdx(CodeBlockConfig,{filename:\"agent-config.json\",mdxType:\"CodeBlockConfig\"},mdx(\"pre\",e({},{className:\"language-json\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-json\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"ui_config\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"enabled\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token boolean\"}),\"true\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"dashboard_url_templates\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"service\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"https://grafana.example.com/d/lDlaj-NGz/service-overview?orgId=1\\\\u0026var-service={{Service.Name}}\\\\u0026var-namespace={{Service.Namespace}}\\\\u0026var-partition={{Service.Partition}}\\\\u0026var-dc={{Datacenter}}\"'),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`)))),mdx(\"div\",e({},{className:\"alert alert-warning g-type-body\"}),mdx(\"p\",{parentName:\"div\"},\"\",mdx(\"strong\",{parentName:\"p\"},\"Note\"),`: On Kubernetes, the Consul Server configuration set in the Helm config's\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"/consul/docs/k8s/helm#v-server-extraconfig\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"server.extraConfig\")),` key must be specified\nas JSON.  The `,mdx(\"inlineCode\",{parentName:\"p\"},\"{{\"),\" characters in the URL must be escaped using \",mdx(\"inlineCode\",{parentName:\"p\"},'{{ \"{{\" }}'),` so that Helm\ndoesn't try to template them.`)),mdx(\"p\",null,mdx(\"img\",e({parentName:\"p\"},{src:\"/img/ui-dashboard-url-template.png\",alt:\"Consul UI Service Dashboard Link\"}))),mdx(\"h3\",e({},{id:\"metrics-proxy\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"__permalink-h\",href:\"#metrics-proxy\",\"aria-label\":\"metrics proxy permalink\"}),\"\\xBB\"),\"Metrics Proxy\"),mdx(\"p\",null,`In many cases the metrics backend may be inaccessible to UI user's browsers or\nmay be on a different domain and so subject to CORS restrictions. To make it\nsimpler to serve the metrics to the UI in these cases, the Consul agent can\nproxy requests for metrics from the UI to the backend.`),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},`This is intended to simplify setup in test and demo environments. Careful\nconsideration should be given towards using this in production.`)),mdx(\"p\",null,\"The simplest configuration is described in \",mdx(\"a\",e({parentName:\"p\"},{href:\"#configuring-the-ui-for-metrics\"}),`Configuring the UI for\nmetrics`),\".\"),mdx(\"h4\",e({},{id:\"metrics-proxy-security\"}),mdx(\"a\",e({parentName:\"h4\"},{className:\"__permalink-h\",href:\"#metrics-proxy-security\",\"aria-label\":\"metrics proxy security permalink\"}),\"\\xBB\"),\"Metrics Proxy Security\"),mdx(\"div\",e({},{className:\"alert alert-warning g-type-body\"}),mdx(\"p\",{parentName:\"div\"},\"\",mdx(\"strong\",{parentName:\"p\"},\"Security Note\"),`: Exposing a backend metrics service to potentially\nun-authenticated network traffic via the proxy should be `,mdx(\"em\",{parentName:\"p\"},\"carefully\"),` considered\nin production.`)),mdx(\"p\",null,`The metrics proxy endpoint is internal and intended only for UI use. However by\nenabling it anyone with network access to the agent's API port may use it to\naccess metrics from the backend.`),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},`If ACLs are not enabled, full access to metrics will be exposed to\nun-authenticated workloads on the network`),\".\"),mdx(\"p\",null,`With ACLs enabled, the proxy endpoint requires a valid token with read access\nto all nodes and services (across all namespaces in Enterprise):`),mdx(Tabs,{mdxType:\"Tabs\"},mdx(Tab,{heading:\"Consul CE\",mdxType:\"Tab\"},mdx(CodeTabs,{heading:\"Example policy granting read-only access to all services and nodes\",mdxType:\"CodeTabs\"},mdx(\"pre\",e({},{className:\"language-hcl\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-hcl\"}),\"service_prefix \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"\"'),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"policy\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"read\"'),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,\"node_prefix \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"\"'),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"policy\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"read\"'),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`)),mdx(\"pre\",e({},{className:\"language-json\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-json\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"service_prefix\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"policy\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"read\"'),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"node_prefix\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"policy\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"read\"'),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`)))),mdx(Tab,{heading:\"Consul Enterprise\",mdxType:\"Tab\"},mdx(CodeTabs,{heading:\"Example policy granting read-only access to all services and nodes across all namespaces\",mdxType:\"CodeTabs\"},mdx(\"pre\",e({},{className:\"language-hcl\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-hcl\"}),\"namespace_prefix \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"\"'),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  service_prefix \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"\"'),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"policy\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"read\"'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,\"  node_prefix \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"\"'),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"policy\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"read\"'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`)),mdx(\"pre\",e({},{className:\"language-json\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-json\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"namespace_prefix\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"service_prefix\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"          \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"policy\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"read\"'),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"node_prefix\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"          \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"policy\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"read\"'),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`))))),mdx(\"p\",null,`It's typical for most authenticated users to have this level of access in Consul\nas it's required for viewing the catalog or discovering services. If you use a\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"/consul/docs/security/acl/auth-methods/oidc\"}),\"Single Sign-On integration\"),` (Consul\nEnterprise) users of the UI can be automatically issued an ACL token with the\nprivileges above to be allowed access to the metrics through the proxy.`),mdx(\"p\",null,`Even with ACLs enabled, the proxy endpoint doesn't deeply understand the query\nlanguage of the backend so there is no way it can enforce least-privilege access\nto only specific service-related metrics.`),mdx(\"p\",null,mdx(\"em\",{parentName:\"p\"},`If you are not comfortable with all users of Consul having full access to the\nmetrics backend, you should not use the proxy and find an alternative like using\na custom provider that can query the metrics backend directly`),\".\"),mdx(\"h5\",e({},{id:\"path-allowlist\"}),mdx(\"a\",e({parentName:\"h5\"},{className:\"__permalink-h\",href:\"#path-allowlist\",\"aria-label\":\"path allowlist permalink\"}),\"\\xBB\"),\"Path Allowlist\"),mdx(\"p\",null,`To limit exposure of the metrics backend, paths must be explicitly added to an\nallowlist to avoid exposing unintended parts of the API. For example with\nPrometheus, both the `,mdx(\"inlineCode\",{parentName:\"p\"},\"/api/v1/query_range\"),\" and \",mdx(\"inlineCode\",{parentName:\"p\"},\"/api/v1/query\"),` endpoints are\nneeded to load time-series and individual stats. If the proxy had the `,mdx(\"inlineCode\",{parentName:\"p\"},\"base_url\"),`\nset to `,mdx(\"inlineCode\",{parentName:\"p\"},\"http://prometheus-server\"),` then the proxy would also expose read access\nto several other endpoints such as `,mdx(\"inlineCode\",{parentName:\"p\"},\"/api/v1/status/config\"),` which includes all\nPrometheus configuration which might include sensitive information.`),mdx(\"p\",null,\"If you use the built-in \",mdx(\"inlineCode\",{parentName:\"p\"},\"prometheus\"),` provider the proxy is limited to the\nessential endpoints. The default value for `,mdx(\"inlineCode\",{parentName:\"p\"},\"metrics_proxy.path_allowlist\"),` is\n`,mdx(\"inlineCode\",{parentName:\"p\"},'[\"/api/v1/query_range\", \"/api/v1/query\"]'),` as required by the built-in\n`,mdx(\"inlineCode\",{parentName:\"p\"},\"prometheus\"),\" provider .\"),mdx(\"p\",null,`If you use a custom provider that uses the metrics proxy, you'll need to\nexplicitly set the allowlist based on the endpoints the provider needs to\naccess.`),mdx(\"h4\",e({},{id:\"adding-headers\"}),mdx(\"a\",e({parentName:\"h4\"},{className:\"__permalink-h\",href:\"#adding-headers\",\"aria-label\":\"adding headers permalink\"}),\"\\xBB\"),\"Adding Headers\"),mdx(\"p\",null,`It is also possible to configure the proxy to add one or more headers to\nrequests as they pass through. This is useful when the metrics backend requires\nauthentication. For example if your metrics are shipped to a hosted provider,\nyou could provision an API token specifically for the Consul UI and configure\nthe proxy to add it as in the example below. This keeps the API token only\nvisible to Consul operators in the configuration file while UI users can query\nthe metrics they need without separately obtaining a token for that provider or\nhaving a token exposed to them that they might be able to use elsewhere.`),mdx(CodeTabs,{heading:\"Example configuration to add additional HTTP headers to the metrics endpoint\",mdxType:\"CodeTabs\"},mdx(CodeBlockConfig,{filename:\"agent-config.hcl\",mdxType:\"CodeBlockConfig\"},mdx(\"pre\",e({},{className:\"language-hcl\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-hcl\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"ui_config\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"enabled\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token boolean\"}),\"true\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"metrics_provider\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"example-apm\"'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"metrics_proxy\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"base_url\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"https://example-apm.com/api/v1/metrics\"'),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"add_headers\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"name\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"Authorization\"'),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"value\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"Bearer <token>\"'),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`))),mdx(CodeBlockConfig,{filename:\"agent-config.json\",mdxType:\"CodeBlockConfig\"},mdx(\"pre\",e({},{className:\"language-json\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-json\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"ui_config\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"enabled\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token boolean\"}),\"true\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"metrics_provider\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"example-apm\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"metrics_proxy\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"base_url\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"https://example-apm.com/api/v1/metrics\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"add_headers\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"          \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"name\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"Authorization\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"          \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"value\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"Bearer \\\\u003ctoken\\\\u003e\"'),`\n`,\"        \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`)))),mdx(\"h2\",e({},{id:\"custom-metrics-providers\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#custom-metrics-providers\",\"aria-label\":\"custom metrics providers permalink\"}),\"\\xBB\"),\"Custom Metrics Providers\"),mdx(\"p\",null,`Consul 1.9.0 includes a built-in provider for fetching metrics from\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"https://prometheus.io\"}),\"Prometheus\"),`. To enable the UI visualization feature\nto work with other existing metrics stores and hosted services, we created a\n\"metrics provider\" interface in JavaScript. A custom provider may be written and\nthe JavaScript file served by the Consul agent.`),mdx(\"div\",e({},{className:\"alert alert-warning g-type-body\"}),mdx(\"p\",{parentName:\"div\"},\"\",mdx(\"strong\",{parentName:\"p\"},\"Note\"),\": this interface is \",mdx(\"em\",{parentName:\"p\"},\"experimental\"),` and may change in breaking ways or\nbe removed entirely as we discover the needs of the community. Please provide\nfeedback on `,mdx(\"a\",e({parentName:\"p\"},{href:\"https://github.com/hashicorp/consul\"}),\"GitHub\"),` or\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"https://discuss.hashicorp.com/\"}),\"Discuss\"),\" on how you'd like to use this.\")),mdx(\"p\",null,\"The template for a complete provider JavaScript file is given below.\"),mdx(CodeTabs,{heading:\"Example JavaScript class template for a custom metrics plugin\",mdxType:\"CodeTabs\"},mdx(\"pre\",e({},{className:\"language-javascript\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-javascript\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"function\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"var\"),\" provider \",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"/**\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     * init is called when the provider is first loaded.\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     * options.providerOptions contains any operator configured parameters\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     * specified in the `metrics_provider_options_json` field of the Consul\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     * agent configuration file.\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     * Consul will provide:\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     * 1. A boolean field options.metrics_proxy_enabled to indicate whether the\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *    agent has a metrics proxy configured.\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     * 2. A function options.fetch which is a thin wrapper around the browser's\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *    [Fetch API](https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *    that prefixes any url with the url of Consul's internal metrics proxy\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *    endpoint and adds your current Consul ACL token to the request\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *    headers. Otherwise it functions like the browser's native fetch.\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     * The provider should throw an Exception if the options are not valid, for\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     * example because it requires a metrics proxy and one is not configured.\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     */\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token function-variable function\"}),\"init\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"function\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token parameter\"}),\"options\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"/**\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     * serviceRecentSummarySeries should return time series for a recent time\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     * period summarizing the usage of the named service in the indicated\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     * datacenter. In Consul Enterprise a non-empty namespace is also provided.\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     * If these metrics aren't available then an empty series array may be\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     * returned.\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     * The period may (later) be specified in options.startTime and\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     * options.endTime.\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     * The service's protocol must be given as one of Consul's supported\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),'     * protocols e.g. \"tcp\", \"http\", \"http2\", \"grpc\". If it is empty or the'),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),`     * provider doesn't recognize the protocol, it should treat it as \"tcp\" and`),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     * provide basic connection stats.\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     * The expected return value is a JavaScript promise which resolves to an\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     * object that should look like the following:\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *  \",mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"{\")),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *    // The unitSuffix is shown after the value in tooltips. Values will be\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *    // rounded and shortened. Larger values will already have a suffix\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),'     *    // like \"10k\". The suffix provided here is concatenated directly'),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),'     *    // allowing for suffixes like \"mbps/kbps\" by using a suffix of \"bps\".'),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *    // If the unit doesn't make sense in this format, include a\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),'     *    // leading space for example \" rps\" would show as \"1.2k rps\".'),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),'     *    unitSuffix: \" rps\",'),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *    // The set of labels to graph. The key should exactly correspond to a\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *    // property of every data point in the array below except for the\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),'     *    // special case \"Total\" which is used to show the sum of all the'),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *    // stacked graph values. The key is displayed in the tooltip so it\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *    // should be human-friendly but as concise as possible. The value is a\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *    // longer description that is displayed in the graph's key on request\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *    // to explain exactly what the metrics mean.\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *    labels: \",mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"{\")),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),'     *      \"Total\": \"Total inbound requests per second.\",'),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),'     *      \"Successes\": \"Successful responses (with an HTTP response code ...\",'),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),'     *      \"Errors\": \"Error responses (with an HTTP response code in the ...\",'),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *    \",mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"}\"),\",\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *    data: [\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *      \",mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"{\")),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *        time: 1600944516286, // milliseconds since Unix epoch\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),'     *        \"Successes\": 1234.5,'),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),'     *        \"Errors\": 2.3,'),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *      \",mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"}\"),\",\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *      ...\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *    ]\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *  \",mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"}\")),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *  Every data point object should have a value for every series label\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),'     *  (except for \"Total\") otherwise it will be assumed to be \"0\".'),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     */\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token function-variable function\"}),\"serviceRecentSummarySeries\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"function\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token parameter\"}),\"serviceDC\",mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\",\"),\" namespace\",mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\",\"),\" serviceName\",mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\",\"),\" protocol\",mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\",\"),\" options\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"/**\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     * serviceRecentSummaryStats should return four summary statistics for a\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     * recent time period for the named service in the indicated datacenter. In\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     * Consul Enterprise a non-empty namespace is also provided.\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     * If these metrics aren't available then an empty array may be returned.\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     * The period may (later) be specified in options.startTime and\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     * options.endTime.\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     * The service's protocol must be given as one of Consul's supported\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),'     * protocols e.g. \"tcp\", \"http\", \"http2\", \"grpc\". If it is empty or the'),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),`     * provider doesn't recognize it it should treat it as \"tcp\" and provide`),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     * just basic connection stats.\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     * The expected return value is a JavaScript promise which resolves to an\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     * object that should look like the following:\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *  \",mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"{\")),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"          // stats is an array of stats to show. The first four of these will be\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"          // displayed. Fewer may be returned if not available.\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *    stats: [\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *      \",mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"{\")),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *        // label should be 3 chars or fewer as an abbreviation\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),'     *        label: \"SR\",'),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *        // desc describes the stat in a tooltip\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),'     *        desc: \"Success Rate - the percentage of all requests that were not 5xx status\",'),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *        // value is a string allowing the provider to format it and add\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *        // units as appropriate. It should be as compact as possible.\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),'     *        value: \"98%\",'),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *      \",mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"}\")),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *    ]\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *  \",mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"}\")),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     */\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token function-variable function\"}),\"serviceRecentSummaryStats\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"function\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token parameter\"}),\"serviceDC\",mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\",\"),\" namespace\",mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\",\"),\" serviceName\",mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\",\"),\" protocol\",mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\",\"),\" options\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"/**\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     * upstreamRecentSummaryStats should return four summary statistics for each\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     * upstream service over a recent time period, relative to the named service\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     * in the indicated datacenter. In Consul Enterprise a non-empty namespace\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     * is also provided.\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     * Note that the upstreams themselves might be in different datacenters but\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     * we only pass the target service DC since typically these metrics should\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     * be from the outbound listener of the target service in this DC even if\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     * the requests eventually end up in another DC.\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     * If these metrics aren't available then an empty array may be returned.\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     * The period may (later) be specified in options.startTime and\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     * options.endTime.\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     * The expected return value is a JavaScript promise which resolves to an\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     * object that should look like the following:\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *   \",mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"{\")),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *     stats: \",mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"{\")),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *       // Each upstream will appear as an entry keyed by the upstream\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *       // service name. The value is an array of stats with the same\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *       // format as serviceRecentSummaryStats response.stats. Note that\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *       // different upstreams might show different stats depending on\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *       // their protocol.\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),'     *       \"upstream_name\": ['),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *         \",mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"{\"),'label: \"SR\", desc: \"...\", value: \"99%\"',mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"}\"),\",\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *         ...\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *       ],\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *       ...\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *     \",mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"}\")),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *   \",mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"}\")),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     */\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token function-variable function\"}),\"upstreamRecentSummaryStats\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"function\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token parameter\"}),\"serviceDC\",mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\",\"),\" namespace\",mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\",\"),\" serviceName\",mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\",\"),\" upstreamName\",mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\",\"),\" options\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"/**\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     * downstreamRecentSummaryStats should return four summary statistics for\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     * each downstream service over a recent time period, relative to the named\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     * service in the indicated datacenter. In Consul Enterprise a non-empty\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     * namespace is also provided.\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     * Note that the service may have downstreams in different datacenters. For\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     * some metrics systems which are per-datacenter this makes it hard to query\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     * for all downstream metrics from one source. For now the UI will only show\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     * downstreams in the same datacenter as the target service. In the future\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     * this method may be called multiple times, once for each DC that contains\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     * downstream services to gather metrics from each. In that case a separate\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     * option for target datacenter will be used since the target service's DC\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     * is still needed to correctly identify the outbound clusters that will\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     * route to it from the remote DC.\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     * If these metrics aren't available then an empty array may be returned.\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     * The period may (later) be specified in options.startTime and\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     * options.endTime.\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     * The expected return value is a JavaScript promise which resolves to an\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     * object that should look like the following:\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *   \",mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"{\")),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *     stats: \",mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"{\")),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *       // Each downstream will appear as an entry keyed by the downstream\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *       // service name. The value is an array of stats with the same\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *       // format as serviceRecentSummaryStats response.stats. Different\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *       // downstreams may display different stats if required although the\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *       // protocol should be the same for all as it is the target\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *       // service's protocol that matters here.\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),'     *       \"downstream_name\": ['),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *         \",mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"{\"),'label: \"SR\", desc: \"...\", value: \"99%\"',mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"}\"),\",\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *         ...\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *       ],\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *       ...\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *     \",mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"}\")),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     *   \",mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\"}\")),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token doc-comment comment\"}),\"     */\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token function-variable function\"}),\"downstreamRecentSummaryStats\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"function\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token parameter\"}),\"serviceDC\",mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\",\"),\" namespace\",mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\",\"),\" serviceName\",mdx(\"span\",e({parentName:\"span\"},{className:\"token punctuation\"}),\",\"),\" options\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),\"// Register the provider with Consul for use. This example would be usable by\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token comment\"}),'// configuring the agent with `ui_config.metrics_provider = \"example-provider\".'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token dom variable\"}),\"window\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token property-access\"}),\"consul\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\".\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token method function property-access\"}),\"registerMetricsProvider\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"example-provider\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),\" provider\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),`\n`,`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"(\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\")\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\";\"),`\n`))),mdx(\"p\",null,\"Additionally, the built in \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://github.com/hashicorp/consul/blob/main/ui/packages/consul-ui/vendor/metrics-providers/prometheus.js\"}),`Prometheus\nprovider code`),`\ncan be used as a reference.`),mdx(\"h3\",e({},{id:\"configuring-the-agent-with-a-custom-metrics-provider\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"__permalink-h\",href:\"#configuring-the-agent-with-a-custom-metrics-provider\",\"aria-label\":\"configuring the agent with a custom metrics provider permalink\"}),\"\\xBB\"),\"Configuring the Agent With a Custom Metrics Provider.\"),mdx(\"p\",null,`In the example below, we configure the Consul agent to use a metrics provider\nnamed `,mdx(\"inlineCode\",{parentName:\"p\"},\"example-provider\"),`, which is defined in\n`,mdx(\"inlineCode\",{parentName:\"p\"},\"/usr/local/bin/example-metrics-provider.js\"),\". The name \",mdx(\"inlineCode\",{parentName:\"p\"},\"example-provider\"),` must\nhave been specified in the call to `,mdx(\"inlineCode\",{parentName:\"p\"},\"consul.registerMetricsProvider\"),` as in the\ncode listing in the last section.`),mdx(CodeTabs,{heading:\"Example configuration using a custom metrics provider\",mdxType:\"CodeTabs\"},mdx(CodeBlockConfig,{filename:\"agent-config.hcl\",mdxType:\"CodeBlockConfig\"},mdx(\"pre\",e({},{className:\"language-hcl\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-hcl\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"ui_config\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"enabled\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token boolean\"}),\"true\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"metrics_provider\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"example-provider\"'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"metrics_provider_files\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"/usr/local/bin/example-metrics-provider.js\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"metrics_provider_options_json\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token heredoc string\"}),\"<<-EOT\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token heredoc string\"}),\"    {\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token heredoc string\"}),'      \"foo\": \"bar\"'),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token heredoc string\"}),\"    }\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token heredoc string\"}),\"  EOT\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`))),mdx(CodeBlockConfig,{filename:\"agent-config.json\",mdxType:\"CodeBlockConfig\"},mdx(\"pre\",e({},{className:\"language-json\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-json\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"ui_config\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"enabled\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token boolean\"}),\"true\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"metrics_provider\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"example-provider\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"metrics_provide_files\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"/usr/local/bin/example-metrics-provider.js\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\",\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"metrics_provider_options_json\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"{\\\\\"foo\\\\\":\\\\\"bar\\\\\"}\"'),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`)))),mdx(\"p\",null,`More than one JavaScript file may be specified in\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"/consul/docs/agent/config/config-files#ui_config_metrics_provider_files\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"metrics_provider_files\")),`\nand all will be served allowing flexibility if needed to include dependencies.\nOnly one metrics provider can be configured and used at one time.`),mdx(\"p\",null,`The\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"/consul/docs/agent/config/config-files#ui_config_metrics_provider_options_json\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"metrics_provider_options_json\")),`\nfield is an optional literal JSON object which is passed to the provider's\n`,mdx(\"inlineCode\",{parentName:\"p\"},\"init\"),` method at startup time. This allows configuring arbitrary parameters for\nthe provider in config rather than hard coding them into the provider itself to\nmake providers more reusable.`),mdx(\"p\",null,`The provider may fetch metrics directly from another source although in this\ncase the agent will probably need to serve the correct CORS headers to prevent\nbrowsers from blocking these requests. These may be configured with\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"/consul/docs/agent/config/config-files#response_headers\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"http_config.response_headers\")),\".\"),mdx(\"p\",null,\"Alternatively, the provider may choose to use the \",mdx(\"a\",e({parentName:\"p\"},{href:\"#metrics-proxy\"}),`built-in metrics\nproxy`),` to avoid cross domain issues or to inject additional\nauthorization headers without requiring each UI user to be separately\nauthenticated to the metrics backend.`),mdx(\"p\",null,\"A function that behaves like the browser's \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API\"}),`Fetch\nAPI`),` is provided to\nthe metrics provider JavaScript during `,mdx(\"inlineCode\",{parentName:\"p\"},\"init\"),\" as \",mdx(\"inlineCode\",{parentName:\"p\"},\"options.fetch\"),`. This is a thin\nwrapper that prefixes any url with the url of Consul's metrics proxy endpoint\nand adds your current Consul ACL token to the request headers. Otherwise it\nfunctions like the browser's native fetch and will forward your request on to the\nmetrics backend. The response will be returned without any modification to be\ninterpreted by the provider and converted into the format as described in the\ninterface above.`),mdx(\"p\",null,`Provider authors should make it clear to users which paths are required so they\ncan correctly configure the `,mdx(\"a\",e({parentName:\"p\"},{href:\"#path-allowlist\"}),\"path allowlist\"),` in the metrics\nproxy to avoid exposing more than needed of the metrics backend.`),mdx(\"h3\",e({},{id:\"custom-provider-security-model\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"__permalink-h\",href:\"#custom-provider-security-model\",\"aria-label\":\"custom provider security model permalink\"}),\"\\xBB\"),\"Custom Provider Security Model\"),mdx(\"p\",null,`Since the JavaScript file(s) are included in Consul's UI verbatim, the code in\nthem must be treated as fully trusted by the operator. Typically they will have\nauthored this or will need to carefully vet providers written by third parties.`),mdx(\"p\",null,\"This is equivalent to using the existing \",mdx(\"inlineCode\",{parentName:\"p\"},\"-ui-dir\"),` flag to serve an alternative\nversion of the UI - in either model the operator takes full responsibility for\nthe provenance of the code being served since it has the power to intercept ACL\ntokens, access cookies and local storage for the Consul UI domain and possibly\nmore.`),mdx(\"h2\",e({},{id:\"current-limitations\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#current-limitations\",\"aria-label\":\"current limitations permalink\"}),\"\\xBB\"),\"Current Limitations\"),mdx(\"p\",null,\"Currently there are some limitations to this feature.\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\"},mdx(\"strong\",{parentName:\"p\"},\"No cross-datacenter support\"),` The initial metrics provider integration is\nwith Prometheus which is popular and easy to setup within one Kubernetes\ncluster. However, when using the Consul UI in a multi-datacenter deployment,\nthe UI allows users to select any datacenter to view.`),mdx(\"p\",{parentName:\"li\"},`This means that the Prometheus server that the Consul agent serving the UI can\naccess likely only has metrics for the local datacenter and a full solution\nwould need additional proxying or exposing remote Prometheus servers on the\nnetwork in remote datacenters. Later we may support an easy way to set this up\nvia Consul service mesh but initially we don't attempt to fetch metrics in the UI\nif you are browsing a remote datacenter.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\"},mdx(\"strong\",{parentName:\"p\"},\"Built-in provider requires metrics proxy\"),` Initially the built-in\n`,mdx(\"inlineCode\",{parentName:\"p\"},\"prometheus\"),\" provider only support querying Prometheus via the \",mdx(\"a\",e({parentName:\"p\"},{href:\"#metrics-proxy\"}),`metrics\nproxy`),`. Later it may be possible to configure it for direct\naccess to an expose Prometheus.`))))}MDXContent.isMDXComponent=!0;\n","scope":{"version":"latest"}},"product":{"name":"Consul","slug":"consul","algoliaConfig":{"indexName":"product_CONSUL","searchOnlyApiKey":"fbd5dc1f0078d41509fcc560386fd534"},"analyticsConfig":{"includedDomains":"consul.io www.consul.io","segmentWriteKey":"IyzLrqXkox5KJ8XL4fo8vTYNGfiKlTCm"},"datoToken":"88b4984480dad56295a8aadae6caad","metadata":{"title":"Consul by HashiCorp","description":"Consul is a service networking solution to automate network configurations, discover services, and enable secure connectivity across any cloud or runtime.","image":"https://www.consulproject.io/consul-public/img/og-image.png","icon":[{"href":"/consul-public/_favicon.ico"}]},"alertBannerActive":true,"alertBanner":{"tag":"HashiConf","url":"https://hashiconf.com/2023?utm_source=direct&utm_medium=banner&utm_campaign=23Q3_HASHICONFGLOBAL_EVENT&utm_content=&utm_offer=event","text":"Our community conference is taking place in San Francisco and online October 10-12.","linkText":"Register now","expirationDate":""},"version":"1.11.3","subnavItems":[],"basePaths":["docs","api-docs","commands","downloads"],"rootDocsPaths":[{"iconName":"docs","name":"Documentation","path":"docs"},{"iconName":"api","name":"API","path":"api-docs"},{"iconName":"terminal-screen","name":"CLI","path":"commands"}],"currentRootDocsPath":{"iconName":"docs","name":"Documentation","path":"docs"}},"projectName":null,"versions":null},"__N_SSG":true}