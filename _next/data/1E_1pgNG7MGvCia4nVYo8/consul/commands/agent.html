<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><title>Commands: Agent | Consul | HashiCorp Developer</title><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta property="og:locale" content="en_US"/><meta property="og:type" content="website"/><meta property="article:publisher" content="https://www.facebook.com/HashiCorp/"/><meta name="twitter:site" content="@HashiCorp"/><meta name="twitter:card" content="summary_large_image"/><meta name="theme-color" content="#000"/><meta name="description" property="og:description" content="The `consul agent` command is the heart of Consul: it runs the agent that performs the important task of maintaining membership information, running checks, announcing services, handling queries, etc."/><meta name="twitter:description" content="The `consul agent` command is the heart of Consul: it runs the agent that performs the important task of maintaining membership information, running checks, announcing services, handling queries, etc."/><meta property="og:site_name" content="Commands: Agent | Consul | HashiCorp Developer"/><meta property="og:title" content="Commands: Agent | Consul | HashiCorp Developer"/><meta property="og:image" content="https://developer.hashicorp.com/og-image/consul.jpg"/><link rel="canonical" href="https://developer.hashicorp.com/consul/commands/agent"/><link rel="icon" href="/favicon.ico" sizes="48x48"/><link rel="icon" href="/favicon.svg" sizes="any" type="image/svg+xml"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="google-site-verification" content="zRQZqfAsOX-ypXfU0mzAIzb5rUvj5fA4Zw2jWJRN-JI"/><meta name="ahrefs-site-verification" content="9d739b21c466a84dae91df1c79396081a9072152e64f765c9390fed6f249fb84"/><meta name="zd-site-verification" content="xnvnvv1i0wl4tf0pzaymb" data-product="hcp"/><meta name="zd-site-verification" content="36fp2i1pj67d8cjtzf4fi9" data-product="terraform"/><meta name="zd-site-verification" content="nbe87kfyp1sck7b13vj1i" data-product="packer"/><meta name="zd-site-verification" content="wvsmmqa1cfb9am9zlwfj" data-product="consul"/><meta name="zd-site-verification" content="cw22oopfwr68ujj0n5pn9i" data-product="boundary"/><meta name="zd-site-verification" content="lkslvganwfgfqfwpdeicgh" data-product="vault"/><meta name="zd-site-verification" content="jl2wp2hoej9rz6c8rmqdns" data-product="nomad"/><meta name="zd-site-verification" content="2eb0cu6xceo73t0038m0tb" data-product="waypoint"/><meta name="zd-site-verification" content="n52xisxdf3higs2q9kuogd" data-product="vagrant"/><meta name="twitter:image" content="https://developer.hashicorp.com/og-image/consul.jpg"/><link rel="prefetch" href="https://www.datadoghq-browser-agent.com/datadog-rum-v4.js"/><script type="application/ld+json">[{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Developer","item":"https://developer.hashicorp.com/"},{"@type":"ListItem","position":2,"name":"Consul","item":"https://developer.hashicorp.com/consul"},{"@type":"ListItem","position":3,"name":"CLI","item":"https://developer.hashicorp.com/consul/commands"},{"@type":"ListItem","position":4,"name":"agent","item":"https://developer.hashicorp.com/consul/commands/agent"}]}]</script><meta name="next-head-count" content="32"/><link data-next-font="" rel="preconnect" href="/" crossorigin="anonymous"/><link rel="preload" href="/_next/static/css/f49486d3b4c819d0.css" as="style"/><link rel="stylesheet" href="/_next/static/css/f49486d3b4c819d0.css" data-n-g=""/><link rel="preload" href="/_next/static/css/a3fdbf75d77eb323.css" as="style"/><link rel="stylesheet" href="/_next/static/css/a3fdbf75d77eb323.css" data-n-p=""/><link rel="preload" href="/_next/static/css/a23a4d5b8f64c49d.css" as="style"/><link rel="stylesheet" href="/_next/static/css/a23a4d5b8f64c49d.css" data-n-p=""/><link rel="preload" href="/_next/static/css/686380cdcb9bba8b.css" as="style"/><link rel="stylesheet" href="/_next/static/css/686380cdcb9bba8b.css" data-n-p=""/><link rel="preload" href="/_next/static/css/0d0717cf606673e4.css" as="style"/><link rel="stylesheet" href="/_next/static/css/0d0717cf606673e4.css" data-n-p=""/><link rel="preload" href="/_next/static/css/7e4ee183b358eb93.css" as="style"/><link rel="stylesheet" href="/_next/static/css/7e4ee183b358eb93.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js"></script><script src="/_next/static/chunks/webpack-4951ac4c4a1cb7a7.js" defer=""></script><script src="/_next/static/chunks/framework-7063787c3be570d0.js" defer=""></script><script src="/_next/static/chunks/main-7bf85f85b965ad61.js" defer=""></script><script src="/_next/static/chunks/pages/_app-887082e040e96a38.js" defer=""></script><script src="/_next/static/chunks/8037-40e405fadd2f5f0d.js" defer=""></script><script src="/_next/static/chunks/1395-1eb65df04043100c.js" defer=""></script><script src="/_next/static/chunks/5800-0a549d9df584a94b.js" defer=""></script><script src="/_next/static/chunks/5675-7108b5e9113ea2a3.js" defer=""></script><script src="/_next/static/chunks/8604-305dcb3c7664513e.js" defer=""></script><script src="/_next/static/chunks/4491-ad22c44eea68067a.js" defer=""></script><script src="/_next/static/chunks/9554-d740b5e666a16cc0.js" defer=""></script><script src="/_next/static/chunks/7427-8c3100df221e0fcc.js" defer=""></script><script src="/_next/static/chunks/5261-c0c32f534b764eb3.js" defer=""></script><script src="/_next/static/chunks/6787-8d532ae3ad0e4d9b.js" defer=""></script><script src="/_next/static/chunks/6129-ab52b31a3f096d00.js" defer=""></script><script src="/_next/static/chunks/8018-5acf9cc98d6409e7.js" defer=""></script><script src="/_next/static/chunks/8577-a3048bd869a84460.js" defer=""></script><script src="/_next/static/chunks/pages/consul/commands/%5B%5B...page%5D%5D-a089ab14bb1117c1.js" defer=""></script><script src="/_next/static/1E_1pgNG7MGvCia4nVYo8/_buildManifest.js" defer=""></script><script src="/_next/static/1E_1pgNG7MGvCia4nVYo8/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="style_root__dZhZu style_isShown__D4mb6"><a href="https://www.hashicorp.com/en/conferences/hashiconf/register" class="style_linkElem__hCESK"><span class="style_textContainer__6CuI7 g-grid-container"><span class="style_tag__jbHGz g-type-body-small-x-strong">Save 10-15%<!-- --> </span><span class="style_text__rwS0u g-type-body-small">Register for HashiConf and save big when you buy 2+ tickets<span class="style_linkText__E8GJf g-type-body-small-x-strong"> <!-- -->Get your passes</span></span></span></a><button class="style_closeButton__57J9w"><div><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 20 20"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M15 5 5 15M5 5l10 10"/></svg></div><span style="position:absolute;border:0;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;word-wrap:normal">Dismiss alert</span></button></div><script type="text/javascript">
(function checkDismissAlertBanner() {
  try {
    if (document.cookie.includes('banner_register-for-hashiconf-and-save-big-when-you-buy-2+-tickets=1')) {
      const element = document.querySelector('.style_root__dZhZu')
      element.classList.remove('style_isShown__D4mb6')
    }
  } catch (_) {
    // do nothing
  }
})()
</script><script>!function(){try{var d=document.documentElement,n='data-theme',s='setAttribute';var e=localStorage.getItem('theme');if('system'===e||(!e&&true)){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){d.style.colorScheme = 'dark';d[s](n,'dark')}else{d.style.colorScheme = 'light';d[s](n,'light')}}else if(e){d[s](n,e|| '')}if(e==='light'||e==='dark')d.style.colorScheme=e}catch(e){}}()</script><div class="core-dev-dot-layout_root__MT1PZ"><div class="base-layout_root___qiZs" data-layout="base-new"><div class="base-layout_header__XhkxS"><header class="navigation-header_root__oE_HT"><div class="navigation-header_leftSide__V0xlc"><div class="product-page-content_productsDropdown__haUyw"><nav aria-label="Main" data-orientation="horizontal" dir="ltr"><div class="dropdown-menu_root__Hwy5S"><div class="dropdown-menu_activatorWrapper__LxPRt"><button aria-controls="navigation-header-menu-react-aria-1" aria-expanded="false" aria-label="Main menu" class="dropdown-menu_activator__xXb00 g-focus-ring-from-box-shadow-dark product-page-content_productsDropdownButton__bnKKs"><span class="dropdown-menu_activatorLeadingIcon__YQQlH"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" aria-hidden="true" class="product-page-content_productsDropdownIcon__gXtly"><g fill="currentColor"><path d="M10.336 1.5L2 6.268v11.456l3.131 1.793V8.061l5.205-2.979V1.5z"></path><path d="M13.664 1.5v9.123h-3.328V7.219L7.203 9.012V20.7l3.133 1.796V13.4h3.328v3.381l3.131-1.793V3.293L13.664 1.5z"></path><path d="M22 17.732L13.664 22.5v-3.582l5.203-2.98V4.484L22 6.276v11.456z"></path></g></svg></span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="dropdown-menu_activatorTrailingIcon__r_cCd"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></button></div><div class="dropdown-menu_dropdownContainer__AZWxN" id="navigation-header-menu-react-aria-1" style="display:none"><div class="style_root__z3EwE style_productPanel__Z4UFi style_hasSide__15FV8 style_hasSide__ecwjD"><div class="style_mainPanel__MpQn1"><div class="style_column__9is2G style_hasSide__A3F31"><ul class="style_productCategories__j1h4T"><li class="style_productCategory__9UHKG"><span class="mds-typography-body-300 style_eyebrow__OCUlS">Infrastructure Lifecycle Management</span><ul class="style_productList__uPlTj"><li><a aria-label="Terraform - Manage infrastructure as code" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/terraform"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="style_flight-icon__rrFs8 style_terraform__nU44i" aria-hidden="true" fill="currentColor" id=":R9j6ld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-terraform-fill-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>Terraform</span><span class="style_productDesc__bi44f">Manage infrastructure as code</span></div></div></a></li><li><a aria-label="Packer - Build machine images" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/packer"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="style_flight-icon__rrFs8" aria-hidden="true" fill="currentColor" id=":Raj6ld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-packer-fill-color-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>Packer</span><span class="style_productDesc__bi44f">Build machine images</span></div></div></a></li><li><a aria-label="Nomad - Orchestrate workloads" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/nomad"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="style_flight-icon__rrFs8" aria-hidden="true" fill="currentColor" id=":Rbj6ld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-nomad-fill-color-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>Nomad</span><span class="style_productDesc__bi44f">Orchestrate workloads</span></div></div></a></li><li><a aria-label="Waypoint - Standardize application patterns" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/waypoint"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="style_flight-icon__rrFs8" aria-hidden="true" fill="currentColor" id=":Rcj6ld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-waypoint-fill-color-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>Waypoint</span><span class="style_productDesc__bi44f">Standardize application patterns</span></div></div></a></li><li><a aria-label="Vagrant - Build developer environments" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/vagrant"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="style_flight-icon__rrFs8" aria-hidden="true" fill="currentColor" id=":Rdj6ld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-vagrant-fill-color-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>Vagrant</span><span class="style_productDesc__bi44f">Build developer environments</span></div></div></a></li></ul></li><li class="style_productCategory__9UHKG"><span class="mds-typography-body-300 style_eyebrow__OCUlS">Security Lifecycle Management</span><ul class="style_productList__uPlTj"><li><a aria-label="Vault - Centrally manage secrets" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/vault"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="style_flight-icon__rrFs8" aria-hidden="true" fill="currentColor" id=":R9l6ld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-vault-fill-color-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>Vault</span><span class="style_productDesc__bi44f">Centrally manage secrets</span></div></div></a></li><li><a aria-label="Boundary - Secure remote access" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/boundary"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="style_flight-icon__rrFs8" aria-hidden="true" fill="currentColor" id=":Ral6ld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-boundary-fill-color-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>Boundary</span><span class="style_productDesc__bi44f">Secure remote access</span></div></div></a></li><li><a aria-label="HCP Vault Radar - Scan for embedded secrets" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/hcp/docs/vault-radar"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="style_flight-icon__rrFs8 style_hcpVaultRadar__nukMV" aria-hidden="true" fill="currentColor" id=":Rbl6ld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-vault-radar-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>HCP Vault Radar</span><span class="style_productDesc__bi44f">Scan for embedded secrets</span></div></div></a></li><li><a aria-label="Consul - Secure network services" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/consul"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="style_flight-icon__rrFs8" aria-hidden="true" fill="currentColor" id=":Rcl6ld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-consul-fill-color-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>Consul</span><span class="style_productDesc__bi44f">Secure network services</span></div></div></a></li></ul></li></ul></div><div class="style_promo__e6yXp style_hasSide__635Xt"><div class="style_icon__rYEcI"><svg class="style_flight-icon__rrFs8" aria-hidden="true" fill="currentColor" id=":R3mld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-hashicorp-16"></use></svg></div><div class="style_rightContent__zvciM"><div><div class="style_title__eEtAF">HashiCorp Cloud Platform</div><div class="style_description__ATQzz">Get started in minutes with our cloud products</div></div><a class="style_link__U4Sfy" data-radix-collection-item="" href="/hcp">All HCP Products<svg class="style_flight-icon__rrFs8" aria-hidden="true" fill="currentColor" id=":R2lmld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-external-link-16"></use></svg></a></div></div></div><div class="style_column__9is2G style_sidePanel__qxYNB"><span class="mds-typography-body-200 mds-typography-font-weight-semibold style_sidePanelText__APb7X">Learn</span><ul class="style_sidePanelItems__i8_HV"><li><a aria-label="Certifications - Get HashiCorp certified" class="style_sidePanelItem__j0j0G style_focusIndicator__uTVwt" href="/certifications"><div class="style_iconBackground__fn5_s"><svg class="style_flight-icon__rrFs8" aria-hidden="true" fill="var(--token-color-foreground-faint)" id=":Rjald6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-award-16"></use></svg></div><div class="style_sidePanelItemContent__xFcSA"><span class="mds-typography-body-200 mds-typography-font-weight-semibold style_sidePanelText__APb7X">Certifications</span><span class="style_sidePanelItemDesc__UrOLh">Get HashiCorp certified</span></div></a></li><li><a aria-label="Tutorials - Learn HashiCorp products" class="style_sidePanelItem__j0j0G style_focusIndicator__uTVwt" href="/tutorials"><div class="style_iconBackground__fn5_s"><svg class="style_flight-icon__rrFs8" aria-hidden="true" fill="var(--token-color-foreground-faint)" id=":Rlald6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-learn-16"></use></svg></div><div class="style_sidePanelItemContent__xFcSA"><span class="mds-typography-body-200 mds-typography-font-weight-semibold style_sidePanelText__APb7X">Tutorials</span><span class="style_sidePanelItemDesc__UrOLh">Learn HashiCorp products</span></div></a></li><li><a aria-label="Validated Patterns - Field-tested patterns for using HashiCorp products" class="style_sidePanelItem__j0j0G style_focusIndicator__uTVwt" href="/validated-patterns"><div class="style_iconBackground__fn5_s"><svg class="style_flight-icon__rrFs8" aria-hidden="true" fill="var(--token-color-foreground-faint)" id=":Rnald6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-check-circle-16"></use></svg></div><div class="style_sidePanelItemContent__xFcSA"><span class="mds-typography-body-200 mds-typography-font-weight-semibold style_sidePanelText__APb7X">Validated Patterns</span><span class="style_sidePanelItemDesc__UrOLh">Field-tested patterns for using HashiCorp products</span></div></a></li><li><a aria-label="Well-Architected Framework - Adopt HashiCorp best practices" class="style_sidePanelItem__j0j0G style_focusIndicator__uTVwt" href="/well-architected-framework"><div class="style_iconBackground__fn5_s"><svg class="style_flight-icon__rrFs8" aria-hidden="true" fill="var(--token-color-foreground-faint)" id=":Rpald6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-layers-16"></use></svg></div><div class="style_sidePanelItemContent__xFcSA"><span class="mds-typography-body-200 mds-typography-font-weight-semibold style_sidePanelText__APb7X">Well-Architected Framework</span><span class="style_sidePanelItemDesc__UrOLh">Adopt HashiCorp best practices</span></div></a></li></ul></div></div></div></div></nav></div><div class="product-page-content_productLinkAndNav__YTzcr"><a aria-label="Consul home" class="product-icon-text-link_root__bNTSz g-focus-ring-from-box-shadow-dark" href="/consul"><div class="product-icon-text-lockup_root__358wV"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="product-icon-text-lockup_icon__Zp_5o"><g fill="var(--token-color-consul-brand)"><path d="M4.737 14.193A7 7 0 008.006 15a6.98 6.98 0 004.735-1.847l-1.66-1.737a4.6 4.6 0 110-6.828l1.66-1.738a7 7 0 10-8.004 11.343zM13.32 11.402a.573.573 0 10.637-.953.573.573 0 00-.637.953z"></path><path d="M7.96 9.517a1.517 1.517 0 11-.012-3.034 1.517 1.517 0 01.013 3.034zM13.978 9.447a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 9.472a.574.574 0 110-1.148.574.574 0 010 1.148zM13.978 7.514a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 7.675a.574.574 0 110-1.148.574.574 0 010 1.148zM13.353 5.585a.574.574 0 10.635-.956.574.574 0 00-.635.956z"></path></g></svg><span class="product-icon-text-lockup_text__nHTL7 hds-typography-body-200">Consul</span></div></a><nav aria-label="Main" data-orientation="horizontal" dir="ltr" class="nav-bar-list-container_nav__C_i0_"><div style="position:relative"><ul data-orientation="horizontal" class="nav-bar-list-container_ul___04HI" dir="ltr"><li><a aria-label="Consul Install" class="primary-nav-link_root__RXZIC g-focus-ring-from-box-shadow-dark" href="/consul/install"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__58O0C">Install</span></a></li><li><a aria-label="Consul Tutorials" class="primary-nav-link_root__RXZIC g-focus-ring-from-box-shadow-dark" href="/consul/tutorials"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__58O0C">Tutorials</span></a></li><li><a aria-label="Consul Documentation" class="primary-nav-link_root__RXZIC g-focus-ring-from-box-shadow-dark" href="/consul/docs"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__58O0C">Documentation</span></a></li><li><a aria-label="Consul API" class="primary-nav-link_root__RXZIC g-focus-ring-from-box-shadow-dark" href="/consul/api-docs"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__58O0C">API</span></a></li><li><a aria-label="Consul CLI" class="primary-nav-link_root__RXZIC g-focus-ring-from-box-shadow-dark" href="/consul/commands"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__58O0C">CLI</span></a></li><li><a aria-label="Consul Try Cloud" class="primary-nav-link_root__RXZIC g-focus-ring-from-box-shadow-dark" aria-describedby="opens-in-new-tab-label-react-aria-8" target="_blank" href="https://portal.cloud.hashicorp.com/sign-up"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__58O0C">Try Cloud</span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path d="M9 .75A.75.75 0 019.75 0h4.5c.206 0 .393.083.529.218l.001.002.002.001A.748.748 0 0115 .75v4.5a.75.75 0 01-1.5 0V2.56L7.28 8.78a.75.75 0 01-1.06-1.06l6.22-6.22H9.75A.75.75 0 019 .75z"></path><path d="M3.25 3.5a.75.75 0 00-.75.75v7.5c0 .414.336.75.75.75h7.5a.75.75 0 00.75-.75v-4a.75.75 0 011.5 0v4A2.25 2.25 0 0110.75 14h-7.5A2.25 2.25 0 011 11.75v-7.5A2.25 2.25 0 013.25 2h4a.75.75 0 010 1.5h-4z"></path></g></svg></a><span class="g-screen-reader-only" id="opens-in-new-tab-label-react-aria-8">(opens in new tab)</span></li></ul></div></nav></div></div><div class="navigation-header_rightSide___Vvh_"><button aria-label="Search" class="command-bar-activator_root__qgVMy g-focus-ring-from-box-shadow-dark"><span class="command-bar-activator_left__ATQTg"><span class="command-bar-activator_leadingIcon__jECP5"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M6.344.969a5.375 5.375 0 103.233 9.669l4.174 4.174a.75.75 0 001.06-1.061l-4.173-4.174A5.375 5.375 0 006.344.97zM2.469 6.344a3.875 3.875 0 117.75 0 3.875 3.875 0 01-7.75 0z" clip-rule="evenodd"></path></svg></span><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular command-bar-activator_text__pTZN_">Search</span></span><span class="command-bar-activator_right__XejfJ"><span class="g-screen-reader-only">Command or control key</span><span aria-hidden="true" class="badge_root___Z7Nt badge_small__GI0Zk badge_filled-neutral-dark-mode__VC3Ba command-bar-activator_keyBadge__xnKpi"><div class="cmd-ctrl-icon_root___TToz"><svg xmlns="http://www.w3.org/2000/svg" width="41" height="11" fill="none" viewBox="0 0 41 11"><path fill="#fff" fill-rule="evenodd" d="M4.125 2.063V3h2.25v-.937a2.062 2.062 0 1 1 2.063 2.062H7.5v2.25h.938a2.062 2.062 0 1 1-2.063 2.063V7.5h-2.25v.938a2.062 2.062 0 1 1-2.062-2.063H3v-2.25h-.937a2.062 2.062 0 1 1 2.062-2.062m-2.062-.938a.937.937 0 1 0 0 1.875H3v-.937a.937.937 0 0 0-.937-.938M7.5 7.5v.938a.937.937 0 1 0 .938-.938zM6.375 6.375v-2.25h-2.25v2.25zM2.063 7.5H3v.938a.937.937 0 1 1-.937-.938M7.5 3h.938a.937.937 0 1 0-.938-.937z" clip-rule="evenodd"/><path fill="#fff" d="M15.09 10.5 18.085 0h-1.097L14 10.5zM26.387 5.308c-.183-1.445-1.263-2.534-3.05-2.534C21.264 2.774 20 4.247 20 6.61c0 2.41 1.27 3.89 3.344 3.89 1.76 0 2.86-1.034 3.043-2.5H25.02c-.184.808-.792 1.247-1.682 1.247-1.172 0-1.898-.994-1.898-2.637 0-1.61.72-2.583 1.898-2.583.942 0 1.518.555 1.681 1.281zM28.6 1.041v1.897h-1.133v1.178H28.6v4.281c0 1.432.622 2.007 2.186 2.007.275 0 .537-.034.766-.075V9.158c-.196.02-.32.034-.537.034-.7 0-1.008-.35-1.008-1.15V4.115h1.545V2.938h-1.545V1.041zM33.207 10.356h1.407V5.911c0-1.048.752-1.767 1.819-1.767.249 0 .667.048.785.082V2.842a3.372 3.372 0 0 0-.628-.054c-.93 0-1.721.527-1.924 1.26h-.105v-1.13h-1.354zM38.638 10.356h1.407V0h-1.407z"/></svg></div></span><span class="g-screen-reader-only">K key</span><span aria-hidden="true" class="badge_root___Z7Nt badge_small__GI0Zk badge_filled-neutral-dark-mode__VC3Ba command-bar-activator_keyBadge__xnKpi"><div class="k-icon_root__a_5pR"><svg xmlns="http://www.w3.org/2000/svg" width="8" height="10" fill="none" viewBox="0 0 8 10"><path fill="#fff" d="M1.512 9.84v-3l.986-1.147L5.445 9.84h1.704L3.46 4.745 6.857.84H5.244L1.61 5.094h-.098V.84H.15v9z"/></svg></div></span></span></button><div class="navigation-header_authenticationControls__EP1LY"><div class="disclosure_root__rcBaW dropdown-disclosure_root__pzZlN dropdown-disclosure_list-position--right__WP_Kj"><button aria-controls="disclosure-react-aria-9-content" aria-expanded="false" aria-label="User menu" class="disclosure_activator__pORI0 activator_root__pOfAQ dropdown-disclosure_activator__nGgNo navigation-header_userDropdownDisclosureActivator__RayIV g-focus-ring-from-box-shadow-dark activator_hasIcon__5HO6W g-focus-ring-from-box-shadow"><span class="activator_childrenWrapper__kaK0w"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" aria-hidden="true"><g fill="currentColor"><path fill-rule="evenodd" d="M12 3a5 5 0 100 10 5 5 0 000-10zM8.5 8a3.5 3.5 0 117 0 3.5 3.5 0 01-7 0z" clip-rule="evenodd"></path><path d="M7.75 14.5A4.75 4.75 0 003 19.25v1a.75.75 0 001.5 0v-1A3.25 3.25 0 017.75 16h8.5a3.25 3.25 0 013.25 3.25v1a.75.75 0 001.5 0v-1a4.75 4.75 0 00-4.75-4.75h-8.5z"></path></g></svg></span><span class="activator_chevronWrapper__4_AVG"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></span></button><div class="disclosure_contentContainer__QQ4kt dropdown-disclosure_content__ZZRPG undefined" id="disclosure-react-aria-9-content"><ul class="dropdown-disclosure_list__urBXU"><li class="list-item_root__ZdUej"><button class="list-item_button__nXy5K g-focus-ring-from-box-shadow"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">Sign in</span></button></li><li class="list-item_root__ZdUej"><a class="list-item_link__l6lDd g-focus-ring-from-box-shadow" href="/sign-up"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">Sign up</span></a></li><li class="list-item_root__ZdUej"><hr class="list-item_separator__cBVLs"/></li><li class="list-item_root__ZdUej user-dropdown-switcher_listItem__Q_GIj hds-font-weight-medium"><label class="theme-switcher_label__7Boh2 hds-typography-body-200" for="react-aria-11">Theme</label></li></ul></div></div></div><button aria-label="Open navigation menu" class="navigation-header_mobileMenuButton__74S4w"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" aria-hidden="true"><g fill="currentColor"><path d="M2 5.75A.75.75 0 012.75 5h18.5a.75.75 0 010 1.5H2.75A.75.75 0 012 5.75zM2 11.75a.75.75 0 01.75-.75h18.5a.75.75 0 010 1.5H2.75a.75.75 0 01-.75-.75zM2.75 17a.75.75 0 000 1.5h18.5a.75.75 0 000-1.5H2.75z"></path></g></svg></button></div></header></div><div class="base-layout_contentArea__BMvQn"><div class="sidebar-sidecar-layout_root__h5rD8 sidebar-sidecar-layout_mainWidth-narrow__FhCbs"><div class="mobile-menu-container_root__fPUFu sidebar-sidecar-layout_sidebarContainer__4fcF8"><div class="sidebar-sidecar-layout_sidebarContentWrapper__ftn5q"><div class="sidebar-sidecar-layout_sidePadding__iwNw_"><div class="sidebar_sidebar___fTlC"><div class="sidebar_backToLinkWrapper__F6iLs"><div class="sidebar-back-to-link_root__z_Hj1"><a class="standalone-link_standaloneLink__ahuej g-focus-ring-from-box-shadow standalone-link_primary__ESNCA" href="/consul"><div class="standalone-link_standaloneLinkContents__4I2XN standalone-link_medium__J2yVM"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M10.795 3.235a.75.75 0 01-.03 1.06L6.842 8l3.923 3.705a.75.75 0 01-1.03 1.09l-4.5-4.25a.75.75 0 010-1.09l4.5-4.25a.75.75 0 011.06.03z" clip-rule="evenodd"></path></svg><span class="standalone-link_text__7GEyG">Consul Home</span></div></a></div></div><div class="sidebar_filterInputWrapper__0_l_Y"><div class="filter-input_filterInputContainer__thZt3"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="filter-input_filterIcon__UET0p filter-input_sharedIconColorAndPositioning__hXPit"><g fill="currentColor"><path d="M1 3.75A.75.75 0 011.75 3h12.5a.75.75 0 010 1.5H1.75A.75.75 0 011 3.75zM3.5 7.75A.75.75 0 014.25 7h7.5a.75.75 0 010 1.5h-7.5a.75.75 0 01-.75-.75zM6.75 11a.75.75 0 000 1.5h2.5a.75.75 0 000-1.5h-2.5z"></path></g></svg><input class="filter-input_filterInput__hga4N g-focus-ring-from-box-shadow" placeholder="Filter sidebar" autoComplete="off" autoCorrect="off" autoCapitalize="none" spellcheck="false" value=""/></div></div><nav aria-labelledby="sidebar-label" class="sidebar_nav__IworY" id="sidebar-nav"><div class="g-screen-reader-only"><h2 class="sidebar-headings_root__tGfxC" id="sidebar-label">CLI</h2></div><ul class="sidebar_navList__4Rg4g"><li><a class="sidebar-nav-highlight-item_root___pPhp g-focus-ring-from-box-shadow sidebar-nav-highlight-item_theme-consul__NA90N" href="/consul/commands"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="sidebar-nav-highlight-item_icon__G8JxG"><g fill="var(--token-color-consul-brand)"><path d="M4.737 14.193A7 7 0 008.006 15a6.98 6.98 0 004.735-1.847l-1.66-1.737a4.6 4.6 0 110-6.828l1.66-1.738a7 7 0 10-8.004 11.343zM13.32 11.402a.573.573 0 10.637-.953.573.573 0 00-.637.953z"></path><path d="M7.96 9.517a1.517 1.517 0 11-.012-3.034 1.517 1.517 0 01.013 3.034zM13.978 9.447a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 9.472a.574.574 0 110-1.148.574.574 0 010 1.148zM13.978 7.514a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 7.675a.574.574 0 110-1.148.574.574 0 010 1.148zM13.353 5.585a.574.574 0 10.635-.956.574.574 0 00-.635.956z"></path></g></svg><span class="sidebar-nav-highlight-item_text__VORFJ hds-typography-body-200">CLI</span></a></li><li id="sidebar-nav-item-1"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-1-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">acl</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-46"><a aria-current="page" class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/consul/commands/agent"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">agent</span></a></li><li id="sidebar-nav-item-47"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-47-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">catalog</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-52"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-52-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">config</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-58"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-58-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">connect</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-65"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/consul/commands/debug"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">debug</span></a></li><li id="sidebar-nav-item-66"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/consul/commands/event"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">event</span></a></li><li id="sidebar-nav-item-67"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/consul/commands/exec"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">exec</span></a></li><li id="sidebar-nav-item-68"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/consul/commands/force-leave"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">force-leave</span></a></li><li id="sidebar-nav-item-69"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/consul/commands/info"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">info</span></a></li><li id="sidebar-nav-item-70"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-70-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">intention</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-78"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/consul/commands/join"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">join</span></a></li><li id="sidebar-nav-item-79"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/consul/commands/keygen"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">keygen</span></a></li><li id="sidebar-nav-item-80"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/consul/commands/keyring"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">keyring</span></a></li><li id="sidebar-nav-item-81"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-81-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">kv</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-88"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/consul/commands/leave"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">leave</span></a></li><li id="sidebar-nav-item-89"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/consul/commands/license"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">license</span></a></li><li id="sidebar-nav-item-90"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/consul/commands/lock"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">lock</span></a></li><li id="sidebar-nav-item-91"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/consul/commands/login"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">login</span></a></li><li id="sidebar-nav-item-92"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/consul/commands/logout"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">logout</span></a></li><li id="sidebar-nav-item-93"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/consul/commands/maint"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">maint</span></a></li><li id="sidebar-nav-item-94"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/consul/commands/members"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">members</span></a></li><li id="sidebar-nav-item-95"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/consul/commands/monitor"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">monitor</span></a></li><li id="sidebar-nav-item-96"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-96-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">namespace</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-104"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-104-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">operator</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-110"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/consul/commands/partition"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">partition</span></a></li><li id="sidebar-nav-item-111"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-111-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">peering</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-119"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/consul/commands/reload"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">reload</span></a></li><li id="sidebar-nav-item-120"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/consul/commands/rtt"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">rtt</span></a></li><li id="sidebar-nav-item-121"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-121-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">services</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-127"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-127-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">snapshot</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-134"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-134-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">tls</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-138"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-138-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">troubleshoot</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-143"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/consul/commands/validate"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">validate</span></a></li><li id="sidebar-nav-item-144"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/consul/commands/version"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">version</span></a></li><li id="sidebar-nav-item-145"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/consul/commands/watch"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">watch</span></a></li></ul><hr class="sidebar-horizontal-rule_root__UY7oh"/><ul class="sidebar_navList__4Rg4g"><li><h3 class="sidebar-headings_root__tGfxC">Resources</h3></li><li><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/tutorials/library?product=consul"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Tutorial Library</span></a></li><li><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/certifications/security-automation"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Certifications</span></a></li><li><a aria-label="Community Forum. Opens in a new tab." class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" rel="noreferrer noopener" aria-describedby="opens-in-new-tab-label-react-aria-39" target="_blank" href="https://discuss.hashicorp.com/c/consul/29"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Community Forum</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path d="M9 .75A.75.75 0 019.75 0h4.5c.206 0 .393.083.529.218l.001.002.002.001A.748.748 0 0115 .75v4.5a.75.75 0 01-1.5 0V2.56L7.28 8.78a.75.75 0 01-1.06-1.06l6.22-6.22H9.75A.75.75 0 019 .75z"></path><path d="M3.25 3.5a.75.75 0 00-.75.75v7.5c0 .414.336.75.75.75h7.5a.75.75 0 00.75-.75v-4a.75.75 0 011.5 0v4A2.25 2.25 0 0110.75 14h-7.5A2.25 2.25 0 011 11.75v-7.5A2.25 2.25 0 013.25 2h4a.75.75 0 010 1.5h-4z"></path></g></svg></div></a><span class="g-screen-reader-only" id="opens-in-new-tab-label-react-aria-39">(opens in new tab)</span></li><li><a aria-label="Support. Opens in a new tab." class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" rel="noreferrer noopener" aria-describedby="opens-in-new-tab-label-react-aria-40" target="_blank" href="https://www.hashicorp.com/customer-success"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Support</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path d="M9 .75A.75.75 0 019.75 0h4.5c.206 0 .393.083.529.218l.001.002.002.001A.748.748 0 0115 .75v4.5a.75.75 0 01-1.5 0V2.56L7.28 8.78a.75.75 0 01-1.06-1.06l6.22-6.22H9.75A.75.75 0 019 .75z"></path><path d="M3.25 3.5a.75.75 0 00-.75.75v7.5c0 .414.336.75.75.75h7.5a.75.75 0 00.75-.75v-4a.75.75 0 011.5 0v4A2.25 2.25 0 0110.75 14h-7.5A2.25 2.25 0 011 11.75v-7.5A2.25 2.25 0 013.25 2h4a.75.75 0 010 1.5h-4z"></path></g></svg></div></a><span class="g-screen-reader-only" id="opens-in-new-tab-label-react-aria-40">(opens in new tab)</span></li><li><a aria-label="GitHub. Opens in a new tab." class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" rel="noreferrer noopener" aria-describedby="opens-in-new-tab-label-react-aria-41" target="_blank" href="https://github.com/hashicorp/consul"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">GitHub</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path d="M9 .75A.75.75 0 019.75 0h4.5c.206 0 .393.083.529.218l.001.002.002.001A.748.748 0 0115 .75v4.5a.75.75 0 01-1.5 0V2.56L7.28 8.78a.75.75 0 01-1.06-1.06l6.22-6.22H9.75A.75.75 0 019 .75z"></path><path d="M3.25 3.5a.75.75 0 00-.75.75v7.5c0 .414.336.75.75.75h7.5a.75.75 0 00.75-.75v-4a.75.75 0 011.5 0v4A2.25 2.25 0 0110.75 14h-7.5A2.25 2.25 0 011 11.75v-7.5A2.25 2.25 0 013.25 2h4a.75.75 0 010 1.5h-4z"></path></g></svg></div></a><span class="g-screen-reader-only" id="opens-in-new-tab-label-react-aria-41">(opens in new tab)</span></li></ul></nav></div></div></div></div><div class="sidebar-sidecar-layout_contentWrapper__Z5BK4"><div class="sidebar-sidecar-layout_paddedAreaWrapper___S_Ff"><div class="sidebar-sidecar-layout_breadcrumbContainer__3uz7P"><div class="sidebar-sidecar-layout_breadcrumbMaxWidth__coOcu"><nav aria-label="Breadcrumb" class="breadcrumb-bar_root__wd_C5"><ol class="breadcrumb-bar_listRoot__8eupO"><li class="text_root__r0DFB hds-typography-body-100 hds-font-weight-medium breadcrumb-bar_listItem__2sevd"><a class="breadcrumb-bar_breadcrumbText__JvOrd g-focus-ring-from-box-shadow" href="/">Developer</a></li><li class="text_root__r0DFB hds-typography-body-100 hds-font-weight-medium breadcrumb-bar_listItem__2sevd"><a class="breadcrumb-bar_breadcrumbText__JvOrd g-focus-ring-from-box-shadow" href="/consul">Consul</a></li><li class="text_root__r0DFB hds-typography-body-100 hds-font-weight-medium breadcrumb-bar_listItem__2sevd"><a class="breadcrumb-bar_breadcrumbText__JvOrd g-focus-ring-from-box-shadow" href="/consul/commands">CLI</a></li><li class="text_root__r0DFB hds-typography-body-100 hds-font-weight-medium breadcrumb-bar_listItem__2sevd"><span class="breadcrumb-bar_breadcrumbText__JvOrd g-focus-ring-from-box-shadow" aria-current="page">agent</span></li></ol></nav></div></div><div class="sidebar-sidecar-layout_mainAndSidecar__UDm3Z"><main id="main" class="sidebar-sidecar-layout_main__0SN51"><div class="docs-page-heading_root__QuBg_ docs-view_docsPageHeading___xkrK"><div class="docs-page-heading_pageHeadingWrapper__LEMQ7"><h1 class="hds-typography-display-600 hds-font-weight-bold docs-plain-page-heading_root__HzRuX g-offset-scroll-margin-top" id="consul-agent">Consul Agent</h1></div></div><div class="dev-dot-content_root__UJDct hds-typography-body-300"><div class="docs-view_mdxContent___uMnx"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">This page describes the available command-line options for the Consul agent.</p><h2 id="usage" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="usage permalink" href="/consul/commands/agent#usage"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Usage</h2><div class="hds-code-block hds-code-block--theme-dark language-shellsession hds-code-block--is-standalone language-shellsession mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R1tdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">consul agent &lt;OPTIONS&gt;</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R1tdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":Rehtdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><h2 id="environment-variables" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="environment variables permalink" href="/consul/commands/agent#environment-variables"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Environment Variables</h2><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Environment variables <strong>cannot</strong> be used to configure the Consul client. They
<em>can</em> be used when running other <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">consul</code> CLI commands that connect with a
running agent, e.g. <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">CONSUL_HTTP_ADDR=192.168.0.1:8500 consul members</code>.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">REFER TO <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/commands#environment-variables">Consul Commands</a> for more
information.</p><h2 id="options" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="options permalink" href="/consul/commands/agent#options"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Options</h2><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="auto-reload-config" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/commands/agent#"></a><a id="_auto_reload_config" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/commands/agent#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="auto reload config permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/commands/agent#_auto_reload_config"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-auto-reload-config</code></a> - This option directs Consul to automatically reload the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/docs/agent/config#reloadable-configuration">reloadable configuration options</a> when configuration files change.
Consul also watches the certificate and key files specified with the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">cert_file</code> and <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">key_file</code> parameters and reloads the configuration if the files are updated.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="check_output_max_size" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/commands/agent#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="check_output_max_size permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/commands/agent#check_output_max_size"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-check_output_max_size</code></a> - Override the default
limit of 4k for maximum size of checks, this is a positive value. By limiting this
size, it allows to put less pressure on Consul servers when many checks are having
a very large output in their checks. In order to completely disable check output
capture, it is possible to use <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/docs/reference/agent/configuration-file/general#discard_check_output"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">discard_check_output</code></a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="client" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/commands/agent#"></a><a id="_client" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/commands/agent#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="client permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/commands/agent#_client"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-client</code></a> - The address to which Consul will bind client
interfaces, including the HTTP and DNS servers. By default, this is &quot;127.0.0.1&quot;,
allowing only loopback connections. In Consul 1.0 and later this can be set to
a space-separated list of addresses to bind to, or a <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://godoc.org/github.com/hashicorp/go-sockaddr/template">go-sockaddr</a>
template that can potentially resolve to multiple addresses.</p><div class="hds-code-block hds-code-block--theme-dark language-shell hds-code-block--is-standalone"><div class="hds-code-block__header"><p class="hds-text hds-typography-body-200 hds-font-weight-semibold hds-code-block__title">Bind consul client interfaces to private IPv4 interfaces</p></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":Rhkddal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-function)">$</span><span style="color:var(--hds-code-block-color-string)"> consul</span><span style="color:var(--hds-code-block-color-string)"> agent</span><span style="color:var(--hds-code-block-color-string)"> -dev</span><span style="color:var(--hds-code-block-color-string)"> -client</span><span style="color:var(--hds-code-block-color-string)"> &#x27;{{ GetPrivateInterfaces | exclude &quot;type&quot; &quot;ipv6&quot; | join &quot;address&quot; &quot; &quot; }}&#x27;</span></span>
</span></span></code></pre></div></div><div class="hds-code-block hds-code-block--theme-dark language-shell hds-code-block--is-standalone"><div class="hds-code-block__header"><p class="hds-text hds-typography-body-200 hds-font-weight-semibold hds-code-block__title">Bind consul client interfaces to private IP addresses and loopback</p></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":Rlkddal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-function)">$</span><span style="color:var(--hds-code-block-color-string)"> consul</span><span style="color:var(--hds-code-block-color-string)"> agent</span><span style="color:var(--hds-code-block-color-string)"> -dev</span><span style="color:var(--hds-code-block-color-string)"> -client</span><span style="color:var(--hds-code-block-color-string)"> &#x27;{{ GetPrivateInterfaces | join &quot;address&quot; &quot; &quot; }} {{ GetAllInterfaces | include &quot;flags&quot; &quot;loopback&quot; | join &quot;address&quot; &quot; &quot; }}&#x27;</span></span>
</span></span></code></pre></div></div><div class="hds-code-block hds-code-block--theme-dark language-shell hds-code-block--is-standalone"><div class="hds-code-block__header"><p class="hds-text hds-typography-body-200 hds-font-weight-semibold hds-code-block__title">Exclude private interfaces that start with &#x27;br-&#x27;</p></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":Rpkddal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-function)">$</span><span style="color:var(--hds-code-block-color-string)"> consul</span><span style="color:var(--hds-code-block-color-string)"> agent</span><span style="color:var(--hds-code-block-color-string)"> -dev</span><span style="color:var(--hds-code-block-color-string)"> -client</span><span style="color:var(--hds-code-block-color-string)"> &#x27;{{ GetPrivateInterfaces | exclude &quot;name&quot; &quot;br.*&quot; | join &quot;address&quot; &quot; &quot; }}&#x27;</span></span>
</span></span></code></pre></div></div></li><li class="mdx-lists_listItem__nkqhg"><a id="data-dir" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/commands/agent#"></a><a id="_data_dir" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/commands/agent#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="data dir permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/commands/agent#_data_dir"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-data-dir</code></a> - This flag provides a data directory for
the agent to store state. This is required for all agents. The directory should
be durable across reboots. This is especially critical for agents that are running
in server mode as they must be able to persist cluster state. Additionally, the
directory must support the use of filesystem locking, meaning some types of mounted
folders (e.g. VirtualBox shared folders) may not be suitable.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><strong>Note:</strong> both server and non-server agents may store ACL tokens in the state in this directory so read access may grant access to any tokens on servers and to any tokens used during service registration on non-servers. On Unix-based platforms the files are written with 0600 permissions so you should ensure only trusted processes can execute as the same user as Consul. On Windows, you should ensure the directory has suitable permissions configured as these will be inherited.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="datacenter" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/commands/agent#"></a><a id="_datacenter" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/commands/agent#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="datacenter permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/commands/agent#_datacenter"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-datacenter</code></a> - This flag controls the datacenter in
which the agent is running. If not provided, it defaults to &quot;dc1&quot;. Consul has first-class
support for multiple datacenters, but it relies on proper configuration. Nodes
in the same datacenter should be on a single LAN.</p></li></ul><div class="alert alert-warning g-type-body"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><strong>Warning:</strong> This <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">datacenter</code> string must conform to <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://datatracker.ietf.org/doc/html/rfc1035#section-2.3.1">RFC 1035 DNS label requirements</a>,
consisting solely of letters, digits, and hyphens, with a maximum
length of 63 characters, and no hyphens at the beginning or end of the label.
Non-compliant names create Consul DNS entries incompatible with PKI X.509 certificate generation.</p></div><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="dev" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/commands/agent#"></a><a id="_dev" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/commands/agent#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="dev permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/commands/agent#_dev"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-dev</code></a> - Enable development server mode. This is useful for
quickly starting a Consul agent with all persistence options turned off, enabling
an in-memory server which can be used for rapid prototyping or developing against
the API. In this mode, <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/docs/fundamentals/config-entry">service mesh is enabled</a> and
will by default create a new root CA certificate on startup. This mode is <strong>not</strong>
intended for production use as it does not write any data to disk. The gRPC port
is also defaulted to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">8502</code> in this mode.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="disable-keyring-file" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/commands/agent#"></a><a id="_disable_keyring_file" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/commands/agent#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="disable keyring file permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/commands/agent#_disable_keyring_file"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-disable-keyring-file</code></a> - If set, the keyring
will not be persisted to a file. Any installed keys will be lost on shutdown, and
only the given <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-encrypt</code> key will be available on startup. This defaults to false.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="enable-script-checks" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/commands/agent#"></a><a id="_enable_script_checks" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/commands/agent#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="enable script checks permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/commands/agent#_enable_script_checks"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-enable-script-checks</code></a> This controls whether
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/docs/register/health-check/vm">health checks that execute scripts</a> are enabled on this
agent, and defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">false</code> so operators must opt-in to allowing these. This
was added in Consul 0.9.0.</p><div class="alert alert-warning g-type-body"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><strong>Security Warning:</strong> Enabling script checks in some configurations may
introduce a remote execution vulnerability which is known to be targeted by
malware. We strongly recommend <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-enable-local-script-checks</code> instead. See <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://www.hashicorp.com/blog/protecting-consul-from-rce-risk-in-specific-configurations">this
blog post</a>
for more details.</p></div></li><li class="mdx-lists_listItem__nkqhg"><a id="enable-local-script-checks" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/commands/agent#"></a><a id="_enable_local_script_checks" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/commands/agent#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="enable local script checks permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/commands/agent#_enable_local_script_checks"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-enable-local-script-checks</code></a>
Like <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/commands/agent#_enable_script_checks"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-enable-script-checks</code></a>, but only enable them when
they are defined in the local configuration files. Script checks defined in HTTP
API registrations will still not be allowed.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="encrypt" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/commands/agent#"></a><a id="_encrypt" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/commands/agent#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="encrypt permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/commands/agent#_encrypt"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-encrypt</code></a> - Specifies the secret key to use for encryption
of Consul network traffic. This key must be 32-bytes that are Base64-encoded. The
easiest way to create an encryption key is to use <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/commands/keygen"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">consul keygen</code></a>.
All nodes within a cluster must share the same encryption key to communicate. The
provided key is automatically persisted to the data directory and loaded automatically
whenever the agent is restarted. This means that to encrypt Consul&#x27;s gossip protocol,
this option only needs to be provided once on each agent&#x27;s initial startup sequence.
If it is provided after Consul has been initialized with an encryption key, then
the provided key is ignored and a warning will be displayed.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="grpc-port" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/commands/agent#"></a><a id="_grpc_port" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/commands/agent#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="grpc port permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/commands/agent#_grpc_port"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-grpc-port</code></a> - the gRPC API port to listen on. Default
-1 (gRPC disabled). See <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/docs/agent/config#ports-used">ports</a> documentation for more detail.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="hcl" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/commands/agent#"></a><a id="_hcl" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/commands/agent#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="hcl permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/commands/agent#_hcl"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-hcl</code></a> - A HCL configuration fragment. This HCL configuration
fragment is appended to the configuration and allows to specify the full range
of options of a config file on the command line. This option can be specified multiple
times. This was added in Consul 1.0.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="http-port" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/commands/agent#"></a><a id="_http_port" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/commands/agent#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="http port permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/commands/agent#_http_port"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-http-port</code></a> - the HTTP API port to listen on. This overrides
the default port 8500. This option is very useful when deploying Consul to an environment
which communicates the HTTP port through the environment e.g. PaaS like CloudFoundry,
allowing you to set the port directly via a Procfile.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="https-port" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/commands/agent#"></a><a id="_https_port" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/commands/agent#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="https port permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/commands/agent#_https_port"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-https-port</code></a> - the HTTPS API port to listen on. Default
-1 (https disabled). See <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/docs/agent/config#ports-used">ports</a> documentation for more detail.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="default-query-time" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/commands/agent#"></a><a id="_default_query_time" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/commands/agent#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="default query time permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/commands/agent#_default_query_time"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-default-query-time</code></a> - This flag controls the
amount of time a blocking query will wait before Consul will force a response.
This value can be overridden by the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">wait</code> query parameter. Note that Consul applies
some jitter on top of this time. Defaults to 300s.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="max-query-time" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/commands/agent#"></a><a id="_max_query_time" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/commands/agent#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="max query time permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/commands/agent#_max_query_time"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-max-query-time</code></a> - this flag controls the maximum
amount of time a blocking query can wait before Consul will force a response. Consul
applies jitter to the wait time. The jittered time will be capped to this time.
Defaults to 600s.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="pid-file" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/commands/agent#"></a><a id="_pid_file" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/commands/agent#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="pid file permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/commands/agent#_pid_file"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-pid-file</code></a> - This flag provides the file path for the
agent to store its PID. This is useful for sending signals (for example, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">SIGINT</code>
to close the agent or <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">SIGHUP</code> to update check definitions) to the agent.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="protocol" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/commands/agent#"></a><a id="_protocol" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/commands/agent#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="protocol permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/commands/agent#_protocol"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-protocol</code></a> - The Consul protocol version to use. Consul
agents speak protocol 2 by default, however agents will automatically use protocol &gt; 2 when speaking to compatible agents. This should be set only when <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/docs/upgrade">upgrading</a>. You can view the protocol versions supported by Consul by running <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">consul version</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="raft-protocol" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/commands/agent#"></a><a id="_raft_protocol" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/commands/agent#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="raft protocol permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/commands/agent#_raft_protocol"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-raft-protocol</code></a> - This controls the internal version
of the Raft consensus protocol used for server communications. This must be set
to 3 in order to gain access to Autopilot features, with the exception of <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/docs/reference/agent/configuration-file/general#cleanup_dead_servers"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">cleanup_dead_servers</code></a>. Defaults to 3 in Consul 1.0.0 and later (defaulted to 2 previously). See <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/docs/upgrade/version-specific#raft-protocol-version-compatibility">Raft Protocol Version Compatibility</a> for more details.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="segment" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/commands/agent#"></a><a id="_segment" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/commands/agent#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="segment permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/commands/agent#_segment"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-segment</code></a> <span class="enterprise-alert_root__mvEIF enterprise-alert_inline__IqpbC"><span class="g-screen-reader-only">Enterprise</span><span aria-hidden="true" class="badge_root___Z7Nt badge_medium__8VGoW badge_outlined-neutral__32YXY enterprise-alert_badge___N2fV"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="var(--token-color-consul-brand)"><path d="M4.737 14.193A7 7 0 008.006 15a6.98 6.98 0 004.735-1.847l-1.66-1.737a4.6 4.6 0 110-6.828l1.66-1.738a7 7 0 10-8.004 11.343zM13.32 11.402a.573.573 0 10.637-.953.573.573 0 00-.637.953z"></path><path d="M7.96 9.517a1.517 1.517 0 11-.012-3.034 1.517 1.517 0 01.013 3.034zM13.978 9.447a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 9.472a.574.574 0 110-1.148.574.574 0 010 1.148zM13.978 7.514a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 7.675a.574.574 0 110-1.148.574.574 0 010 1.148zM13.353 5.585a.574.574 0 10.635-.956.574.574 0 00-.635.956z"></path></g></svg><span>Enterprise</span></span></span> - This flag is used to set
the name of the network segment the agent belongs to. An agent can only join and
communicate with other agents within its network segment. Ensure the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/docs/multi-tenant/network-segment/vm#configure-clients-to-join-segments">join
operation uses the correct port for this segment</a>.
Review the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/docs/multi-tenant/network-segment/vm">Network Segments documentation</a>
for more details. By default, this is an empty string, which is the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">&lt;default&gt;</code>
network segment.</p><div class="alert alert-warning g-type-body"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><strong>Warning:</strong> The <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">segment</code> flag cannot be used with the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/docs/reference/agent/configuration-file/general#partition"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">partition</code></a> option.</p></div></li></ul><h2 id="advertise-address-options" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="advertise address options permalink" href="/consul/commands/agent#advertise-address-options"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Advertise Address Options</h2><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="advertise" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/commands/agent#"></a><a id="_advertise" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/commands/agent#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="advertise permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/commands/agent#_advertise"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-advertise</code></a> - The advertise address is used to change
the address that we advertise to other nodes in the cluster. By default, the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/commands/agent#_bind"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-bind</code></a>
address is advertised. However, in some cases, there may be a routable address
that cannot be bound. This flag enables gossiping a different address to support
this. If this address is not routable, the node will be in a constant flapping
state as other nodes will treat the non-routability as a failure. In Consul 1.1.0 and later this can be dynamically defined with a <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://godoc.org/github.com/hashicorp/go-sockaddr/template">go-sockaddr</a>
template that is resolved at runtime.</p><div class="hds-code-block hds-code-block--theme-dark language-shellsession hds-code-block--is-standalone"><div class="hds-code-block__header"><p class="hds-text hds-typography-body-200 hds-font-weight-semibold hds-code-block__title">Using a static network interface name</p></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R8mddal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-cyan)">$</span><span style="color:var(--hds-code-block-color-token)"> consul agent -advertise </span><span style="color:var(--hds-code-block-color-string)">&#x27;{{ GetInterfaceIP &quot;eth0&quot; }}&#x27;</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R8mddal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":Reomddal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li><li class="mdx-lists_listItem__nkqhg"><a id="advertise-wan" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/commands/agent#"></a><a id="_advertise-wan" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/commands/agent#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="advertise wan permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/commands/agent#_advertise-wan"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-advertise-wan</code></a> - The advertise WAN address is used
to change the address that we advertise to server nodes joining through the WAN.
This can also be set on client agents when used in combination with the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/docs/reference/agent/configuration-file/general#translate_wan_addrs"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">translate_wan_addrs</code></a> configuration option. By default, the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/commands/agent#_advertise"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-advertise</code></a> address
is advertised. However, in some cases all members of all datacenters cannot be
on the same physical or virtual network, especially on hybrid setups mixing cloud
and private datacenters. This flag enables server nodes gossiping through the public
network for the WAN while using private VLANs for gossiping to each other and their
client agents, and it allows client agents to be reached at this address when being
accessed from a remote datacenter if the remote datacenter is configured with <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/docs/reference/agent/configuration-file/general#translate_wan_addrs"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">translate_wan_addrs</code></a>. In Consul 1.1.0 and later this can be dynamically defined with a <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://godoc.org/github.com/hashicorp/go-sockaddr/template">go-sockaddr</a>
template that is resolved at runtime.</p></li></ul><h2 id="address-bind-options" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="address bind options permalink" href="/consul/commands/agent#address-bind-options"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Address Bind Options</h2><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="bind" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/commands/agent#"></a><a id="_bind" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/commands/agent#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="bind permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/commands/agent#_bind"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-bind</code></a> - The address that should be bound to for internal
cluster communications. This is an IP address that should be reachable by all other
nodes in the cluster. By default, this is &quot;0.0.0.0&quot;, meaning Consul will bind to
all addresses on the local machine and will <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/commands/agent#_advertise">advertise</a>
the private IPv4 address to the rest of the cluster. If there are multiple private
IPv4 addresses available, Consul will exit with an error at startup. If you specify
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">&quot;[::]&quot;</code>, Consul will <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/commands/agent#_advertise">advertise</a> the public
IPv6 address. If there are multiple public IPv6 addresses available, Consul will
exit with an error at startup. Consul uses both TCP and UDP and the same port for
both. If you have any firewalls, be sure to allow both protocols. In Consul 1.1.0 and later this can be dynamically defined with a <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://godoc.org/github.com/hashicorp/go-sockaddr/template">go-sockaddr</a>
template that must resolve at runtime to a single address. Some example templates:</p><div class="hds-code-block hds-code-block--theme-dark language-shellsession hds-code-block--is-standalone"><div class="hds-code-block__header"><p class="hds-text hds-typography-body-200 hds-font-weight-semibold hds-code-block__title">Using address within a specific CIDR</p></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R8nddal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-cyan)">$</span><span style="color:var(--hds-code-block-color-token)"> consul agent -bind </span><span style="color:var(--hds-code-block-color-string)">&#x27;{{ GetPrivateInterfaces | include &quot;network&quot; &quot;10.0.0.0/8&quot; | attr &quot;address&quot; }}&#x27;</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R8nddal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":Reonddal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><div class="hds-code-block hds-code-block--theme-dark language-shellsession hds-code-block--is-standalone"><div class="hds-code-block__header"><p class="hds-text hds-typography-body-200 hds-font-weight-semibold hds-code-block__title">Using a static network interface name</p></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":Randdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-cyan)">$</span><span style="color:var(--hds-code-block-color-token)"> consul agent -bind </span><span style="color:var(--hds-code-block-color-string)">&#x27;{{ GetInterfaceIP &quot;eth0&quot; }}&#x27;</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":Randdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":Reqnddal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><div class="hds-code-block hds-code-block--theme-dark language-shellsession hds-code-block--is-standalone"><div class="hds-code-block__header"><p class="hds-text hds-typography-body-200 hds-font-weight-semibold hds-code-block__title">Using regular expression matching for network interface name that is forwardable and up</p></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":Rcnddal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-cyan)">$</span><span style="color:var(--hds-code-block-color-token)"> consul agent -bind </span><span style="color:var(--hds-code-block-color-string)">&#x27;{{ GetAllInterfaces | include &quot;name&quot; &quot;^eth&quot; | include &quot;flags&quot; &quot;forwardable|up&quot; | attr &quot;address&quot; }}&#x27;</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":Rcnddal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":Resnddal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li><li class="mdx-lists_listItem__nkqhg"><a id="serf-wan-bind" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/commands/agent#"></a><a id="_serf_wan_bind" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/commands/agent#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="serf wan bind permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/commands/agent#_serf_wan_bind"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-serf-wan-bind</code></a> - The address that should be bound
to for Serf WAN gossip communications. By default, the value follows the same rules
as <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/commands/agent#_bind"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-bind</code> command-line flag</a>, and if this is not specified, the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-bind</code>
option is used. This is available in Consul 0.7.1 and later. In Consul 1.1.0 and later this can be dynamically defined with a <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://godoc.org/github.com/hashicorp/go-sockaddr/template">go-sockaddr</a>
template that is resolved at runtime.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="serf-lan-bind" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/commands/agent#"></a><a id="_serf_lan_bind" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/commands/agent#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="serf lan bind permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/commands/agent#_serf_lan_bind"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-serf-lan-bind</code></a> - The address that should be bound
to for Serf LAN gossip communications. This is an IP address that should be reachable
by all other LAN nodes in the cluster. By default, the value follows the same rules
as <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/commands/agent#_bind"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-bind</code> command-line flag</a>, and if this is not specified, the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-bind</code>
option is used. This is available in Consul 0.7.1 and later. In Consul 1.1.0 and later this can be dynamically defined with a <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://godoc.org/github.com/hashicorp/go-sockaddr/template">go-sockaddr</a>
template that is resolved at runtime.</p></li></ul><h2 id="bootstrap-options" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="bootstrap options permalink" href="/consul/commands/agent#bootstrap-options"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Bootstrap Options</h2><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="bootstrap" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/commands/agent#"></a><a id="_bootstrap" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/commands/agent#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="bootstrap permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/commands/agent#_bootstrap"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-bootstrap</code></a> - This flag is used to control if a server
is in &quot;bootstrap&quot; mode. It is important that no more than one server <strong>per</strong> datacenter
be running in this mode. Technically, a server in bootstrap mode is allowed to
self-elect as the Raft leader. It is important that only a single node is in this
mode; otherwise, consistency cannot be guaranteed as multiple nodes are able to
self-elect. It is not recommended to use this flag after a cluster has been bootstrapped.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="bootstrap-expect" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/commands/agent#"></a><a id="_bootstrap_expect" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/commands/agent#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="bootstrap expect permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/commands/agent#_bootstrap_expect"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-bootstrap-expect</code></a> - This flag provides the number
of expected servers in the datacenter. Either this value should not be provided
or the value must agree with other servers in the cluster. When provided, Consul
waits until the specified number of servers are available and then bootstraps the
cluster. This allows an initial leader to be elected automatically. This cannot
be used in conjunction with the legacy <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/commands/agent#_bootstrap"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-bootstrap</code></a> flag. This flag
requires <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/commands/agent#_server"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-server</code></a> mode.</p></li></ul><h2 id="configuration-file-options" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="configuration file options permalink" href="/consul/commands/agent#configuration-file-options"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Configuration File Options</h2><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="config-file" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/commands/agent#"></a><a id="_config_file" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/commands/agent#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="config file permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/commands/agent#_config_file"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-config-file</code></a> - A configuration file to load. For
more information on the format of this file, read the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/docs/reference/agent">Configuration Files</a>
section. This option can be specified multiple times to load multiple configuration
files. If it is specified multiple times, configuration files loaded later will
merge with configuration files loaded earlier. During a config merge, single-value
keys (string, int, bool) will simply have their values replaced while list types
will be appended together.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="config-dir" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/commands/agent#"></a><a id="_config_dir" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/commands/agent#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="config dir permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/commands/agent#_config_dir"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-config-dir</code></a> - A directory of configuration files to
load. Consul will load all files in this directory with the suffix &quot;.json&quot; or &quot;.hcl&quot;.
The load order is alphabetical, and the same merge routine is used as with
the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/commands/agent#_config_file"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">config-file</code></a> option above. This option can be specified multiple
times to load multiple directories. Sub-directories of the config directory are
not loaded. For more information on the format of the configuration files, refer to
the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/docs/reference/agent">Configuration Files</a> section.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="config-format" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/commands/agent#"></a><a id="_config_format" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/commands/agent#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="config format permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/commands/agent#_config_format"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-config-format</code></a> - The format of the configuration
files to load. Normally, Consul detects the format of the config files from the
&quot;.json&quot; or &quot;.hcl&quot; extension. Setting this option to either &quot;json&quot; or &quot;hcl&quot; forces
Consul to interpret any file with or without extension to be interpreted in that
format.</p></li></ul><h2 id="dns-and-domain-options" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="dns and domain options permalink" href="/consul/commands/agent#dns-and-domain-options"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>DNS and Domain Options</h2><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="dns-port" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/commands/agent#"></a><a id="_dns_port" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/commands/agent#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="dns port permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/commands/agent#_dns_port"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-dns-port</code></a> - the DNS port to listen on. This overrides
the default port 8600. This is available in Consul 0.7 and later.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="domain" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/commands/agent#"></a><a id="_domain" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/commands/agent#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="domain permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/commands/agent#_domain"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-domain</code></a> - By default, Consul responds to DNS queries in
the &quot;consul.&quot; domain. This flag can be used to change that domain. All queries
in this domain are assumed to be handled by Consul and will not be recursively
resolved.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="alt-domain" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/commands/agent#"></a><a id="_alt_domain" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/commands/agent#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="alt domain permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/commands/agent#_alt_domain"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-alt-domain</code></a> - This flag allows Consul to respond to
DNS queries in an alternate domain, in addition to the primary domain. If unset,
no alternate domain is used.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">In Consul 1.10.4 and later, Consul DNS responses will use the same domain as in the query (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-domain</code> or <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-alt-domain</code>) where applicable.
PTR query responses will always use <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-domain</code>, since the desired domain cannot be included in the query.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="recursor" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/commands/agent#"></a><a id="_recursor" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/commands/agent#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="recursor permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/commands/agent#_recursor"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-recursor</code></a> - Specifies the address of an upstream DNS
server. This option may be provided multiple times, and is functionally equivalent
to the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/docs/reference/agent/configuration-file/general#recursors"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">recursors</code> configuration option</a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="join" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/commands/agent#"></a><a id="_join" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/commands/agent#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="join permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/commands/agent#_join"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-join</code></a> - <strong>Deprecated in Consul 1.15. This flag will be removed in a future version of Consul. Use the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-retry-join</code> flag instead.</strong>
This is an alias of <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/commands/agent#_retry_join"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-retry-join</code></a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="retry-join" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/commands/agent#"></a><a id="_retry_join" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/commands/agent#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="retry join permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/commands/agent#_retry_join"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-retry-join</code></a> - Address of another agent to join upon starting up. Joining is
retried until success. Once the agent joins successfully as a member, it will not attempt to join
again. After joining, the agent solely maintains its membership via gossip. This option can be
specified multiple times to specify multiple agents to join. By default, the agent won&#x27;t join any
nodes when it starts up. The value can contain IPv4, IPv6, or DNS addresses. Literal IPv6
addresses must be enclosed in square brackets. If multiple values are given, they are tried and
retried in the order listed until the first succeeds.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">This supports <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/commands/agent#cloud-auto-joining">Cloud Auto-Joining</a>.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">This can be dynamically defined with a <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://godoc.org/github.com/hashicorp/go-sockaddr/template">go-sockaddr</a> template that is resolved at runtime.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">If Consul is running on a non-default Serf LAN port, you must specify the port number in the address when using the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-retry-join</code> flag. Alternatively, you can specify the custom port number as the default in the agent&#x27;s <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/docs/reference/agent/configuration-file/general#serf_lan_port"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ports.serf_lan</code></a> configuration or with the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/commands/agent#_serf_lan_port"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-serf-lan-port</code></a> command line flag when starting the agent.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">If your network contains network segments, refer to the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/docs/multi-tenant/network-segment/vm">network segments documentation</a> for additional information.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Here are some examples of using <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-retry-join</code>:</p><div class="hds-code-block hds-code-block--theme-dark language-shellsession hds-code-block--is-standalone"><div class="hds-code-block__header"><p class="hds-text hds-typography-body-200 hds-font-weight-semibold hds-code-block__title">Using a DNS entry</p></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R2baddal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-cyan)">$</span><span style="color:var(--hds-code-block-color-token)"> consul agent -retry-join </span><span style="color:var(--hds-code-block-color-string)">&quot;consul.domain.internal&quot;</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R2baddal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R7abaddal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><div class="hds-code-block hds-code-block--theme-dark language-shellsession hds-code-block--is-standalone"><div class="hds-code-block__header"><p class="hds-text hds-typography-body-200 hds-font-weight-semibold hds-code-block__title">Using IPv4</p></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R2jaddal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-cyan)">$</span><span style="color:var(--hds-code-block-color-token)"> consul agent -retry-join </span><span style="color:var(--hds-code-block-color-string)">&quot;10.0.4.67&quot;</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R2jaddal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R7ajaddal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><div class="hds-code-block hds-code-block--theme-dark language-shellsession hds-code-block--is-standalone"><div class="hds-code-block__header"><p class="hds-text hds-typography-body-200 hds-font-weight-semibold hds-code-block__title">Using a non-default Serf LAN port</p></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R2raddal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-cyan)">$</span><span style="color:var(--hds-code-block-color-token)"> consul agent -retry-join </span><span style="color:var(--hds-code-block-color-string)">&quot;192.0.2.10:8304&quot;</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R2raddal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R7araddal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><div class="hds-code-block hds-code-block--theme-dark language-shellsession hds-code-block--is-standalone"><div class="hds-code-block__header"><p class="hds-text hds-typography-body-200 hds-font-weight-semibold hds-code-block__title">Using IPv6</p></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R33addal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-cyan)">$</span><span style="color:var(--hds-code-block-color-token)"> consul agent -retry-join </span><span style="color:var(--hds-code-block-color-string)">&quot;[::1]:8301&quot;</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R33addal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R7b3addal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><div class="hds-code-block hds-code-block--theme-dark language-shellsession hds-code-block--is-standalone"><div class="hds-code-block__header"><p class="hds-text hds-typography-body-200 hds-font-weight-semibold hds-code-block__title">Using multiple addresses</p></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R3baddal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-cyan)">$</span><span style="color:var(--hds-code-block-color-token)"> consul agent -retry-join </span><span style="color:var(--hds-code-block-color-string)">&quot;consul.domain.internal&quot;</span><span style="color:var(--hds-code-block-color-token)"> -retry-join </span><span style="color:var(--hds-code-block-color-string)">&quot;10.0.4.67&quot;</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R3baddal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R7bbaddal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><h3 id="cloud-auto-joining" class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="cloud auto joining permalink" href="/consul/commands/agent#cloud-auto-joining"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Cloud Auto-Joining</h3><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-retry-join</code> option accepts a unified interface using the
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://github.com/hashicorp/go-discover">go-discover</a> library for doing
automatic cluster joining using cloud metadata. For more information, see
the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/docs/deploy/server/cloud-auto-join">Cloud Auto-join page</a>.</p><div class="hds-code-block hds-code-block--theme-dark language-shellsession hds-code-block--is-standalone"><div class="hds-code-block__header"><p class="hds-text hds-typography-body-200 hds-font-weight-semibold hds-code-block__title">Using Cloud Auto-Joining</p></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R43addal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-cyan)">$</span><span style="color:var(--hds-code-block-color-token)"> consul agent -retry-join </span><span style="color:var(--hds-code-block-color-string)">&quot;provider=aws tag_key=...&quot;</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R43addal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R7c3addal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li><li class="mdx-lists_listItem__nkqhg"><a id="retry-interval" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/commands/agent#"></a><a id="_retry_interval" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/commands/agent#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="retry interval permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/commands/agent#_retry_interval"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-retry-interval</code></a> - Time to wait between join attempts.
Defaults to 30s.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="retry-max" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/commands/agent#"></a><a id="_retry_max" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/commands/agent#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="retry max permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/commands/agent#_retry_max"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-retry-max</code></a> - The maximum number of join attempts if using
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/commands/agent#_retry_join"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-retry-join</code></a> before exiting with return code 1. By default, this is set
to 0 which is interpreted as infinite retries.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="join-wan" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/commands/agent#"></a><a id="_join_wan" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/commands/agent#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="join wan permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/commands/agent#_join_wan"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-join-wan</code></a> - <strong>Deprecated in Consul 1.15. This flag will be removed in a future version of Consul. Use the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-retry-join-wan</code> flag instead.</strong>
This is an alias of <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/commands/agent#_retry_join_wan"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-retry-join-wan</code></a></p></li><li class="mdx-lists_listItem__nkqhg"><a id="retry-join-wan" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/commands/agent#"></a><a id="_retry_join_wan" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/commands/agent#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="retry join wan permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/commands/agent#_retry_join_wan"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-retry-join-wan</code></a> - Address of another WAN agent to join upon starting up.
WAN joining is retried until success. This can be specified multiple times to specify multiple WAN
agents to join. If multiple values are given, they are tried and retried in the order listed
until the first succeeds. By default, the agent won&#x27;t WAN join any nodes when it starts up.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">This supports <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/commands/agent#cloud-auto-joining">Cloud Auto-Joining</a>.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">This can be dynamically defined with a <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://godoc.org/github.com/hashicorp/go-sockaddr/template">go-sockaddr</a> template that is resolved at runtime.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="primary-gateway" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/commands/agent#"></a><a id="_primary_gateway" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/commands/agent#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="primary gateway permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/commands/agent#_primary_gateway"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-primary-gateway</code></a> - Similar to <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/commands/agent#_retry_join_wan"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-retry-join-wan</code></a>
but allows retrying discovery of fallback addresses for the mesh gateways in the
primary datacenter if the first attempt fails. This is useful for cases where we
know the address will become available eventually. <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/commands/agent#cloud-auto-joining">Cloud Auto-Joining</a>
is supported as well as <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://godoc.org/github.com/hashicorp/go-sockaddr/template">go-sockaddr</a>
templates. This was added in Consul 1.8.0.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="retry-interval-wan" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/commands/agent#"></a><a id="_retry_interval_wan" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/commands/agent#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="retry interval wan permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/commands/agent#_retry_interval_wan"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-retry-interval-wan</code></a> - Time to wait between
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/commands/agent#_retry_join_wan"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-retry-join-wan</code></a> attempts. Defaults to 30s.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="retry-max-wan" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/commands/agent#"></a><a id="_retry_max_wan" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/commands/agent#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="retry max wan permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/commands/agent#_retry_max_wan"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-retry-max-wan</code></a> - The maximum number of <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/commands/agent#_join_wan"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-retry-join-wan</code></a>
attempts to be made before exiting with return code 1. By default, this is set
to 0 which is interpreted as infinite retries.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="rejoin" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/commands/agent#"></a><a id="_rejoin" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/commands/agent#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="rejoin permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/commands/agent#_rejoin"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-rejoin</code></a> - When provided, Consul will ignore a previous
leave and attempt to rejoin the cluster when starting. By default, Consul treats
leave as a permanent intent and does not attempt to join the cluster again when
starting. This flag allows the previous state to be used to rejoin the cluster.</p></li></ul><h2 id="log-options" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="log options permalink" href="/consul/commands/agent#log-options"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Log Options</h2><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="log-file" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/commands/agent#"></a><a id="_log_file" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/commands/agent#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="log file permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/commands/agent#_log_file"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-log-file</code></a> - writes all the Consul agent log messages
to a file at the path indicated by this flag. The filename defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">consul.log</code>.
When the log file rotates, this value is used as a prefix for the path to the log and the current timestamp is
appended to the file name. If the value ends in a path separator, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">consul-</code>
will be appended to the value. If the file name is missing an extension, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">.log</code>
is appended. For example, setting <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">log-file</code> to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/var/log/</code> would result in a log
file path of <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/var/log/consul.log</code>. <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">log-file</code> can be combined with
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/commands/agent#_log_rotate_bytes"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-log-rotate-bytes</code></a> and <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/commands/agent#_log_rotate_duration"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-log-rotate-duration</code></a>
for a fine-grained log rotation experience. After rotation, the path and filename take the following form:
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/var/log/consul-{timestamp}.log</code></p></li><li class="mdx-lists_listItem__nkqhg"><a id="log-rotate-bytes" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/commands/agent#"></a><a id="_log_rotate_bytes" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/commands/agent#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="log rotate bytes permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/commands/agent#_log_rotate_bytes"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-log-rotate-bytes</code></a> - to specify the number of
bytes that should be written to a log before it needs to be rotated. Unless specified,
there is no limit to the number of bytes that can be written to a log file.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="log-rotate-duration" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/commands/agent#"></a><a id="_log_rotate_duration" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/commands/agent#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="log rotate duration permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/commands/agent#_log_rotate_duration"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-log-rotate-duration</code></a> - to specify the maximum
duration a log should be written to before it needs to be rotated. Must be a duration
value such as 30s. Defaults to 24h.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="log-rotate-max-files" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/commands/agent#"></a><a id="_log_rotate_max_files" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/commands/agent#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="log rotate max files permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/commands/agent#_log_rotate_max_files"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-log-rotate-max-files</code></a> - to specify the maximum
number of older log file archives to keep. Defaults to 0 (no files are ever deleted).
Set to -1 to discard old log files when a new one is created.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="log-level" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/commands/agent#"></a><a id="_log_level" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/commands/agent#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="log level permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/commands/agent#_log_level"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-log-level</code></a> - The level of logging to show after the
Consul agent has started. This defaults to &quot;info&quot;. The available log levels are
&quot;trace&quot;, &quot;debug&quot;, &quot;info&quot;, &quot;warn&quot;, and &quot;error&quot;. You can always connect to an agent
via <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/commands/monitor"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">consul monitor</code></a> and use any log level. Also,
the log level can be changed during a config reload.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="log-json" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/commands/agent#"></a><a id="_log_json" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/commands/agent#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="log json permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/commands/agent#_log_json"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-log-json</code></a> - This flag enables the agent to output logs
in a JSON format. By default this is false.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="syslog" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/commands/agent#"></a><a id="_syslog" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/commands/agent#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="syslog permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/commands/agent#_syslog"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-syslog</code></a> - This flag enables logging to syslog. This is
only supported on Linux and macOS. It will result in an error if provided on Windows.</p></li></ul><h2 id="node-options" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="node options permalink" href="/consul/commands/agent#node-options"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Node Options</h2><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="node" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/commands/agent#"></a><a id="_node" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/commands/agent#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="node permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/commands/agent#_node"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-node</code></a> - The name of this node in the cluster. This must
be unique within the cluster. By default this is the hostname of the machine.
The node name cannot contain whitespace or quotation marks. To query the node from DNS, the name must only contain alphanumeric characters and hyphens (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-</code>).</p></li><li class="mdx-lists_listItem__nkqhg"><a id="node-id" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/commands/agent#"></a><a id="_node_id" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/commands/agent#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="node id permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/commands/agent#_node_id"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-node-id</code></a> - Available in Consul 0.7.3 and later, this
is a unique identifier for this node across all time, even if the name of the node
or address changes. This must be in the form of a hex string, 36 characters long,
such as <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">adf4238a-882b-9ddc-4a9d-5b6758e4159e</code>. If this isn&#x27;t supplied, which is
the most common case, then the agent will generate an identifier at startup and
persist it in the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/commands/agent#_data_dir">data directory</a> so that it will remain the same
across agent restarts. Information from the host will be used to generate a deterministic
node ID if possible, unless <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/commands/agent#_disable_host_node_id"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-disable-host-node-id</code></a> is
set to true.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="node-meta" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/commands/agent#"></a><a id="_node_meta" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/commands/agent#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="node meta permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/commands/agent#_node_meta"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-node-meta</code></a> - Available in Consul 0.7.3 and later, this
specifies an arbitrary metadata key/value pair to associate with the node, of the
form <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">key:value</code>. This can be specified multiple times. Node metadata pairs have
the following restrictions:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg">A maximum of 64 key/value pairs can be registered per node.</li><li class="mdx-lists_listItem__nkqhg">Metadata keys must be between 1 and 128 characters (inclusive) in length</li><li class="mdx-lists_listItem__nkqhg">Metadata keys must contain only alphanumeric, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-</code>, and <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">_</code> characters.</li><li class="mdx-lists_listItem__nkqhg">Metadata keys must not begin with the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">consul-</code> prefix; that is reserved for internal use by Consul.</li><li class="mdx-lists_listItem__nkqhg">Metadata values must be between 0 and 512 (inclusive) characters in length.</li><li class="mdx-lists_listItem__nkqhg">Metadata values for keys beginning with <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">rfc1035-</code> are encoded verbatim in DNS TXT requests, otherwise
the metadata kv-pair is encoded according <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://www.ietf.org/rfc/rfc1464.txt">RFC1464</a>.</li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="disable-host-node-id" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/commands/agent#"></a><a id="_disable_host_node_id" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/commands/agent#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="disable host node id permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/commands/agent#_disable_host_node_id"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-disable-host-node-id</code></a> - Setting this to
true will prevent Consul from using information from the host to generate a deterministic
node ID, and will instead generate a random node ID which will be persisted in
the data directory. This is useful when running multiple Consul agents on the same
host for testing. This defaults to false in Consul prior to version 0.8.5 and in
0.8.5 and later defaults to true, so you must opt-in for host-based IDs. Host-based
IDs are generated using <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://github.com/shirou/gopsutil/">gopsutil</a>, which
is shared with HashiCorp&#x27;s <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://www.nomadproject.io/">Nomad</a>, so if you opt-in
to host-based IDs then Consul and Nomad will use information on the host to automatically
assign the same ID in both systems.</p></li></ul><h2 id="serf-options" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="serf options permalink" href="/consul/commands/agent#serf-options"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Serf Options</h2><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="serf-lan-allowed-cidrs" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/commands/agent#"></a><a id="_serf_lan_allowed_cidrs" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/commands/agent#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="serf lan allowed cidrs permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/commands/agent#_serf_lan_allowed_cidrs"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-serf-lan-allowed-cidrs</code></a> - The Serf LAN allowed CIDRs allow to accept incoming
connections for Serf only from several networks (multiple values are supported).
Those networks are specified with CIDR notation (eg: 192.168.1.0/24).
This is available in Consul 1.8 and later.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="serf-lan-port" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/commands/agent#"></a><a id="_serf_lan_port" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/commands/agent#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="serf lan port permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/commands/agent#_serf_lan_port"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-serf-lan-port</code></a> - the Serf LAN port to listen on.
This overrides the default Serf LAN port 8301. This is available in Consul 1.2.2
and later.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="serf-wan-allowed-cidrs" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/commands/agent#"></a><a id="_serf_wan_allowed_cidrs" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/commands/agent#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="serf wan allowed cidrs permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/commands/agent#_serf_wan_allowed_cidrs"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-serf-wan-allowed-cidrs</code></a> - The Serf WAN allowed CIDRs allow to accept incoming
connections for Serf only from several networks (multiple values are supported).
Those networks are specified with CIDR notation (eg: 192.168.1.0/24).
This is available in Consul 1.8 and later.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="serf-wan-port" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/commands/agent#"></a><a id="_serf_wan_port" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/commands/agent#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="serf wan port permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/commands/agent#_serf_wan_port"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-serf-wan-port</code></a> - the Serf WAN port to listen on.
This overrides the default Serf WAN port 8302. This is available in Consul 1.2.2
and later.</p></li></ul><h2 id="server-options" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="server options permalink" href="/consul/commands/agent#server-options"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Server Options</h2><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="server" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/commands/agent#"></a><a id="_server" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/commands/agent#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="server permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/commands/agent#_server"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-server</code></a> - This flag is used to control if an agent is
in server or client mode. When provided, an agent will act as a Consul server.
Each Consul cluster must have at least one server and ideally no more than 5 per
datacenter. All servers participate in the Raft consensus algorithm to ensure that
transactions occur in a consistent, linearizable manner. Transactions modify cluster
state, which is maintained on all server nodes to ensure availability in the case
of node failure. Server nodes also participate in a WAN gossip pool with server
nodes in other datacenters. Servers act as gateways to other datacenters and forward
RPC traffic as appropriate.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="server-port" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/commands/agent#"></a><a id="_server_port" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/commands/agent#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="server port permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/commands/agent#_server_port"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-server-port</code></a> - the server RPC port to listen on.
This overrides the default server RPC port 8300. This is available in Consul 1.2.2
and later.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="non-voting-server" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/commands/agent#"></a><a id="_non_voting_server" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/commands/agent#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="non voting server permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/commands/agent#_non_voting_server"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-non-voting-server</code></a> <span class="enterprise-alert_root__mvEIF enterprise-alert_inline__IqpbC"><span class="g-screen-reader-only">Enterprise</span><span aria-hidden="true" class="badge_root___Z7Nt badge_medium__8VGoW badge_outlined-neutral__32YXY enterprise-alert_badge___N2fV"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="var(--token-color-consul-brand)"><path d="M4.737 14.193A7 7 0 008.006 15a6.98 6.98 0 004.735-1.847l-1.66-1.737a4.6 4.6 0 110-6.828l1.66-1.738a7 7 0 10-8.004 11.343zM13.32 11.402a.573.573 0 10.637-.953.573.573 0 00-.637.953z"></path><path d="M7.96 9.517a1.517 1.517 0 11-.012-3.034 1.517 1.517 0 01.013 3.034zM13.978 9.447a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 9.472a.574.574 0 110-1.148.574.574 0 010 1.148zM13.978 7.514a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 7.675a.574.574 0 110-1.148.574.574 0 010 1.148zM13.353 5.585a.574.574 0 10.635-.956.574.574 0 00-.635.956z"></path></g></svg><span>Enterprise</span></span></span> - <strong>This field
is deprecated in Consul 1.9.1. See the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/commands/agent#_read_replica"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-read-replica</code></a> flag instead.</strong></p></li><li class="mdx-lists_listItem__nkqhg"><a id="read-replica" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/commands/agent#"></a><a id="_read_replica" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/commands/agent#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="read replica permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/commands/agent#_read_replica"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-read-replica</code></a> <span class="enterprise-alert_root__mvEIF enterprise-alert_inline__IqpbC"><span class="g-screen-reader-only">Enterprise</span><span aria-hidden="true" class="badge_root___Z7Nt badge_medium__8VGoW badge_outlined-neutral__32YXY enterprise-alert_badge___N2fV"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="var(--token-color-consul-brand)"><path d="M4.737 14.193A7 7 0 008.006 15a6.98 6.98 0 004.735-1.847l-1.66-1.737a4.6 4.6 0 110-6.828l1.66-1.738a7 7 0 10-8.004 11.343zM13.32 11.402a.573.573 0 10.637-.953.573.573 0 00-.637.953z"></path><path d="M7.96 9.517a1.517 1.517 0 11-.012-3.034 1.517 1.517 0 01.013 3.034zM13.978 9.447a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 9.472a.574.574 0 110-1.148.574.574 0 010 1.148zM13.978 7.514a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 7.675a.574.574 0 110-1.148.574.574 0 010 1.148zM13.353 5.585a.574.574 0 10.635-.956.574.574 0 00-.635.956z"></path></g></svg><span>Enterprise</span></span></span> - This
flag is used to make the server not participate in the Raft quorum, and have it
only receive the data replication stream. This can be used to add read scalability
to a cluster in cases where a high volume of reads to servers are needed.</p></li></ul><h2 id="ui-options" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="ui options permalink" href="/consul/commands/agent#ui-options"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>UI Options</h2><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="ui" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/commands/agent#"></a><a id="_ui" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/commands/agent#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="ui permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/commands/agent#_ui"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-ui</code></a> - Enables the built-in web UI server and the required
HTTP routes. This eliminates the need to maintain the Consul web UI files separately
from the binary.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="ui-dir" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/commands/agent#"></a><a id="_ui_dir" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/commands/agent#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="ui dir permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/commands/agent#_ui_dir"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-ui-dir</code></a> - This flag provides the directory containing
the Web UI resources for Consul. This will automatically enable the Web UI. The
directory must be readable to the agent. Starting with Consul version 0.7.0 and
later, the Web UI assets are included in the binary so this flag is no longer necessary;
specifying only the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-ui</code> flag is enough to enable the Web UI. Specifying both
the &#x27;-ui&#x27; and &#x27;-ui-dir&#x27; flags will result in an error.</p></li></ul><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="ui-content-path" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/commands/agent#"></a><a id="_ui_content_path" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/commands/agent#"></a><a aria-label="ui content path permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/commands/agent#_ui_content_path"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-ui-content-path</code></a> - This flag provides the option
to change the path the Consul UI loads from and will be displayed in the browser.
By default, the path is <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/ui/</code>, for example <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">http://localhost:8500/ui/</code>. Only alphanumerics,
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-</code>, and <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">_</code> are allowed in a custom path.<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/v1/</code> is not allowed as it would overwrite
the API endpoint.</li></ul></div></div><a href="https://github.com/hashicorp/consul/blob/main/website/../content/commands/agent.mdx" target="_blank" class="edit-on-github-link_editLink__AsG8Z sidebar-sidecar-layout_editOnGithubLink__SDraB" rel="noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="edit-on-github-link_editLinkIcon__wMtY9"><path fill="currentColor" fill-rule="evenodd" d="M8 1C4.133 1 1 4.13 1 7.993c0 3.09 2.006 5.71 4.787 6.635.35.064.478-.152.478-.337 0-.166-.006-.606-.01-1.19-1.947.423-2.357-.937-2.357-.937-.319-.808-.778-1.023-.778-1.023-.635-.434.048-.425.048-.425.703.05 1.073.72 1.073.72.624 1.07 1.638.76 2.037.582.063-.452.244-.76.444-.935-1.554-.176-3.188-.776-3.188-3.456 0-.763.273-1.388.72-1.876-.072-.177-.312-.888.07-1.85 0 0 .586-.189 1.924.716A6.711 6.711 0 018 4.381c.595.003 1.194.08 1.753.236 1.336-.905 1.923-.717 1.923-.717.382.963.142 1.674.07 1.85.448.49.72 1.114.72 1.877 0 2.686-1.638 3.278-3.197 3.45.251.216.475.643.475 1.296 0 .934-.009 1.688-.009 1.918 0 .187.127.404.482.336A6.996 6.996 0 0015 7.993 6.997 6.997 0 008 1z" clip-rule="evenodd"></path></svg>Edit this page on GitHub</a></main><div class="sidebar-sidecar-layout_sidecarPosition__WtTq0"><div class="sidebar-sidecar-layout_sidecarTopSlot__qRAEI"></div><div class="sidecar-scroll-container_root__a8nIj"><div class="sidecar-scroll-container_scrollContainer__Dw9id"><div><nav aria-labelledby="react-aria-305"><p id="react-aria-305" class="outline-nav_navLabel__HrjQb hds-typography-body-100">On this page:</p><ol class="outline-nav_listRoot__Sm1fr"><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/consul/commands/agent#consul-agent">Consul Agent</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/consul/commands/agent#usage">Usage</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/consul/commands/agent#environment-variables">Environment Variables</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/consul/commands/agent#options">Options</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/consul/commands/agent#advertise-address-options">Advertise Address Options</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/consul/commands/agent#address-bind-options">Address Bind Options</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/consul/commands/agent#bootstrap-options">Bootstrap Options</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/consul/commands/agent#configuration-file-options">Configuration File Options</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/consul/commands/agent#dns-and-domain-options">DNS and Domain Options</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/consul/commands/agent#log-options">Log Options</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/consul/commands/agent#node-options">Node Options</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/consul/commands/agent#serf-options">Serf Options</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/consul/commands/agent#server-options">Server Options</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/consul/commands/agent#ui-options">UI Options</a></li></ol></nav></div></div></div></div></div></div></div></div></div><div class="base-layout_footer__HGqK8 base-layout_showFooterTopBorder__4_CwH"><footer class="footer_root__qJO_k"><span class="footer_logoAndSwitcher__CJkN3"><a href="https://www.hashicorp.com/" aria-label="Go to HashiCorp home page" class="footer_logo__pe9i3 g-focus-ring-from-box-shadow"><div><svg xmlns="http://www.w3.org/2000/svg" width="266" height="65" fill="none" viewBox="0 0 266 65"><path fill="#000" d="M71.823 62.023c-.817 0-1.171-.519-1.253-1.174h-.081c-.3.874-1.09 1.365-2.097 1.365-1.524 0-2.423-.846-2.423-2.185 0-1.338.98-2.13 3.077-2.13h1.443v-.71c0-1.038-.572-1.584-1.716-1.584-1.143 0-1.443.41-1.851 1.093l-.68-.629c.38-.764 1.252-1.42 2.559-1.42 1.306 0 2.777.929 2.777 2.458v3.987h.816v.984h-.626zm-1.307-2.103v-1.202h-1.498c-1.28 0-1.85.383-1.85 1.093v.3c0 .71.57 1.12 1.442 1.12.871 0 1.906-.573 1.906-1.31M74.137 62.023v-7.265h1.116v1.175h.055c.354-.82.98-1.366 2.042-1.366 1.062 0 2.423 1.01 2.423 2.786v4.67h-1.117v-4.452c0-1.283-.571-1.966-1.633-1.966s-1.77.464-1.77 1.393v5.052h-1.116zM84.646 62.023v-.983h1.389v-7.866h-1.389v-.983h3.92v.983h-1.388v7.866h1.389v.983zM90.8 52.191h4.029c1.606 0 2.614 1.01 2.614 2.54s-.953 1.994-1.58 2.076v.082c.708.054 1.934.655 1.934 2.294 0 1.638-1.09 2.84-2.532 2.84h-4.466zm1.17 4.26h2.723c.925 0 1.497-.49 1.497-1.365v-.492c0-.873-.572-1.365-1.497-1.365H91.97zm0 4.534h2.913c1.008 0 1.634-.546 1.634-1.53v-.49c0-.984-.626-1.53-1.634-1.53H91.97v3.523zM100.056 52.191h1.579l2.805 5.298h.081l2.832-5.298h1.525v9.832h-1.144v-8.275h-.082l-.816 1.639-2.342 4.287-2.341-4.287-.817-1.64h-.082v8.276h-1.143v-9.832zM113.86 57.162c0-3.278 1.47-5.135 3.948-5.135 2.477 0 2.75.792 3.376 2.158l-.953.573c-.381-1.01-1.198-1.666-2.423-1.666s-2.696 1.339-2.696 3.36v1.474c0 2.021 1.008 3.25 2.696 3.25 1.688 0 2.096-.71 2.505-1.775l.953.601c-.627 1.393-1.825 2.24-3.431 2.24-2.478 0-3.948-1.748-3.948-5.026zM122.491 58.39c0-2.32 1.334-3.796 3.267-3.796 1.933 0 3.267 1.503 3.267 3.797 0 2.294-1.334 3.796-3.267 3.796-1.933 0-3.267-1.502-3.267-3.796m5.336.52v-1.038c0-1.53-.844-2.294-2.069-2.294s-2.069.737-2.069 2.294v1.038c0 1.53.844 2.294 2.069 2.294s2.069-.738 2.069-2.294M130.958 62.023v-7.265h1.116v1.175h.055c.327-.738.817-1.366 1.96-1.366 1.144 0 1.824.437 2.205 1.475h.028c.272-.792.98-1.475 2.205-1.475s2.369 1.01 2.369 2.786v4.67h-1.117v-4.452c0-1.283-.49-1.966-1.579-1.966s-1.688.464-1.688 1.393v5.052h-1.116V57.6c0-1.284-.49-1.967-1.552-1.967s-1.715.465-1.715 1.393v5.053h-1.116zM143.292 54.758h1.116v1.175h.054c.381-.929 1.117-1.366 2.124-1.366 1.824 0 2.94 1.475 2.94 3.796 0 2.322-1.143 3.797-2.94 3.797s-1.688-.465-2.124-1.366h-.054v3.987h-1.116V54.704zm5.036 4.26V57.79c0-1.284-.789-2.158-2.042-2.158-1.252 0-1.878.601-1.878 1.393v2.704c0 .956.844 1.475 1.878 1.475 1.035 0 2.042-.874 2.042-2.158zM156.768 62.023c-.816 0-1.17-.519-1.252-1.174h-.082c-.299.874-1.089 1.365-2.096 1.365-1.525 0-2.423-.846-2.423-2.185 0-1.338.98-2.13 3.076-2.13h1.443v-.71c0-1.038-.571-1.584-1.715-1.584-1.143 0-1.443.41-1.851 1.093l-.681-.629c.381-.764 1.253-1.42 2.559-1.42 1.307 0 2.777.929 2.777 2.458v3.987h.817v.984h-.626zm-1.334-2.103v-1.202h-1.497c-1.28 0-1.851.383-1.851 1.093v.3c0 .71.571 1.12 1.443 1.12.871 0 1.905-.573 1.905-1.31M159.056 62.023v-7.265h1.116v1.175h.054c.354-.82.98-1.366 2.042-1.366 1.062 0 2.423 1.01 2.423 2.786v4.67h-1.116v-4.452c0-1.283-.572-1.966-1.633-1.966-1.062 0-1.77.464-1.77 1.393v5.052h-1.116zM171.471 54.758h1.116l-3.24 8.958c-.327.874-.626 1.12-1.688 1.12h-.572v-.983h1.144l.544-1.557-2.722-7.538h1.116l1.742 4.944.327 1.174h.082l.381-1.174 1.742-4.944zM66.132 12.863h5.582v12.045H84.51V12.863h5.636V42.36H84.51V29.96H71.714v12.4h-5.582zM93.74 36.651c0-4.424 3.104-5.899 6.888-6.8l6.398-1.475v-.519c0-2.157-1.388-3.496-3.621-3.496-2.232 0-3.54 1.23-3.948 3.25l-4.791-.546c.707-4.042 4.11-6.664 8.957-6.664 4.846 0 8.821 3.387 8.821 8.303v8.63c0 .546.164.71.545.71h1.17v4.288h-3.267c-2.069 0-2.995-.683-2.995-2.349 0-1.666.082-1.092.3-1.857l-.463-.164c-1.525 3.277-3.73 4.725-6.888 4.725s-7.106-2.403-7.106-6.063zm8.549 2.103c2.777 0 4.737-2.02 4.737-5.216v-1.693l-4.574 1.092c-2.314.546-3.267 1.338-3.267 3.113 0 1.776 1.225 2.704 3.104 2.704M116.147 36.542l5.119-1.01c.544 2.266 2.341 3.413 4.737 3.413s3.73-.983 3.73-2.621c0-1.64-1.606-1.994-4.629-2.54-3.811-.601-8.766-1.311-8.766-6.61 0-5.298 3.403-6.8 8.957-6.8s8.74 2.076 9.611 6.227l-5.173.847c-.463-2.104-2.178-3.196-4.465-3.196s-3.649 1.065-3.649 2.485 1.634 1.994 4.656 2.54c3.785.601 8.74 1.311 8.74 6.61 0 5.298-3.376 6.964-9.039 6.964s-8.958-2.103-9.883-6.336zM143.836 42.387h-5.472V12.044h5.472v9.45c0 1.092-.218 2.157-.517 3.714l.517.164c1.307-3.114 3.267-4.943 6.943-4.943 3.675 0 7.133 2.95 7.133 7.974v13.984h-5.473v-13.82c0-2.458-1.225-3.796-3.648-3.796s-4.955 2.103-4.955 5.817zM169.129 36.924c0 .847.3 1.093.926 1.093h2.396v4.342h-4.955c-2.478 0-3.812-1.393-3.812-3.96V25.263h-3.022V20.92h8.494v16.004zm-6.207-21.74c0-1.856 1.524-3.386 3.321-3.386 1.797 0 3.322 1.53 3.322 3.387a3.305 3.305 0 0 1-3.322 3.332 3.305 3.305 0 0 1-3.321-3.332M174.248 27.639c0-8.85 5.799-15.24 14.185-15.24 8.385 0 11.897 4.097 13.177 9.64l-5.554 1.34c-1.062-3.879-3.621-6.064-7.651-6.064-4.029 0-8.358 4.26-8.358 10.324 0 6.063 3.376 10.323 8.576 10.323 5.2 0 6.643-2.24 7.705-6.363l5.255.6c-1.253 6.61-6.126 10.707-13.014 10.707-6.889 0-14.321-6.419-14.321-15.24zM203.87 31.626c0-6.527 4.574-11.197 10.918-11.197 6.343 0 10.917 4.67 10.917 11.197 0 6.527-4.574 11.252-10.917 11.252-6.344 0-10.918-4.725-10.918-11.252m16.39 0c0-4.042-2.151-6.746-5.472-6.746-3.322 0-5.473 2.704-5.473 6.746s2.178 6.8 5.473 6.8c3.294 0 5.472-2.703 5.472-6.8M229.163 20.92h5.037v.847c0 1.147-.055 2.075-.381 3.796l.517.137c.79-2.813 2.26-4.752 5.717-4.752h1.552v5.325h-2.232c-3.077 0-4.738 1.857-4.738 5.271v10.87h-5.472v-21.44zM244.165 20.92h5.39v.983c0 .984-.081 1.72-.381 3.469l.517.136c1.307-3.413 3.73-5.052 6.889-5.052 5.2 0 9.338 4.288 9.338 11.197 0 6.91-4.111 11.253-9.338 11.253-5.228 0-5.473-1.64-6.807-5.108l-.463.164c.245 1.694.327 2.485.327 3.414v9.64h-5.472zm16.308 10.706c0-4.178-2.26-6.746-5.472-6.746-3.213 0-5.473 2.568-5.473 6.746 0 4.179 2.26 6.8 5.473 6.8 3.212 0 5.472-2.567 5.472-6.8M21.781 0 0 12.618v30.26l8.168 4.725v-30.26L21.78 9.476z"/><path fill="#000" d="M30.466 0v24.116h-8.685v-9.013l-8.195 4.752v30.889l8.195 4.724V31.435h8.685v8.958l8.195-4.752V4.752z"/><path fill="#000" d="m30.466 55.496 21.781-12.618v-30.26l-8.195-4.725v30.26L30.466 46.02z"/></svg></div></a><span class="footer_themeSwitcher__CPJxw hds-font-weight-regular"><label class="theme-switcher_label__7Boh2 hds-typography-body-200" for="react-aria-320">Theme</label></span></span><ul class="footer_links__t81SU"><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="/certifications"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Certifications</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="https://status.hashicorp.com"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">System Status</span></a></li><li><button class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Cookie Manager</span></button></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="https://www.hashicorp.com/terms-of-service"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Terms of Use</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="https://www.hashicorp.com/trust/security"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Security</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="https://www.hashicorp.com/privacy"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Privacy</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="https://www.hashicorp.com/trademark-policy"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Trademark Policy</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="https://www.hashicorp.com/trade-controls"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Trade Controls</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="https://www.hashicorp.com/trust/accessibility"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Accessibility</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" aria-describedby="opens-in-new-tab-label-react-aria-329" target="_blank" href="https://forms.gle/fnHLuNahLEhjuKvE6"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Give Feedback</span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path d="M9 .75A.75.75 0 019.75 0h4.5c.206 0 .393.083.529.218l.001.002.002.001A.748.748 0 0115 .75v4.5a.75.75 0 01-1.5 0V2.56L7.28 8.78a.75.75 0 01-1.06-1.06l6.22-6.22H9.75A.75.75 0 019 .75z"></path><path d="M3.25 3.5a.75.75 0 00-.75.75v7.5c0 .414.336.75.75.75h7.5a.75.75 0 00.75-.75v-4a.75.75 0 011.5 0v4A2.25 2.25 0 0110.75 14h-7.5A2.25 2.25 0 011 11.75v-7.5A2.25 2.25 0 013.25 2h4a.75.75 0 010 1.5h-4z"></path></g></svg></a><span class="g-screen-reader-only" id="opens-in-new-tab-label-react-aria-329">(opens in new tab)</span></li></ul></footer></div></div></div><div style="position:fixed;z-index:99;top:16px;left:16px;right:16px;bottom:16px;pointer-events:none;inset:24px"></div><!--$--><!--/$--></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"layoutProps":{"breadcrumbLinks":[{"title":"Developer","url":"/"},{"title":"Consul","url":"/consul"},{"title":"CLI","url":"/consul/commands","isCurrentPage":false},{"title":"agent","url":"/consul/commands/agent","isCurrentPage":true}],"sidebarNavDataLevels":[{"levelButtonProps":{"levelDownButtonText":"Consul Home"},"menuItems":[{"leadingIconName":"home","title":"HashiCorp Developer","href":"/"},{"leadingIconName":"guide","title":"Tutorials","href":"/tutorials"},{"divider":true},{"heading":"Products"},{"leadingIconName":"hcp","title":"HashiCorp Cloud Platform","href":"/hcp"},{"leadingIconName":"terraform","title":"Terraform","href":"/terraform"},{"leadingIconName":"packer","title":"Packer","href":"/packer"},{"leadingIconName":"consul","title":"Consul","href":"/consul"},{"leadingIconName":"vault","title":"Vault","href":"/vault"},{"leadingIconName":"boundary","title":"Boundary","href":"/boundary"},{"leadingIconName":"nomad","title":"Nomad","href":"/nomad"},{"leadingIconName":"waypoint","title":"Waypoint","href":"/waypoint"},{"leadingIconName":"vagrant","title":"Vagrant","href":"/vagrant"}],"showFilterInput":false,"title":"Main Menu"},{"levelButtonProps":{"levelUpButtonText":"Main Menu","levelDownButtonText":"Previous"},"menuItems":[{"title":"Consul","fullPath":"/consul","theme":"consul"},{"title":"Install","fullPath":"/consul/install"},{"title":"Tutorials","fullPath":"/consul/tutorials"},{"title":"Documentation","fullPath":"/consul/docs"},{"title":"API","fullPath":"/consul/api-docs"},{"title":"CLI","fullPath":"/consul/commands"}],"showFilterInput":false,"title":"Consul","visuallyHideTitle":true},{"backToLinkProps":{"text":"Consul Home","href":"/consul"},"levelButtonProps":{"levelUpButtonText":"Consul Home"},"menuItems":[{"title":"CLI","fullPath":"/consul/commands","theme":"consul"},{"title":"acl","routes":[{"title":"Overview","path":"acl","filePath":"../content/commands/acl/index.mdx","fullPath":"/consul/commands/acl","id":"sidebar-nav-item-2"},{"title":"auth-method","routes":[{"title":"Overview","path":"acl/auth-method","filePath":"../content/commands/acl/auth-method/index.mdx","fullPath":"/consul/commands/acl/auth-method","id":"sidebar-nav-item-4"},{"title":"create","path":"acl/auth-method/create","filePath":"../content/commands/acl/auth-method/create.mdx","fullPath":"/consul/commands/acl/auth-method/create","id":"sidebar-nav-item-5"},{"title":"delete","path":"acl/auth-method/delete","filePath":"../content/commands/acl/auth-method/delete.mdx","fullPath":"/consul/commands/acl/auth-method/delete","id":"sidebar-nav-item-6"},{"title":"list","path":"acl/auth-method/list","filePath":"../content/commands/acl/auth-method/list.mdx","fullPath":"/consul/commands/acl/auth-method/list","id":"sidebar-nav-item-7"},{"title":"read","path":"acl/auth-method/read","filePath":"../content/commands/acl/auth-method/read.mdx","fullPath":"/consul/commands/acl/auth-method/read","id":"sidebar-nav-item-8"},{"title":"update","path":"acl/auth-method/update","filePath":"../content/commands/acl/auth-method/update.mdx","fullPath":"/consul/commands/acl/auth-method/update","id":"sidebar-nav-item-9"}],"id":"sidebar-nav-item-3"},{"title":"binding-rule","routes":[{"title":"Overview","path":"acl/binding-rule","filePath":"../content/commands/acl/binding-rule/index.mdx","fullPath":"/consul/commands/acl/binding-rule","id":"sidebar-nav-item-11"},{"title":"create","path":"acl/binding-rule/create","filePath":"../content/commands/acl/binding-rule/create.mdx","fullPath":"/consul/commands/acl/binding-rule/create","id":"sidebar-nav-item-12"},{"title":"delete","path":"acl/binding-rule/delete","filePath":"../content/commands/acl/binding-rule/delete.mdx","fullPath":"/consul/commands/acl/binding-rule/delete","id":"sidebar-nav-item-13"},{"title":"list","path":"acl/binding-rule/list","filePath":"../content/commands/acl/binding-rule/list.mdx","fullPath":"/consul/commands/acl/binding-rule/list","id":"sidebar-nav-item-14"},{"title":"read","path":"acl/binding-rule/read","filePath":"../content/commands/acl/binding-rule/read.mdx","fullPath":"/consul/commands/acl/binding-rule/read","id":"sidebar-nav-item-15"},{"title":"update","path":"acl/binding-rule/update","filePath":"../content/commands/acl/binding-rule/update.mdx","fullPath":"/consul/commands/acl/binding-rule/update","id":"sidebar-nav-item-16"}],"id":"sidebar-nav-item-10"},{"title":"bootstrap","path":"acl/bootstrap","filePath":"../content/commands/acl/bootstrap.mdx","fullPath":"/consul/commands/acl/bootstrap","id":"sidebar-nav-item-17"},{"title":"policy","routes":[{"title":"Overview","path":"acl/policy","filePath":"../content/commands/acl/policy/index.mdx","fullPath":"/consul/commands/acl/policy","id":"sidebar-nav-item-19"},{"title":"create","path":"acl/policy/create","filePath":"../content/commands/acl/policy/create.mdx","fullPath":"/consul/commands/acl/policy/create","id":"sidebar-nav-item-20"},{"title":"delete","path":"acl/policy/delete","filePath":"../content/commands/acl/policy/delete.mdx","fullPath":"/consul/commands/acl/policy/delete","id":"sidebar-nav-item-21"},{"title":"list","path":"acl/policy/list","filePath":"../content/commands/acl/policy/list.mdx","fullPath":"/consul/commands/acl/policy/list","id":"sidebar-nav-item-22"},{"title":"read","path":"acl/policy/read","filePath":"../content/commands/acl/policy/read.mdx","fullPath":"/consul/commands/acl/policy/read","id":"sidebar-nav-item-23"},{"title":"update","path":"acl/policy/update","filePath":"../content/commands/acl/policy/update.mdx","fullPath":"/consul/commands/acl/policy/update","id":"sidebar-nav-item-24"}],"id":"sidebar-nav-item-18"},{"title":"templated policy","routes":[{"title":"Overview","path":"acl/templated-policy","filePath":"../content/commands/acl/templated-policy/index.mdx","fullPath":"/consul/commands/acl/templated-policy","id":"sidebar-nav-item-26"},{"title":"list","path":"acl/templated-policy/list","filePath":"../content/commands/acl/templated-policy/list.mdx","fullPath":"/consul/commands/acl/templated-policy/list","id":"sidebar-nav-item-27"},{"title":"preview","path":"acl/templated-policy/preview","filePath":"../content/commands/acl/templated-policy/preview.mdx","fullPath":"/consul/commands/acl/templated-policy/preview","id":"sidebar-nav-item-28"},{"title":"read","path":"acl/templated-policy/read","filePath":"../content/commands/acl/templated-policy/read.mdx","fullPath":"/consul/commands/acl/templated-policy/read","id":"sidebar-nav-item-29"}],"id":"sidebar-nav-item-25"},{"title":"role","routes":[{"title":"Overview","path":"acl/role","filePath":"../content/commands/acl/role/index.mdx","fullPath":"/consul/commands/acl/role","id":"sidebar-nav-item-31"},{"title":"create","path":"acl/role/create","filePath":"../content/commands/acl/role/create.mdx","fullPath":"/consul/commands/acl/role/create","id":"sidebar-nav-item-32"},{"title":"delete","path":"acl/role/delete","filePath":"../content/commands/acl/role/delete.mdx","fullPath":"/consul/commands/acl/role/delete","id":"sidebar-nav-item-33"},{"title":"list","path":"acl/role/list","filePath":"../content/commands/acl/role/list.mdx","fullPath":"/consul/commands/acl/role/list","id":"sidebar-nav-item-34"},{"title":"read","path":"acl/role/read","filePath":"../content/commands/acl/role/read.mdx","fullPath":"/consul/commands/acl/role/read","id":"sidebar-nav-item-35"},{"title":"update","path":"acl/role/update","filePath":"../content/commands/acl/role/update.mdx","fullPath":"/consul/commands/acl/role/update","id":"sidebar-nav-item-36"}],"id":"sidebar-nav-item-30"},{"title":"set-agent-token","path":"acl/set-agent-token","filePath":"../content/commands/acl/set-agent-token.mdx","fullPath":"/consul/commands/acl/set-agent-token","id":"sidebar-nav-item-37"},{"title":"token","routes":[{"title":"Overview","path":"acl/token","filePath":"../content/commands/acl/token/index.mdx","fullPath":"/consul/commands/acl/token","id":"sidebar-nav-item-39"},{"title":"clone","path":"acl/token/clone","filePath":"../content/commands/acl/token/clone.mdx","fullPath":"/consul/commands/acl/token/clone","id":"sidebar-nav-item-40"},{"title":"create","path":"acl/token/create","filePath":"../content/commands/acl/token/create.mdx","fullPath":"/consul/commands/acl/token/create","id":"sidebar-nav-item-41"},{"title":"delete","path":"acl/token/delete","filePath":"../content/commands/acl/token/delete.mdx","fullPath":"/consul/commands/acl/token/delete","id":"sidebar-nav-item-42"},{"title":"list","path":"acl/token/list","filePath":"../content/commands/acl/token/list.mdx","fullPath":"/consul/commands/acl/token/list","id":"sidebar-nav-item-43"},{"title":"read","path":"acl/token/read","filePath":"../content/commands/acl/token/read.mdx","fullPath":"/consul/commands/acl/token/read","id":"sidebar-nav-item-44"},{"title":"update","path":"acl/token/update","filePath":"../content/commands/acl/token/update.mdx","fullPath":"/consul/commands/acl/token/update","id":"sidebar-nav-item-45"}],"id":"sidebar-nav-item-38"}],"id":"sidebar-nav-item-1"},{"title":"agent","path":"agent","filePath":"../content/commands/agent.mdx","fullPath":"/consul/commands/agent","id":"sidebar-nav-item-46"},{"title":"catalog","routes":[{"title":"Overview","path":"catalog","filePath":"../content/commands/catalog/index.mdx","fullPath":"/consul/commands/catalog","id":"sidebar-nav-item-48"},{"title":"datacenters","path":"catalog/datacenters","filePath":"../content/commands/catalog/datacenters.mdx","fullPath":"/consul/commands/catalog/datacenters","id":"sidebar-nav-item-49"},{"title":"nodes","path":"catalog/nodes","filePath":"../content/commands/catalog/nodes.mdx","fullPath":"/consul/commands/catalog/nodes","id":"sidebar-nav-item-50"},{"title":"services","path":"catalog/services","filePath":"../content/commands/catalog/services.mdx","fullPath":"/consul/commands/catalog/services","id":"sidebar-nav-item-51"}],"id":"sidebar-nav-item-47"},{"title":"config","routes":[{"title":"Overview","path":"config","filePath":"../content/commands/config/index.mdx","fullPath":"/consul/commands/config","id":"sidebar-nav-item-53"},{"title":"delete","path":"config/delete","filePath":"../content/commands/config/delete.mdx","fullPath":"/consul/commands/config/delete","id":"sidebar-nav-item-54"},{"title":"list","path":"config/list","filePath":"../content/commands/config/list.mdx","fullPath":"/consul/commands/config/list","id":"sidebar-nav-item-55"},{"title":"read","path":"config/read","filePath":"../content/commands/config/read.mdx","fullPath":"/consul/commands/config/read","id":"sidebar-nav-item-56"},{"title":"write","path":"config/write","filePath":"../content/commands/config/write.mdx","fullPath":"/consul/commands/config/write","id":"sidebar-nav-item-57"}],"id":"sidebar-nav-item-52"},{"title":"connect","routes":[{"title":"Overview","path":"connect","filePath":"../content/commands/connect/index.mdx","fullPath":"/consul/commands/connect","id":"sidebar-nav-item-59"},{"title":"ca","path":"connect/ca","filePath":"../content/commands/connect/ca.mdx","fullPath":"/consul/commands/connect/ca","id":"sidebar-nav-item-60"},{"title":"proxy","path":"connect/proxy","filePath":"../content/commands/connect/proxy.mdx","fullPath":"/consul/commands/connect/proxy","id":"sidebar-nav-item-61"},{"title":"envoy","path":"connect/envoy","filePath":"../content/commands/connect/envoy.mdx","fullPath":"/consul/commands/connect/envoy","id":"sidebar-nav-item-62"},{"title":"expose","path":"connect/expose","filePath":"../content/commands/connect/expose.mdx","fullPath":"/consul/commands/connect/expose","id":"sidebar-nav-item-63"},{"title":"redirect-traffic","path":"connect/redirect-traffic","filePath":"../content/commands/connect/redirect-traffic.mdx","fullPath":"/consul/commands/connect/redirect-traffic","id":"sidebar-nav-item-64"}],"id":"sidebar-nav-item-58"},{"title":"debug","path":"debug","filePath":"../content/commands/debug.mdx","fullPath":"/consul/commands/debug","id":"sidebar-nav-item-65"},{"title":"event","path":"event","filePath":"../content/commands/event.mdx","fullPath":"/consul/commands/event","id":"sidebar-nav-item-66"},{"title":"exec","path":"exec","filePath":"../content/commands/exec.mdx","fullPath":"/consul/commands/exec","id":"sidebar-nav-item-67"},{"title":"force-leave","path":"force-leave","filePath":"../content/commands/force-leave.mdx","fullPath":"/consul/commands/force-leave","id":"sidebar-nav-item-68"},{"title":"info","path":"info","filePath":"../content/commands/info.mdx","fullPath":"/consul/commands/info","id":"sidebar-nav-item-69"},{"title":"intention","routes":[{"title":"Overview","path":"intention","filePath":"../content/commands/intention/index.mdx","fullPath":"/consul/commands/intention","id":"sidebar-nav-item-71"},{"title":"check","path":"intention/check","filePath":"../content/commands/intention/check.mdx","fullPath":"/consul/commands/intention/check","id":"sidebar-nav-item-72"},{"title":"create","path":"intention/create","filePath":"../content/commands/intention/create.mdx","fullPath":"/consul/commands/intention/create","id":"sidebar-nav-item-73"},{"title":"delete","path":"intention/delete","filePath":"../content/commands/intention/delete.mdx","fullPath":"/consul/commands/intention/delete","id":"sidebar-nav-item-74"},{"title":"get","path":"intention/get","filePath":"../content/commands/intention/get.mdx","fullPath":"/consul/commands/intention/get","id":"sidebar-nav-item-75"},{"title":"list","path":"intention/list","filePath":"../content/commands/intention/list.mdx","fullPath":"/consul/commands/intention/list","id":"sidebar-nav-item-76"},{"title":"match","path":"intention/match","filePath":"../content/commands/intention/match.mdx","fullPath":"/consul/commands/intention/match","id":"sidebar-nav-item-77"}],"id":"sidebar-nav-item-70"},{"title":"join","path":"join","filePath":"../content/commands/join.mdx","fullPath":"/consul/commands/join","id":"sidebar-nav-item-78"},{"title":"keygen","path":"keygen","filePath":"../content/commands/keygen.mdx","fullPath":"/consul/commands/keygen","id":"sidebar-nav-item-79"},{"title":"keyring","path":"keyring","filePath":"../content/commands/keyring.mdx","fullPath":"/consul/commands/keyring","id":"sidebar-nav-item-80"},{"title":"kv","routes":[{"title":"Overview","path":"kv","filePath":"../content/commands/kv/index.mdx","fullPath":"/consul/commands/kv","id":"sidebar-nav-item-82"},{"title":"delete","path":"kv/delete","filePath":"../content/commands/kv/delete.mdx","fullPath":"/consul/commands/kv/delete","id":"sidebar-nav-item-83"},{"title":"export","path":"kv/export","filePath":"../content/commands/kv/export.mdx","fullPath":"/consul/commands/kv/export","id":"sidebar-nav-item-84"},{"title":"get","path":"kv/get","filePath":"../content/commands/kv/get.mdx","fullPath":"/consul/commands/kv/get","id":"sidebar-nav-item-85"},{"title":"import","path":"kv/import","filePath":"../content/commands/kv/import.mdx","fullPath":"/consul/commands/kv/import","id":"sidebar-nav-item-86"},{"title":"put","path":"kv/put","filePath":"../content/commands/kv/put.mdx","fullPath":"/consul/commands/kv/put","id":"sidebar-nav-item-87"}],"id":"sidebar-nav-item-81"},{"title":"leave","path":"leave","filePath":"../content/commands/leave.mdx","fullPath":"/consul/commands/leave","id":"sidebar-nav-item-88"},{"title":"license","path":"license","filePath":"../content/commands/license.mdx","fullPath":"/consul/commands/license","id":"sidebar-nav-item-89"},{"title":"lock","path":"lock","filePath":"../content/commands/lock.mdx","fullPath":"/consul/commands/lock","id":"sidebar-nav-item-90"},{"title":"login","path":"login","filePath":"../content/commands/login.mdx","fullPath":"/consul/commands/login","id":"sidebar-nav-item-91"},{"title":"logout","path":"logout","filePath":"../content/commands/logout.mdx","fullPath":"/consul/commands/logout","id":"sidebar-nav-item-92"},{"title":"maint","path":"maint","filePath":"../content/commands/maint.mdx","fullPath":"/consul/commands/maint","id":"sidebar-nav-item-93"},{"title":"members","path":"members","filePath":"../content/commands/members.mdx","fullPath":"/consul/commands/members","id":"sidebar-nav-item-94"},{"title":"monitor","path":"monitor","filePath":"../content/commands/monitor.mdx","fullPath":"/consul/commands/monitor","id":"sidebar-nav-item-95"},{"title":"namespace","routes":[{"title":"Overview","path":"namespace","filePath":"../content/commands/namespace/index.mdx","fullPath":"/consul/commands/namespace","id":"sidebar-nav-item-97"},{"title":"create","path":"namespace/create","filePath":"../content/commands/namespace/create.mdx","fullPath":"/consul/commands/namespace/create","id":"sidebar-nav-item-98"},{"title":"delete","path":"namespace/delete","filePath":"../content/commands/namespace/delete.mdx","fullPath":"/consul/commands/namespace/delete","id":"sidebar-nav-item-99"},{"title":"list","path":"namespace/list","filePath":"../content/commands/namespace/list.mdx","fullPath":"/consul/commands/namespace/list","id":"sidebar-nav-item-100"},{"title":"read","path":"namespace/read","filePath":"../content/commands/namespace/read.mdx","fullPath":"/consul/commands/namespace/read","id":"sidebar-nav-item-101"},{"title":"update","path":"namespace/update","filePath":"../content/commands/namespace/update.mdx","fullPath":"/consul/commands/namespace/update","id":"sidebar-nav-item-102"},{"title":"write","path":"namespace/write","filePath":"../content/commands/namespace/write.mdx","fullPath":"/consul/commands/namespace/write","id":"sidebar-nav-item-103"}],"id":"sidebar-nav-item-96"},{"title":"operator","routes":[{"title":"Overview","path":"operator","filePath":"../content/commands/operator/index.mdx","fullPath":"/consul/commands/operator","id":"sidebar-nav-item-105"},{"title":"area","path":"operator/area","filePath":"../content/commands/operator/area.mdx","fullPath":"/consul/commands/operator/area","id":"sidebar-nav-item-106"},{"title":"autopilot","path":"operator/autopilot","filePath":"../content/commands/operator/autopilot.mdx","fullPath":"/consul/commands/operator/autopilot","id":"sidebar-nav-item-107"},{"title":"raft","path":"operator/raft","filePath":"../content/commands/operator/raft.mdx","fullPath":"/consul/commands/operator/raft","id":"sidebar-nav-item-108"},{"title":"usage","path":"operator/usage","filePath":"../content/commands/operator/usage.mdx","fullPath":"/consul/commands/operator/usage","id":"sidebar-nav-item-109"}],"id":"sidebar-nav-item-104"},{"title":"partition","path":"partition","filePath":"../content/commands/partition.mdx","fullPath":"/consul/commands/partition","id":"sidebar-nav-item-110"},{"title":"peering","routes":[{"title":"Overview","path":"peering","filePath":"../content/commands/peering/index.mdx","fullPath":"/consul/commands/peering","id":"sidebar-nav-item-112"},{"title":"delete","path":"peering/delete","filePath":"../content/commands/peering/delete.mdx","fullPath":"/consul/commands/peering/delete","id":"sidebar-nav-item-113"},{"title":"establish","path":"peering/establish","filePath":"../content/commands/peering/establish.mdx","fullPath":"/consul/commands/peering/establish","id":"sidebar-nav-item-114"},{"title":"exported-services","path":"peering/exported-services","filePath":"../content/commands/peering/exported-services.mdx","fullPath":"/consul/commands/peering/exported-services","id":"sidebar-nav-item-115"},{"title":"generate-token","path":"peering/generate-token","filePath":"../content/commands/peering/generate-token.mdx","fullPath":"/consul/commands/peering/generate-token","id":"sidebar-nav-item-116"},{"title":"list","path":"peering/list","filePath":"../content/commands/peering/list.mdx","fullPath":"/consul/commands/peering/list","id":"sidebar-nav-item-117"},{"title":"read","path":"peering/read","filePath":"../content/commands/peering/read.mdx","fullPath":"/consul/commands/peering/read","id":"sidebar-nav-item-118"}],"id":"sidebar-nav-item-111"},{"title":"reload","path":"reload","filePath":"../content/commands/reload.mdx","fullPath":"/consul/commands/reload","id":"sidebar-nav-item-119"},{"title":"rtt","path":"rtt","filePath":"../content/commands/rtt.mdx","fullPath":"/consul/commands/rtt","id":"sidebar-nav-item-120"},{"title":"services","routes":[{"title":"Overview","path":"services","filePath":"../content/commands/services/index.mdx","fullPath":"/consul/commands/services","id":"sidebar-nav-item-122"},{"title":"register","path":"services/register","filePath":"../content/commands/services/register.mdx","fullPath":"/consul/commands/services/register","id":"sidebar-nav-item-123"},{"title":"deregister","path":"services/deregister","filePath":"../content/commands/services/deregister.mdx","fullPath":"/consul/commands/services/deregister","id":"sidebar-nav-item-124"},{"title":"export","path":"services/export","filePath":"../content/commands/services/export.mdx","fullPath":"/consul/commands/services/export","id":"sidebar-nav-item-125"},{"title":"exported-services","path":"services/exported-services","filePath":"../content/commands/services/exported-services.mdx","fullPath":"/consul/commands/services/exported-services","id":"sidebar-nav-item-126"}],"id":"sidebar-nav-item-121"},{"title":"snapshot","routes":[{"title":"Overview","path":"snapshot","filePath":"../content/commands/snapshot/index.mdx","fullPath":"/consul/commands/snapshot","id":"sidebar-nav-item-128"},{"title":"agent","path":"snapshot/agent","filePath":"../content/commands/snapshot/agent.mdx","fullPath":"/consul/commands/snapshot/agent","id":"sidebar-nav-item-129"},{"title":"decode","path":"snapshot/decode","filePath":"../content/commands/snapshot/decode.mdx","fullPath":"/consul/commands/snapshot/decode","id":"sidebar-nav-item-130"},{"title":"inspect","path":"snapshot/inspect","filePath":"../content/commands/snapshot/inspect.mdx","fullPath":"/consul/commands/snapshot/inspect","id":"sidebar-nav-item-131"},{"title":"restore","path":"snapshot/restore","filePath":"../content/commands/snapshot/restore.mdx","fullPath":"/consul/commands/snapshot/restore","id":"sidebar-nav-item-132"},{"title":"save","path":"snapshot/save","filePath":"../content/commands/snapshot/save.mdx","fullPath":"/consul/commands/snapshot/save","id":"sidebar-nav-item-133"}],"id":"sidebar-nav-item-127"},{"title":"tls","routes":[{"title":"Overview","path":"tls","filePath":"../content/commands/tls/index.mdx","fullPath":"/consul/commands/tls","id":"sidebar-nav-item-135"},{"title":"ca","path":"tls/ca","filePath":"../content/commands/tls/ca.mdx","fullPath":"/consul/commands/tls/ca","id":"sidebar-nav-item-136"},{"title":"cert","path":"tls/cert","filePath":"../content/commands/tls/cert.mdx","fullPath":"/consul/commands/tls/cert","id":"sidebar-nav-item-137"}],"id":"sidebar-nav-item-134"},{"title":"troubleshoot","routes":[{"title":"Overview","path":"troubleshoot","filePath":"../content/commands/troubleshoot/index.mdx","fullPath":"/consul/commands/troubleshoot","id":"sidebar-nav-item-139"},{"title":"upstreams","path":"troubleshoot/upstreams","filePath":"../content/commands/troubleshoot/upstreams.mdx","fullPath":"/consul/commands/troubleshoot/upstreams","id":"sidebar-nav-item-140"},{"title":"proxy","path":"troubleshoot/proxy","filePath":"../content/commands/troubleshoot/proxy.mdx","fullPath":"/consul/commands/troubleshoot/proxy","id":"sidebar-nav-item-141"},{"title":"ports","path":"troubleshoot/ports","filePath":"../content/commands/troubleshoot/ports.mdx","fullPath":"/consul/commands/troubleshoot/ports","id":"sidebar-nav-item-142"}],"id":"sidebar-nav-item-138"},{"title":"validate","path":"validate","filePath":"../content/commands/validate.mdx","fullPath":"/consul/commands/validate","id":"sidebar-nav-item-143"},{"title":"version","path":"version","filePath":"../content/commands/version.mdx","fullPath":"/consul/commands/version","id":"sidebar-nav-item-144"},{"title":"watch","path":"watch","filePath":"../content/commands/watch.mdx","fullPath":"/consul/commands/watch","id":"sidebar-nav-item-145"}],"title":"CLI","visuallyHideTitle":true}],"mainWidth":"narrow","githubFileUrl":"https://github.com/hashicorp/consul/blob/main/website/../content/commands/agent.mdx"},"metadata":{"title":"Commands: Agent","description":"The `consul agent` command is the heart of Consul: it runs the agent that performs the important task of maintaining membership information, running checks, announcing services, handling queries, etc.","layout":null},"outlineItems":[{"title":"Consul Agent","url":"#consul-agent"},{"title":"Usage","url":"#usage"},{"title":"Environment Variables","url":"#environment-variables"},{"title":"Options","url":"#options"},{"title":"Advertise Address Options","url":"#advertise-address-options"},{"title":"Address Bind Options","url":"#address-bind-options"},{"title":"Bootstrap Options","url":"#bootstrap-options"},{"title":"Configuration File Options","url":"#configuration-file-options"},{"title":"DNS and Domain Options","url":"#dns-and-domain-options"},{"title":"Log Options","url":"#log-options"},{"title":"Node Options","url":"#node-options"},{"title":"Serf Options","url":"#serf-options"},{"title":"Server Options","url":"#server-options"},{"title":"UI Options","url":"#ui-options"}],"pageHeading":{"id":"consul-agent","title":"Consul Agent"},"mdxSource":{"compiledSource":"const makeShortcode=name=\u003efunction MDXDefaultShortcode(props){console.warn(\"Component \"+name+\" was not imported, exported, or provided by MDXProvider as global scope\");return mdx(\"div\",props)};const CodeBlockConfig=makeShortcode(\"CodeBlockConfig\");const EnterpriseAlert=makeShortcode(\"EnterpriseAlert\");const layoutProps={};const MDXLayout=\"wrapper\";function MDXContent({components,...props}){return mdx(MDXLayout,{...layoutProps,...props,components:components,mdxType:\"MDXLayout\"},mdx(\"p\",null,`This page describes the available command-line options for the Consul agent.`),mdx(\"h2\",{\"id\":\"usage\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#usage\",\"aria-label\":\"usage permalink\"},`\\xbb`),`Usage`),mdx(\"pre\",{\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"shellsession\",\"className\":\"language-shellsession\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-shellsession\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`consul agent \u003cOPTIONS\u003e`)),`\n`)),mdx(\"h2\",{\"id\":\"environment-variables\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#environment-variables\",\"aria-label\":\"environment variables permalink\"},`\\xbb`),`Environment Variables`),mdx(\"p\",null,`Environment variables `,mdx(\"strong\",{parentName:\"p\"},`cannot`),` be used to configure the Consul client. They\n`,mdx(\"em\",{parentName:\"p\"},`can`),` be used when running other `,mdx(\"inlineCode\",{parentName:\"p\"},`consul`),` CLI commands that connect with a\nrunning agent, e.g. `,mdx(\"inlineCode\",{parentName:\"p\"},`CONSUL_HTTP_ADDR=192.168.0.1:8500 consul members`),`.`),mdx(\"p\",null,`REFER TO `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/commands#environment-variables\"},`Consul Commands`),` for more\ninformation.`),mdx(\"h2\",{\"id\":\"options\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#options\",\"aria-label\":\"options permalink\"},`\\xbb`),`Options`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"auto-reload-config\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"_auto_reload_config\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#_auto_reload_config\",\"aria-label\":\"auto reload config permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`-auto-reload-config`)),` - This option directs Consul to automatically reload the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/agent/config#reloadable-configuration\"},`reloadable configuration options`),` when configuration files change.\nConsul also watches the certificate and key files specified with the `,mdx(\"inlineCode\",{parentName:\"p\"},`cert_file`),` and `,mdx(\"inlineCode\",{parentName:\"p\"},`key_file`),` parameters and reloads the configuration if the files are updated.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"check_output_max_size\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#check_output_max_size\",\"aria-label\":\"check_output_max_size permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`-check_output_max_size`)),` - Override the default\nlimit of 4k for maximum size of checks, this is a positive value. By limiting this\nsize, it allows to put less pressure on Consul servers when many checks are having\na very large output in their checks. In order to completely disable check output\ncapture, it is possible to use `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/reference/agent/configuration-file/general#discard_check_output\"},mdx(\"inlineCode\",{parentName:\"a\"},`discard_check_output`)),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"client\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"_client\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#_client\",\"aria-label\":\"client permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`-client`)),` - The address to which Consul will bind client\ninterfaces, including the HTTP and DNS servers. By default, this is \"127.0.0.1\",\nallowing only loopback connections. In Consul 1.0 and later this can be set to\na space-separated list of addresses to bind to, or a `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://godoc.org/github.com/hashicorp/go-sockaddr/template\"},`go-sockaddr`),`\ntemplate that can potentially resolve to multiple addresses.`),mdx(CodeBlockConfig,{hideClipboard:true,heading:\"Bind consul client interfaces to private IPv4 interfaces\",mdxType:\"CodeBlockConfig\"},mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"shell\",\"className\":\"language-shell\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-shell\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`$`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` consul`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` agent`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` -dev`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` -client`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` '{{ GetPrivateInterfaces | exclude \"type\" \"ipv6\" | join \"address\" \" \" }}'`)),`\n`))),mdx(CodeBlockConfig,{hideClipboard:true,heading:\"Bind consul client interfaces to private IP addresses and loopback\",mdxType:\"CodeBlockConfig\"},mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"shell\",\"className\":\"language-shell\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-shell\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`$`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` consul`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` agent`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` -dev`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` -client`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` '{{ GetPrivateInterfaces | join \"address\" \" \" }} {{ GetAllInterfaces | include \"flags\" \"loopback\" | join \"address\" \" \" }}'`)),`\n`))),mdx(CodeBlockConfig,{hideClipboard:true,heading:\"Exclude private interfaces that start with 'br-'\",mdxType:\"CodeBlockConfig\"},mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"shell\",\"className\":\"language-shell\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-shell\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`$`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` consul`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` agent`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` -dev`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` -client`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` '{{ GetPrivateInterfaces | exclude \"name\" \"br.*\" | join \"address\" \" \" }}'`)),`\n`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"data-dir\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"_data_dir\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#_data_dir\",\"aria-label\":\"data dir permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`-data-dir`)),` - This flag provides a data directory for\nthe agent to store state. This is required for all agents. The directory should\nbe durable across reboots. This is especially critical for agents that are running\nin server mode as they must be able to persist cluster state. Additionally, the\ndirectory must support the use of filesystem locking, meaning some types of mounted\nfolders (e.g. VirtualBox shared folders) may not be suitable.`),mdx(\"p\",{parentName:\"li\"},mdx(\"strong\",{parentName:\"p\"},`Note:`),` both server and non-server agents may store ACL tokens in the state in this directory so read access may grant access to any tokens on servers and to any tokens used during service registration on non-servers. On Unix-based platforms the files are written with 0600 permissions so you should ensure only trusted processes can execute as the same user as Consul. On Windows, you should ensure the directory has suitable permissions configured as these will be inherited.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"datacenter\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"_datacenter\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#_datacenter\",\"aria-label\":\"datacenter permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`-datacenter`)),` - This flag controls the datacenter in\nwhich the agent is running. If not provided, it defaults to \"dc1\". Consul has first-class\nsupport for multiple datacenters, but it relies on proper configuration. Nodes\nin the same datacenter should be on a single LAN.`))),mdx(\"div\",{\"className\":\"alert alert-warning g-type-body\"},mdx(\"p\",{parentName:\"div\"},``,mdx(\"strong\",{parentName:\"p\"},`Warning:`),` This `,mdx(\"inlineCode\",{parentName:\"p\"},`datacenter`),` string must conform to `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://datatracker.ietf.org/doc/html/rfc1035#section-2.3.1\"},`RFC 1035 DNS label requirements`),`,\nconsisting solely of letters, digits, and hyphens, with a maximum\nlength of 63 characters, and no hyphens at the beginning or end of the label.\nNon-compliant names create Consul DNS entries incompatible with PKI X.509 certificate generation.`)),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"dev\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"_dev\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#_dev\",\"aria-label\":\"dev permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`-dev`)),` - Enable development server mode. This is useful for\nquickly starting a Consul agent with all persistence options turned off, enabling\nan in-memory server which can be used for rapid prototyping or developing against\nthe API. In this mode, `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/fundamentals/config-entry\"},`service mesh is enabled`),` and\nwill by default create a new root CA certificate on startup. This mode is `,mdx(\"strong\",{parentName:\"p\"},`not`),`\nintended for production use as it does not write any data to disk. The gRPC port\nis also defaulted to `,mdx(\"inlineCode\",{parentName:\"p\"},`8502`),` in this mode.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"disable-keyring-file\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"_disable_keyring_file\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#_disable_keyring_file\",\"aria-label\":\"disable keyring file permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`-disable-keyring-file`)),` - If set, the keyring\nwill not be persisted to a file. Any installed keys will be lost on shutdown, and\nonly the given `,mdx(\"inlineCode\",{parentName:\"p\"},`-encrypt`),` key will be available on startup. This defaults to false.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enable-script-checks\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"_enable_script_checks\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#_enable_script_checks\",\"aria-label\":\"enable script checks permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`-enable-script-checks`)),` This controls whether\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/register/health-check/vm\"},`health checks that execute scripts`),` are enabled on this\nagent, and defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`false`),` so operators must opt-in to allowing these. This\nwas added in Consul 0.9.0.`),mdx(\"div\",{parentName:\"li\",\"className\":\"alert alert-warning g-type-body\"},mdx(\"p\",{parentName:\"div\"},``,mdx(\"strong\",{parentName:\"p\"},`Security Warning:`),` Enabling script checks in some configurations may\nintroduce a remote execution vulnerability which is known to be targeted by\nmalware. We strongly recommend `,mdx(\"inlineCode\",{parentName:\"p\"},`-enable-local-script-checks`),` instead. See `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://www.hashicorp.com/blog/protecting-consul-from-rce-risk-in-specific-configurations\"},`this\nblog post`),`\nfor more details.`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enable-local-script-checks\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"_enable_local_script_checks\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#_enable_local_script_checks\",\"aria-label\":\"enable local script checks permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`-enable-local-script-checks`)),`\nLike `,mdx(\"a\",{parentName:\"p\",\"href\":\"#_enable_script_checks\"},mdx(\"inlineCode\",{parentName:\"a\"},`-enable-script-checks`)),`, but only enable them when\nthey are defined in the local configuration files. Script checks defined in HTTP\nAPI registrations will still not be allowed.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"encrypt\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"_encrypt\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#_encrypt\",\"aria-label\":\"encrypt permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`-encrypt`)),` - Specifies the secret key to use for encryption\nof Consul network traffic. This key must be 32-bytes that are Base64-encoded. The\neasiest way to create an encryption key is to use `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/commands/keygen\"},mdx(\"inlineCode\",{parentName:\"a\"},`consul keygen`)),`.\nAll nodes within a cluster must share the same encryption key to communicate. The\nprovided key is automatically persisted to the data directory and loaded automatically\nwhenever the agent is restarted. This means that to encrypt Consul's gossip protocol,\nthis option only needs to be provided once on each agent's initial startup sequence.\nIf it is provided after Consul has been initialized with an encryption key, then\nthe provided key is ignored and a warning will be displayed.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"grpc-port\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"_grpc_port\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#_grpc_port\",\"aria-label\":\"grpc port permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`-grpc-port`)),` - the gRPC API port to listen on. Default\n-1 (gRPC disabled). See `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/agent/config#ports-used\"},`ports`),` documentation for more detail.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"hcl\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"_hcl\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#_hcl\",\"aria-label\":\"hcl permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`-hcl`)),` - A HCL configuration fragment. This HCL configuration\nfragment is appended to the configuration and allows to specify the full range\nof options of a config file on the command line. This option can be specified multiple\ntimes. This was added in Consul 1.0.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"http-port\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"_http_port\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#_http_port\",\"aria-label\":\"http port permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`-http-port`)),` - the HTTP API port to listen on. This overrides\nthe default port 8500. This option is very useful when deploying Consul to an environment\nwhich communicates the HTTP port through the environment e.g. PaaS like CloudFoundry,\nallowing you to set the port directly via a Procfile.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"https-port\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"_https_port\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#_https_port\",\"aria-label\":\"https port permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`-https-port`)),` - the HTTPS API port to listen on. Default\n-1 (https disabled). See `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/agent/config#ports-used\"},`ports`),` documentation for more detail.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"default-query-time\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"_default_query_time\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#_default_query_time\",\"aria-label\":\"default query time permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`-default-query-time`)),` - This flag controls the\namount of time a blocking query will wait before Consul will force a response.\nThis value can be overridden by the `,mdx(\"inlineCode\",{parentName:\"p\"},`wait`),` query parameter. Note that Consul applies\nsome jitter on top of this time. Defaults to 300s.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"max-query-time\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"_max_query_time\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#_max_query_time\",\"aria-label\":\"max query time permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`-max-query-time`)),` - this flag controls the maximum\namount of time a blocking query can wait before Consul will force a response. Consul\napplies jitter to the wait time. The jittered time will be capped to this time.\nDefaults to 600s.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"pid-file\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"_pid_file\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#_pid_file\",\"aria-label\":\"pid file permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`-pid-file`)),` - This flag provides the file path for the\nagent to store its PID. This is useful for sending signals (for example, `,mdx(\"inlineCode\",{parentName:\"p\"},`SIGINT`),`\nto close the agent or `,mdx(\"inlineCode\",{parentName:\"p\"},`SIGHUP`),` to update check definitions) to the agent.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"protocol\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"_protocol\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#_protocol\",\"aria-label\":\"protocol permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`-protocol`)),` - The Consul protocol version to use. Consul\nagents speak protocol 2 by default, however agents will automatically use protocol \u003e 2 when speaking to compatible agents. This should be set only when `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/upgrade\"},`upgrading`),`. You can view the protocol versions supported by Consul by running `,mdx(\"inlineCode\",{parentName:\"p\"},`consul version`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"raft-protocol\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"_raft_protocol\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#_raft_protocol\",\"aria-label\":\"raft protocol permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`-raft-protocol`)),` - This controls the internal version\nof the Raft consensus protocol used for server communications. This must be set\nto 3 in order to gain access to Autopilot features, with the exception of `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/reference/agent/configuration-file/general#cleanup_dead_servers\"},mdx(\"inlineCode\",{parentName:\"a\"},`cleanup_dead_servers`)),`. Defaults to 3 in Consul 1.0.0 and later (defaulted to 2 previously). See `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/upgrade/version-specific#raft-protocol-version-compatibility\"},`Raft Protocol Version Compatibility`),` for more details.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"segment\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"_segment\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#_segment\",\"aria-label\":\"segment permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`-segment`)),` `,mdx(EnterpriseAlert,{inline:true,mdxType:\"EnterpriseAlert\"}),` - This flag is used to set\nthe name of the network segment the agent belongs to. An agent can only join and\ncommunicate with other agents within its network segment. Ensure the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/multi-tenant/network-segment/vm#configure-clients-to-join-segments\"},`join\noperation uses the correct port for this segment`),`.\nReview the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/multi-tenant/network-segment/vm\"},`Network Segments documentation`),`\nfor more details. By default, this is an empty string, which is the `,mdx(\"inlineCode\",{parentName:\"p\"},`\u003cdefault\u003e`),`\nnetwork segment.`),mdx(\"div\",{parentName:\"li\",\"className\":\"alert alert-warning g-type-body\"},mdx(\"p\",{parentName:\"div\"},``,mdx(\"strong\",{parentName:\"p\"},`Warning:`),` The `,mdx(\"inlineCode\",{parentName:\"p\"},`segment`),` flag cannot be used with the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/reference/agent/configuration-file/general#partition\"},mdx(\"inlineCode\",{parentName:\"a\"},`partition`)),` option.`)))),mdx(\"h2\",{\"id\":\"advertise-address-options\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#advertise-address-options\",\"aria-label\":\"advertise address options permalink\"},`\\xbb`),`Advertise Address Options`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"advertise\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"_advertise\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#_advertise\",\"aria-label\":\"advertise permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`-advertise`)),` - The advertise address is used to change\nthe address that we advertise to other nodes in the cluster. By default, the `,mdx(\"a\",{parentName:\"p\",\"href\":\"#_bind\"},mdx(\"inlineCode\",{parentName:\"a\"},`-bind`)),`\naddress is advertised. However, in some cases, there may be a routable address\nthat cannot be bound. This flag enables gossiping a different address to support\nthis. If this address is not routable, the node will be in a constant flapping\nstate as other nodes will treat the non-routability as a failure. In Consul 1.1.0 and later this can be dynamically defined with a `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://godoc.org/github.com/hashicorp/go-sockaddr/template\"},`go-sockaddr`),`\ntemplate that is resolved at runtime.`),mdx(CodeBlockConfig,{heading:\"Using a static network interface name\",mdxType:\"CodeBlockConfig\"},mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"shellsession\",\"className\":\"language-shellsession\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-shellsession\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-cyan)\"}},`$`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` consul agent -advertise `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`'{{ GetInterfaceIP \"eth0\" }}'`)),`\n`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"advertise-wan\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"_advertise-wan\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#_advertise-wan\",\"aria-label\":\"advertise wan permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`-advertise-wan`)),` - The advertise WAN address is used\nto change the address that we advertise to server nodes joining through the WAN.\nThis can also be set on client agents when used in combination with the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/reference/agent/configuration-file/general#translate_wan_addrs\"},mdx(\"inlineCode\",{parentName:\"a\"},`translate_wan_addrs`)),` configuration option. By default, the `,mdx(\"a\",{parentName:\"p\",\"href\":\"#_advertise\"},mdx(\"inlineCode\",{parentName:\"a\"},`-advertise`)),` address\nis advertised. However, in some cases all members of all datacenters cannot be\non the same physical or virtual network, especially on hybrid setups mixing cloud\nand private datacenters. This flag enables server nodes gossiping through the public\nnetwork for the WAN while using private VLANs for gossiping to each other and their\nclient agents, and it allows client agents to be reached at this address when being\naccessed from a remote datacenter if the remote datacenter is configured with `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/reference/agent/configuration-file/general#translate_wan_addrs\"},mdx(\"inlineCode\",{parentName:\"a\"},`translate_wan_addrs`)),`. In Consul 1.1.0 and later this can be dynamically defined with a `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://godoc.org/github.com/hashicorp/go-sockaddr/template\"},`go-sockaddr`),`\ntemplate that is resolved at runtime.`))),mdx(\"h2\",{\"id\":\"address-bind-options\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#address-bind-options\",\"aria-label\":\"address bind options permalink\"},`\\xbb`),`Address Bind Options`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"bind\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"_bind\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#_bind\",\"aria-label\":\"bind permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`-bind`)),` - The address that should be bound to for internal\ncluster communications. This is an IP address that should be reachable by all other\nnodes in the cluster. By default, this is \"0.0.0.0\", meaning Consul will bind to\nall addresses on the local machine and will `,mdx(\"a\",{parentName:\"p\",\"href\":\"#_advertise\"},`advertise`),`\nthe private IPv4 address to the rest of the cluster. If there are multiple private\nIPv4 addresses available, Consul will exit with an error at startup. If you specify\n`,mdx(\"inlineCode\",{parentName:\"p\"},`\"[::]\"`),`, Consul will `,mdx(\"a\",{parentName:\"p\",\"href\":\"#_advertise\"},`advertise`),` the public\nIPv6 address. If there are multiple public IPv6 addresses available, Consul will\nexit with an error at startup. Consul uses both TCP and UDP and the same port for\nboth. If you have any firewalls, be sure to allow both protocols. In Consul 1.1.0 and later this can be dynamically defined with a `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://godoc.org/github.com/hashicorp/go-sockaddr/template\"},`go-sockaddr`),`\ntemplate that must resolve at runtime to a single address. Some example templates:`),mdx(CodeBlockConfig,{heading:\"Using address within a specific CIDR\",mdxType:\"CodeBlockConfig\"},mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"shellsession\",\"className\":\"language-shellsession\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-shellsession\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-cyan)\"}},`$`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` consul agent -bind `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`'{{ GetPrivateInterfaces | include \"network\" \"10.0.0.0/8\" | attr \"address\" }}'`)),`\n`))),mdx(CodeBlockConfig,{heading:\"Using a static network interface name\",mdxType:\"CodeBlockConfig\"},mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"shellsession\",\"className\":\"language-shellsession\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-shellsession\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-cyan)\"}},`$`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` consul agent -bind `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`'{{ GetInterfaceIP \"eth0\" }}'`)),`\n`))),mdx(CodeBlockConfig,{heading:\"Using regular expression matching for network interface name that is forwardable and up\",mdxType:\"CodeBlockConfig\"},mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"shellsession\",\"className\":\"language-shellsession\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-shellsession\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-cyan)\"}},`$`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` consul agent -bind `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`'{{ GetAllInterfaces | include \"name\" \"^eth\" | include \"flags\" \"forwardable|up\" | attr \"address\" }}'`)),`\n`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"serf-wan-bind\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"_serf_wan_bind\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#_serf_wan_bind\",\"aria-label\":\"serf wan bind permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`-serf-wan-bind`)),` - The address that should be bound\nto for Serf WAN gossip communications. By default, the value follows the same rules\nas `,mdx(\"a\",{parentName:\"p\",\"href\":\"#_bind\"},mdx(\"inlineCode\",{parentName:\"a\"},`-bind`),` command-line flag`),`, and if this is not specified, the `,mdx(\"inlineCode\",{parentName:\"p\"},`-bind`),`\noption is used. This is available in Consul 0.7.1 and later. In Consul 1.1.0 and later this can be dynamically defined with a `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://godoc.org/github.com/hashicorp/go-sockaddr/template\"},`go-sockaddr`),`\ntemplate that is resolved at runtime.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"serf-lan-bind\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"_serf_lan_bind\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#_serf_lan_bind\",\"aria-label\":\"serf lan bind permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`-serf-lan-bind`)),` - The address that should be bound\nto for Serf LAN gossip communications. This is an IP address that should be reachable\nby all other LAN nodes in the cluster. By default, the value follows the same rules\nas `,mdx(\"a\",{parentName:\"p\",\"href\":\"#_bind\"},mdx(\"inlineCode\",{parentName:\"a\"},`-bind`),` command-line flag`),`, and if this is not specified, the `,mdx(\"inlineCode\",{parentName:\"p\"},`-bind`),`\noption is used. This is available in Consul 0.7.1 and later. In Consul 1.1.0 and later this can be dynamically defined with a `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://godoc.org/github.com/hashicorp/go-sockaddr/template\"},`go-sockaddr`),`\ntemplate that is resolved at runtime.`))),mdx(\"h2\",{\"id\":\"bootstrap-options\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#bootstrap-options\",\"aria-label\":\"bootstrap options permalink\"},`\\xbb`),`Bootstrap Options`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"bootstrap\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"_bootstrap\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#_bootstrap\",\"aria-label\":\"bootstrap permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`-bootstrap`)),` - This flag is used to control if a server\nis in \"bootstrap\" mode. It is important that no more than one server `,mdx(\"strong\",{parentName:\"p\"},`per`),` datacenter\nbe running in this mode. Technically, a server in bootstrap mode is allowed to\nself-elect as the Raft leader. It is important that only a single node is in this\nmode; otherwise, consistency cannot be guaranteed as multiple nodes are able to\nself-elect. It is not recommended to use this flag after a cluster has been bootstrapped.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"bootstrap-expect\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"_bootstrap_expect\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#_bootstrap_expect\",\"aria-label\":\"bootstrap expect permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`-bootstrap-expect`)),` - This flag provides the number\nof expected servers in the datacenter. Either this value should not be provided\nor the value must agree with other servers in the cluster. When provided, Consul\nwaits until the specified number of servers are available and then bootstraps the\ncluster. This allows an initial leader to be elected automatically. This cannot\nbe used in conjunction with the legacy `,mdx(\"a\",{parentName:\"p\",\"href\":\"#_bootstrap\"},mdx(\"inlineCode\",{parentName:\"a\"},`-bootstrap`)),` flag. This flag\nrequires `,mdx(\"a\",{parentName:\"p\",\"href\":\"#_server\"},mdx(\"inlineCode\",{parentName:\"a\"},`-server`)),` mode.`))),mdx(\"h2\",{\"id\":\"configuration-file-options\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#configuration-file-options\",\"aria-label\":\"configuration file options permalink\"},`\\xbb`),`Configuration File Options`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"config-file\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"_config_file\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#_config_file\",\"aria-label\":\"config file permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`-config-file`)),` - A configuration file to load. For\nmore information on the format of this file, read the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/reference/agent\"},`Configuration Files`),`\nsection. This option can be specified multiple times to load multiple configuration\nfiles. If it is specified multiple times, configuration files loaded later will\nmerge with configuration files loaded earlier. During a config merge, single-value\nkeys (string, int, bool) will simply have their values replaced while list types\nwill be appended together.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"config-dir\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"_config_dir\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#_config_dir\",\"aria-label\":\"config dir permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`-config-dir`)),` - A directory of configuration files to\nload. Consul will load all files in this directory with the suffix \".json\" or \".hcl\".\nThe load order is alphabetical, and the same merge routine is used as with\nthe `,mdx(\"a\",{parentName:\"p\",\"href\":\"#_config_file\"},mdx(\"inlineCode\",{parentName:\"a\"},`config-file`)),` option above. This option can be specified multiple\ntimes to load multiple directories. Sub-directories of the config directory are\nnot loaded. For more information on the format of the configuration files, refer to\nthe `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/reference/agent\"},`Configuration Files`),` section.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"config-format\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"_config_format\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#_config_format\",\"aria-label\":\"config format permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`-config-format`)),` - The format of the configuration\nfiles to load. Normally, Consul detects the format of the config files from the\n\".json\" or \".hcl\" extension. Setting this option to either \"json\" or \"hcl\" forces\nConsul to interpret any file with or without extension to be interpreted in that\nformat.`))),mdx(\"h2\",{\"id\":\"dns-and-domain-options\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#dns-and-domain-options\",\"aria-label\":\"dns and domain options permalink\"},`\\xbb`),`DNS and Domain Options`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"dns-port\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"_dns_port\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#_dns_port\",\"aria-label\":\"dns port permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`-dns-port`)),` - the DNS port to listen on. This overrides\nthe default port 8600. This is available in Consul 0.7 and later.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"domain\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"_domain\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#_domain\",\"aria-label\":\"domain permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`-domain`)),` - By default, Consul responds to DNS queries in\nthe \"consul.\" domain. This flag can be used to change that domain. All queries\nin this domain are assumed to be handled by Consul and will not be recursively\nresolved.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"alt-domain\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"_alt_domain\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#_alt_domain\",\"aria-label\":\"alt domain permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`-alt-domain`)),` - This flag allows Consul to respond to\nDNS queries in an alternate domain, in addition to the primary domain. If unset,\nno alternate domain is used.`),mdx(\"p\",{parentName:\"li\"},`In Consul 1.10.4 and later, Consul DNS responses will use the same domain as in the query (`,mdx(\"inlineCode\",{parentName:\"p\"},`-domain`),` or `,mdx(\"inlineCode\",{parentName:\"p\"},`-alt-domain`),`) where applicable.\nPTR query responses will always use `,mdx(\"inlineCode\",{parentName:\"p\"},`-domain`),`, since the desired domain cannot be included in the query.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"recursor\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"_recursor\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#_recursor\",\"aria-label\":\"recursor permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`-recursor`)),` - Specifies the address of an upstream DNS\nserver. This option may be provided multiple times, and is functionally equivalent\nto the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/reference/agent/configuration-file/general#recursors\"},mdx(\"inlineCode\",{parentName:\"a\"},`recursors`),` configuration option`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"join\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"_join\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#_join\",\"aria-label\":\"join permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`-join`)),` - `,mdx(\"strong\",{parentName:\"p\"},`Deprecated in Consul 1.15. This flag will be removed in a future version of Consul. Use the `,mdx(\"inlineCode\",{parentName:\"strong\"},`-retry-join`),` flag instead.`),`\nThis is an alias of `,mdx(\"a\",{parentName:\"p\",\"href\":\"#_retry_join\"},mdx(\"inlineCode\",{parentName:\"a\"},`-retry-join`)),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"retry-join\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"_retry_join\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#_retry_join\",\"aria-label\":\"retry join permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`-retry-join`)),` - Address of another agent to join upon starting up. Joining is\nretried until success. Once the agent joins successfully as a member, it will not attempt to join\nagain. After joining, the agent solely maintains its membership via gossip. This option can be\nspecified multiple times to specify multiple agents to join. By default, the agent won't join any\nnodes when it starts up. The value can contain IPv4, IPv6, or DNS addresses. Literal IPv6\naddresses must be enclosed in square brackets. If multiple values are given, they are tried and\nretried in the order listed until the first succeeds.`),mdx(\"p\",{parentName:\"li\"},`This supports `,mdx(\"a\",{parentName:\"p\",\"href\":\"#cloud-auto-joining\"},`Cloud Auto-Joining`),`.`),mdx(\"p\",{parentName:\"li\"},`This can be dynamically defined with a `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://godoc.org/github.com/hashicorp/go-sockaddr/template\"},`go-sockaddr`),` template that is resolved at runtime.`),mdx(\"p\",{parentName:\"li\"},`If Consul is running on a non-default Serf LAN port, you must specify the port number in the address when using the `,mdx(\"inlineCode\",{parentName:\"p\"},`-retry-join`),` flag. Alternatively, you can specify the custom port number as the default in the agent's `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/reference/agent/configuration-file/general#serf_lan_port\"},mdx(\"inlineCode\",{parentName:\"a\"},`ports.serf_lan`)),` configuration or with the `,mdx(\"a\",{parentName:\"p\",\"href\":\"#_serf_lan_port\"},mdx(\"inlineCode\",{parentName:\"a\"},`-serf-lan-port`)),` command line flag when starting the agent.`),mdx(\"p\",{parentName:\"li\"},`If your network contains network segments, refer to the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/multi-tenant/network-segment/vm\"},`network segments documentation`),` for additional information.`),mdx(\"p\",{parentName:\"li\"},`Here are some examples of using `,mdx(\"inlineCode\",{parentName:\"p\"},`-retry-join`),`:`),mdx(CodeBlockConfig,{heading:\"Using a DNS entry\",mdxType:\"CodeBlockConfig\"},mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"shellsession\",\"className\":\"language-shellsession\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-shellsession\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-cyan)\"}},`$`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` consul agent -retry-join `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"consul.domain.internal\"`)),`\n`))),mdx(CodeBlockConfig,{heading:\"Using IPv4\",mdxType:\"CodeBlockConfig\"},mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"shellsession\",\"className\":\"language-shellsession\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-shellsession\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-cyan)\"}},`$`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` consul agent -retry-join `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"10.0.4.67\"`)),`\n`))),mdx(CodeBlockConfig,{heading:\"Using a non-default Serf LAN port\",mdxType:\"CodeBlockConfig\"},mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"shellsession\",\"className\":\"language-shellsession\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-shellsession\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-cyan)\"}},`$`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` consul agent -retry-join `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"192.0.2.10:8304\"`)),`\n`))),mdx(CodeBlockConfig,{heading:\"Using IPv6\",mdxType:\"CodeBlockConfig\"},mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"shellsession\",\"className\":\"language-shellsession\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-shellsession\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-cyan)\"}},`$`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` consul agent -retry-join `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"[::1]:8301\"`)),`\n`))),mdx(CodeBlockConfig,{heading:\"Using multiple addresses\",mdxType:\"CodeBlockConfig\"},mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"shellsession\",\"className\":\"language-shellsession\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-shellsession\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-cyan)\"}},`$`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` consul agent -retry-join `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"consul.domain.internal\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` -retry-join `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"10.0.4.67\"`)),`\n`))),mdx(\"h3\",{parentName:\"li\",\"id\":\"cloud-auto-joining\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#cloud-auto-joining\",\"aria-label\":\"cloud auto joining permalink\"},`\\xbb`),`Cloud Auto-Joining`),mdx(\"p\",{parentName:\"li\"},`The `,mdx(\"inlineCode\",{parentName:\"p\"},`-retry-join`),` option accepts a unified interface using the\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"https://github.com/hashicorp/go-discover\"},`go-discover`),` library for doing\nautomatic cluster joining using cloud metadata. For more information, see\nthe `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/deploy/server/cloud-auto-join\"},`Cloud Auto-join page`),`.`),mdx(CodeBlockConfig,{heading:\"Using Cloud Auto-Joining\",mdxType:\"CodeBlockConfig\"},mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"shellsession\",\"className\":\"language-shellsession\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-shellsession\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-cyan)\"}},`$`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` consul agent -retry-join `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"provider=aws tag_key=...\"`)),`\n`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"retry-interval\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"_retry_interval\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#_retry_interval\",\"aria-label\":\"retry interval permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`-retry-interval`)),` - Time to wait between join attempts.\nDefaults to 30s.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"retry-max\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"_retry_max\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#_retry_max\",\"aria-label\":\"retry max permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`-retry-max`)),` - The maximum number of join attempts if using\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"#_retry_join\"},mdx(\"inlineCode\",{parentName:\"a\"},`-retry-join`)),` before exiting with return code 1. By default, this is set\nto 0 which is interpreted as infinite retries.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"join-wan\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"_join_wan\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#_join_wan\",\"aria-label\":\"join wan permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`-join-wan`)),` - `,mdx(\"strong\",{parentName:\"p\"},`Deprecated in Consul 1.15. This flag will be removed in a future version of Consul. Use the `,mdx(\"inlineCode\",{parentName:\"strong\"},`-retry-join-wan`),` flag instead.`),`\nThis is an alias of `,mdx(\"a\",{parentName:\"p\",\"href\":\"#_retry_join_wan\"},mdx(\"inlineCode\",{parentName:\"a\"},`-retry-join-wan`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"retry-join-wan\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"_retry_join_wan\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#_retry_join_wan\",\"aria-label\":\"retry join wan permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`-retry-join-wan`)),` - Address of another WAN agent to join upon starting up.\nWAN joining is retried until success. This can be specified multiple times to specify multiple WAN\nagents to join. If multiple values are given, they are tried and retried in the order listed\nuntil the first succeeds. By default, the agent won't WAN join any nodes when it starts up.`),mdx(\"p\",{parentName:\"li\"},`This supports `,mdx(\"a\",{parentName:\"p\",\"href\":\"#cloud-auto-joining\"},`Cloud Auto-Joining`),`.`),mdx(\"p\",{parentName:\"li\"},`This can be dynamically defined with a `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://godoc.org/github.com/hashicorp/go-sockaddr/template\"},`go-sockaddr`),` template that is resolved at runtime.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"primary-gateway\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"_primary_gateway\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#_primary_gateway\",\"aria-label\":\"primary gateway permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`-primary-gateway`)),` - Similar to `,mdx(\"a\",{parentName:\"p\",\"href\":\"#_retry_join_wan\"},mdx(\"inlineCode\",{parentName:\"a\"},`-retry-join-wan`)),`\nbut allows retrying discovery of fallback addresses for the mesh gateways in the\nprimary datacenter if the first attempt fails. This is useful for cases where we\nknow the address will become available eventually. `,mdx(\"a\",{parentName:\"p\",\"href\":\"#cloud-auto-joining\"},`Cloud Auto-Joining`),`\nis supported as well as `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://godoc.org/github.com/hashicorp/go-sockaddr/template\"},`go-sockaddr`),`\ntemplates. This was added in Consul 1.8.0.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"retry-interval-wan\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"_retry_interval_wan\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#_retry_interval_wan\",\"aria-label\":\"retry interval wan permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`-retry-interval-wan`)),` - Time to wait between\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"#_retry_join_wan\"},mdx(\"inlineCode\",{parentName:\"a\"},`-retry-join-wan`)),` attempts. Defaults to 30s.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"retry-max-wan\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"_retry_max_wan\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#_retry_max_wan\",\"aria-label\":\"retry max wan permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`-retry-max-wan`)),` - The maximum number of `,mdx(\"a\",{parentName:\"p\",\"href\":\"#_join_wan\"},mdx(\"inlineCode\",{parentName:\"a\"},`-retry-join-wan`)),`\nattempts to be made before exiting with return code 1. By default, this is set\nto 0 which is interpreted as infinite retries.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"rejoin\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"_rejoin\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#_rejoin\",\"aria-label\":\"rejoin permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`-rejoin`)),` - When provided, Consul will ignore a previous\nleave and attempt to rejoin the cluster when starting. By default, Consul treats\nleave as a permanent intent and does not attempt to join the cluster again when\nstarting. This flag allows the previous state to be used to rejoin the cluster.`))),mdx(\"h2\",{\"id\":\"log-options\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#log-options\",\"aria-label\":\"log options permalink\"},`\\xbb`),`Log Options`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"log-file\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"_log_file\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#_log_file\",\"aria-label\":\"log file permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`-log-file`)),` - writes all the Consul agent log messages\nto a file at the path indicated by this flag. The filename defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`consul.log`),`.\nWhen the log file rotates, this value is used as a prefix for the path to the log and the current timestamp is\nappended to the file name. If the value ends in a path separator, `,mdx(\"inlineCode\",{parentName:\"p\"},`consul-`),`\nwill be appended to the value. If the file name is missing an extension, `,mdx(\"inlineCode\",{parentName:\"p\"},`.log`),`\nis appended. For example, setting `,mdx(\"inlineCode\",{parentName:\"p\"},`log-file`),` to `,mdx(\"inlineCode\",{parentName:\"p\"},`/var/log/`),` would result in a log\nfile path of `,mdx(\"inlineCode\",{parentName:\"p\"},`/var/log/consul.log`),`. `,mdx(\"inlineCode\",{parentName:\"p\"},`log-file`),` can be combined with\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"#_log_rotate_bytes\"},mdx(\"inlineCode\",{parentName:\"a\"},`-log-rotate-bytes`)),` and `,mdx(\"a\",{parentName:\"p\",\"href\":\"#_log_rotate_duration\"},mdx(\"inlineCode\",{parentName:\"a\"},`-log-rotate-duration`)),`\nfor a fine-grained log rotation experience. After rotation, the path and filename take the following form:\n`,mdx(\"inlineCode\",{parentName:\"p\"},`/var/log/consul-{timestamp}.log`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"log-rotate-bytes\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"_log_rotate_bytes\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#_log_rotate_bytes\",\"aria-label\":\"log rotate bytes permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`-log-rotate-bytes`)),` - to specify the number of\nbytes that should be written to a log before it needs to be rotated. Unless specified,\nthere is no limit to the number of bytes that can be written to a log file.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"log-rotate-duration\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"_log_rotate_duration\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#_log_rotate_duration\",\"aria-label\":\"log rotate duration permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`-log-rotate-duration`)),` - to specify the maximum\nduration a log should be written to before it needs to be rotated. Must be a duration\nvalue such as 30s. Defaults to 24h.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"log-rotate-max-files\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"_log_rotate_max_files\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#_log_rotate_max_files\",\"aria-label\":\"log rotate max files permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`-log-rotate-max-files`)),` - to specify the maximum\nnumber of older log file archives to keep. Defaults to 0 (no files are ever deleted).\nSet to -1 to discard old log files when a new one is created.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"log-level\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"_log_level\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#_log_level\",\"aria-label\":\"log level permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`-log-level`)),` - The level of logging to show after the\nConsul agent has started. This defaults to \"info\". The available log levels are\n\"trace\", \"debug\", \"info\", \"warn\", and \"error\". You can always connect to an agent\nvia `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/commands/monitor\"},mdx(\"inlineCode\",{parentName:\"a\"},`consul monitor`)),` and use any log level. Also,\nthe log level can be changed during a config reload.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"log-json\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"_log_json\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#_log_json\",\"aria-label\":\"log json permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`-log-json`)),` - This flag enables the agent to output logs\nin a JSON format. By default this is false.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"syslog\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"_syslog\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#_syslog\",\"aria-label\":\"syslog permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`-syslog`)),` - This flag enables logging to syslog. This is\nonly supported on Linux and macOS. It will result in an error if provided on Windows.`))),mdx(\"h2\",{\"id\":\"node-options\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#node-options\",\"aria-label\":\"node options permalink\"},`\\xbb`),`Node Options`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"node\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"_node\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#_node\",\"aria-label\":\"node permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`-node`)),` - The name of this node in the cluster. This must\nbe unique within the cluster. By default this is the hostname of the machine.\nThe node name cannot contain whitespace or quotation marks. To query the node from DNS, the name must only contain alphanumeric characters and hyphens (`,mdx(\"inlineCode\",{parentName:\"p\"},`-`),`).`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"node-id\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"_node_id\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#_node_id\",\"aria-label\":\"node id permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`-node-id`)),` - Available in Consul 0.7.3 and later, this\nis a unique identifier for this node across all time, even if the name of the node\nor address changes. This must be in the form of a hex string, 36 characters long,\nsuch as `,mdx(\"inlineCode\",{parentName:\"p\"},`adf4238a-882b-9ddc-4a9d-5b6758e4159e`),`. If this isn't supplied, which is\nthe most common case, then the agent will generate an identifier at startup and\npersist it in the `,mdx(\"a\",{parentName:\"p\",\"href\":\"#_data_dir\"},`data directory`),` so that it will remain the same\nacross agent restarts. Information from the host will be used to generate a deterministic\nnode ID if possible, unless `,mdx(\"a\",{parentName:\"p\",\"href\":\"#_disable_host_node_id\"},mdx(\"inlineCode\",{parentName:\"a\"},`-disable-host-node-id`)),` is\nset to true.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"node-meta\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"_node_meta\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#_node_meta\",\"aria-label\":\"node meta permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`-node-meta`)),` - Available in Consul 0.7.3 and later, this\nspecifies an arbitrary metadata key/value pair to associate with the node, of the\nform `,mdx(\"inlineCode\",{parentName:\"p\"},`key:value`),`. This can be specified multiple times. Node metadata pairs have\nthe following restrictions:`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},`A maximum of 64 key/value pairs can be registered per node.`),mdx(\"li\",{parentName:\"ul\"},`Metadata keys must be between 1 and 128 characters (inclusive) in length`),mdx(\"li\",{parentName:\"ul\"},`Metadata keys must contain only alphanumeric, `,mdx(\"inlineCode\",{parentName:\"li\"},`-`),`, and `,mdx(\"inlineCode\",{parentName:\"li\"},`_`),` characters.`),mdx(\"li\",{parentName:\"ul\"},`Metadata keys must not begin with the `,mdx(\"inlineCode\",{parentName:\"li\"},`consul-`),` prefix; that is reserved for internal use by Consul.`),mdx(\"li\",{parentName:\"ul\"},`Metadata values must be between 0 and 512 (inclusive) characters in length.`),mdx(\"li\",{parentName:\"ul\"},`Metadata values for keys beginning with `,mdx(\"inlineCode\",{parentName:\"li\"},`rfc1035-`),` are encoded verbatim in DNS TXT requests, otherwise\nthe metadata kv-pair is encoded according `,mdx(\"a\",{parentName:\"li\",\"href\":\"https://www.ietf.org/rfc/rfc1464.txt\"},`RFC1464`),`.`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"disable-host-node-id\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"_disable_host_node_id\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#_disable_host_node_id\",\"aria-label\":\"disable host node id permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`-disable-host-node-id`)),` - Setting this to\ntrue will prevent Consul from using information from the host to generate a deterministic\nnode ID, and will instead generate a random node ID which will be persisted in\nthe data directory. This is useful when running multiple Consul agents on the same\nhost for testing. This defaults to false in Consul prior to version 0.8.5 and in\n0.8.5 and later defaults to true, so you must opt-in for host-based IDs. Host-based\nIDs are generated using `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://github.com/shirou/gopsutil/\"},`gopsutil`),`, which\nis shared with HashiCorp's `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://www.nomadproject.io/\"},`Nomad`),`, so if you opt-in\nto host-based IDs then Consul and Nomad will use information on the host to automatically\nassign the same ID in both systems.`))),mdx(\"h2\",{\"id\":\"serf-options\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#serf-options\",\"aria-label\":\"serf options permalink\"},`\\xbb`),`Serf Options`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"serf-lan-allowed-cidrs\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"_serf_lan_allowed_cidrs\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#_serf_lan_allowed_cidrs\",\"aria-label\":\"serf lan allowed cidrs permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`-serf-lan-allowed-cidrs`)),` - The Serf LAN allowed CIDRs allow to accept incoming\nconnections for Serf only from several networks (multiple values are supported).\nThose networks are specified with CIDR notation (eg: 192.168.1.0/24).\nThis is available in Consul 1.8 and later.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"serf-lan-port\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"_serf_lan_port\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#_serf_lan_port\",\"aria-label\":\"serf lan port permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`-serf-lan-port`)),` - the Serf LAN port to listen on.\nThis overrides the default Serf LAN port 8301. This is available in Consul 1.2.2\nand later.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"serf-wan-allowed-cidrs\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"_serf_wan_allowed_cidrs\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#_serf_wan_allowed_cidrs\",\"aria-label\":\"serf wan allowed cidrs permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`-serf-wan-allowed-cidrs`)),` - The Serf WAN allowed CIDRs allow to accept incoming\nconnections for Serf only from several networks (multiple values are supported).\nThose networks are specified with CIDR notation (eg: 192.168.1.0/24).\nThis is available in Consul 1.8 and later.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"serf-wan-port\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"_serf_wan_port\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#_serf_wan_port\",\"aria-label\":\"serf wan port permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`-serf-wan-port`)),` - the Serf WAN port to listen on.\nThis overrides the default Serf WAN port 8302. This is available in Consul 1.2.2\nand later.`))),mdx(\"h2\",{\"id\":\"server-options\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#server-options\",\"aria-label\":\"server options permalink\"},`\\xbb`),`Server Options`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"server\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"_server\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#_server\",\"aria-label\":\"server permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`-server`)),` - This flag is used to control if an agent is\nin server or client mode. When provided, an agent will act as a Consul server.\nEach Consul cluster must have at least one server and ideally no more than 5 per\ndatacenter. All servers participate in the Raft consensus algorithm to ensure that\ntransactions occur in a consistent, linearizable manner. Transactions modify cluster\nstate, which is maintained on all server nodes to ensure availability in the case\nof node failure. Server nodes also participate in a WAN gossip pool with server\nnodes in other datacenters. Servers act as gateways to other datacenters and forward\nRPC traffic as appropriate.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"server-port\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"_server_port\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#_server_port\",\"aria-label\":\"server port permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`-server-port`)),` - the server RPC port to listen on.\nThis overrides the default server RPC port 8300. This is available in Consul 1.2.2\nand later.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"non-voting-server\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"_non_voting_server\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#_non_voting_server\",\"aria-label\":\"non voting server permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`-non-voting-server`)),` `,mdx(EnterpriseAlert,{inline:true,mdxType:\"EnterpriseAlert\"}),` - `,mdx(\"strong\",{parentName:\"p\"},`This field\nis deprecated in Consul 1.9.1. See the `,mdx(\"a\",{parentName:\"strong\",\"href\":\"#_read_replica\"},mdx(\"inlineCode\",{parentName:\"a\"},`-read-replica`)),` flag instead.`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"read-replica\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"_read_replica\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#_read_replica\",\"aria-label\":\"read replica permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`-read-replica`)),` `,mdx(EnterpriseAlert,{inline:true,mdxType:\"EnterpriseAlert\"}),` - This\nflag is used to make the server not participate in the Raft quorum, and have it\nonly receive the data replication stream. This can be used to add read scalability\nto a cluster in cases where a high volume of reads to servers are needed.`))),mdx(\"h2\",{\"id\":\"ui-options\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#ui-options\",\"aria-label\":\"ui options permalink\"},`\\xbb`),`UI Options`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"ui\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"_ui\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#_ui\",\"aria-label\":\"ui permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`-ui`)),` - Enables the built-in web UI server and the required\nHTTP routes. This eliminates the need to maintain the Consul web UI files separately\nfrom the binary.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"ui-dir\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"_ui_dir\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#_ui_dir\",\"aria-label\":\"ui dir permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`-ui-dir`)),` - This flag provides the directory containing\nthe Web UI resources for Consul. This will automatically enable the Web UI. The\ndirectory must be readable to the agent. Starting with Consul version 0.7.0 and\nlater, the Web UI assets are included in the binary so this flag is no longer necessary;\nspecifying only the `,mdx(\"inlineCode\",{parentName:\"p\"},`-ui`),` flag is enough to enable the Web UI. Specifying both\nthe '-ui' and '-ui-dir' flags will result in an error.`))),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"ui-content-path\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"_ui_content_path\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#_ui_content_path\",\"aria-label\":\"ui content path permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`-ui-content-path`)),` - This flag provides the option\nto change the path the Consul UI loads from and will be displayed in the browser.\nBy default, the path is `,mdx(\"inlineCode\",{parentName:\"li\"},`/ui/`),`, for example `,mdx(\"inlineCode\",{parentName:\"li\"},`http://localhost:8500/ui/`),`. Only alphanumerics,\n`,mdx(\"inlineCode\",{parentName:\"li\"},`-`),`, and `,mdx(\"inlineCode\",{parentName:\"li\"},`_`),` are allowed in a custom path.`,mdx(\"inlineCode\",{parentName:\"li\"},`/v1/`),` is not allowed as it would overwrite\nthe API endpoint.`)))};MDXContent.isMDXComponent=true;","scope":{"product":"consul","version":"latest"}},"product":{"name":"Consul","slug":"consul","algoliaConfig":{"indexName":"product_CONSUL","searchOnlyApiKey":"fbd5dc1f0078d41509fcc560386fd534"},"analyticsConfig":{"includedDomains":"consul.io www.consul.io","segmentWriteKey":"IyzLrqXkox5KJ8XL4fo8vTYNGfiKlTCm"},"datoToken":"88b4984480dad56295a8aadae6caad","metadata":{"title":"Consul by HashiCorp","description":"Consul is a service networking solution to automate network configurations, discover services, and enable secure connectivity across any cloud or runtime.","image":"https://www.consulproject.io/consul-public/img/og-image.png","icon":[{"href":"/consul-public/_favicon.ico"}]},"alertBannerActive":true,"alertBanner":{"tag":"HashiDays","url":"https://hashicorp.com/conferences/hashidays","text":"One conference. Three cities.","linkText":"Find a city near you","expirationDate":"2024-06-14T00:00:00-08:00"},"version":"1.11.3","subnavItems":[],"basePaths":["docs","api-docs","commands","downloads"],"rootDocsPaths":[{"iconName":"docs","name":"Documentation","path":"docs"},{"iconName":"api","name":"API","path":"api-docs"},{"iconName":"terminal-screen","name":"CLI","path":"commands"}],"currentRootDocsPath":{"iconName":"terminal-screen","name":"CLI","path":"commands"}},"projectName":null,"versions":null},"__N_SSG":true},"page":"/consul/commands/[[...page]]","query":{"page":["agent"]},"buildId":"1E_1pgNG7MGvCia4nVYo8","isFallback":false,"gsp":true,"scriptLoader":[]}</script><script nomodule="">window.MSInputMethodContext && document.documentMode && document.write('<script src="/ie-warning.js"><\x2fscript>');</script></body></html>