<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><title>Helm Chart Reference | Consul | HashiCorp Developer</title><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta property="og:locale" content="en_US"/><meta property="og:type" content="website"/><meta property="article:publisher" content="https://www.facebook.com/HashiCorp/"/><meta name="twitter:site" content="@HashiCorp"/><meta name="twitter:card" content="summary_large_image"/><meta name="theme-color" content="#000"/><meta name="description" property="og:description" content="The Helm Chart allows you to schedule Kubernetes clusters with injected Consul sidecars by defining custom values in a YAML configuration. Find stanza hierarchy, the parameters you can set, and their default values in this k8s reference guide."/><meta name="twitter:description" content="The Helm Chart allows you to schedule Kubernetes clusters with injected Consul sidecars by defining custom values in a YAML configuration. Find stanza hierarchy, the parameters you can set, and their default values in this k8s reference guide."/><meta property="og:site_name" content="Helm Chart Reference | Consul | HashiCorp Developer"/><meta property="og:title" content="Helm Chart Reference | Consul | HashiCorp Developer"/><meta property="og:image" content="https://developer.hashicorp.com/og-image/consul.jpg"/><link rel="canonical" href="https://developer.hashicorp.com/consul/docs/reference/k8s/helm"/><link rel="icon" href="/favicon.ico" sizes="48x48"/><link rel="icon" href="/favicon.svg" sizes="any" type="image/svg+xml"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="google-site-verification" content="zRQZqfAsOX-ypXfU0mzAIzb5rUvj5fA4Zw2jWJRN-JI"/><meta name="ahrefs-site-verification" content="9d739b21c466a84dae91df1c79396081a9072152e64f765c9390fed6f249fb84"/><meta name="zd-site-verification" content="xnvnvv1i0wl4tf0pzaymb" data-product="hcp"/><meta name="zd-site-verification" content="36fp2i1pj67d8cjtzf4fi9" data-product="terraform"/><meta name="zd-site-verification" content="nbe87kfyp1sck7b13vj1i" data-product="packer"/><meta name="zd-site-verification" content="wvsmmqa1cfb9am9zlwfj" data-product="consul"/><meta name="zd-site-verification" content="cw22oopfwr68ujj0n5pn9i" data-product="boundary"/><meta name="zd-site-verification" content="lkslvganwfgfqfwpdeicgh" data-product="vault"/><meta name="zd-site-verification" content="jl2wp2hoej9rz6c8rmqdns" data-product="nomad"/><meta name="zd-site-verification" content="2eb0cu6xceo73t0038m0tb" data-product="waypoint"/><meta name="zd-site-verification" content="n52xisxdf3higs2q9kuogd" data-product="vagrant"/><meta name="twitter:image" content="https://developer.hashicorp.com/og-image/consul.jpg"/><link rel="prefetch" href="https://www.datadoghq-browser-agent.com/datadog-rum-v4.js"/><script type="application/ld+json">[{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Developer","item":"https://developer.hashicorp.com/"},{"@type":"ListItem","position":2,"name":"Consul","item":"https://developer.hashicorp.com/consul"},{"@type":"ListItem","position":3,"name":"Documentation","item":"https://developer.hashicorp.com/consul/docs"},{"@type":"ListItem","position":4,"name":"Consul Helm chart","item":"https://developer.hashicorp.com/consul/docs/reference/k8s/helm"}]}]</script><meta name="next-head-count" content="32"/><link data-next-font="" rel="preconnect" href="/" crossorigin="anonymous"/><link rel="preload" href="/_next/static/css/f49486d3b4c819d0.css" as="style"/><link rel="stylesheet" href="/_next/static/css/f49486d3b4c819d0.css" data-n-g=""/><link rel="preload" href="/_next/static/css/a3fdbf75d77eb323.css" as="style"/><link rel="stylesheet" href="/_next/static/css/a3fdbf75d77eb323.css" data-n-p=""/><link rel="preload" href="/_next/static/css/a23a4d5b8f64c49d.css" as="style"/><link rel="stylesheet" href="/_next/static/css/a23a4d5b8f64c49d.css" data-n-p=""/><link rel="preload" href="/_next/static/css/686380cdcb9bba8b.css" as="style"/><link rel="stylesheet" href="/_next/static/css/686380cdcb9bba8b.css" data-n-p=""/><link rel="preload" href="/_next/static/css/6fa5efbca95ceafa.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6fa5efbca95ceafa.css" data-n-p=""/><link rel="preload" href="/_next/static/css/ae09c8e2a5e8a685.css" as="style"/><link rel="stylesheet" href="/_next/static/css/ae09c8e2a5e8a685.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js"></script><script src="/_next/static/chunks/webpack-842277f4ad2b003f.js" defer=""></script><script src="/_next/static/chunks/framework-7063787c3be570d0.js" defer=""></script><script src="/_next/static/chunks/main-7bf85f85b965ad61.js" defer=""></script><script src="/_next/static/chunks/pages/_app-afea15ccbb134426.js" defer=""></script><script src="/_next/static/chunks/7166-70084e7c41a66411.js" defer=""></script><script src="/_next/static/chunks/1395-1eb65df04043100c.js" defer=""></script><script src="/_next/static/chunks/2273-6dfd48e8418afcdf.js" defer=""></script><script src="/_next/static/chunks/5675-7108b5e9113ea2a3.js" defer=""></script><script src="/_next/static/chunks/8604-305dcb3c7664513e.js" defer=""></script><script src="/_next/static/chunks/7181-94ab6c899e8a75ba.js" defer=""></script><script src="/_next/static/chunks/9554-d740b5e666a16cc0.js" defer=""></script><script src="/_next/static/chunks/7427-6a67396842ebb657.js" defer=""></script><script src="/_next/static/chunks/5261-c0c32f534b764eb3.js" defer=""></script><script src="/_next/static/chunks/6787-5406eb82ed1c8857.js" defer=""></script><script src="/_next/static/chunks/3786-bfb5477c5f7f7c76.js" defer=""></script><script src="/_next/static/chunks/8018-24402fb5c8abb1b5.js" defer=""></script><script src="/_next/static/chunks/8577-a3048bd869a84460.js" defer=""></script><script src="/_next/static/chunks/pages/consul/docs/%5B...page%5D-baccdfdfb513d5ea.js" defer=""></script><script src="/_next/static/DOOiXiPQSEZ8vUMVgThie/_buildManifest.js" defer=""></script><script src="/_next/static/DOOiXiPQSEZ8vUMVgThie/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="style_root__dZhZu"><a href="https://www.hashicorp.com/en/blog/hashicorp-officially-joins-the-ibm-family" class="style_linkElem__hCESK"><span class="style_textContainer__6CuI7 g-grid-container"><span class="style_tag__jbHGz g-type-body-small-x-strong">Acquisition complete<!-- --> </span><span class="style_text__rwS0u g-type-body-small">HashiCorp officially joins the IBM family.<span class="style_linkText__E8GJf g-type-body-small-x-strong"> <!-- -->Learn more</span></span></span></a><button class="style_closeButton__57J9w"><div><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 20 20"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M15 5 5 15M5 5l10 10"/></svg></div><span style="position:absolute;border:0;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;word-wrap:normal">Dismiss alert</span></button></div><script type="text/javascript">
(function checkDismissAlertBanner() {
  try {
    if (document.cookie.includes('banner_hashicorp-officially-joins-the-ibm-family.=1')) {
      const element = document.querySelector('.style_root__dZhZu')
      element.classList.remove('style_isShown__D4mb6')
    }
  } catch (_) {
    // do nothing
  }
})()
</script><script>!function(){try{var d=document.documentElement,n='data-theme',s='setAttribute';var e=localStorage.getItem('theme');if('system'===e||(!e&&true)){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){d.style.colorScheme = 'dark';d[s](n,'dark')}else{d.style.colorScheme = 'light';d[s](n,'light')}}else if(e){d[s](n,e|| '')}if(e==='light'||e==='dark')d.style.colorScheme=e}catch(e){}}()</script><div class="core-dev-dot-layout_root__MT1PZ"><div class="base-layout_root___qiZs" data-layout="base-new"><div class="base-layout_header__XhkxS"><header class="navigation-header_root__oE_HT"><div class="navigation-header_leftSide__V0xlc"><div class="product-page-content_productsDropdown__haUyw"><nav aria-label="Main" data-orientation="horizontal" dir="ltr"><div class="dropdown-menu_root__Hwy5S"><div class="dropdown-menu_activatorWrapper__LxPRt"><button aria-controls="navigation-header-menu-react-aria-1" aria-expanded="false" aria-label="Main menu" class="dropdown-menu_activator__xXb00 g-focus-ring-from-box-shadow-dark product-page-content_productsDropdownButton__bnKKs"><span class="dropdown-menu_activatorLeadingIcon__YQQlH"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" aria-hidden="true" class="product-page-content_productsDropdownIcon__gXtly"><g fill="currentColor"><path d="M10.336 1.5L2 6.268v11.456l3.131 1.793V8.061l5.205-2.979V1.5z"></path><path d="M13.664 1.5v9.123h-3.328V7.219L7.203 9.012V20.7l3.133 1.796V13.4h3.328v3.381l3.131-1.793V3.293L13.664 1.5z"></path><path d="M22 17.732L13.664 22.5v-3.582l5.203-2.98V4.484L22 6.276v11.456z"></path></g></svg></span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="dropdown-menu_activatorTrailingIcon__r_cCd"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></button></div><div class="dropdown-menu_dropdownContainer__AZWxN" id="navigation-header-menu-react-aria-1" style="display:none"><div class="style_root__z3EwE style_productPanel__Z4UFi style_hasSide__15FV8 style_hasSide__ecwjD"><div class="style_mainPanel__MpQn1"><div class="style_column__9is2G style_hasSide__A3F31"><ul class="style_productCategories__j1h4T"><li class="style_productCategory__9UHKG"><span class="hds-text hdsplus-typography-body-300 style_eyebrow__OCUlS">Infrastructure Lifecycle Management</span><ul class="style_productList__uPlTj"><li><a aria-label="Terraform - Manage infrastructure as code" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/terraform"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="flight-icon flight-icon-terraform-fill flight-icon-display-inline style_terraform__nU44i" aria-hidden="true" fill="currentColor" id=":R9imld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-terraform-fill-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>Terraform</span><span class="style_productDesc__bi44f">Manage infrastructure as code</span></div></div></a></li><li><a aria-label="Packer - Build machine images" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/packer"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="flight-icon flight-icon-packer-fill-color flight-icon-display-inline" aria-hidden="true" fill="currentColor" id=":Raimld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-packer-fill-color-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>Packer</span><span class="style_productDesc__bi44f">Build machine images</span></div></div></a></li><li><a aria-label="Nomad - Orchestrate workloads" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/nomad"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="flight-icon flight-icon-nomad-fill-color flight-icon-display-inline" aria-hidden="true" fill="currentColor" id=":Rbimld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-nomad-fill-color-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>Nomad</span><span class="style_productDesc__bi44f">Orchestrate workloads</span></div></div></a></li><li><a aria-label="Waypoint - Standardize application patterns" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/waypoint"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="flight-icon flight-icon-waypoint-fill-color flight-icon-display-inline" aria-hidden="true" fill="currentColor" id=":Rcimld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-waypoint-fill-color-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>Waypoint</span><span class="style_productDesc__bi44f">Standardize application patterns</span></div></div></a></li><li><a aria-label="Vagrant - Build developer environments" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/vagrant"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="flight-icon flight-icon-vagrant-fill-color flight-icon-display-inline" aria-hidden="true" fill="currentColor" id=":Rdimld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-vagrant-fill-color-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>Vagrant</span><span class="style_productDesc__bi44f">Build developer environments</span></div></div></a></li></ul></li><li class="style_productCategory__9UHKG"><span class="hds-text hdsplus-typography-body-300 style_eyebrow__OCUlS">Security Lifecycle Management</span><ul class="style_productList__uPlTj"><li><a aria-label="Vault - Centrally manage secrets" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/vault"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="flight-icon flight-icon-vault-fill-color flight-icon-display-inline" aria-hidden="true" fill="currentColor" id=":R9kmld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-vault-fill-color-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>Vault</span><span class="style_productDesc__bi44f">Centrally manage secrets</span></div></div></a></li><li><a aria-label="Boundary - Secure remote access" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/boundary"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="flight-icon flight-icon-boundary-fill-color flight-icon-display-inline" aria-hidden="true" fill="currentColor" id=":Rakmld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-boundary-fill-color-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>Boundary</span><span class="style_productDesc__bi44f">Secure remote access</span></div></div></a></li><li><a aria-label="HCP Vault Secrets - Manage secrets as a service" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/hcp/docs/vault-secrets"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="flight-icon flight-icon-vault-secrets flight-icon-display-inline style_hcpVaultSecrets__11wgG" aria-hidden="true" fill="currentColor" id=":Rbkmld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-vault-secrets-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>HCP Vault Secrets</span><span class="style_productDesc__bi44f">Manage secrets as a service</span></div></div></a></li><li><a aria-label="Consul - Secure network services" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/consul"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="flight-icon flight-icon-consul-fill-color flight-icon-display-inline" aria-hidden="true" fill="currentColor" id=":Rckmld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-consul-fill-color-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>Consul</span><span class="style_productDesc__bi44f">Secure network services</span></div></div></a></li><li><a aria-label="HCP Vault Radar - Scan for embedded secrets" class="style_focusIndicator__uTVwt" data-radix-collection-item="" href="/hcp/docs/vault-radar"><div class="style_productWrapper__ACHaw"><div class="style_productLogo__cTxLO"><svg class="flight-icon flight-icon-vault-radar flight-icon-display-inline style_hcpVaultRadar__nukMV" aria-hidden="true" fill="currentColor" id=":Rdkmld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-vault-radar-16"></use></svg></div><div class="style_productTextContent__o8DJ6"><span>HCP Vault Radar</span><span class="style_productDesc__bi44f">Scan for embedded secrets</span></div></div></a></li></ul></li></ul></div><div class="style_promo__e6yXp style_hasSide__635Xt"><div class="style_icon__rYEcI"><svg class="flight-icon flight-icon-hashicorp flight-icon-display-inline" aria-hidden="true" fill="currentColor" id=":R36ld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-hashicorp-16"></use></svg></div><div class="style_rightContent__zvciM"><div><div class="style_title__eEtAF">HashiCorp Cloud Platform</div><div class="style_description__ATQzz">Get started in minutes with our cloud products</div></div><a class="style_link__U4Sfy" data-radix-collection-item="" href="/hcp">All HCP Products<svg class="flight-icon flight-icon-external-link flight-icon-display-inline" aria-hidden="true" fill="currentColor" id=":R2l6ld6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-external-link-16"></use></svg></a></div></div></div><div class="style_column__9is2G style_sidePanel__qxYNB"><span class="hds-text hdsplus-typography-body-200 hds-font-weight-semibold">Learn</span><ul class="style_sidePanelItems__i8_HV"><li><a aria-label="Certifications - Get HashiCorp certified" class="style_sidePanelItem__j0j0G style_focusIndicator__uTVwt" href="/certifications"><div class="style_iconBackground__fn5_s"><svg class="flight-icon flight-icon-award flight-icon-display-inline" aria-hidden="true" fill="var(--token-color-foreground-faint)" id=":Rjald6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-award-16"></use></svg></div><div class="style_sidePanelItemContent__xFcSA"><span class="hds-text hdsplus-typography-body-200 hds-font-weight-semibold">Certifications</span><span class="style_sidePanelItemDesc__UrOLh">Get HashiCorp certified</span></div></a></li><li><a aria-label="Tutorials - Learn HashiCorp products" class="style_sidePanelItem__j0j0G style_focusIndicator__uTVwt" href="/tutorials"><div class="style_iconBackground__fn5_s"><svg class="flight-icon flight-icon-learn flight-icon-display-inline" aria-hidden="true" fill="var(--token-color-foreground-faint)" id=":Rlald6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-learn-16"></use></svg></div><div class="style_sidePanelItemContent__xFcSA"><span class="hds-text hdsplus-typography-body-200 hds-font-weight-semibold">Tutorials</span><span class="style_sidePanelItemDesc__UrOLh">Learn HashiCorp products</span></div></a></li><li><a aria-label="Validated Patterns - Field-tested patterns for using HashiCorp products" class="style_sidePanelItem__j0j0G style_focusIndicator__uTVwt" href="/validated-patterns"><div class="style_iconBackground__fn5_s"><svg class="flight-icon flight-icon-check-circle flight-icon-display-inline" aria-hidden="true" fill="var(--token-color-foreground-faint)" id=":Rnald6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-check-circle-16"></use></svg></div><div class="style_sidePanelItemContent__xFcSA"><span class="hds-text hdsplus-typography-body-200 hds-font-weight-semibold">Validated Patterns</span><span class="style_sidePanelItemDesc__UrOLh">Field-tested patterns for using HashiCorp products</span></div></a></li><li><a aria-label="Well-Architected Framework - Adopt HashiCorp best practices" class="style_sidePanelItem__j0j0G style_focusIndicator__uTVwt" href="/well-architected-framework"><div class="style_iconBackground__fn5_s"><svg class="flight-icon flight-icon-layers flight-icon-display-inline" aria-hidden="true" fill="var(--token-color-foreground-faint)" id=":Rpald6j6:" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-layers-16"></use></svg></div><div class="style_sidePanelItemContent__xFcSA"><span class="hds-text hdsplus-typography-body-200 hds-font-weight-semibold">Well-Architected Framework</span><span class="style_sidePanelItemDesc__UrOLh">Adopt HashiCorp best practices</span></div></a></li></ul></div></div></div></div></nav></div><div class="product-page-content_productLinkAndNav__YTzcr"><a aria-label="Consul home" class="product-icon-text-link_root__bNTSz g-focus-ring-from-box-shadow-dark" href="/consul"><div class="product-icon-text-lockup_root__358wV"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="product-icon-text-lockup_icon__Zp_5o"><g fill="var(--token-color-consul-brand)"><path d="M4.737 14.193A7 7 0 008.006 15a6.98 6.98 0 004.735-1.847l-1.66-1.737a4.6 4.6 0 110-6.828l1.66-1.738a7 7 0 10-8.004 11.343zM13.32 11.402a.573.573 0 10.637-.953.573.573 0 00-.637.953z"></path><path d="M7.96 9.517a1.517 1.517 0 11-.012-3.034 1.517 1.517 0 01.013 3.034zM13.978 9.447a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 9.472a.574.574 0 110-1.148.574.574 0 010 1.148zM13.978 7.514a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 7.675a.574.574 0 110-1.148.574.574 0 010 1.148zM13.353 5.585a.574.574 0 10.635-.956.574.574 0 00-.635.956z"></path></g></svg><span class="product-icon-text-lockup_text__nHTL7 hds-typography-body-200">Consul</span></div></a><nav aria-label="Main" data-orientation="horizontal" dir="ltr" class="nav-bar-list-container_nav__C_i0_"><div style="position:relative"><ul data-orientation="horizontal" class="nav-bar-list-container_ul___04HI" dir="ltr"><li><a aria-label="Consul Install" class="primary-nav-link_root__RXZIC g-focus-ring-from-box-shadow-dark" href="/consul/install"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__58O0C">Install</span></a></li><li><a aria-label="Consul Tutorials" class="primary-nav-link_root__RXZIC g-focus-ring-from-box-shadow-dark" href="/consul/tutorials"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__58O0C">Tutorials</span></a></li><li><a aria-label="Consul Documentation" class="primary-nav-link_root__RXZIC g-focus-ring-from-box-shadow-dark" href="/consul/docs"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__58O0C">Documentation</span></a></li><li><a aria-label="Consul API" class="primary-nav-link_root__RXZIC g-focus-ring-from-box-shadow-dark" href="/consul/api-docs"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__58O0C">API</span></a></li><li><a aria-label="Consul CLI" class="primary-nav-link_root__RXZIC g-focus-ring-from-box-shadow-dark" href="/consul/commands"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__58O0C">CLI</span></a></li><li><a aria-label="Consul Try Cloud" class="primary-nav-link_root__RXZIC g-focus-ring-from-box-shadow-dark" aria-describedby="opens-in-new-tab-label-react-aria-8" target="_blank" href="https://portal.cloud.hashicorp.com/sign-up"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__58O0C">Try Cloud</span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path d="M9 .75A.75.75 0 019.75 0h4.5c.206 0 .393.083.529.218l.001.002.002.001A.748.748 0 0115 .75v4.5a.75.75 0 01-1.5 0V2.56L7.28 8.78a.75.75 0 01-1.06-1.06l6.22-6.22H9.75A.75.75 0 019 .75z"></path><path d="M3.25 3.5a.75.75 0 00-.75.75v7.5c0 .414.336.75.75.75h7.5a.75.75 0 00.75-.75v-4a.75.75 0 011.5 0v4A2.25 2.25 0 0110.75 14h-7.5A2.25 2.25 0 011 11.75v-7.5A2.25 2.25 0 013.25 2h4a.75.75 0 010 1.5h-4z"></path></g></svg></a><span class="g-screen-reader-only" id="opens-in-new-tab-label-react-aria-8">(opens in new tab)</span></li></ul></div></nav></div></div><div class="navigation-header_rightSide___Vvh_"><button aria-label="Search" class="command-bar-activator_root__qgVMy g-focus-ring-from-box-shadow-dark"><span class="command-bar-activator_left__ATQTg"><span class="command-bar-activator_leadingIcon__jECP5"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M6.344.969a5.375 5.375 0 103.233 9.669l4.174 4.174a.75.75 0 001.06-1.061l-4.173-4.174A5.375 5.375 0 006.344.97zM2.469 6.344a3.875 3.875 0 117.75 0 3.875 3.875 0 01-7.75 0z" clip-rule="evenodd"></path></svg></span><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular command-bar-activator_text__pTZN_">Search</span></span><span class="command-bar-activator_right__XejfJ"><span class="g-screen-reader-only">Command or control key</span><span aria-hidden="true" class="badge_root___Z7Nt badge_small__GI0Zk badge_filled-neutral-dark-mode__VC3Ba command-bar-activator_keyBadge__xnKpi"><div class="cmd-ctrl-icon_root___TToz"><svg xmlns="http://www.w3.org/2000/svg" width="41" height="11" fill="none" viewBox="0 0 41 11"><path fill="#fff" fill-rule="evenodd" d="M4.125 2.063V3h2.25v-.937a2.062 2.062 0 1 1 2.063 2.062H7.5v2.25h.938a2.062 2.062 0 1 1-2.063 2.063V7.5h-2.25v.938a2.062 2.062 0 1 1-2.062-2.063H3v-2.25h-.937a2.062 2.062 0 1 1 2.062-2.062m-2.062-.938a.937.937 0 1 0 0 1.875H3v-.937a.937.937 0 0 0-.937-.938M7.5 7.5v.938a.937.937 0 1 0 .938-.938zM6.375 6.375v-2.25h-2.25v2.25zM2.063 7.5H3v.938a.937.937 0 1 1-.937-.938M7.5 3h.938a.937.937 0 1 0-.938-.937z" clip-rule="evenodd"/><path fill="#fff" d="M15.09 10.5 18.085 0h-1.097L14 10.5zM26.387 5.308c-.183-1.445-1.263-2.534-3.05-2.534C21.264 2.774 20 4.247 20 6.61c0 2.41 1.27 3.89 3.344 3.89 1.76 0 2.86-1.034 3.043-2.5H25.02c-.184.808-.792 1.247-1.682 1.247-1.172 0-1.898-.994-1.898-2.637 0-1.61.72-2.583 1.898-2.583.942 0 1.518.555 1.681 1.281zM28.6 1.041v1.897h-1.133v1.178H28.6v4.281c0 1.432.622 2.007 2.186 2.007.275 0 .537-.034.766-.075V9.158c-.196.02-.32.034-.537.034-.7 0-1.008-.35-1.008-1.15V4.115h1.545V2.938h-1.545V1.041zM33.207 10.356h1.407V5.911c0-1.048.752-1.767 1.819-1.767.249 0 .667.048.785.082V2.842a3.372 3.372 0 0 0-.628-.054c-.93 0-1.721.527-1.924 1.26h-.105v-1.13h-1.354zM38.638 10.356h1.407V0h-1.407z"/></svg></div></span><span class="g-screen-reader-only">K key</span><span aria-hidden="true" class="badge_root___Z7Nt badge_small__GI0Zk badge_filled-neutral-dark-mode__VC3Ba command-bar-activator_keyBadge__xnKpi"><div class="k-icon_root__a_5pR"><svg xmlns="http://www.w3.org/2000/svg" width="8" height="10" fill="none" viewBox="0 0 8 10"><path fill="#fff" d="M1.512 9.84v-3l.986-1.147L5.445 9.84h1.704L3.46 4.745 6.857.84H5.244L1.61 5.094h-.098V.84H.15v9z"/></svg></div></span></span></button><div class="navigation-header_authenticationControls__EP1LY"><div class="disclosure_root__rcBaW dropdown-disclosure_root__pzZlN dropdown-disclosure_list-position--right__WP_Kj"><button aria-controls="disclosure-react-aria-9-content" aria-expanded="false" aria-label="User menu" class="disclosure_activator__pORI0 activator_root__pOfAQ dropdown-disclosure_activator__nGgNo navigation-header_userDropdownDisclosureActivator__RayIV g-focus-ring-from-box-shadow-dark activator_hasIcon__5HO6W g-focus-ring-from-box-shadow"><span class="activator_childrenWrapper__kaK0w"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" aria-hidden="true"><g fill="currentColor"><path fill-rule="evenodd" d="M12 3a5 5 0 100 10 5 5 0 000-10zM8.5 8a3.5 3.5 0 117 0 3.5 3.5 0 01-7 0z" clip-rule="evenodd"></path><path d="M7.75 14.5A4.75 4.75 0 003 19.25v1a.75.75 0 001.5 0v-1A3.25 3.25 0 017.75 16h8.5a3.25 3.25 0 013.25 3.25v1a.75.75 0 001.5 0v-1a4.75 4.75 0 00-4.75-4.75h-8.5z"></path></g></svg></span><span class="activator_chevronWrapper__4_AVG"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></span></button><div class="disclosure_contentContainer__QQ4kt dropdown-disclosure_content__ZZRPG undefined" id="disclosure-react-aria-9-content"><ul class="dropdown-disclosure_list__urBXU"><li class="list-item_root__ZdUej"><button class="list-item_button__nXy5K g-focus-ring-from-box-shadow"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">Sign in</span></button></li><li class="list-item_root__ZdUej"><a class="list-item_link__l6lDd g-focus-ring-from-box-shadow" href="/sign-up"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">Sign up</span></a></li><li class="list-item_root__ZdUej"><hr class="list-item_separator__cBVLs"/></li><li class="list-item_root__ZdUej user-dropdown-switcher_listItem__Q_GIj hds-font-weight-medium"><label class="theme-switcher_label__7Boh2 hds-typography-body-200" for="react-aria-11">Theme</label></li></ul></div></div></div><button aria-label="Open navigation menu" class="navigation-header_mobileMenuButton__74S4w"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" aria-hidden="true"><g fill="currentColor"><path d="M2 5.75A.75.75 0 012.75 5h18.5a.75.75 0 010 1.5H2.75A.75.75 0 012 5.75zM2 11.75a.75.75 0 01.75-.75h18.5a.75.75 0 010 1.5H2.75a.75.75 0 01-.75-.75zM2.75 17a.75.75 0 000 1.5h18.5a.75.75 0 000-1.5H2.75z"></path></g></svg></button></div></header></div><div class="base-layout_contentArea__BMvQn"><div class="sidebar-sidecar-layout_root__h5rD8 sidebar-sidecar-layout_mainWidth-narrow__FhCbs"><div class="mobile-menu-container_root__fPUFu sidebar-sidecar-layout_sidebarContainer__4fcF8"><div class="sidebar-sidecar-layout_sidebarContentWrapper__ftn5q"><div class="sidebar-sidecar-layout_sidePadding__iwNw_"><div class="sidebar_sidebar___fTlC"><div class="sidebar_backToLinkWrapper__F6iLs"><div class="sidebar-back-to-link_root__z_Hj1"><a class="standalone-link_standaloneLink__ahuej g-focus-ring-from-box-shadow standalone-link_primary__ESNCA" href="/consul"><div class="standalone-link_standaloneLinkContents__4I2XN standalone-link_medium__J2yVM"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M10.795 3.235a.75.75 0 01-.03 1.06L6.842 8l3.923 3.705a.75.75 0 01-1.03 1.09l-4.5-4.25a.75.75 0 010-1.09l4.5-4.25a.75.75 0 011.06.03z" clip-rule="evenodd"></path></svg><span class="standalone-link_text__7GEyG">Consul Home</span></div></a></div></div><div class="sidebar_filterInputWrapper__0_l_Y"><div class="filter-input_filterInputContainer__thZt3"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="filter-input_filterIcon__UET0p filter-input_sharedIconColorAndPositioning__hXPit"><g fill="currentColor"><path d="M1 3.75A.75.75 0 011.75 3h12.5a.75.75 0 010 1.5H1.75A.75.75 0 011 3.75zM3.5 7.75A.75.75 0 014.25 7h7.5a.75.75 0 010 1.5h-7.5a.75.75 0 01-.75-.75zM6.75 11a.75.75 0 000 1.5h2.5a.75.75 0 000-1.5h-2.5z"></path></g></svg><input class="filter-input_filterInput__hga4N g-focus-ring-from-box-shadow" placeholder="Filter sidebar" autoComplete="off" autoCorrect="off" autoCapitalize="none" spellcheck="false" value=""/></div></div><nav aria-labelledby="sidebar-label" class="sidebar_nav__IworY" id="sidebar-nav"><div class="g-screen-reader-only"><h2 class="sidebar-headings_root__tGfxC" id="sidebar-label">Documentation</h2></div><ul class="sidebar_navList__4Rg4g"><li><a class="sidebar-nav-highlight-item_root___pPhp g-focus-ring-from-box-shadow sidebar-nav-highlight-item_theme-consul__NA90N" href="/consul/docs"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="sidebar-nav-highlight-item_icon__G8JxG"><g fill="var(--token-color-consul-brand)"><path d="M4.737 14.193A7 7 0 008.006 15a6.98 6.98 0 004.735-1.847l-1.66-1.737a4.6 4.6 0 110-6.828l1.66-1.738a7 7 0 10-8.004 11.343zM13.32 11.402a.573.573 0 10.637-.953.573.573 0 00-.637.953z"></path><path d="M7.96 9.517a1.517 1.517 0 11-.012-3.034 1.517 1.517 0 01.013 3.034zM13.978 9.447a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 9.472a.574.574 0 110-1.148.574.574 0 010 1.148zM13.978 7.514a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 7.675a.574.574 0 110-1.148.574.574 0 010 1.148zM13.353 5.585a.574.574 0 10.635-.956.574.574 0 00-.635.956z"></path></g></svg><span class="sidebar-nav-highlight-item_text__VORFJ hds-typography-body-200">Documentation</span></a></li><li id="sidebar-nav-item-0"><h3 class="sidebar-headings_root__tGfxC">Get started</h3></li><li id="sidebar-nav-item-1"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/consul/docs/intro"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">What is Consul?</span></a></li><li id="sidebar-nav-item-2"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-2-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Quickstart</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-6"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-6-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Architecture</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-20"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-20-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Concepts</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-26"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-26-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Fundamentals</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-40"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-40-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Use cases</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-47"><hr class="sidebar-horizontal-rule_root__UY7oh"/></li><li id="sidebar-nav-item-48"><h3 class="sidebar-headings_root__tGfxC">Consul operations</h3></li><li id="sidebar-nav-item-49"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-49-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Deploy Consul</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-109"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-109-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Secure Consul</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-172"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-172-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Manage multi-tenancy</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><span class="g-screen-reader-only">ENTERPRISE</span><span aria-hidden="true" class="badge_root___Z7Nt badge_small__GI0Zk badge_outlined-neutral__32YXY"><span>ENTERPRISE</span></span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-187"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-187-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Manage Consul</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-213"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-213-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Monitor Consul</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-226"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-226-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Upgrade Consul</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-251"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-251-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Release Notes</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-293"><hr class="sidebar-horizontal-rule_root__UY7oh"/></li><li id="sidebar-nav-item-294"><h3 class="sidebar-headings_root__tGfxC">Service networking</h3></li><li id="sidebar-nav-item-295"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-295-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Register services</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-332"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-332-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Discover services</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-351"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-351-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Connect service mesh</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-381"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-381-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Secure north/south</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-410"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-410-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Expand east/west</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-439"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-439-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Secure mesh traffic</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-458"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-458-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Manage service traffic</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-476"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-476-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Observe service mesh</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-492"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-492-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Automate applications</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-527"><hr class="sidebar-horizontal-rule_root__UY7oh"/></li><li id="sidebar-nav-item-528"><h3 class="sidebar-headings_root__tGfxC">Enterprise solutions</h3></li><li id="sidebar-nav-item-529"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-529-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Consul Enterprise</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-539"><hr class="sidebar-horizontal-rule_root__UY7oh"/></li><li id="sidebar-nav-item-540"><h3 class="sidebar-headings_root__tGfxC">Runtimes and platforms</h3></li><li id="sidebar-nav-item-541"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-541-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Virtual machine (VM)</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-553"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-553-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Kubernetes</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-565"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-565-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Docker</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-571"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-571-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">AWS ECS</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-577"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-577-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">AWS Lambda</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-581"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-581-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Nomad</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-585"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-585-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">RedHat OpenShift</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-587"><hr class="sidebar-horizontal-rule_root__UY7oh"/></li><li id="sidebar-nav-item-588"><h3 class="sidebar-headings_root__tGfxC">Plugins, integrations, &amp; extensions</h3></li><li id="sidebar-nav-item-589"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-589-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Integrations</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-596"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-596-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Envoy extensions</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-605"><hr class="sidebar-horizontal-rule_root__UY7oh"/></li><li id="sidebar-nav-item-606"><h3 class="sidebar-headings_root__tGfxC">Reference docs</h3></li><li id="sidebar-nav-item-607"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-607-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Error messages</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-612"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-612-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Troubleshoot Consul</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-618"><button aria-controls="sidebar-nav-item-618-list" aria-expanded="true" class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-618-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Reference</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button><ul id="sidebar-nav-item-618-list"><li id="sidebar-nav-item-619"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-619-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">CLI documentation</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-627"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-627-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Architecture</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-632"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-632-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Access control lists (ACLs)</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-642"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-642-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Agent</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-666"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-666-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Service</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-669"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-669-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Configuration entries</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-698"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-698-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Consul Template</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-702"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-702-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Consul-Terraform-Sync (CTS)</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-710"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-710-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Dataplanes</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-713"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/consul/docs/reference/dns"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">DNS</span></a></li><li id="sidebar-nav-item-714"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-714-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">ECS</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-718"><button aria-controls="sidebar-nav-item-718-list" aria-expanded="true" class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-718-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Consul on Kubernetes</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button><ul id="sidebar-nav-item-718-list"><li id="sidebar-nav-item-719"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/consul/docs/reference/k8s/annotation-label"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Annotations and labels</span></a></li><li id="sidebar-nav-item-720"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-720-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">API gateway resources</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-730"><a aria-current="page" class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/consul/docs/reference/k8s/helm"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Consul Helm chart</span></a></li></ul></li><li id="sidebar-nav-item-731"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/consul/docs/reference/namespace"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Namespaces</span></a></li><li id="sidebar-nav-item-732"><button class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-732-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Proxies</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li></ul></li><li id="sidebar-nav-item-742"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/consul/docs/glossary"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Glossary</span></a></li></ul><hr class="sidebar-horizontal-rule_root__UY7oh"/><ul class="sidebar_navList__4Rg4g"><li><h3 class="sidebar-headings_root__tGfxC">Resources</h3></li><li><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/tutorials/library?product=consul"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Tutorial Library</span></a></li><li><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" href="/certifications/security-automation"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Certifications</span></a></li><li><a aria-label="Community Forum. Opens in a new tab." class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" rel="noreferrer noopener" aria-describedby="opens-in-new-tab-label-react-aria-22" target="_blank" href="https://discuss.hashicorp.com/c/consul/29"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Community Forum</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path d="M9 .75A.75.75 0 019.75 0h4.5c.206 0 .393.083.529.218l.001.002.002.001A.748.748 0 0115 .75v4.5a.75.75 0 01-1.5 0V2.56L7.28 8.78a.75.75 0 01-1.06-1.06l6.22-6.22H9.75A.75.75 0 019 .75z"></path><path d="M3.25 3.5a.75.75 0 00-.75.75v7.5c0 .414.336.75.75.75h7.5a.75.75 0 00.75-.75v-4a.75.75 0 011.5 0v4A2.25 2.25 0 0110.75 14h-7.5A2.25 2.25 0 011 11.75v-7.5A2.25 2.25 0 013.25 2h4a.75.75 0 010 1.5h-4z"></path></g></svg></div></a><span class="g-screen-reader-only" id="opens-in-new-tab-label-react-aria-22">(opens in new tab)</span></li><li><a aria-label="Support. Opens in a new tab." class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" rel="noreferrer noopener" aria-describedby="opens-in-new-tab-label-react-aria-23" target="_blank" href="https://www.hashicorp.com/customer-success"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Support</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path d="M9 .75A.75.75 0 019.75 0h4.5c.206 0 .393.083.529.218l.001.002.002.001A.748.748 0 0115 .75v4.5a.75.75 0 01-1.5 0V2.56L7.28 8.78a.75.75 0 01-1.06-1.06l6.22-6.22H9.75A.75.75 0 019 .75z"></path><path d="M3.25 3.5a.75.75 0 00-.75.75v7.5c0 .414.336.75.75.75h7.5a.75.75 0 00.75-.75v-4a.75.75 0 011.5 0v4A2.25 2.25 0 0110.75 14h-7.5A2.25 2.25 0 011 11.75v-7.5A2.25 2.25 0 013.25 2h4a.75.75 0 010 1.5h-4z"></path></g></svg></div></a><span class="g-screen-reader-only" id="opens-in-new-tab-label-react-aria-23">(opens in new tab)</span></li><li><a aria-label="GitHub. Opens in a new tab." class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" rel="noreferrer noopener" aria-describedby="opens-in-new-tab-label-react-aria-24" target="_blank" href="https://github.com/hashicorp/consul"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">GitHub</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path d="M9 .75A.75.75 0 019.75 0h4.5c.206 0 .393.083.529.218l.001.002.002.001A.748.748 0 0115 .75v4.5a.75.75 0 01-1.5 0V2.56L7.28 8.78a.75.75 0 01-1.06-1.06l6.22-6.22H9.75A.75.75 0 019 .75z"></path><path d="M3.25 3.5a.75.75 0 00-.75.75v7.5c0 .414.336.75.75.75h7.5a.75.75 0 00.75-.75v-4a.75.75 0 011.5 0v4A2.25 2.25 0 0110.75 14h-7.5A2.25 2.25 0 011 11.75v-7.5A2.25 2.25 0 013.25 2h4a.75.75 0 010 1.5h-4z"></path></g></svg></div></a><span class="g-screen-reader-only" id="opens-in-new-tab-label-react-aria-24">(opens in new tab)</span></li></ul></nav></div></div></div></div><div class="sidebar-sidecar-layout_contentWrapper__Z5BK4"><div class="sidebar-sidecar-layout_paddedAreaWrapper___S_Ff"><div class="sidebar-sidecar-layout_breadcrumbContainer__3uz7P"><div class="sidebar-sidecar-layout_breadcrumbMaxWidth__coOcu"><nav aria-label="Breadcrumb" class="breadcrumb-bar_root__wd_C5"><ol class="breadcrumb-bar_listRoot__8eupO"><li class="text_root__r0DFB hds-typography-body-100 hds-font-weight-medium breadcrumb-bar_listItem__2sevd"><a class="breadcrumb-bar_breadcrumbText__JvOrd g-focus-ring-from-box-shadow" href="/">Developer</a></li><li class="text_root__r0DFB hds-typography-body-100 hds-font-weight-medium breadcrumb-bar_listItem__2sevd"><a class="breadcrumb-bar_breadcrumbText__JvOrd g-focus-ring-from-box-shadow" href="/consul">Consul</a></li><li class="text_root__r0DFB hds-typography-body-100 hds-font-weight-medium breadcrumb-bar_listItem__2sevd"><a class="breadcrumb-bar_breadcrumbText__JvOrd g-focus-ring-from-box-shadow" href="/consul/docs">Documentation</a></li><li class="text_root__r0DFB hds-typography-body-100 hds-font-weight-medium breadcrumb-bar_listItem__2sevd"><span class="breadcrumb-bar_breadcrumbText__JvOrd g-focus-ring-from-box-shadow" aria-current="page">Consul Helm chart</span></li></ol></nav></div></div><div class="sidebar-sidecar-layout_mainAndSidecar__UDm3Z"><main id="main" class="sidebar-sidecar-layout_main__0SN51"><div class="docs-page-heading_root__QuBg_ docs-view_docsPageHeading___xkrK"><div class="docs-page-heading_pageHeadingWrapper__LEMQ7"><h1 class="hds-typography-display-600 hds-font-weight-bold docs-plain-page-heading_root__HzRuX g-offset-scroll-margin-top" id="helm-chart-reference">Helm Chart Reference</h1></div></div><div class="dev-dot-content_root__UJDct hds-typography-body-300"><div class="docs-view_mdxContent___uMnx"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The chart is highly customizable using
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://helm.sh/docs/intro/using_helm/#customizing-the-chart-before-installing">Helm configuration values</a>.
Each value has a reasonable default tuned for an optimal getting started experience
with Consul.</p><h2 id="top-level-stanzas" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="top level stanzas permalink" href="/consul/docs/reference/k8s/helm#top-level-stanzas"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Top-Level Stanzas</h2><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Use these links to navigate to a particular top-level stanza.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/docs/reference/k8s/helm#h-global"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">global</code></a></li><li class="mdx-lists_listItem__nkqhg"><a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/docs/reference/k8s/helm#h-server"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">server</code></a></li><li class="mdx-lists_listItem__nkqhg"><a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/docs/reference/k8s/helm#h-externalservers"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">externalServers</code></a></li><li class="mdx-lists_listItem__nkqhg"><a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/docs/reference/k8s/helm#h-client"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">client</code></a></li><li class="mdx-lists_listItem__nkqhg"><a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/docs/reference/k8s/helm#h-dns"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">dns</code></a></li><li class="mdx-lists_listItem__nkqhg"><a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/docs/reference/k8s/helm#h-ui"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ui</code></a></li><li class="mdx-lists_listItem__nkqhg"><a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/docs/reference/k8s/helm#h-synccatalog"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">syncCatalog</code></a></li><li class="mdx-lists_listItem__nkqhg"><a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/docs/reference/k8s/helm#h-connectinject"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">connectInject</code></a></li><li class="mdx-lists_listItem__nkqhg"><a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/docs/reference/k8s/helm#h-meshgateway"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">meshGateway</code></a></li><li class="mdx-lists_listItem__nkqhg"><a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/docs/reference/k8s/helm#h-ingressgateways"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ingressGateways</code></a></li><li class="mdx-lists_listItem__nkqhg"><a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/docs/reference/k8s/helm#h-terminatinggateways"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">terminatingGateways</code></a></li><li class="mdx-lists_listItem__nkqhg"><a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/docs/reference/k8s/helm#h-webhookcertmanager"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">webhookCertManager</code></a></li><li class="mdx-lists_listItem__nkqhg"><a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/docs/reference/k8s/helm#h-prometheus"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">prometheus</code></a></li><li class="mdx-lists_listItem__nkqhg"><a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/docs/reference/k8s/helm#h-tests"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tests</code></a></li><li class="mdx-lists_listItem__nkqhg"><a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/docs/reference/k8s/helm#h-telemetrycollector"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">telemetryCollector</code></a></li></ul><h2 id="all-values" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="all values permalink" href="/consul/docs/reference/k8s/helm#all-values"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>All Values</h2><h3 id="global" class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="global permalink" href="/consul/docs/reference/k8s/helm#global"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a><a id="h-global" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-h __compat" href="/consul/docs/reference/k8s/helm#"></a>global</h3><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="global-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="global permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">global</code></a> - Holds values that affect multiple components of the chart.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="enabled" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-enabled" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="enabled permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-enabled"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enabled</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: true</code>) - The main enabled/disabled setting. If true, servers,
clients, Consul DNS and the Consul UI will be enabled. Each component can override
this default via its component-specific &quot;enabled&quot; config. If false, no components
will be installed by default and per-component opt-in is required, such as by
setting <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">server.enabled</code> to true.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="loglevel" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-loglevel" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="loglevel permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-loglevel"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">logLevel</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: info</code>) - The default log level to apply to all components which do not otherwise override this setting.
It is recommended to generally not set this below &quot;info&quot; unless actively debugging due to logging verbosity.
One of &quot;debug&quot;, &quot;info&quot;, &quot;warn&quot;, or &quot;error&quot;.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="logjson" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-logjson" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="logjson permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-logjson"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">logJSON</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: false</code>) - Enable all component logs to be output in JSON format.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="name" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-name" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="name permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-name"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">name</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - Set the prefix used for all resources in the Helm chart. If not set,
the prefix will be <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">&lt;helm release name&gt;-consul</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="domain" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-domain" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="domain permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-domain"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">domain</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: consul</code>) - The domain Consul will answer DNS queries for
(Refer to <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/commands/agent#_domain"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-domain</code></a>) and the domain services synced from
Consul into Kubernetes will have, e.g. <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">service-name.service.consul</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="peering" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-peering" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="peering permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-peering"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">peering</code></a> - Configures the Cluster Peering feature. Requires Consul v1.14+ and Consul-K8s v1.0.0+.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="enabled-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-peering-enabled" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><a aria-label="enabled permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-peering-enabled"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enabled</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: false</code>) - If true, the Helm chart enables Cluster Peering for the cluster. This option enables peering controllers and
allows use of the PeeringAcceptor and PeeringDialer CRDs for establishing service mesh peerings.</li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="adminpartitions" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-adminpartitions" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="adminpartitions permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-adminpartitions"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">adminPartitions</code></a> - <span class="enterprise-alert_root__mvEIF enterprise-alert_inline__IqpbC"><span class="g-screen-reader-only">Enterprise</span><span aria-hidden="true" class="badge_root___Z7Nt badge_medium__8VGoW badge_outlined-neutral__32YXY enterprise-alert_badge___N2fV"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="var(--token-color-consul-brand)"><path d="M4.737 14.193A7 7 0 008.006 15a6.98 6.98 0 004.735-1.847l-1.66-1.737a4.6 4.6 0 110-6.828l1.66-1.738a7 7 0 10-8.004 11.343zM13.32 11.402a.573.573 0 10.637-.953.573.573 0 00-.637.953z"></path><path d="M7.96 9.517a1.517 1.517 0 11-.012-3.034 1.517 1.517 0 01.013 3.034zM13.978 9.447a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 9.472a.574.574 0 110-1.148.574.574 0 010 1.148zM13.978 7.514a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 7.675a.574.574 0 110-1.148.574.574 0 010 1.148zM13.353 5.585a.574.574 0 10.635-.956.574.574 0 00-.635.956z"></path></g></svg><span>Enterprise</span></span></span> Enabling <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">adminPartitions</code> allows creation of Admin Partitions in Kubernetes clusters.
It additionally indicates that you are running Consul Enterprise v1.11+ with a valid Consul Enterprise
license. Admin partitions enables deploying services across partitions, while sharing
a set of Consul servers.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="enabled-2" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-adminpartitions-enabled" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="enabled permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-adminpartitions-enabled"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enabled</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: false</code>) - If true, the Helm chart will enable Admin Partitions for the cluster. The clients in the server cluster
must be installed in the default partition. Creation of Admin Partitions is only supported during installation.
Admin Partitions cannot be installed via a Helm upgrade operation. Only Helm installs are supported.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="name-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-adminpartitions-name" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="name permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-adminpartitions-name"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">name</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: default</code>) - The name of the Admin Partition. The partition name cannot be modified once the partition has been installed.
Changing the partition name would require an un-install and a re-install with the updated name.
Must be &quot;default&quot; in the server cluster ie the Kubernetes cluster that the Consul server pods are deployed onto.</p></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="image" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-image" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="image permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-image"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">image</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: hashicorp/consul:&lt;latest version&gt;</code>) - The name (and tag) of the Consul Docker image for clients and servers.
This can be overridden per component. This should be pinned to a specific
version tag, otherwise you may inadvertently upgrade your Consul version.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Examples:</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R1a43tdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-comment)"># Consul 1.10.0</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">image</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;consul:1.10.0&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-comment)"># Consul Enterprise 1.10.0</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">image</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;hashicorp/consul-enterprise:1.10.0-ent&quot;</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R1a43tdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R1ra43tdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li><li class="mdx-lists_listItem__nkqhg"><a id="imagepullsecrets" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-imagepullsecrets" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="imagepullsecrets permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-imagepullsecrets"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">imagePullSecrets</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">array&lt;map&gt;</code>) - Array of objects containing image pull secret names that will be applied to each service account.
This can be used to reference image pull secrets if using a custom consul or consul-k8s-control-plane Docker image.
Refer to <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://kubernetes.io/docs/concepts/containers/images/#using-a-private-registry">https://kubernetes.io/docs/concepts/containers/images/#using-a-private-registry</a>.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Example:</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R1ac3tdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">imagePullSecrets</span><span style="color:var(--hds-code-block-color-keyword)">:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">  - </span><span style="color:var(--hds-code-block-color-keyword)">name</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> pull-secret-name</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">  - </span><span style="color:var(--hds-code-block-color-keyword)">name</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> pull-secret-name-2</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R1ac3tdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R1rac3tdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li><li class="mdx-lists_listItem__nkqhg"><a id="imagek8s" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-imagek8s" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="imagek8s permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-imagek8s"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">imageK8S</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: hashicorp/consul-k8s-control-plane:&lt;latest version&gt;</code>) - The name (and tag) of the consul-k8s-control-plane Docker
image that is used for functionality such as catalog sync.
This can be overridden per component.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="imagepullpolicy" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-imagepullpolicy" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="imagepullpolicy permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-imagepullpolicy"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">imagePullPolicy</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: &quot;&quot;</code>) - The image pull policy used globally for images controlled by Consul (consul, consul-dataplane, consul-k8s, consul-telemetry-collector).
One of &quot;IfNotPresent&quot;, &quot;Always&quot;, &quot;Never&quot;, and &quot;&quot;. Refer to <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://kubernetes.io/docs/concepts/containers/images/#image-pull-policy">https://kubernetes.io/docs/concepts/containers/images/#image-pull-policy</a></p></li><li class="mdx-lists_listItem__nkqhg"><a id="datacenter" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-datacenter" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="datacenter permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-datacenter"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">datacenter</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: dc1</code>) - The name of the datacenter that the agents should
register as. This can&#x27;t be changed once the Consul cluster is up and running
since Consul doesn&#x27;t support an automatic way to change this value currently:
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://github.com/hashicorp/consul/issues/1858">https://github.com/hashicorp/consul/issues/1858</a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="enablepodsecuritypolicies" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-enablepodsecuritypolicies" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="enablepodsecuritypolicies permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-enablepodsecuritypolicies"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enablePodSecurityPolicies</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: false</code>) - Controls whether pod security policies are created for the Consul components
created by this chart. Refer to <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://kubernetes.io/docs/concepts/policy/pod-security-policy/">https://kubernetes.io/docs/concepts/policy/pod-security-policy/</a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="secretsbackend" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-secretsbackend" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="secretsbackend permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-secretsbackend"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">secretsBackend</code></a> - secretsBackend is used to configure Vault as the secrets backend for the Consul on Kubernetes installation.
The Vault cluster needs to have the Kubernetes Auth Method, KV2 and PKI secrets engines enabled
and have necessary secrets, policies and roles created prior to installing Consul.
Refer to <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/docs/deploy/server/k8s/vault">Vault as the Secrets Backend</a>
documentation for full instructions.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The Vault cluster <em>must</em> not have the Consul cluster installed by this Helm chart as its storage backend
as that would cause a circular dependency.
Vault can have Consul as its storage backend as long as that Consul cluster is not running on this Kubernetes cluster
and is being managed separately from this Helm installation.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Note: When using Vault KV2 secrets engines the &quot;data&quot; field is implicitly required for Vault API calls,
secretName should be in the form of  &quot;vault-kv2-mount-path/data/secret-name&quot;.
secretKey should be in the form of &quot;key&quot;.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="vault" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-secretsbackend-vault" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="vault permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-secretsbackend-vault"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">vault</code></a></p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="vaultnamespace" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-secretsbackend-vault-vaultnamespace" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="vaultnamespace permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-secretsbackend-vault-vaultnamespace"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">vaultNamespace</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: &quot;&quot;</code>) - Vault namespace (optional). This sets the Vault namespace for the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">vault.hashicorp.com/namespace</code>
agent annotation and <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/docs/connect/ca/vault#namespace">Vault Connect CA namespace</a>.
To override one of these values individually, see <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">agentAnnotations</code> and <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">connectCA.additionalConfig</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="enabled-3" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-secretsbackend-vault-enabled" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="enabled permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-secretsbackend-vault-enabled"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enabled</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: false</code>) - Enabling the Vault secrets backend will replace Kubernetes secrets with referenced Vault secrets.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="consulserverrole" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-secretsbackend-vault-consulserverrole" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="consulserverrole permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-secretsbackend-vault-consulserverrole"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">consulServerRole</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: &quot;&quot;</code>) - The Vault role for the Consul server.
The role must be connected to the Consul server&#x27;s service account.
The role must also have a policy with read capabilities for the following secrets:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg">gossip encryption key defined by the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">global.gossipEncryption.secretName</code> value</li><li class="mdx-lists_listItem__nkqhg">certificate issue path defined by the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">server.serverCert.secretName</code> value</li><li class="mdx-lists_listItem__nkqhg">CA certificate defined by the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">global.tls.caCert.secretName</code> value</li><li class="mdx-lists_listItem__nkqhg">replication token defined by the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">global.acls.replicationToken.secretName</code> value if <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">global.federation.enabled</code> is <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">true</code>
To discover the service account name of the Consul server, run</li></ul><div class="hds-code-block hds-code-block--theme-dark language-shellsession hds-code-block--is-standalone language-shellsession mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R19pjk3tdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-cyan)">$</span><span style="color:var(--hds-code-block-color-token)"> helm template --show-only templates/server-serviceaccount.yaml </span><span style="color:var(--hds-code-block-color-keyword)">&lt;</span><span style="color:var(--hds-code-block-color-token)">release-name</span><span style="color:var(--hds-code-block-color-keyword)">&gt;</span><span style="color:var(--hds-code-block-color-token)"> hashicorp/consul</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R19pjk3tdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R1r9pjk3tdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">and check the name of <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">metadata.name</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="consulclientrole" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-secretsbackend-vault-consulclientrole" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="consulclientrole permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-secretsbackend-vault-consulclientrole"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">consulClientRole</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: &quot;&quot;</code>) - The Vault role for the Consul client.
The role must be connected to the Consul client&#x27;s service account.
The role must also have a policy with read capabilities for the gossip encryption
key defined by the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">global.gossipEncryption.secretName</code> value.
To discover the service account name of the Consul client, run</p><div class="hds-code-block hds-code-block--theme-dark language-shellsession hds-code-block--is-standalone language-shellsession mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R129jk3tdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-cyan)">$</span><span style="color:var(--hds-code-block-color-token)"> helm template --show-only templates/client-serviceaccount.yaml </span><span style="color:var(--hds-code-block-color-keyword)">&lt;</span><span style="color:var(--hds-code-block-color-token)">release-name</span><span style="color:var(--hds-code-block-color-keyword)">&gt;</span><span style="color:var(--hds-code-block-color-token)"> hashicorp/consul</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R129jk3tdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R1r29jk3tdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">and check the name of <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">metadata.name</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="managesystemaclsrole" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-secretsbackend-vault-managesystemaclsrole" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="managesystemaclsrole permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-secretsbackend-vault-managesystemaclsrole"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">manageSystemACLsRole</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: &quot;&quot;</code>) - A Vault role for the Consul <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">server-acl-init</code> job, which manages setting ACLs so that clients and components can obtain ACL tokens.
The role must be connected to the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">server-acl-init</code> job&#x27;s service account.
The role must also have a policy with read and write capabilities for the bootstrap, replication or partition tokens
To discover the service account name of the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">server-acl-init</code> job, run</p><div class="hds-code-block hds-code-block--theme-dark language-shellsession hds-code-block--is-standalone language-shellsession mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R12pjk3tdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-cyan)">$</span><span style="color:var(--hds-code-block-color-token)"> helm template --show-only templates/server-acl-init-serviceaccount.yaml \</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">  --set global.acls.manageSystemACLs=true &lt;release-name&gt; hashicorp/consul</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R12pjk3tdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R1r2pjk3tdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">and check the name of <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">metadata.name</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="adminpartitionsrole" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-secretsbackend-vault-adminpartitionsrole" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="adminpartitionsrole permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-secretsbackend-vault-adminpartitionsrole"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">adminPartitionsRole</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: &quot;&quot;</code>) - <span class="enterprise-alert_root__mvEIF enterprise-alert_inline__IqpbC"><span class="g-screen-reader-only">Enterprise</span><span aria-hidden="true" class="badge_root___Z7Nt badge_medium__8VGoW badge_outlined-neutral__32YXY enterprise-alert_badge___N2fV"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="var(--token-color-consul-brand)"><path d="M4.737 14.193A7 7 0 008.006 15a6.98 6.98 0 004.735-1.847l-1.66-1.737a4.6 4.6 0 110-6.828l1.66-1.738a7 7 0 10-8.004 11.343zM13.32 11.402a.573.573 0 10.637-.953.573.573 0 00-.637.953z"></path><path d="M7.96 9.517a1.517 1.517 0 11-.012-3.034 1.517 1.517 0 01.013 3.034zM13.978 9.447a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 9.472a.574.574 0 110-1.148.574.574 0 010 1.148zM13.978 7.514a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 7.675a.574.574 0 110-1.148.574.574 0 010 1.148zM13.353 5.585a.574.574 0 10.635-.956.574.574 0 00-.635.956z"></path></g></svg><span>Enterprise</span></span></span> A Vault role that allows the Consul <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">partition-init</code> job to read a Vault secret for the partition ACL token.
The <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">partition-init</code> job bootstraps Admin Partitions on Consul servers.
.
This role must be bound the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">partition-init</code> job&#x27;s service account.
To discover the service account name of the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">partition-init</code> job, run with Helm values for the client cluster:</p><div class="hds-code-block hds-code-block--theme-dark language-shellsession hds-code-block--is-standalone language-shellsession mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R139jk3tdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-cyan)">$</span><span style="color:var(--hds-code-block-color-token)"> helm template --show-only templates/partition-init-serviceaccount.yaml -f client-cluster-values.yaml </span><span style="color:var(--hds-code-block-color-keyword)">&lt;</span><span style="color:var(--hds-code-block-color-token)">release-name</span><span style="color:var(--hds-code-block-color-keyword)">&gt;</span><span style="color:var(--hds-code-block-color-token)"> hashicorp/consul</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R139jk3tdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R1r39jk3tdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">and check the name of <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">metadata.name</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="connectinjectrole" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-secretsbackend-vault-connectinjectrole" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="connectinjectrole permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-secretsbackend-vault-connectinjectrole"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">connectInjectRole</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: &quot;&quot;</code>) - The Vault role to read Consul connect-injector webhook&#x27;s CA
and issue a certificate and private key.
A Vault policy must be created which grants issue capabilities to
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">global.secretsBackend.vault.connectInject.tlsCert.secretName</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="consulcarole" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-secretsbackend-vault-consulcarole" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="consulcarole permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-secretsbackend-vault-consulcarole"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">consulCARole</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: &quot;&quot;</code>) - The Vault role for all Consul components to read the Consul&#x27;s server&#x27;s CA Certificate (unauthenticated).
The role should be connected to the service accounts of all Consul components, or alternatively <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">*</code> since it
will be used only against the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">pki/cert/ca</code> endpoint which is unauthenticated. A policy must be created which grants
read capabilities to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">global.tls.caCert.secretName</code>, which is usually <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">pki/cert/ca</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="agentannotations" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-secretsbackend-vault-agentannotations" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="agentannotations permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-secretsbackend-vault-agentannotations"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">agentAnnotations</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - This value defines additional annotations for
Vault agent on any pods where it&#x27;ll be running.
This should be formatted as a multi-line string.</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R14pjk3tdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">annotations</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-keyword)"> |</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  &quot;sample/annotation1&quot;: &quot;foo&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  &quot;sample/annotation2&quot;: &quot;bar&quot;</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R14pjk3tdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R1r4pjk3tdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li><li class="mdx-lists_listItem__nkqhg"><a id="ca" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-secretsbackend-vault-ca" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="ca permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-secretsbackend-vault-ca"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ca</code></a> - Configuration for Vault server CA certificate. This certificate will be mounted
to any pod where Vault agent needs to run.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="secretname" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-secretsbackend-vault-ca-secretname" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="secretname permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-secretsbackend-vault-ca-secretname"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">secretName</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: &quot;&quot;</code>) - The name of the Kubernetes or Vault secret that holds the Vault CA certificate.
A Kubernetes secret must be in the same namespace that Consul is installed into.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="secretkey" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-secretsbackend-vault-ca-secretkey" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="secretkey permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-secretsbackend-vault-ca-secretkey"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">secretKey</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: &quot;&quot;</code>) - The key within the Kubernetes or Vault secret that holds the Vault CA certificate.</p></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="connectca" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-secretsbackend-vault-connectca" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="connectca permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-secretsbackend-vault-connectca"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">connectCA</code></a> - Configuration for the Vault Connect CA provider.
The provider will be configured to use the Vault Kubernetes auth method
and therefore requires the role provided by <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">global.secretsBackend.vault.consulServerRole</code>
to have permissions to the root and intermediate PKI paths.
Please refer to <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/docs/connect/ca/vault#vault-acl-policies">Vault ACL policies</a>
documentation for information on how to configure the Vault policies.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="address" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-secretsbackend-vault-connectca-address" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="address permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-secretsbackend-vault-connectca-address"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">address</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: &quot;&quot;</code>) - The address of the Vault server.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="authmethodpath" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-secretsbackend-vault-connectca-authmethodpath" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="authmethodpath permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-secretsbackend-vault-connectca-authmethodpath"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">authMethodPath</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: kubernetes</code>) - The mount path of the Kubernetes auth method in Vault.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="rootpkipath" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-secretsbackend-vault-connectca-rootpkipath" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="rootpkipath permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-secretsbackend-vault-connectca-rootpkipath"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">rootPKIPath</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: &quot;&quot;</code>) - The path to a PKI secrets engine for the root certificate.
For more details, please refer to <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/docs/connect/ca/vault#rootpkipath">Vault Connect CA configuration</a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="intermediatepkipath" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-secretsbackend-vault-connectca-intermediatepkipath" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="intermediatepkipath permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-secretsbackend-vault-connectca-intermediatepkipath"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">intermediatePKIPath</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: &quot;&quot;</code>) - The path to a PKI secrets engine for the generated intermediate certificate.
For more details, please refer to <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/docs/connect/ca/vault#intermediatepkipath">Vault Connect CA configuration</a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="additionalconfig" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-secretsbackend-vault-connectca-additionalconfig" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="additionalconfig permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-secretsbackend-vault-connectca-additionalconfig"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">additionalConfig</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: {}</code>) - Additional Connect CA configuration in JSON format.
Please refer to <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/docs/connect/ca/vault#configuration">Vault Connect CA configuration</a>
for all configuration options available for that provider.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Example:</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R2r5pjk3tdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">additionalConfig</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-keyword)"> |</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  {</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">    &quot;connect&quot;: [{</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">      &quot;ca_config&quot;: [{</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">           &quot;leaf_cert_ttl&quot;: &quot;36h&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">        }]</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">    }]</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  }</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R2r5pjk3tdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R3mr5pjk3tdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="connectinject" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-secretsbackend-vault-connectinject" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="connectinject permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-secretsbackend-vault-connectinject"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">connectInject</code></a></p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="cacert" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-secretsbackend-vault-connectinject-cacert" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="cacert permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-secretsbackend-vault-connectinject-cacert"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">caCert</code></a> - Configuration to the Vault Secret that Kubernetes uses on
Kubernetes pod creation, deletion, and update, to get CA certificates
used issued from vault to send webhooks to the ConnectInject.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="secretname-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-secretsbackend-vault-connectinject-cacert-secretname" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><a aria-label="secretname permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-secretsbackend-vault-connectinject-cacert-secretname"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">secretName</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - The Vault secret path that contains the CA certificate for
Connect Inject webhooks.</li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="tlscert" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-secretsbackend-vault-connectinject-tlscert" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="tlscert permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-secretsbackend-vault-connectinject-tlscert"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tlsCert</code></a> - Configuration to the Vault Secret that Kubernetes uses on
Kubernetes pod creation, deletion, and update, to get TLS certificates
used issued from vault to send webhooks to the ConnectInject.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="secretname-2" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-secretsbackend-vault-connectinject-tlscert-secretname" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><a aria-label="secretname permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-secretsbackend-vault-connectinject-tlscert-secretname"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">secretName</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - The Vault secret path that issues TLS certificates for connect
inject webhooks.</li></ul></li></ul></li></ul></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="gossipencryption" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-gossipencryption" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="gossipencryption permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-gossipencryption"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">gossipEncryption</code></a> - Configures Consul&#x27;s gossip encryption key.
(Refer to <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/commands/agent#_encrypt"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-encrypt</code></a>).
By default, gossip encryption is not enabled. The gossip encryption key may be set automatically or manually.
The recommended method is to automatically generate the key.
To automatically generate and set a gossip encryption key, set autoGenerate to true.
Values for secretName and secretKey should not be set if autoGenerate is true.
To manually generate a gossip encryption key, set secretName and secretKey and use Consul to generate
a key, saving this as a Kubernetes secret or Vault secret path and key.
If <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">global.secretsBackend.vault.enabled=true</code>, be sure to add the &quot;data&quot; component of the secretName path as required by
the Vault KV-2 secrets engine <!-- -->[refer to example]<!-- -->.</p><div class="hds-code-block hds-code-block--theme-dark language-shellsession hds-code-block--is-standalone language-shellsession mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R13s3tdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-cyan)">$</span><span style="color:var(--hds-code-block-color-token)"> kubectl create secret generic consul-gossip-encryption-key --from-literal=key=</span><span style="color:var(--hds-code-block-color-string)">$(</span><span style="color:var(--hds-code-block-color-function)">consul</span><span style="color:var(--hds-code-block-color-string)"> keygen)</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R13s3tdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R3l3s3tdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Vault CLI Example:</p><div class="hds-code-block hds-code-block--theme-dark language-shellsession hds-code-block--is-standalone language-shellsession mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R1js3tdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-cyan)">$</span><span style="color:var(--hds-code-block-color-token)"> vault kv put consul/secrets/gossip key=</span><span style="color:var(--hds-code-block-color-string)">$(</span><span style="color:var(--hds-code-block-color-function)">consul</span><span style="color:var(--hds-code-block-color-string)"> keygen)</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R1js3tdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R3ljs3tdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">gossipEncryption.secretName=&quot;consul/data/secrets/gossip&quot;</code>
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">gossipEncryption.secretKey=&quot;key&quot;</code></p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="autogenerate" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-gossipencryption-autogenerate" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="autogenerate permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-gossipencryption-autogenerate"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">autoGenerate</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: false</code>) - Automatically generate a gossip encryption key and save it to a Kubernetes or Vault secret.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="secretname-3" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-gossipencryption-secretname" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="secretname permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-gossipencryption-secretname"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">secretName</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: &quot;&quot;</code>) - The name of the Kubernetes secret or Vault secret path that holds the gossip
encryption key. A Kubernetes secret must be in the same namespace that Consul is installed into.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="secretkey-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-gossipencryption-secretkey" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="secretkey permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-gossipencryption-secretkey"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">secretKey</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: &quot;&quot;</code>) - The key within the Kubernetes secret or Vault secret key that holds the gossip
encryption key.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="loglevel-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-gossipencryption-loglevel" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="loglevel permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-gossipencryption-loglevel"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">logLevel</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: &quot;&quot;</code>) - Override global log verbosity level for gossip-encryption-autogenerate-job pods. One of &quot;trace&quot;, &quot;debug&quot;, &quot;info&quot;, &quot;warn&quot;, or &quot;error&quot;.</p></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="recursors" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-recursors" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="recursors permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-recursors"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">recursors</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">array&lt;string&gt;: []</code>) - A list of addresses of upstream DNS servers that are used to recursively resolve DNS queries.
These values are given as <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-recursor</code> flags to Consul servers and clients.
Refer to <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/commands/agent#_recursor"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-recursor</code></a> for more details.
If this is an empty array (the default), then Consul DNS will only resolve queries for the Consul top level domain (by default <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">.consul</code>).</p></li><li class="mdx-lists_listItem__nkqhg"><a id="tls" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-tls" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="tls permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-tls"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tls</code></a> - Enables <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/tutorials/security/tls-encryption-secure">TLS</a>
across the cluster to verify authenticity of the Consul servers and clients.
Requires Consul v1.4.1+.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="enabled-4" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-tls-enabled" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="enabled permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-tls-enabled"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enabled</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: false</code>) - If true, the Helm chart will enable TLS for Consul
servers and clients and all consul-k8s-control-plane components, as well as generate certificate
authority (optional) and server and client certificates.
This setting is required for <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/docs/connect/cluster-peering/k8s">Cluster Peering</a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="loglevel-2" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-tls-loglevel" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="loglevel permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-tls-loglevel"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">logLevel</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: &quot;&quot;</code>) - Override global log verbosity level. One of &quot;trace&quot;, &quot;debug&quot;, &quot;info&quot;, &quot;warn&quot;, or &quot;error&quot;.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="enableautoencrypt" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-tls-enableautoencrypt" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="enableautoencrypt permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-tls-enableautoencrypt"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enableAutoEncrypt</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: false</code>) - If true, turns on the auto-encrypt feature on clients and servers.
It also switches consul-k8s-control-plane components to retrieve the CA from the servers
via the API. Requires Consul 1.7.1+.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="serveradditionaldnssans" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-tls-serveradditionaldnssans" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="serveradditionaldnssans permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-tls-serveradditionaldnssans"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">serverAdditionalDNSSANs</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">array&lt;string&gt;: []</code>) - A list of additional DNS names to set as Subject Alternative Names (SANs)
in the server certificate. This is useful when you need to access the
Consul server(s) externally, for example, if you&#x27;re using the UI.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="serveradditionalipsans" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-tls-serveradditionalipsans" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="serveradditionalipsans permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-tls-serveradditionalipsans"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">serverAdditionalIPSANs</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">array&lt;string&gt;: []</code>) - A list of additional IP addresses to set as Subject Alternative Names (SANs)
in the server certificate. This is useful when you need to access the
Consul server(s) externally, for example, if you&#x27;re using the UI.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="verify" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-tls-verify" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="verify permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-tls-verify"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">verify</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: true</code>) - If true, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">verify_outgoing</code>, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">verify_server_hostname</code>,
and <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">verify_incoming</code> for internal RPC communication will be set to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">true</code> for Consul servers and clients.
Set this to false to incrementally roll out TLS on an existing Consul cluster.
Please refer to <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/docs/secure/encryption/tls/enable/existing/k8s">TLS on existing clusters</a>
for more details.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="httpsonly" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-tls-httpsonly" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="httpsonly permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-tls-httpsonly"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">httpsOnly</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: true</code>) - If true, the Helm chart will configure Consul to disable the HTTP port on
both clients and servers and to only accept HTTPS connections.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="cacert-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-tls-cacert" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="cacert permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-tls-cacert"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">caCert</code></a> - A secret containing the certificate of the CA to use for TLS communication within the Consul cluster.
If you have generated the CA yourself with the consul CLI, you could use the following command to create the secret
in Kubernetes:</p><div class="hds-code-block hds-code-block--theme-dark language-shellsession hds-code-block--is-standalone language-shellsession mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R4h4c3tdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-cyan)">$</span><span style="color:var(--hds-code-block-color-token)"> kubectl create secret generic consul-ca-cert \</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">    --from-file=&#x27;tls.crt=./consul-agent-ca.pem&#x27;</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R4h4c3tdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R7ch4c3tdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">If you are using Vault as a secrets backend with TLS, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">caCert.secretName</code> must be provided and should reference
the CA path for your PKI secrets engine. This should be of the form <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">pki/cert/ca</code> where <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">pki</code> is the mount point of your PKI secrets engine.
A read policy must be created and associated with the CA cert path for <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">global.tls.caCert.secretName</code>.
This will be consumed by the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">global.secretsBackend.vault.consulCARole</code> role by all Consul components.
When using Vault the secretKey is not used.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="secretname-4" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-tls-cacert-secretname" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="secretname permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-tls-cacert-secretname"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">secretName</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - The name of the Kubernetes or Vault secret that holds the CA certificate.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="secretkey-2" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-tls-cacert-secretkey" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="secretkey permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-tls-cacert-secretkey"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">secretKey</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - The key within the Kubernetes or Vault secret that holds the CA certificate.</p></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="cakey" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-tls-cakey" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="cakey permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-tls-cakey"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">caKey</code></a> - A Kubernetes or Vault secret containing the private key of the CA to use for
TLS communication within the Consul cluster. If you have generated the CA yourself
with the consul CLI, you could use the following command to create the secret
in Kubernetes:</p><div class="hds-code-block hds-code-block--theme-dark language-shellsession hds-code-block--is-standalone language-shellsession mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R4j4c3tdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-cyan)">$</span><span style="color:var(--hds-code-block-color-token)"> kubectl create secret generic consul-ca-key \</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">    --from-file=&#x27;tls.key=./consul-agent-ca-key.pem&#x27;</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R4j4c3tdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R7cj4c3tdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Note that we need the CA key so that we can generate server and client certificates.
It is particularly important for the client certificates since they need to have host IPs
as Subject Alternative Names. If you are setting server certs yourself via <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">server.serverCert</code>
and you are not enabling clients (or clients are enabled with autoEncrypt) then you do not
need to provide the CA key.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="secretname-5" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-tls-cakey-secretname" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="secretname permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-tls-cakey-secretname"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">secretName</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - The name of the Kubernetes or Vault secret that holds the CA key.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="secretkey-3" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-tls-cakey-secretkey" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="secretkey permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-tls-cakey-secretkey"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">secretKey</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - The key within the Kubernetes or Vault secret that holds the CA key.</p></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="annotations" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-tls-annotations" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="annotations permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-tls-annotations"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">annotations</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - This value defines additional annotations for
tls init jobs. This should be formatted as a multi-line string.</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R4l4c3tdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">annotations</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-keyword)"> |</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  &quot;sample/annotation1&quot;: &quot;foo&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  &quot;sample/annotation2&quot;: &quot;bar&quot;</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R4l4c3tdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R7cl4c3tdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="enableconsulnamespaces" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-enableconsulnamespaces" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="enableconsulnamespaces permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-enableconsulnamespaces"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enableConsulNamespaces</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: false</code>) - <span class="enterprise-alert_root__mvEIF enterprise-alert_inline__IqpbC"><span class="g-screen-reader-only">Enterprise</span><span aria-hidden="true" class="badge_root___Z7Nt badge_medium__8VGoW badge_outlined-neutral__32YXY enterprise-alert_badge___N2fV"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="var(--token-color-consul-brand)"><path d="M4.737 14.193A7 7 0 008.006 15a6.98 6.98 0 004.735-1.847l-1.66-1.737a4.6 4.6 0 110-6.828l1.66-1.738a7 7 0 10-8.004 11.343zM13.32 11.402a.573.573 0 10.637-.953.573.573 0 00-.637.953z"></path><path d="M7.96 9.517a1.517 1.517 0 11-.012-3.034 1.517 1.517 0 01.013 3.034zM13.978 9.447a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 9.472a.574.574 0 110-1.148.574.574 0 010 1.148zM13.978 7.514a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 7.675a.574.574 0 110-1.148.574.574 0 010 1.148zM13.353 5.585a.574.574 0 10.635-.956.574.574 0 00-.635.956z"></path></g></svg><span>Enterprise</span></span></span> <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enableConsulNamespaces</code> indicates that you are running
Consul Enterprise v1.7+ with a valid Consul Enterprise license and would
like to make use of configuration beyond registering everything into
the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">default</code> Consul namespace. Additional configuration
options are found in the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">consulNamespaces</code> section of both the catalog sync
and connect injector.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="acls" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-acls" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="acls permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-acls"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">acls</code></a> - Configure ACLs.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="managesystemacls" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-acls-managesystemacls" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="managesystemacls permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-acls-managesystemacls"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">manageSystemACLs</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: false</code>) - If true, the Helm chart will automatically manage ACL tokens and policies
for all Consul and consul-k8s-control-plane components.
This requires Consul &gt;= 1.4.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="loglevel-3" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-acls-loglevel" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="loglevel permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-acls-loglevel"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">logLevel</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: &quot;&quot;</code>) - Override global log verbosity level. One of &quot;trace&quot;, &quot;debug&quot;, &quot;info&quot;, &quot;warn&quot;, or &quot;error&quot;.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="bootstraptoken" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-acls-bootstraptoken" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="bootstraptoken permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-acls-bootstraptoken"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">bootstrapToken</code></a> - A Kubernetes or Vault secret containing the bootstrap token to use for creating policies and
tokens for all Consul and consul-k8s-control-plane components. If <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">secretName</code> and <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">secretKey</code>
are unset, a default secret name and secret key are used. If the secret is populated, then
we will skip ACL bootstrapping of the servers and will only initialize ACLs for the Consul
clients and consul-k8s-control-plane system components.
If the secret is empty, then we will bootstrap ACLs on the Consul servers, and write the
bootstrap token to this secret. If ACLs are already bootstrapped on the servers, then the
secret must contain the bootstrap token.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="secretname-6" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-acls-bootstraptoken-secretname" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="secretname permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-acls-bootstraptoken-secretname"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">secretName</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - The name of the Kubernetes or Vault secret that holds the bootstrap token.
If unset, this defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">{{ global.name }}-bootstrap-acl-token</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="secretkey-4" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-acls-bootstraptoken-secretkey" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="secretkey permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-acls-bootstraptoken-secretkey"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">secretKey</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - The key within the Kubernetes or Vault secret that holds the bootstrap token.
If unset, this defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">token</code>.</p></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="createreplicationtoken" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-acls-createreplicationtoken" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="createreplicationtoken permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-acls-createreplicationtoken"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">createReplicationToken</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: false</code>) - If true, an ACL token will be created that can be used in secondary
datacenters for replication. This should only be set to true in the
primary datacenter since the replication token must be created from that
datacenter.
In secondary datacenters, the secret needs to be imported from the primary
datacenter and referenced via <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">global.acls.replicationToken</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="replicationtoken" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-acls-replicationtoken" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="replicationtoken permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-acls-replicationtoken"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">replicationToken</code></a> - replicationToken references a secret containing the replication ACL token.
This token will be used by secondary datacenters to perform ACL replication
and create ACL tokens and policies.
This value is ignored if <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">bootstrapToken</code> is also set.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="secretname-7" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-acls-replicationtoken-secretname" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="secretname permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-acls-replicationtoken-secretname"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">secretName</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - The name of the Kubernetes or Vault secret that holds the replication token.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="secretkey-5" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-acls-replicationtoken-secretkey" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="secretkey permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-acls-replicationtoken-secretkey"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">secretKey</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - The key within the Kubernetes or Vault secret that holds the replication token.</p></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="resources" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-acls-resources" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="resources permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-acls-resources"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">resources</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">map</code>) - The resource requests (CPU, memory, etc.) for the server-acl-init and server-acl-init-cleanup pods.
This should be a YAML map corresponding to a Kubernetes
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.27/#resourcerequirements-v1-core">`ResourceRequirements``</a>
object.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Example:</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R5d4s3tdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">resources</span><span style="color:var(--hds-code-block-color-keyword)">:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">  requests</span><span style="color:var(--hds-code-block-color-keyword)">:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">    memory</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> &#x27;200Mi&#x27;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">    cpu</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> &#x27;100m&#x27;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">  limits</span><span style="color:var(--hds-code-block-color-keyword)">:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">    memory</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> &#x27;200Mi&#x27;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">    cpu</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> &#x27;100m&#x27;</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R5d4s3tdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R7dd4s3tdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li><li class="mdx-lists_listItem__nkqhg"><a id="partitiontoken" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-acls-partitiontoken" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="partitiontoken permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-acls-partitiontoken"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">partitionToken</code></a> - partitionToken references a Vault secret containing the ACL token to be used in non-default partitions.
This value should only be provided in the default partition and only when setting
the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">global.secretsBackend.vault.enabled</code> value to true.
Consul will use the value of the secret stored in Vault to create an ACL token in Consul with the value of the
secret as the secretID for the token.
In non-default, partitions set this secret as the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">bootstrapToken</code>.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="secretname-8" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-acls-partitiontoken-secretname" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="secretname permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-acls-partitiontoken-secretname"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">secretName</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - The name of the Vault secret that holds the partition token.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="secretkey-6" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-acls-partitiontoken-secretkey" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="secretkey permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-acls-partitiontoken-secretkey"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">secretKey</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - The key within the Vault secret that holds the parition token.</p></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="tolerations" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-acls-tolerations" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="tolerations permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-acls-tolerations"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tolerations</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: &quot;&quot;</code>) - tolerations configures the taints and tolerations for the server-acl-init
and server-acl-init-cleanup jobs. This should be a multi-line string matching the
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/">Tolerations</a> array in a Pod spec.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="nodeselector" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-acls-nodeselector" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="nodeselector permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-acls-nodeselector"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">nodeSelector</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - This value defines <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#nodeselector"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">nodeSelector</code></a>
labels for the server-acl-init and server-acl-init-cleanup jobs pod assignment, formatted as a multi-line string.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Example:</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R5j4s3tdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">nodeSelector</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-keyword)"> |</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  beta.kubernetes.io/arch: amd64</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R5j4s3tdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R7dj4s3tdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li><li class="mdx-lists_listItem__nkqhg"><a id="annotations-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-acls-annotations" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="annotations permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-acls-annotations"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">annotations</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - This value defines additional annotations for
acl init jobs. This should be formatted as a multi-line string.</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R4l4s3tdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">annotations</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-keyword)"> |</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  &quot;sample/annotation1&quot;: &quot;foo&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  &quot;sample/annotation2&quot;: &quot;bar&quot;</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R4l4s3tdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R7cl4s3tdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="argocd" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-argocd" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="argocd permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-argocd"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">argocd</code></a> - If argocd.enabled is set to true, following annotations are added to
job - server-acl-init-job
annotations -
argocd.argoproj.io/hook: Sync
argocd.argoproj.io/hook-delete-policy: HookSucceeded</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="enabled-5" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-argocd-enabled" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><a aria-label="enabled permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-argocd-enabled"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enabled</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: false</code>)</li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="enterpriselicense" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-enterpriselicense" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="enterpriselicense permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-enterpriselicense"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enterpriseLicense</code></a> - <span class="enterprise-alert_root__mvEIF enterprise-alert_inline__IqpbC"><span class="g-screen-reader-only">Enterprise</span><span aria-hidden="true" class="badge_root___Z7Nt badge_medium__8VGoW badge_outlined-neutral__32YXY enterprise-alert_badge___N2fV"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="var(--token-color-consul-brand)"><path d="M4.737 14.193A7 7 0 008.006 15a6.98 6.98 0 004.735-1.847l-1.66-1.737a4.6 4.6 0 110-6.828l1.66-1.738a7 7 0 10-8.004 11.343zM13.32 11.402a.573.573 0 10.637-.953.573.573 0 00-.637.953z"></path><path d="M7.96 9.517a1.517 1.517 0 11-.012-3.034 1.517 1.517 0 01.013 3.034zM13.978 9.447a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 9.472a.574.574 0 110-1.148.574.574 0 010 1.148zM13.978 7.514a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 7.675a.574.574 0 110-1.148.574.574 0 010 1.148zM13.353 5.585a.574.574 0 10.635-.956.574.574 0 00-.635.956z"></path></g></svg><span>Enterprise</span></span></span> This value refers to a Kubernetes or Vault secret that you have created
that contains your enterprise license. It is required if you are using an
enterprise binary. Defining it here applies it to your cluster once a leader
has been elected. If you are not using an enterprise image or if you plan to
introduce the license key via another route, then set these fields to null.
Note: the job to apply license runs on both Helm installs and upgrades.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="secretname-9" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-enterpriselicense-secretname" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="secretname permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-enterpriselicense-secretname"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">secretName</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - The name of the Kubernetes or Vault secret that holds the enterprise license.
A Kubernetes secret must be in the same namespace that Consul is installed into.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="secretkey-7" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-enterpriselicense-secretkey" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="secretkey permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-enterpriselicense-secretkey"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">secretKey</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - The key within the Kubernetes or Vault secret that holds the enterprise license.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="enablelicenseautoload" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-enterpriselicense-enablelicenseautoload" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="enablelicenseautoload permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-enterpriselicense-enablelicenseautoload"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enableLicenseAutoload</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: true</code>) - Manages license autoload. Required in Consul 1.10.0+, 1.9.7+ and 1.8.12+.</p></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="federation" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-federation" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="federation permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-federation"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">federation</code></a> - Configure federation.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="enabled-6" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-federation-enabled" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="enabled permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-federation-enabled"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enabled</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: false</code>) - If enabled, this datacenter will be federation-capable. Only federation
via mesh gateways is supported.
Mesh gateways and servers will be configured to allow federation.
Requires <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">global.tls.enabled</code>, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">connectInject.enabled</code>, and one of
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">meshGateway.enabled</code> or <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">externalServers.enabled</code> to be true.
Requires Consul 1.8+.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="createfederationsecret" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-federation-createfederationsecret" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="createfederationsecret permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-federation-createfederationsecret"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">createFederationSecret</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: false</code>) - If true, the chart will create a Kubernetes secret that can be imported
into secondary datacenters so they can federate with this datacenter. The
secret contains all the information secondary datacenters need to contact
and authenticate with this datacenter. This should only be set to true
in your primary datacenter. The secret name is
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">&lt;global.name&gt;-federation</code> (if setting <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">global.name</code>), otherwise
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">&lt;helm-release-name&gt;-consul-federation</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="primarydatacenter" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-federation-primarydatacenter" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="primarydatacenter permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-federation-primarydatacenter"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">primaryDatacenter</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - The name of the primary datacenter.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="primarygateways" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-federation-primarygateways" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="primarygateways permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-federation-primarygateways"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">primaryGateways</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">array&lt;string&gt;: []</code>) - A list of addresses of the primary mesh gateways in the form <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">&lt;ip&gt;:&lt;port&gt;</code>
(e.g. <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">[&quot;1.1.1.1:443&quot;, &quot;2.3.4.5:443&quot;]</code>).</p></li><li class="mdx-lists_listItem__nkqhg"><a id="k8sauthmethodhost" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-federation-k8sauthmethodhost" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="k8sauthmethodhost permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-federation-k8sauthmethodhost"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">k8sAuthMethodHost</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - If you are setting <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">global.federation.enabled</code> to true and are in a secondary datacenter,
set <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">k8sAuthMethodHost</code> to the address of the Kubernetes API server of the secondary datacenter.
This address must be reachable from the Consul servers in the primary datacenter.
This auth method will be used to provision ACL tokens for Consul components and is different
from the one used by the Consul Service Mesh.
Please refer to the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/docs/secure/acl/auth-method/k8s">Kubernetes Auth Method documentation</a>.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">If <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">externalServers.enabled</code> is set to true, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">global.federation.k8sAuthMethodHost</code> and
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">externalServers.k8sAuthMethodHost</code> should be set to the same value.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">You can retrieve this value from your <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">kubeconfig</code> by running:</p><div class="hds-code-block hds-code-block--theme-dark language-shellsession hds-code-block--is-standalone language-shellsession mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R3b5k3tdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-cyan)">$</span><span style="color:var(--hds-code-block-color-token)"> kubectl config view \</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">  -o jsonpath=&quot;{.clusters[?(@.name==&#x27;&lt;your cluster name&gt;&#x27;)].cluster.server}&quot;</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R3b5k3tdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R3nb5k3tdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li><li class="mdx-lists_listItem__nkqhg"><a id="loglevel-4" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-federation-loglevel" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="loglevel permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-federation-loglevel"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">logLevel</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: &quot;&quot;</code>) - Override global log verbosity level for the create-federation-secret-job pods. One of &quot;trace&quot;, &quot;debug&quot;, &quot;info&quot;, &quot;warn&quot;, or &quot;error&quot;.</p></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="metrics" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-metrics" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="metrics permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-metrics"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">metrics</code></a> - Configures metrics for Consul service mesh</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="enabled-7" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-metrics-enabled" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="enabled permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-metrics-enabled"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enabled</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: false</code>) - Configures the Helm charts components
to expose Prometheus metrics for the Consul service mesh. By default
this includes gateway metrics and sidecar metrics.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="enableagentmetrics" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-metrics-enableagentmetrics" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="enableagentmetrics permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-metrics-enableagentmetrics"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enableAgentMetrics</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: false</code>) - Configures consul agent metrics. Only applicable if
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">global.metrics.enabled</code> is true.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="disableagenthostname" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-metrics-disableagenthostname" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="disableagenthostname permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-metrics-disableagenthostname"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">disableAgentHostName</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: false</code>) - Set to true to stop prepending the machine&#x27;s hostname to gauge-type metrics. Default is false.
Only applicable if <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">global.metrics.enabled</code> and <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">global.metrics.enableAgentMetrics</code> is true.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="enablehostmetrics" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-metrics-enablehostmetrics" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="enablehostmetrics permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-metrics-enablehostmetrics"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enableHostMetrics</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: false</code>) - Configures consul agent underlying host metrics. Default is false.
Only applicable if <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">global.metrics.enabled</code> and <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">global.metrics.enableAgentMetrics</code> is true.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="agentmetricsretentiontime" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-metrics-agentmetricsretentiontime" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="agentmetricsretentiontime permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-metrics-agentmetricsretentiontime"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">agentMetricsRetentionTime</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: 1m</code>) - Configures the retention time for metrics in Consul clients and
servers. This must be greater than 0 for Consul clients and servers
to expose any metrics at all.
Only applicable if <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">global.metrics.enabled</code> is true.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="enablegatewaymetrics" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-metrics-enablegatewaymetrics" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="enablegatewaymetrics permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-metrics-enablegatewaymetrics"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enableGatewayMetrics</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: true</code>) - If true, mesh, terminating, and ingress gateways will expose their
Envoy metrics on port <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">20200</code> at the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/metrics</code> path and all gateway pods
will have Prometheus scrape annotations. Only applicable if <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">global.metrics.enabled</code> is true.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="enabletelemetrycollector" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-metrics-enabletelemetrycollector" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="enabletelemetrycollector permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-metrics-enabletelemetrycollector"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enableTelemetryCollector</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: false</code>) - Configures the Helm charts components to forward envoy metrics for the Consul service mesh to the
consul-telemetry-collector. This includes gateway metrics and sidecar metrics.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="prefixfilter" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-metrics-prefixfilter" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="prefixfilter permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-metrics-prefixfilter"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">prefixFilter</code></a> - Configures the list of filter rules to apply for allowing or blocking
metrics by prefix in the following format:</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">A leading &quot;+&quot; will enable any metrics with the given prefix, and a leading &quot;-&quot; will block them.
If there is overlap between two rules, the more specific rule will take precedence.
Blocking will take priority if the same prefix is listed multiple times.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="allowlist" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-metrics-prefixfilter-allowlist" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="allowlist permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-metrics-prefixfilter-allowlist"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">allowList</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">array&lt;string&gt;: []</code>)</p></li><li class="mdx-lists_listItem__nkqhg"><a id="blocklist" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-metrics-prefixfilter-blocklist" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="blocklist permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-metrics-prefixfilter-blocklist"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">blockList</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">array&lt;string&gt;: []</code>)</p></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="datadog" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-metrics-datadog" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="datadog permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-metrics-datadog"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">datadog</code></a> - Configures consul integration configurations for datadog on kubernetes.
Only applicable if <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">global.metrics.enabled</code> and <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">global.metrics.enableAgentMetrics</code> is true.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="enabled-8" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-metrics-datadog-enabled" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="enabled permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-metrics-datadog-enabled"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enabled</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: false</code>) - Enables datadog <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://docs.datadoghq.com/integrations/consul/?tab=containerized#metric-collection">Consul Autodiscovery Integration</a>
by configuring the required <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ad.datadoghq.com/consul.checks</code> annotation. The following <em>Consul</em> agent metrics/health statuses
are monitored by Datadog unless monitoring via OpenMetrics (Prometheus) or DogStatsD:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg">Serf events and member flaps</li><li class="mdx-lists_listItem__nkqhg">The Raft protocol</li><li class="mdx-lists_listItem__nkqhg">DNS performance</li><li class="mdx-lists_listItem__nkqhg">API Endpoints scraped:<ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="v1-agent-metrics-format-prometheus" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a aria-label="v1 agent metrics format prometheus permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v1-agent-metrics-format-prometheus"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/v1/agent/metrics?format=prometheus</code></a></li><li class="mdx-lists_listItem__nkqhg"><a id="v1-agent-self" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a aria-label="v1 agent self permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v1-agent-self"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/v1/agent/self</code></a></li><li class="mdx-lists_listItem__nkqhg"><a id="v1-status-leader" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a aria-label="v1 status leader permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v1-status-leader"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/v1/status/leader</code></a></li><li class="mdx-lists_listItem__nkqhg"><a id="v1-status-peers" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a aria-label="v1 status peers permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v1-status-peers"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/v1/status/peers</code></a></li><li class="mdx-lists_listItem__nkqhg"><a id="v1-catalog-services" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a aria-label="v1 catalog services permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v1-catalog-services"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/v1/catalog/services</code></a></li><li class="mdx-lists_listItem__nkqhg"><a id="v1-health-service" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a aria-label="v1 health service permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v1-health-service"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/v1/health/service</code></a></li><li class="mdx-lists_listItem__nkqhg"><a id="v1-health-state-any" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a aria-label="v1 health state any permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v1-health-state-any"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/v1/health/state/any</code></a></li><li class="mdx-lists_listItem__nkqhg"><a id="v1-coordinate-datacenters" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a aria-label="v1 coordinate datacenters permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v1-coordinate-datacenters"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/v1/coordinate/datacenters</code></a></li><li class="mdx-lists_listItem__nkqhg"><a id="v1-coordinate-nodes" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a aria-label="v1 coordinate nodes permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v1-coordinate-nodes"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/v1/coordinate/nodes</code></a></li></ul></li></ul><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Setting either <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">global.metrics.datadog.otlp.enabled=true</code> or <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">global.metrics.datadog.dogstatsd.enabled=true</code> disables the above checks
in lieu of metrics data collection via DogStatsD or by a customer OpenMetrics (Prometheus) collection endpoint.</p><div class="alert alert-warning g-type-body"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><strong>Note:</strong> If you have a <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://docs.datadoghq.com/integrations/consul/?tab=host#dogstatsd">dogstatsd_mapper_profile</a> configured for Consul
residing on either your Datadog NodeAgent or ClusterAgent the default Consul agent metrics/health status checks will fail. If you do not desire
to utilize DogStatsD metrics emission from Consul, remove this configuration file, and restart your Datadog agent to permit the checks to run.</p></div></li><li class="mdx-lists_listItem__nkqhg"><a id="openmetricsprometheus" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-metrics-datadog-openmetricsprometheus" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="openmetricsprometheus permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-metrics-datadog-openmetricsprometheus"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">openMetricsPrometheus</code></a> - Configures Kubernetes Prometheus/OpenMetrics auto-discovery annotations for use with Datadog.
This configuration is less common and more for advanced usage with custom metrics monitoring
configurations. Refer to the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://docs.datadoghq.com/containers/kubernetes/prometheus/?tab=kubernetesadv2">Datadog documentation</a> for more details.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="enabled-9" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-metrics-datadog-openmetricsprometheus-enabled" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><a aria-label="enabled permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-metrics-datadog-openmetricsprometheus-enabled"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enabled</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: false</code>)</li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="otlp" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-metrics-datadog-otlp" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="otlp permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-metrics-datadog-otlp"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">otlp</code></a></p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="enabled-10" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-metrics-datadog-otlp-enabled" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="enabled permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-metrics-datadog-otlp-enabled"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enabled</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: false</code>) - Enables forwarding of Consul&#x27;s Telemetry Collector OTLP metrics for
ingestion by Datadog Agent.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="protocol" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-metrics-datadog-otlp-protocol" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="protocol permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-metrics-datadog-otlp-protocol"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">protocol</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: &quot;http&quot;</code>) - Protocol used for DataDog Endpoint OTLP ingestion.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Valid protocol options are one of either:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg">&quot;http&quot;: will forward to DataDog HTTP OTLP Node Agent Endpoint default - &quot;0.0.0.0:4318&quot;</li><li class="mdx-lists_listItem__nkqhg">&quot;grpc&quot;: will forward to DataDog gRPC OTLP Node Agent Endpoint default - &quot;0.0.0.0:4317&quot;</li></ul></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="dogstatsd" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-metrics-datadog-dogstatsd" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="dogstatsd permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-metrics-datadog-dogstatsd"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">dogstatsd</code></a> - Configuration settings for DogStatsD metrics aggregation service
that is bundled with the Datadog Agent.
DogStatsD implements the StatsD protocol and adds a few Datadog-specific extensions:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Histogram metric type</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Service checks</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Events</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Tagging</p></li><li class="mdx-lists_listItem__nkqhg"><a id="enabled-11" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-metrics-datadog-dogstatsd-enabled" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="enabled permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-metrics-datadog-dogstatsd-enabled"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enabled</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: false</code>)</p></li><li class="mdx-lists_listItem__nkqhg"><a id="sockettransporttype" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-metrics-datadog-dogstatsd-sockettransporttype" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="sockettransporttype permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-metrics-datadog-dogstatsd-sockettransporttype"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">socketTransportType</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: &quot;UDS&quot;</code>) - Sets the socket transport type for dogstatsd:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">&quot;UDS&quot; (Unix Domain Socket): prefixes <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">unix://</code> to URL and appends path to socket (i.e., &quot;unix:///var/run/datadog/dsd.socket&quot;)
If set, this will create the required <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://kubernetes.io/docs/concepts/storage/volumes/#hostpath">hostPath</a> mount for
managing <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://docs.datadoghq.com/developers/dogstatsd/unix_socket/?tab=kubernetes">DogStatsD with Unix Domain Socket on Kubernetes</a>.
The volume is mounted using the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">DirectoryOrCreate</code> type, thereby setting <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">0755</code> permissions with the same kubelet group ownership.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Applies the following <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">volumes</code> and <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">volumeMounts</code> to the consul-server stateful set consul containers:</p></li></ul><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R1b94j5s3tdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">volumes</span><span style="color:var(--hds-code-block-color-keyword)">:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">  - </span><span style="color:var(--hds-code-block-color-keyword)">name</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> dsdsocket</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">    hostPath</span><span style="color:var(--hds-code-block-color-keyword)">:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">      path</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> /var/run/datadog</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">      type</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> DirectoryOrCreate</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">volumeMounts</span><span style="color:var(--hds-code-block-color-keyword)">:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">  - </span><span style="color:var(--hds-code-block-color-keyword)">name</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> dsdsocket</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">    mountPath</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> /var/run/datadog</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">    readOnly</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-constant)"> true</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R1b94j5s3tdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R1rb94j5s3tdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg">&quot;UDP&quot; (User Datagram Protocol): assigns address to use <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">hostname/IP:Port</code> formatted URL for UDP transport to hostIP based
dogstatsd sink (i.e., 127.0.0.1:8125). HostIP of Datadog agent must be reachable and known to Consul server emitting metrics.</li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="dogstatsdaddr" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-metrics-datadog-dogstatsd-dogstatsdaddr" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="dogstatsdaddr permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-metrics-datadog-dogstatsd-dogstatsdaddr"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">dogstatsdAddr</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: &quot;/var/run/datadog/dsd.socket&quot;</code>) - Sets URL path for dogstatsd:</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Can be either a path to unix domain socket or an IP Address or Hostname that&#x27;s reachable from the
consul-server service, server containers. When using &quot;UDS&quot; the path will be appended. When using &quot;UDP&quot;
the path will be prepended to the specified <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">dogstatsdPort</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="dogstatsdport" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-metrics-datadog-dogstatsd-dogstatsdport" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="dogstatsdport permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-metrics-datadog-dogstatsd-dogstatsdport"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">dogstatsdPort</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">integer: 0</code>) - Configures IP based dogstatsd designated port that will be appended to &quot;UDP&quot; based transport socket IP/Hostname URL.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">If using a kubernetes service based address (i.e., datadog.default.svc.cluster.local), set this to 0 to
mitigate appending a port value to the dogstatsd address field. Resultant address would be &quot;datadog.default.svc.cluster.local&quot; with
default port setting, while appending a non-zero port would result in &quot;172.10.23.6:8125&quot; with a dogstatsdAddr value
of &quot;172.10.23.6&quot;.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="dogstatsdtags" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-metrics-datadog-dogstatsd-dogstatsdtags" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="dogstatsdtags permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-metrics-datadog-dogstatsd-dogstatsdtags"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">dogstatsdTags</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">array&lt;string&gt;: [&quot;source:consul&quot;,&quot;consul_service:consul-server&quot;]</code>) - Configures datadog <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://docs.datadoghq.com/containers/kubernetes/log/?tab=operator#autodiscovery">autodiscovery</a>
style <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://docs.datadoghq.com/integrations/consul/?tab=containerized#log-collection">log integration</a>
configuration for Consul.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The default settings should handle most Consul Kubernetes deployment schemes. The resultant annotation
will reside on the consul-server statefulset as autodiscovery annotations.
(i.e., ad.datadoghq.com/consul.logs: <!-- -->[&quot;source:consul&quot;,&quot;consul_service:consul-server&quot;, &quot;&quot;]<!-- -->)</p></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="namespace" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-metrics-datadog-namespace" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="namespace permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-metrics-datadog-namespace"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">namespace</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: &quot;default&quot;</code>) - Namespace</p></li></ul></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="imageconsuldataplane" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-imageconsuldataplane" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="imageconsuldataplane permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-imageconsuldataplane"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">imageConsulDataplane</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: hashicorp/consul-dataplane:&lt;latest supported version&gt;</code>) - The name (and tag) of the consul-dataplane Docker image used for the
connect-injected sidecar proxies and mesh, terminating, and ingress gateways.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="openshift" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-openshift" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="openshift permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-openshift"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">openshift</code></a> - Configuration for running this Helm chart on the Red Hat OpenShift platform.
This Helm chart currently supports OpenShift v4.x+.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="enabled-12" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-openshift-enabled" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><a aria-label="enabled permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-openshift-enabled"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enabled</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: false</code>) - If true, the Helm chart will create necessary configuration for running
its components on OpenShift.</li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="consulapitimeout" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-consulapitimeout" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="consulapitimeout permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-consulapitimeout"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">consulAPITimeout</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: 5s</code>) - The time in seconds that the consul API client will wait for a response from
the API before cancelling the request.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="extralabels" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-extralabels" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="extralabels permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-extralabels"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">extraLabels</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">map</code>) - Extra labels to attach to all pods, deployments, daemonsets, statefulsets, and jobs. This should be a YAML map.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Example:</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R1es3tdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">extraLabels</span><span style="color:var(--hds-code-block-color-keyword)">:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">  labelKey</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> label-value</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">  anotherLabelKey</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> another-label-value</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R1es3tdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R1res3tdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li><li class="mdx-lists_listItem__nkqhg"><a id="trustedcas" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-trustedcas" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="trustedcas permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-trustedcas"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">trustedCAs</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">array&lt;string&gt;: []</code>) - Optional PEM-encoded CA certificates that will be added to trusted system CAs.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Example:</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R1f43tdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">trustedCAs</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-token)"> [</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">  |</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  -----BEGIN CERTIFICATE-----</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  MIIC7jCCApSgAwIBAgIRAIq2zQEVexqxvtxP6J0bXAwwCgYIKoZIzj0EAwIwgbkx</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-constant)">  ...</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">]</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R1f43tdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R1rf43tdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li><li class="mdx-lists_listItem__nkqhg"><a id="experiments" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-global-experiments" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="experiments permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-global-experiments"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">experiments</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">array&lt;string&gt;: []</code>) - Consul feature flags that will be enabled across components.
Supported feature flags:</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Example:</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R1fc3tdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">experiments</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-token)"> [ </span><span style="color:var(--hds-code-block-color-string)">&quot;&lt;experiment name&gt;&quot;</span><span style="color:var(--hds-code-block-color-token)"> ]</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R1fc3tdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R1rfc3tdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li></ul></li></ul><h3 id="server" class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="server permalink" href="/consul/docs/reference/k8s/helm#server"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a><a id="h-server" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-h __compat" href="/consul/docs/reference/k8s/helm#"></a>server</h3><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="server-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-server" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="server permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-server"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">server</code></a> - Server, when enabled, configures a server cluster to run. This should
be disabled if you plan on connecting to a Consul cluster external to
the Kube cluster.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="enabled-13" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-server-enabled" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="enabled permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-server-enabled"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enabled</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: global.enabled</code>) - If true, the chart will install all the resources necessary for a
Consul server cluster. If you&#x27;re running Consul externally and want agents
within Kubernetes to join that cluster, this should probably be false.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="loglevel-5" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-server-loglevel" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="loglevel permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-server-loglevel"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">logLevel</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: &quot;&quot;</code>) - Override global log verbosity level. One of &quot;trace&quot;, &quot;debug&quot;, &quot;info&quot;, &quot;warn&quot;, or &quot;error&quot;.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="image-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-server-image" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="image permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-server-image"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">image</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - The name of the Docker image (including any tag) for the containers running
Consul server agents.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="replicas" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-server-replicas" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="replicas permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-server-replicas"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">replicas</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">integer: 1</code>) - The number of server agents to run. This determines the fault tolerance of
the cluster. Please refer to the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/docs/architecture/consensus#deployment-table">deployment table</a>
for more information.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="bootstrapexpect" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-server-bootstrapexpect" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="bootstrapexpect permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-server-bootstrapexpect"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">bootstrapExpect</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">int: null</code>) - The number of servers that are expected to be running.
It defaults to server.replicas.
In most cases the default should be used, however if there are more
servers in this datacenter than server.replicas it might make sense
to override the default. This would be the case if two kube clusters
were joined into the same datacenter and each cluster ran a certain number
of servers.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="servercert" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-server-servercert" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="servercert permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-server-servercert"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">serverCert</code></a> - A secret containing a certificate &amp; key for the server agents to use
for TLS communication within the Consul cluster. Cert needs to be provided with
additional DNS name SANs so that it will work within the Kubernetes cluster:</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Kubernetes Secrets backend:</p><div class="hds-code-block hds-code-block--theme-dark language-bash hds-code-block--is-standalone language-bash mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R2hk4tdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-function)">consul</span><span style="color:var(--hds-code-block-color-string)"> tls</span><span style="color:var(--hds-code-block-color-string)"> cert</span><span style="color:var(--hds-code-block-color-string)"> create</span><span style="color:var(--hds-code-block-color-string)"> -server</span><span style="color:var(--hds-code-block-color-string)"> -days=730</span><span style="color:var(--hds-code-block-color-string)"> -domain=consul</span><span style="color:var(--hds-code-block-color-string)"> -ca=consul-agent-ca.pem</span><span style="color:var(--hds-code-block-color-token)"> \</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">    -key=consul-agent-ca-key.pem</span><span style="color:var(--hds-code-block-color-string)"> -dc=</span><span style="color:var(--hds-code-block-color-token)">{{datacenter}} \</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">    -additional-dnsname</span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)">&quot;{{fullname}}-server&quot;</span><span style="color:var(--hds-code-block-color-token)"> \</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">    -additional-dnsname</span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)">&quot;*.{{fullname}}-server&quot;</span><span style="color:var(--hds-code-block-color-token)"> \</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">    -additional-dnsname</span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)">&quot;*.{{fullname}}-server.{{namespace}}&quot;</span><span style="color:var(--hds-code-block-color-token)"> \</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">    -additional-dnsname</span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)">&quot;*.{{fullname}}-server.{{namespace}}.svc&quot;</span><span style="color:var(--hds-code-block-color-token)"> \</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">    -additional-dnsname</span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)">&quot;*.server.{{datacenter}}.{{domain}}&quot;</span><span style="color:var(--hds-code-block-color-token)"> \</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">    -additional-dnsname</span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)">&quot;server.{{datacenter}}.{{domain}}&quot;</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R2hk4tdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R7ahk4tdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">If you have generated the server-cert yourself with the consul CLI, you could use the following command
to create the secret in Kubernetes:</p><div class="hds-code-block hds-code-block--theme-dark language-bash hds-code-block--is-standalone language-bash mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R3hk4tdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-function)">kubectl</span><span style="color:var(--hds-code-block-color-string)"> create</span><span style="color:var(--hds-code-block-color-string)"> secret</span><span style="color:var(--hds-code-block-color-string)"> generic</span><span style="color:var(--hds-code-block-color-string)"> consul-server-cert</span><span style="color:var(--hds-code-block-color-token)"> \</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">    --from-file=&#x27;tls.crt=./dc1-server-consul-0.pem&#x27;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">    --from-file</span><span style="color:var(--hds-code-block-color-keyword)">=</span><span style="color:var(--hds-code-block-color-string)">&#x27;tls.key=./dc1-server-consul-0-key.pem&#x27;</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R3hk4tdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R7bhk4tdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Vault Secrets backend:
If you are using Vault as a secrets backend, a Vault Policy must be created which allows <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">[&quot;create&quot;, &quot;update&quot;]</code>
capabilities on the PKI issuing endpoint, which is usually of the form <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">pki/issue/consul-server</code>.
Complete <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/tutorials/vault-secure/vault-pki-consul-secure-tls">this tutorial</a>
to learn how to generate a compatible certificate.
Note: when using TLS, both the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">server.serverCert</code> and <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">global.tls.caCert</code> which points to the CA endpoint of this PKI engine
must be provided.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="secretname-10" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-server-servercert-secretname" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><a aria-label="secretname permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-server-servercert-secretname"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">secretName</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - The name of the Vault secret that holds the PEM encoded server certificate.</li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="exposegossipandrpcports" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-server-exposegossipandrpcports" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="exposegossipandrpcports permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-server-exposegossipandrpcports"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">exposeGossipAndRPCPorts</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: false</code>) - Exposes the servers&#x27; gossip and RPC ports as hostPorts. To enable a client
agent outside of the k8s cluster to join the datacenter, you would need to
enable <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">server.exposeGossipAndRPCPorts</code>, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">client.exposeGossipPorts</code>, and
set <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">server.ports.serflan.port</code> to a port not being used on the host. Since
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">client.exposeGossipPorts</code> uses the hostPort 8301,
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">server.ports.serflan.port</code> must be set to something other than 8301.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="ports" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-server-ports" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="ports permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-server-ports"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ports</code></a> - Configures ports for the consul servers.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="serflan" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-server-ports-serflan" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="serflan permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-server-ports-serflan"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">serflan</code></a> - Configures the LAN gossip port for the consul servers. If you choose to
enable <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">server.exposeGossipAndRPCPorts</code> and <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">client.exposeGossipPorts</code>,
that will configure the LAN gossip ports on the servers and clients to be
hostPorts, so if you are running clients and servers on the same node the
ports will conflict if they are both 8301. When you enable
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">server.exposeGossipAndRPCPorts</code> and <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">client.exposeGossipPorts</code>, you must
change this from the default to an unused port on the host, e.g. 9301. By
default the LAN gossip port is 8301 and configured as a containerPort on
the consul server Pods.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="port" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-server-ports-serflan-port" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><a aria-label="port permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-server-ports-serflan-port"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">port</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">integer: 8301</code>)</li></ul></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="storage" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-server-storage" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="storage permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-server-storage"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">storage</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: 10Gi</code>) - This defines the disk size for configuring the
servers&#x27; StatefulSet storage. For dynamically provisioned storage classes, this is the
desired size. For manually defined persistent volumes, this should be set to
the disk size of the attached volume.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="storageclass" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-server-storageclass" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="storageclass permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-server-storageclass"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">storageClass</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - The StorageClass to use for the servers&#x27; StatefulSet storage. It must be
able to be dynamically provisioned if you want the storage
to be automatically created. For example, to use
local(<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://kubernetes.io/docs/concepts/storage/storage-classes/#local">https://kubernetes.io/docs/concepts/storage/storage-classes/#local</a>)
storage classes, the PersistentVolumeClaims would need to be manually created.
A <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">null</code> value will use the Kubernetes cluster&#x27;s default StorageClass. If a default
StorageClass does not exist, you will need to create one.
Refer to the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/docs/install/performance#read-write-tuning">Read/Write Tuning</a>
section of the Server Performance Requirements documentation for considerations
around choosing a performant storage class.</p><div class="alert alert-warning g-type-body"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><strong>Note:</strong> The <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/tutorials/production-deploy/reference-architecture#hardware-sizing-for-consul-servers">Reference Architecture</a>
contains best practices and recommendations for selecting suitable
hardware sizes for your Consul servers.</p></div></li><li class="mdx-lists_listItem__nkqhg"><a id="persistentvolumeclaimretentionpolicy" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-server-persistentvolumeclaimretentionpolicy" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="persistentvolumeclaimretentionpolicy permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-server-persistentvolumeclaimretentionpolicy"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">persistentVolumeClaimRetentionPolicy</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">map</code>) - The <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://kubernetes.io/docs/concepts/workloads/controllers/statefulset/#persistentvolumeclaim-retention">Persistent Volume Claim (PVC) retention policy</a>
controls if and how PVCs are deleted during the lifecycle of a StatefulSet.
WhenDeleted specifies what happens to PVCs created from StatefulSet VolumeClaimTemplates when the StatefulSet is deleted,
and WhenScaled specifies what happens to PVCs created from StatefulSet VolumeClaimTemplates when the StatefulSet is scaled down.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Example:</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R2is4tdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">persistentVolumeClaimRetentionPolicy</span><span style="color:var(--hds-code-block-color-keyword)">:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">  whenDeleted</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> Retain</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">  whenScaled</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> Retain</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R2is4tdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R3mis4tdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li><li class="mdx-lists_listItem__nkqhg"><a id="connect" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-server-connect" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="connect permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-server-connect"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">connect</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: true</code>) - This will enable/disable <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/docs/connect">service mesh</a>. Setting this to true
<em>will not</em> automatically secure pod communication, this
setting will only enable usage of the feature. Consul will automatically initialize
a new CA and set of certificates. Additional service mesh settings can be configured
by setting the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">server.extraConfig</code> value or by applying <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/docs/fundamentals/config-entry">configuration entries</a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="enableagentdebug" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-server-enableagentdebug" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="enableagentdebug permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-server-enableagentdebug"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enableAgentDebug</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: false</code>) - When set to true, enables Consul to report additional debugging information, including runtime profiling (pprof) data.
This setting is only required for clusters without ACL enabled. Sets <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enable_debug</code> in server agent config to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">true</code>.
If you change this setting, you must restart the agent for the change to take effect. Default is false.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="serviceaccount" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-server-serviceaccount" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="serviceaccount permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-server-serviceaccount"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">serviceAccount</code></a></p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="annotations-2" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-server-serviceaccount-annotations" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="annotations permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-server-serviceaccount-annotations"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">annotations</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - This value defines additional annotations for the server service account. This should be formatted as a multi-line
string.</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":Ri3k4tdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">annotations</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-keyword)"> |</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  &quot;sample/annotation1&quot;: &quot;foo&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  &quot;sample/annotation2&quot;: &quot;bar&quot;</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":Ri3k4tdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":Rti3k4tdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="resources-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-server-resources" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="resources permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-server-resources"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">resources</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">map</code>) - The resource requests (CPU, memory, etc.)
for each of the server agents. This should be a YAML map corresponding to a Kubernetes
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.24/#resourcerequirements-v1-core">`ResourceRequirements``</a>
object. NOTE: The use of a YAML string is deprecated.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Example:</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R2js4tdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">resources</span><span style="color:var(--hds-code-block-color-keyword)">:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">  requests</span><span style="color:var(--hds-code-block-color-keyword)">:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">    memory</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> &#x27;200Mi&#x27;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">    cpu</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> &#x27;100m&#x27;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">  limits</span><span style="color:var(--hds-code-block-color-keyword)">:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">    memory</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> &#x27;200Mi&#x27;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">    cpu</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> &#x27;100m&#x27;</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R2js4tdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R3mjs4tdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li><li class="mdx-lists_listItem__nkqhg"><a id="securitycontext" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-server-securitycontext" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="securitycontext permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-server-securitycontext"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">securityContext</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">map</code>) - The security context for the server pods. This should be a YAML map corresponding to a
Kubernetes <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://kubernetes.io/docs/tasks/configure-pod-container/security-context/">SecurityContext</a> object.
By default, servers will run as non-root, with user ID <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">100</code> and group ID <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">1000</code>,
which correspond to the consul user and group created by the Consul docker image.
Note: if running on OpenShift, this setting is ignored because the user and group are set automatically
by the OpenShift platform.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="containersecuritycontext" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-server-containersecuritycontext" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="containersecuritycontext permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-server-containersecuritycontext"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">containerSecurityContext</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">map</code>) - The container securityContext for each container in the server pods.  In
addition to the Pod&#x27;s SecurityContext this can
set the capabilities of processes running in the container and ensure the
root file systems in the container is read-only.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="server-2" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-server-containersecuritycontext-server" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="server permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-server-containersecuritycontext-server"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">server</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">map</code>) - The consul server agent container</p></li><li class="mdx-lists_listItem__nkqhg"><a id="aclinit" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-server-containersecuritycontext-aclinit" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="aclinit permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-server-containersecuritycontext-aclinit"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">aclInit</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">map</code>) - The acl-init job</p></li><li class="mdx-lists_listItem__nkqhg"><a id="tlsinit" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-server-containersecuritycontext-tlsinit" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="tlsinit permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-server-containersecuritycontext-tlsinit"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tlsInit</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">map</code>) - The tls-init job</p></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="updatepartition" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-server-updatepartition" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="updatepartition permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-server-updatepartition"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">updatePartition</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">integer: 0</code>) - This value is used to carefully
control a rolling update of Consul server agents. This value specifies the
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://kubernetes.io/docs/concepts/workloads/controllers/statefulset/#partitions">partition</a>
for performing a rolling update. Please read the linked Kubernetes
and <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/docs/k8s/upgrade#upgrading-consul-servers">Upgrade Consul</a>
documentation for more information.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="disruptionbudget" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-server-disruptionbudget" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="disruptionbudget permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-server-disruptionbudget"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">disruptionBudget</code></a> - This configures the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://kubernetes.io/docs/tasks/run-application/configure-pdb/"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">PodDisruptionBudget</code></a>
for the server cluster.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="enabled-14" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-server-disruptionbudget-enabled" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="enabled permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-server-disruptionbudget-enabled"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enabled</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: true</code>) - Enables registering a PodDisruptionBudget for the server
cluster. If enabled, it only registers the budget so long as
the server cluster is enabled. To disable, set to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">false</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="maxunavailable" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-server-disruptionbudget-maxunavailable" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="maxunavailable permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-server-disruptionbudget-maxunavailable"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">maxUnavailable</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">integer: null</code>) - The maximum number of unavailable pods. In most cases you should not change this as it is automatically set to
the correct number when left as null. This setting has been kept to preserve backwards compatibility.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">By default, this is set to 1 internally in the chart. When server pods are stopped gracefully, they leave the Raft
consensus pool. When running an odd number of servers, one server leaving the pool does not change the quorum
size, and so fault tolerance is not affected. However, if more than one server were to leave the pool, the quorum
size would change. That&#x27;s why this is set to 1 internally and should not be changed in most cases.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">If you need to set this to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">0</code>, you will need to add a
--set &#x27;server.disruptionBudget.maxUnavailable=0&#x27;` flag to the helm chart installation
command because of a limitation in the Helm templating language.</p></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="extraconfig" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-server-extraconfig" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="extraconfig permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-server-extraconfig"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">extraConfig</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: {}</code>) - A raw string of extra <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/docs/reference/agent/configuration-file">JSON configuration</a> for Consul
servers. This will be saved as-is into a ConfigMap that is read by the Consul
server agents. This can be used to add additional configuration that
isn&#x27;t directly exposed by the chart.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Example:</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R2l44tdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">extraConfig</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-keyword)"> |</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  {</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">    &quot;log_level&quot;: &quot;DEBUG&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  }</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R2l44tdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R3ml44tdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">This can also be set using Helm&#x27;s <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">--set</code> flag using the following syntax:</p><div class="hds-code-block hds-code-block--theme-dark language-shellsession hds-code-block--is-standalone language-shellsession mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R3l44tdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">--set &#x27;server.extraConfig=&quot;{&quot;log_level&quot;: &quot;DEBUG&quot;}&quot;&#x27;</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R3l44tdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R3nl44tdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li><li class="mdx-lists_listItem__nkqhg"><a id="extravolumes" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-server-extravolumes" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="extravolumes permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-server-extravolumes"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">extraVolumes</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">array&lt;map&gt;</code>) - A list of extra volumes to mount for server agents. This
is useful for bringing in extra data that can be referenced by other configurations
at a well known path, such as TLS certificates or Gossip encryption keys. The
value of this should be a list of objects.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Example:</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R2lc4tdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">extraVolumes</span><span style="color:var(--hds-code-block-color-keyword)">:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">  - </span><span style="color:var(--hds-code-block-color-keyword)">type</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> secret</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">    name</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> consul-certs</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">    load</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-constant)"> false</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R2lc4tdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R3mlc4tdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Each object supports the following keys:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="type" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="type permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#type"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">type</code></a> - Type of the volume, must be one of &quot;configMap&quot; or &quot;secret&quot;. Case sensitive.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="name-2" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="name permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#name-2"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">name</code></a> - Name of the configMap or secret to be mounted. This also controls
the path that it is mounted to. The volume will be mounted to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/consul/userconfig/&lt;name&gt;</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="load" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="load permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#load"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">load</code></a> - If true, then the agent will be
configured to automatically load HCL/JSON configuration files from this volume
with <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-config-dir</code>. This defaults to false.</p></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="extracontainers" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-server-extracontainers" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="extracontainers permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-server-extracontainers"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">extraContainers</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">array&lt;map&gt;</code>) - A list of sidecar containers.
Example:</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R25k4tdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">extraContainers</span><span style="color:var(--hds-code-block-color-keyword)">:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">- </span><span style="color:var(--hds-code-block-color-keyword)">name</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> extra-container</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">  image</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> example-image:latest</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">  command</span><span style="color:var(--hds-code-block-color-keyword)">:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">   - </span><span style="color:var(--hds-code-block-color-constant)">...</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R25k4tdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R3m5k4tdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li><li class="mdx-lists_listItem__nkqhg"><a id="affinity" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-server-affinity" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="affinity permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-server-affinity"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">affinity</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string</code>) - This value defines the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#affinity-and-anti-affinity">affinity</a>
for server pods. It defaults to allowing only a single server pod on each node, which
minimizes risk of the cluster becoming unusable if a node is lost. If you need
to run more pods per node (for example, testing on Minikube), set this value
to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">null</code>.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Example:</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R2ls4tdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">affinity</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-keyword)"> |</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  podAntiAffinity:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">    requiredDuringSchedulingIgnoredDuringExecution:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">      - labelSelector:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">          matchLabels:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">            app: {{ template &quot;consul.name&quot; . }}</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">            release: &quot;{{ .Release.Name }}&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">            component: server</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">      topologyKey: kubernetes.io/hostname</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R2ls4tdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R3mls4tdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li><li class="mdx-lists_listItem__nkqhg"><a id="tolerations-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-server-tolerations" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="tolerations permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-server-tolerations"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tolerations</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: &quot;&quot;</code>) - Toleration settings for server pods. This
should be a multi-line string matching the
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/">Tolerations</a>
array in a Pod spec.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="topologyspreadconstraints" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-server-topologyspreadconstraints" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="topologyspreadconstraints permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-server-topologyspreadconstraints"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">topologySpreadConstraints</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: &quot;&quot;</code>) - Pod topology spread constraints for server pods.
This should be a multi-line YAML string matching the
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://kubernetes.io/docs/concepts/workloads/pods/pod-topology-spread-constraints/"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">topologySpreadConstraints</code></a>
array in a Pod Spec.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">This requires K8S &gt;= 1.18 (beta) or 1.19 (stable).</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Example:</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R36c4tdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">topologySpreadConstraints</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-keyword)"> |</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  - maxSkew: 1</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">    topologyKey: topology.kubernetes.io/zone</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">    whenUnsatisfiable: DoNotSchedule</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">    labelSelector:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">      matchLabels:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">        app: {{ template &quot;consul.name&quot; . }}</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">        release: &quot;{{ .Release.Name }}&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">        component: server</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R36c4tdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R3n6c4tdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li><li class="mdx-lists_listItem__nkqhg"><a id="nodeselector-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-server-nodeselector" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="nodeselector permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-server-nodeselector"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">nodeSelector</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - This value defines <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#nodeselector"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">nodeSelector</code></a>
labels for server pod assignment, formatted as a multi-line string.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Example:</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R2mk4tdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">nodeSelector</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-keyword)"> |</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  beta.kubernetes.io/arch: amd64</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R2mk4tdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R3mmk4tdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li><li class="mdx-lists_listItem__nkqhg"><a id="priorityclassname" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-server-priorityclassname" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="priorityclassname permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-server-priorityclassname"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">priorityClassName</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: &quot;&quot;</code>) - This value references an existing
Kubernetes <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://kubernetes.io/docs/concepts/configuration/pod-priority-preemption/#pod-priority"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">priorityClassName</code></a>
that can be assigned to server pods.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="extralabels-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-server-extralabels" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="extralabels permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-server-extralabels"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">extraLabels</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">map</code>) - Extra labels to attach to the server pods. This should be a YAML map.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Example:</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R2n44tdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">extraLabels</span><span style="color:var(--hds-code-block-color-keyword)">:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">  labelKey</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> label-value</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">  anotherLabelKey</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> another-label-value</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R2n44tdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R3mn44tdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li><li class="mdx-lists_listItem__nkqhg"><a id="annotations-3" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-server-annotations" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="annotations permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-server-annotations"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">annotations</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - This value defines additional annotations for
server pods. This should be formatted as a multi-line string.</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R27c4tdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">annotations</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-keyword)"> |</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  &quot;sample/annotation1&quot;: &quot;foo&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  &quot;sample/annotation2&quot;: &quot;bar&quot;</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R27c4tdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R3m7c4tdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li><li class="mdx-lists_listItem__nkqhg"><a id="exposeservice" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-server-exposeservice" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="exposeservice permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-server-exposeservice"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">exposeService</code></a> - Configures a service to expose ports on the Consul servers over a Kubernetes Service.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="enabled-15" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-server-exposeservice-enabled" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="enabled permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-server-exposeservice-enabled"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enabled</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: -</code>) - When enabled, deploys a Kubernetes Service to reach the Consul servers.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="type-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-server-exposeservice-type" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="type permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-server-exposeservice-type"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">type</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: LoadBalancer</code>) - Type of service, supports LoadBalancer or NodePort.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="nodeport" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-server-exposeservice-nodeport" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="nodeport permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-server-exposeservice-nodeport"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">nodePort</code></a> - If service is of type NodePort, configures the nodePorts.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="http" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-server-exposeservice-nodeport-http" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="http permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-server-exposeservice-nodeport-http"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">http</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">integer: null</code>) - Configures the nodePort to expose the Consul server http port.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="https" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-server-exposeservice-nodeport-https" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="https permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-server-exposeservice-nodeport-https"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">https</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">integer: null</code>) - Configures the nodePort to expose the Consul server https port.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="serf" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-server-exposeservice-nodeport-serf" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="serf permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-server-exposeservice-nodeport-serf"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">serf</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">integer: null</code>) - Configures the nodePort to expose the Consul server serf port.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="rpc" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-server-exposeservice-nodeport-rpc" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="rpc permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-server-exposeservice-nodeport-rpc"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">rpc</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">integer: null</code>) - Configures the nodePort to expose the Consul server rpc port.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="grpc" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-server-exposeservice-nodeport-grpc" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="grpc permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-server-exposeservice-nodeport-grpc"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">grpc</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">integer: null</code>) - Configures the nodePort to expose the Consul server grpc port.</p></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="annotations-4" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-server-exposeservice-annotations" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="annotations permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-server-exposeservice-annotations"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">annotations</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - This value defines additional annotations for
server pods. This should be formatted as a multi-line string.</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R4i7k4tdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">annotations</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-keyword)"> |</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  &quot;sample/annotation1&quot;: &quot;foo&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  &quot;sample/annotation2&quot;: &quot;bar&quot;</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R4i7k4tdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R7ci7k4tdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="service" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-server-service" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="service permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-server-service"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">service</code></a> - Server service properties.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="annotations-5" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-server-service-annotations" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="annotations permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-server-service-annotations"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">annotations</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - Annotations to apply to the server service.</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":Ri7s4tdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">annotations</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-keyword)"> |</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  &quot;annotation-key&quot;: &quot;annotation-value&quot;</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":Ri7s4tdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":Rti7s4tdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="extraenvironmentvars" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-server-extraenvironmentvars" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="extraenvironmentvars permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-server-extraenvironmentvars"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">extraEnvironmentVars</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">map</code>) - A list of extra environment variables to set within the stateful set.
These could be used to include proxy settings required for cloud auto-join
feature, in case kubernetes cluster is behind egress http proxies. Additionally,
it could be used to configure custom consul parameters.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="snapshotagent" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-server-snapshotagent" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="snapshotagent permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-server-snapshotagent"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">snapshotAgent</code></a> - <span class="enterprise-alert_root__mvEIF enterprise-alert_inline__IqpbC"><span class="g-screen-reader-only">Enterprise</span><span aria-hidden="true" class="badge_root___Z7Nt badge_medium__8VGoW badge_outlined-neutral__32YXY enterprise-alert_badge___N2fV"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="var(--token-color-consul-brand)"><path d="M4.737 14.193A7 7 0 008.006 15a6.98 6.98 0 004.735-1.847l-1.66-1.737a4.6 4.6 0 110-6.828l1.66-1.738a7 7 0 10-8.004 11.343zM13.32 11.402a.573.573 0 10.637-.953.573.573 0 00-.637.953z"></path><path d="M7.96 9.517a1.517 1.517 0 11-.012-3.034 1.517 1.517 0 01.013 3.034zM13.978 9.447a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 9.472a.574.574 0 110-1.148.574.574 0 010 1.148zM13.978 7.514a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 7.675a.574.574 0 110-1.148.574.574 0 010 1.148zM13.353 5.585a.574.574 0 10.635-.956.574.574 0 00-.635.956z"></path></g></svg><span>Enterprise</span></span></span> Values for setting up and running
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/commands/snapshot/agent">snapshot agents</a>
within the Consul clusters. They run as a sidecar with Consul servers.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="enabled-16" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-server-snapshotagent-enabled" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="enabled permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-server-snapshotagent-enabled"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enabled</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: false</code>) - If true, the chart will install resources necessary to run the snapshot agent.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="interval" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-server-snapshotagent-interval" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="interval permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-server-snapshotagent-interval"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">interval</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: 1h</code>) - Interval at which to perform snapshots.
Refer to <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/commands/snapshot/agent#interval"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">interval</code></a></p></li><li class="mdx-lists_listItem__nkqhg"><a id="configsecret" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-server-snapshotagent-configsecret" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="configsecret permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-server-snapshotagent-configsecret"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">configSecret</code></a> - A Kubernetes or Vault secret that should be manually created to contain the entire
config to be used on the snapshot agent.
This is the preferred method of configuration since there are usually storage
credentials present. Please refer to the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/commands/snapshot/agent#config-file-options">Snapshot agent config</a>
for details.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="secretname-11" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-server-snapshotagent-configsecret-secretname" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="secretname permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-server-snapshotagent-configsecret-secretname"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">secretName</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - The name of the Kubernetes secret or Vault secret path that holds the snapshot agent config.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="secretkey-8" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-server-snapshotagent-configsecret-secretkey" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="secretkey permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-server-snapshotagent-configsecret-secretkey"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">secretKey</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - The key within the Kubernetes secret or Vault secret key that holds the snapshot agent config.</p></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="resources-2" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-server-snapshotagent-resources" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="resources permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-server-snapshotagent-resources"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">resources</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">map</code>) - The resource settings for snapshot agent pods.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="cacert-2" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-server-snapshotagent-cacert" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="cacert permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-server-snapshotagent-cacert"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">caCert</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - Optional PEM-encoded CA certificate that will be added to the trusted system CAs.
Useful if using an S3-compatible storage exposing a self-signed certificate.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Example:</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R5m8c4tdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">caCert</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-keyword)"> |</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  -----BEGIN CERTIFICATE-----</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  MIIC7jCCApSgAwIBAgIRAIq2zQEVexqxvtxP6J0bXAwwCgYIKoZIzj0EAwIwgbkx</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  ...</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R5m8c4tdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R7dm8c4tdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="auditlogs" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-server-auditlogs" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="auditlogs permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-server-auditlogs"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">auditLogs</code></a> - <span class="enterprise-alert_root__mvEIF enterprise-alert_inline__IqpbC"><span class="g-screen-reader-only">Enterprise</span><span aria-hidden="true" class="badge_root___Z7Nt badge_medium__8VGoW badge_outlined-neutral__32YXY enterprise-alert_badge___N2fV"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="var(--token-color-consul-brand)"><path d="M4.737 14.193A7 7 0 008.006 15a6.98 6.98 0 004.735-1.847l-1.66-1.737a4.6 4.6 0 110-6.828l1.66-1.738a7 7 0 10-8.004 11.343zM13.32 11.402a.573.573 0 10.637-.953.573.573 0 00-.637.953z"></path><path d="M7.96 9.517a1.517 1.517 0 11-.012-3.034 1.517 1.517 0 01.013 3.034zM13.978 9.447a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 9.472a.574.574 0 110-1.148.574.574 0 010 1.148zM13.978 7.514a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 7.675a.574.574 0 110-1.148.574.574 0 010 1.148zM13.353 5.585a.574.574 0 10.635-.956.574.574 0 00-.635.956z"></path></g></svg><span>Enterprise</span></span></span> Added in Consul 1.8, the audit object allow users to enable auditing
and configure a sink and filters for their audit logs. Please refer to
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/docs/monitor/log/audit">audit logs</a> documentation
for further information.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="enabled-17" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-server-auditlogs-enabled" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="enabled permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-server-auditlogs-enabled"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enabled</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: false</code>) - Controls whether Consul logs out each time a user performs an operation.
global.acls.manageSystemACLs must be enabled to use this feature.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="sinks" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-server-auditlogs-sinks" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="sinks permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-server-auditlogs-sinks"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">sinks</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">array&lt;map&gt;</code>) - A single entry of the sink object provides configuration for the destination to which Consul
will log auditing events.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Example:</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R2q8k4tdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">sinks</span><span style="color:var(--hds-code-block-color-keyword)">:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">  - </span><span style="color:var(--hds-code-block-color-keyword)">name</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> My Sink</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">    type</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> file</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">    format</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> json</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">    path</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> /tmp/audit.json</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">    delivery_guarantee</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> best-effort</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">    rotate_duration</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> 24h</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">    rotate_max_files</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-constant)"> 15</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">    rotate_bytes</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-constant)"> 25165824</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last">
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R2q8k4tdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R3mq8k4tdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The sink object supports the following keys:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="name-3" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="name permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#name-3"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">name</code></a> - Name of the sink.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="type-2" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="type permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#type-2"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">type</code></a> - Type specifies what kind of sink this is. Currently only file sinks are available</p></li><li class="mdx-lists_listItem__nkqhg"><a id="format" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="format permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#format"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">format</code></a> - Format specifies what format the events will be emitted with. Currently only <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">json</code>
events are emitted.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="path" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="path permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#path"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">path</code></a> - The directory and filename to write audit events to.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="delivery_guarantee" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="delivery_guarantee permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#delivery_guarantee"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">delivery_guarantee</code></a> - Specifies the rules governing how audit events are written. Consul
only supports <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">best-effort</code> event delivery.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="mode" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="mode permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#mode"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">mode</code></a> - The permissions to set on the audit log files.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="rotate_duration" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="rotate_duration permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#rotate_duration"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">rotate_duration</code></a> - Specifies the interval by which the system rotates to a new log file.
At least one of <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">rotate_duration</code> or <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">rotate_bytes</code> must be configured to enable audit logging.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="rotate_bytes" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="rotate_bytes permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#rotate_bytes"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">rotate_bytes</code></a> -  Specifies how large an individual log file can grow before Consul rotates to a new file.
At least one of rotate_bytes or rotate_duration must be configured to enable audit logging.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="rotate_max_files" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="rotate_max_files permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#rotate_max_files"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">rotate_max_files</code></a> - Defines the limit that Consul should follow before it deletes old log files.</p></li></ul></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="limits" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-server-limits" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="limits permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-server-limits"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">limits</code></a> - Settings for potentially limiting timeouts, rate limiting on clients as well
as servers, and other settings to limit exposure too many requests, requests
waiting for too long, and other runtime considerations.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="requestlimits" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-server-limits-requestlimits" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="requestlimits permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-server-limits-requestlimits"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">requestLimits</code></a> - This object specifies configurations that limit the rate of RPC and gRPC
requests on the Consul server. Limiting the rate of gRPC and RPC requests
also limits HTTP requests to the Consul server. Refer to <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/docs/reference/agent/configuration-file/general#request_limits">Consul agent
configuration <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">request_limits</code></a></p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="mode-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-server-limits-requestlimits-mode" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="mode permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-server-limits-requestlimits-mode"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">mode</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: disabled</code>) - Setting for disabling or enabling rate limiting.  If not disabled, it
enforces the action that will occur when RequestLimitsReadRate
or RequestLimitsWriteRate is exceeded.  The default value of &quot;disabled&quot; will
prevent any rate limiting from occuring.  A value of &quot;enforce&quot; will block
the request from processings by returning an error.  A value of
&quot;permissive&quot; will not block the request and will allow the request to
continue processing.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="readrate" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-server-limits-requestlimits-readrate" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="readrate permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-server-limits-requestlimits-readrate"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">readRate</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">integer: -1</code>) - Setting that controls how frequently RPC, gRPC, and HTTP
queries are allowed to happen. In any large enough time interval, rate
limiter limits the rate to RequestLimitsReadRate tokens per second.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">See <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://en.wikipedia.org/wiki/Token_bucket">https://en.wikipedia.org/wiki/Token_bucket</a> for more about token
buckets.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="writerate" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-server-limits-requestlimits-writerate" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="writerate permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-server-limits-requestlimits-writerate"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">writeRate</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">integer: -1</code>) - Setting that controls how frequently RPC, gRPC, and HTTP
writes are allowed to happen. In any large enough time interval, rate
limiter limits the rate to RequestLimitsWriteRate tokens per second.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">See <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://en.wikipedia.org/wiki/Token_bucket">https://en.wikipedia.org/wiki/Token_bucket</a> for more about token
buckets.</p></li></ul></li></ul></li></ul></li></ul><h3 id="externalservers" class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="externalservers permalink" href="/consul/docs/reference/k8s/helm#externalservers"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a><a id="h-externalservers" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-h __compat" href="/consul/docs/reference/k8s/helm#"></a>externalServers</h3><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="externalservers-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-externalservers" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="externalservers permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-externalservers"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">externalServers</code></a> - Configuration for Consul servers when the servers are running outside of Kubernetes.
When running external servers, configuring these values is recommended
if setting <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">global.tls.enableAutoEncrypt</code> to true
or <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">global.acls.manageSystemACLs</code> to true.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="enabled-18" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-externalservers-enabled" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="enabled permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-externalservers-enabled"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enabled</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: false</code>) - If true, the Helm chart will be configured to talk to the external servers.
If setting this to true, you must also set <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">server.enabled</code> to false.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="hosts" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-externalservers-hosts" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="hosts permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-externalservers-hosts"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">hosts</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">array&lt;string&gt;: []</code>) - An array of external Consul server hosts that are used to make
HTTPS connections from the components in this Helm chart.
Valid values include an IP, a DNS name, or an <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://github.com/hashicorp/go-netaddrs">exec=</a> string.
The port must be provided separately below.
Note: This slice can only contain a single element.
Note: If enabling clients, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">client.join</code> must also be set to the hosts that should be
used to join the cluster. In most cases, the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">client.join</code> values
should be the same, however, they may be different if you
wish to use separate hosts for the HTTPS connections. <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tlsServerName</code> is required if TLS is enabled and &#x27;hosts&#x27; is not a DNS name.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="httpsport" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-externalservers-httpsport" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="httpsport permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-externalservers-httpsport"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">httpsPort</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">integer: 8501</code>) - The HTTPS port of the Consul servers.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="grpcport" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-externalservers-grpcport" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="grpcport permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-externalservers-grpcport"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">grpcPort</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">integer: 8502</code>) - The GRPC port of the Consul servers.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="tlsservername" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-externalservers-tlsservername" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="tlsservername permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-externalservers-tlsservername"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tlsServerName</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - The server name to use as the SNI host header when connecting with HTTPS. This name also appears as the hostname in the server certificate&#x27;s subject field.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="usesystemroots" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-externalservers-usesystemroots" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="usesystemroots permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-externalservers-usesystemroots"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">useSystemRoots</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: false</code>) - If true, consul-k8s-control-plane components will ignore the CA set in
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">global.tls.caCert</code> when making HTTPS calls to Consul servers and
will instead use the consul-k8s-control-plane image&#x27;s system CAs for TLS verification.
If false, consul-k8s-control-plane components will use <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">global.tls.caCert</code> when
making HTTPS calls to Consul servers.
<strong>NOTE:</strong> This does not affect Consul&#x27;s internal RPC communication which will
always use <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">global.tls.caCert</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="k8sauthmethodhost-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-externalservers-k8sauthmethodhost" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="k8sauthmethodhost permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-externalservers-k8sauthmethodhost"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">k8sAuthMethodHost</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - If you are setting <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">global.acls.manageSystemACLs</code> and
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">connectInject.enabled</code> to true, set <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">k8sAuthMethodHost</code> to the address of the Kubernetes API server.
This address must be reachable from the Consul servers.
Please refer to the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/docs/secure/acl/auth-method/k8s">Kubernetes Auth Method documentation</a>.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">If <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">global.federation.enabled</code> is set to true, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">global.federation.k8sAuthMethodHost</code> and
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">externalServers.k8sAuthMethodHost</code> should be set to the same value.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">You could retrieve this value from your <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">kubeconfig</code> by running:</p><div class="hds-code-block hds-code-block--theme-dark language-shellsession hds-code-block--is-standalone language-shellsession mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":Rps5tdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-cyan)">$</span><span style="color:var(--hds-code-block-color-token)"> kubectl config view \</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">  -o jsonpath=&quot;{.clusters[?(@.name==&#x27;&lt;your cluster name&gt;&#x27;)].cluster.server}&quot;</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":Rps5tdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":Rtps5tdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li><li class="mdx-lists_listItem__nkqhg"><a id="skipserverwatch" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-externalservers-skipserverwatch" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="skipserverwatch permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-externalservers-skipserverwatch"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">skipServerWatch</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: false</code>) - If true, setting this prevents the consul-dataplane and consul-k8s components from watching the Consul servers for changes. This is
useful for situations where Consul servers are behind a load balancer.</p></li></ul></li></ul><h3 id="client" class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="client permalink" href="/consul/docs/reference/k8s/helm#client"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a><a id="h-client" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-h __compat" href="/consul/docs/reference/k8s/helm#"></a>client</h3><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="client-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-client" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="client permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-client"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">client</code></a> - Values that configure running a Consul client on Kubernetes nodes.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="enabled-19" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-client-enabled" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="enabled permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-client-enabled"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enabled</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: false</code>) - If true, the chart will install all
the resources necessary for a Consul client on every Kubernetes node. This <em>does not</em> require
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">server.enabled</code>, since the agents can be configured to join an external cluster.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="loglevel-6" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-client-loglevel" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="loglevel permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-client-loglevel"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">logLevel</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: &quot;&quot;</code>) - Override global log verbosity level. One of &quot;trace&quot;, &quot;debug&quot;, &quot;info&quot;, &quot;warn&quot;, or &quot;error&quot;.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="image-2" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-client-image" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="image permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-client-image"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">image</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - The name of the Docker image (including any tag) for the containers
running Consul client agents.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="join" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-client-join" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="join permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-client-join"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">join</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">array&lt;string&gt;: null</code>) - A list of valid <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/commands/agent#_retry_join"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-retry-join</code> values</a>.
If this is <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">null</code> (default), then the clients will attempt to automatically
join the server cluster running within Kubernetes.
This means that with <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">server.enabled</code> set to true, clients will automatically
join that cluster. If <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">server.enabled</code> is not true, then a value must be
specified so the clients can join a valid cluster.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="datadirectoryhostpath" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-client-datadirectoryhostpath" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="datadirectoryhostpath permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-client-datadirectoryhostpath"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">dataDirectoryHostPath</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - An absolute path to a directory on the host machine to use as the Consul
client data directory. If set to the empty string or null, the Consul agent
will store its data in the Pod&#x27;s local filesystem (which will
be lost if the Pod is deleted). Security Warning: If setting this, Pod Security
Policies <em>must</em> be enabled on your cluster and in this Helm chart (via the
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">global.enablePodSecurityPolicies</code> setting) to prevent other pods from
mounting the same host path and gaining access to all of Consul&#x27;s data.
Consul&#x27;s data is not encrypted at rest.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="grpc-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-client-grpc" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="grpc permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-client-grpc"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">grpc</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: true</code>) - If true, agents will enable their GRPC listener on
port 8502 and expose it to the host. This will use slightly more resources, but is
required for Connect.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="nodemeta" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-client-nodemeta" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="nodemeta permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-client-nodemeta"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">nodeMeta</code></a> - nodeMeta specifies an arbitrary metadata key/value pair to associate with the node
(refer to <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/commands/agent#_node_meta"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-node-meta</code></a>)</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="pod-name" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-client-nodemeta-pod-name" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="pod name permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-client-nodemeta-pod-name"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">pod-name</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: ${HOSTNAME}</code>)</p></li><li class="mdx-lists_listItem__nkqhg"><a id="host-ip" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-client-nodemeta-host-ip" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="host ip permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-client-nodemeta-host-ip"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">host-ip</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: ${HOST_IP}</code>)</p></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="exposegossipports" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-client-exposegossipports" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="exposegossipports permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-client-exposegossipports"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">exposeGossipPorts</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: false</code>) - If true, the Helm chart will expose the clients&#x27; gossip ports as hostPorts.
This is only necessary if pod IPs in the k8s cluster are not directly routable
and the Consul servers are outside of the k8s cluster.
This also changes the clients&#x27; advertised IP to the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">hostIP</code> rather than <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">podIP</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="serviceaccount-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-client-serviceaccount" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="serviceaccount permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-client-serviceaccount"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">serviceAccount</code></a></p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="annotations-6" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-client-serviceaccount-annotations" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="annotations permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-client-serviceaccount-annotations"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">annotations</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - This value defines additional annotations for the client service account. This should be formatted as a multi-line
string.</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R92c6tdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">annotations</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-keyword)"> |</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  &quot;sample/annotation1&quot;: &quot;foo&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  &quot;sample/annotation2&quot;: &quot;bar&quot;</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R92c6tdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":Rep2c6tdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="resources-3" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-client-resources" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="resources permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-client-resources"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">resources</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">map</code>) - The resource settings for Client agents.
NOTE: The use of a YAML string is deprecated. Instead, set directly as a
YAML map.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="securitycontext-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-client-securitycontext" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="securitycontext permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-client-securitycontext"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">securityContext</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">map</code>) - The security context for the client pods. This should be a YAML map corresponding to a
Kubernetes <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://kubernetes.io/docs/tasks/configure-pod-container/security-context/">SecurityContext</a> object.
By default, servers will run as non-root, with user ID <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">100</code> and group ID <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">1000</code>,
which correspond to the consul user and group created by the Consul docker image.
Note: if running on OpenShift, this setting is ignored because the user and group are set automatically
by the OpenShift platform.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="containersecuritycontext-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-client-containersecuritycontext" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="containersecuritycontext permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-client-containersecuritycontext"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">containerSecurityContext</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">map</code>) - The container securityContext for each container in the client pods.  In
addition to the Pod&#x27;s SecurityContext this can
set the capabilities of processes running in the container and ensure the
root file systems in the container is read-only.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="client-2" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-client-containersecuritycontext-client" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="client permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-client-containersecuritycontext-client"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">client</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">map</code>) - The consul client agent container</p></li><li class="mdx-lists_listItem__nkqhg"><a id="aclinit-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-client-containersecuritycontext-aclinit" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="aclinit permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-client-containersecuritycontext-aclinit"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">aclInit</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">map</code>) - The acl-init initContainer</p></li><li class="mdx-lists_listItem__nkqhg"><a id="tlsinit-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-client-containersecuritycontext-tlsinit" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="tlsinit permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-client-containersecuritycontext-tlsinit"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tlsInit</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">map</code>) - The tls-init initContainer</p></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="extraconfig-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-client-extraconfig" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="extraconfig permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-client-extraconfig"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">extraConfig</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: {}</code>) - A raw string of extra <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/docs/reference/agent/configuration-file">JSON configuration</a> for Consul
clients. This will be saved as-is into a ConfigMap that is read by the Consul
client agents. This can be used to add additional configuration that
isn&#x27;t directly exposed by the chart.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Example:</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R1bc6tdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">extraConfig</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-keyword)"> |</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  {</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">    &quot;log_level&quot;: &quot;DEBUG&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  }</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R1bc6tdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R1rbc6tdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">This can also be set using Helm&#x27;s <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">--set</code> flag using the following syntax:</p><div class="hds-code-block hds-code-block--theme-dark language-shellsession hds-code-block--is-standalone language-shellsession mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R1rc6tdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">--set &#x27;client.extraConfig=&quot;{&quot;log_level&quot;: &quot;DEBUG&quot;}&quot;&#x27;</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R1rc6tdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R1rrc6tdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li><li class="mdx-lists_listItem__nkqhg"><a id="extravolumes-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-client-extravolumes" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="extravolumes permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-client-extravolumes"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">extraVolumes</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">array&lt;map&gt;</code>) - A list of extra volumes to mount for client agents. This
is useful for bringing in extra data that can be referenced by other configurations
at a well known path, such as TLS certificates or Gossip encryption keys. The
value of this should be a list of objects.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Example:</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R1bk6tdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">extraVolumes</span><span style="color:var(--hds-code-block-color-keyword)">:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">  - </span><span style="color:var(--hds-code-block-color-keyword)">type</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> secret</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">    name</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> consul-certs</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">    load</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-constant)"> false</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R1bk6tdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R1rbk6tdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Each object supports the following keys:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="type-3" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="type permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#type-3"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">type</code></a> - Type of the volume, must be one of &quot;configMap&quot; or &quot;secret&quot;. Case sensitive.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="name-4" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="name permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#name-4"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">name</code></a> - Name of the configMap or secret to be mounted. This also controls
the path that it is mounted to. The volume will be mounted to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/consul/userconfig/&lt;name&gt;</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="load-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="load permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#load-1"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">load</code></a> - If true, then the agent will be
configured to automatically load HCL/JSON configuration files from this volume
with <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-config-dir</code>. This defaults to false.</p></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="extracontainers-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-client-extracontainers" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="extracontainers permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-client-extracontainers"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">extraContainers</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">array&lt;map&gt;</code>) - A list of sidecar containers.
Example:</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R13s6tdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">extraContainers</span><span style="color:var(--hds-code-block-color-keyword)">:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">- </span><span style="color:var(--hds-code-block-color-keyword)">name</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> extra-container</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">  image</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> example-image:latest</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">  command</span><span style="color:var(--hds-code-block-color-keyword)">:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">   - </span><span style="color:var(--hds-code-block-color-constant)">...</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R13s6tdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R1r3s6tdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li><li class="mdx-lists_listItem__nkqhg"><a id="tolerations-2" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-client-tolerations" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="tolerations permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-client-tolerations"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tolerations</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: &quot;&quot;</code>) - Toleration Settings for Client pods
This should be a multi-line string matching the Toleration array
in a PodSpec.
The example below will allow Client pods to run on every node
regardless of taints</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R1446tdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">tolerations</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-keyword)"> |</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  - operator: Exists</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R1446tdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R1r446tdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li><li class="mdx-lists_listItem__nkqhg"><a id="nodeselector-2" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-client-nodeselector" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="nodeselector permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-client-nodeselector"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">nodeSelector</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - nodeSelector labels for client pod assignment, formatted as a multi-line string.
ref: <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#nodeselector">https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#nodeselector</a></p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Example:</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R1cc6tdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">nodeSelector</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-keyword)"> |</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  beta.kubernetes.io/arch: amd64</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R1cc6tdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R1rcc6tdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li><li class="mdx-lists_listItem__nkqhg"><a id="affinity-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-client-affinity" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="affinity permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-client-affinity"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">affinity</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - Affinity Settings for Client pods, formatted as a multi-line YAML string.
ref: <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#affinity-and-anti-affinity">https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#affinity-and-anti-affinity</a></p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Example:</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R1ck6tdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">affinity</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-keyword)"> |</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  nodeAffinity:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">    requiredDuringSchedulingIgnoredDuringExecution:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">      nodeSelectorTerms:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">      - matchExpressions:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">        - key: node-role.kubernetes.io/master</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">          operator: DoesNotExist</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R1ck6tdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R1rck6tdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li><li class="mdx-lists_listItem__nkqhg"><a id="priorityclassname-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-client-priorityclassname" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="priorityclassname permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-client-priorityclassname"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">priorityClassName</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: &quot;&quot;</code>) - This value references an existing
Kubernetes <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://kubernetes.io/docs/concepts/configuration/pod-priority-preemption/#pod-priority"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">priorityClassName</code></a>
that can be assigned to client pods.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="annotations-7" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-client-annotations" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="annotations permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-client-annotations"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">annotations</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - This value defines additional annotations for
client pods. This should be formatted as a multi-line string.</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R1546tdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">annotations</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-keyword)"> |</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  &quot;sample/annotation1&quot;: &quot;foo&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  &quot;sample/annotation2&quot;: &quot;bar&quot;</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R1546tdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R1r546tdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li><li class="mdx-lists_listItem__nkqhg"><a id="extralabels-2" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-client-extralabels" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="extralabels permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-client-extralabels"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">extraLabels</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">map</code>) - Extra labels to attach to the client pods. This should be a regular YAML map.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Example:</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R1dc6tdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">extraLabels</span><span style="color:var(--hds-code-block-color-keyword)">:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">  labelKey</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> label-value</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">  anotherLabelKey</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> another-label-value</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R1dc6tdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R1rdc6tdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li><li class="mdx-lists_listItem__nkqhg"><a id="extraenvironmentvars-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-client-extraenvironmentvars" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="extraenvironmentvars permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-client-extraenvironmentvars"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">extraEnvironmentVars</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">map</code>) - A list of extra environment variables to set within the stateful set.
These could be used to include proxy settings required for cloud auto-join
feature, in case kubernetes cluster is behind egress http proxies. Additionally,
it could be used to configure custom consul parameters.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="dnspolicy" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-client-dnspolicy" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="dnspolicy permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-client-dnspolicy"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">dnsPolicy</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - This value defines the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://kubernetes.io/docs/concepts/services-networking/dns-pod-service/#pod-s-dns-policy">Pod DNS policy</a>
for client pods to use.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="hostnetwork" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-client-hostnetwork" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="hostnetwork permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-client-hostnetwork"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">hostNetwork</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: false</code>) - hostNetwork defines whether or not we use host networking instead of hostPort in the event
that a CNI plugin doesn&#x27;t support <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">hostPort</code>. This has security implications and is not recommended
as doing so gives the consul client unnecessary access to all network traffic on the host.
In most cases, pod network and host network are on different networks so this should be
combined with <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">dnsPolicy: ClusterFirstWithHostNet</code></p></li><li class="mdx-lists_listItem__nkqhg"><a id="updatestrategy" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-client-updatestrategy" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="updatestrategy permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-client-updatestrategy"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">updateStrategy</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - updateStrategy for the DaemonSet.
Refer to the Kubernetes <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://kubernetes.io/docs/tasks/manage-daemon/update-daemon-set/#daemonset-update-strategy">Daemonset upgrade strategy</a>
documentation.
This should be a multi-line string mapping directly to the updateStrategy</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Example:</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R1ec6tdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">updateStrategy</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-keyword)"> |</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  rollingUpdate:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">    maxUnavailable: 5</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  type: RollingUpdate</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R1ec6tdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R1rec6tdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li></ul></li></ul><h3 id="dns" class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="dns permalink" href="/consul/docs/reference/k8s/helm#dns"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a><a id="h-dns" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-h __compat" href="/consul/docs/reference/k8s/helm#"></a>dns</h3><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="dns-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-dns" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="dns permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-dns"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">dns</code></a> - Configuration for DNS configuration within the Kubernetes cluster.
This creates a service that routes to all agents (client or server)
for serving DNS requests. This DOES NOT automatically configure kube-dns
today, so you must still manually configure a <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">stubDomain</code> with kube-dns
for this to have any effect:
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://kubernetes.io/docs/tasks/administer-cluster/dns-custom-nameservers/#configure-stub-domain-and-upstream-dns-servers">https://kubernetes.io/docs/tasks/administer-cluster/dns-custom-nameservers/#configure-stub-domain-and-upstream-dns-servers</a></p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="enabled-20" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-dns-enabled" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="enabled permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-dns-enabled"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enabled</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: -</code>)</p></li><li class="mdx-lists_listItem__nkqhg"><a id="enableredirection" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-dns-enableredirection" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="enableredirection permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-dns-enableredirection"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enableRedirection</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: -</code>) - If true, services using Consul service mesh will use Consul DNS
for default DNS resolution. The DNS lookups fall back to the nameserver IPs
listed in /etc/resolv.conf if not found in Consul.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="type-4" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-dns-type" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="type permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-dns-type"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">type</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: ClusterIP</code>) - Used to control the type of service created. For
example, setting this to &quot;LoadBalancer&quot; will create an external load
balancer (for supported K8S installations)</p></li><li class="mdx-lists_listItem__nkqhg"><a id="clusterip" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-dns-clusterip" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="clusterip permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-dns-clusterip"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">clusterIP</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - Set a predefined cluster IP for the DNS service.
Useful if you need to reference the DNS service&#x27;s IP
address in CoreDNS config.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="annotations-8" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-dns-annotations" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="annotations permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-dns-annotations"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">annotations</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - Extra annotations to attach to the dns service
This should be a multi-line string of
annotations to apply to the dns Service</p></li><li class="mdx-lists_listItem__nkqhg"><a id="additionalspec" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-dns-additionalspec" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="additionalspec permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-dns-additionalspec"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">additionalSpec</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - Additional ServiceSpec values
This should be a multi-line string mapping directly to a Kubernetes
ServiceSpec object.</p></li></ul></li></ul><h3 id="ui" class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="ui permalink" href="/consul/docs/reference/k8s/helm#ui"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a><a id="h-ui" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-h __compat" href="/consul/docs/reference/k8s/helm#"></a>ui</h3><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="ui-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-ui" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="ui permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-ui"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ui</code></a> - Values that configure the Consul UI.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="enabled-21" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-ui-enabled" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="enabled permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-ui-enabled"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enabled</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: global.enabled</code>) - If true, the UI will be enabled. This will
only <em>enable</em> the UI, it doesn&#x27;t automatically register any service for external
access. The UI will only be enabled on server agents. If <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">server.enabled</code> is
false, then this setting has no effect. To expose the UI in some way, you must
configure <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ui.service</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="service-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-ui-service" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="service permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-ui-service"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">service</code></a> - Configure the service for the Consul UI.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="enabled-22" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-ui-service-enabled" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="enabled permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-ui-service-enabled"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enabled</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: true</code>) - This will enable/disable registering a
Kubernetes Service for the Consul UI. This value only takes effect if <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ui.enabled</code> is
true and taking effect.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="type-5" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-ui-service-type" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="type permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-ui-service-type"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">type</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - The service type to register.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="port-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-ui-service-port" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="port permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-ui-service-port"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">port</code></a> - Set the port value of the UI service.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="http-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-ui-service-port-http" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="http permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-ui-service-port-http"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">http</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">integer: 80</code>) - HTTP port.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="https-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-ui-service-port-https" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="https permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-ui-service-port-https"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">https</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">integer: 443</code>) - HTTPS port.</p></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="nodeport-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-ui-service-nodeport" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="nodeport permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-ui-service-nodeport"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">nodePort</code></a> - Optionally set the nodePort value of the ui service if using a NodePort service.
If not set and using a NodePort service, Kubernetes will automatically assign
a port.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="http-2" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-ui-service-nodeport-http" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="http permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-ui-service-nodeport-http"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">http</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">integer: null</code>) - HTTP node port</p></li><li class="mdx-lists_listItem__nkqhg"><a id="https-2" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-ui-service-nodeport-https" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="https permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-ui-service-nodeport-https"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">https</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">integer: null</code>) - HTTPS node port</p></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="annotations-9" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-ui-service-annotations" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="annotations permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-ui-service-annotations"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">annotations</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - Annotations to apply to the UI service.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Example:</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":Rmok8tdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">annotations</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-keyword)"> |</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  &#x27;annotation-key&#x27;: annotation-value</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":Rmok8tdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":Rtmok8tdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li><li class="mdx-lists_listItem__nkqhg"><a id="additionalspec-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-ui-service-additionalspec" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="additionalspec permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-ui-service-additionalspec"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">additionalSpec</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - Additional ServiceSpec values
This should be a multi-line string mapping directly to a Kubernetes
ServiceSpec object.</p></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="ingress" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-ui-ingress" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="ingress permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-ui-ingress"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ingress</code></a> - Configure Ingress for the Consul UI.
If <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">global.tls.enabled</code> is set to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">true</code>, the Ingress will expose
the port 443 on the UI service. Please ensure the Ingress Controller
supports SSL pass-through and it is enabled to ensure traffic forwarded
to port 443 has not been TLS terminated.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="enabled-23" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-ui-ingress-enabled" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="enabled permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-ui-ingress-enabled"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enabled</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: false</code>) - This will create an Ingress resource for the Consul UI.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="ingressclassname" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-ui-ingress-ingressclassname" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="ingressclassname permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-ui-ingress-ingressclassname"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ingressClassName</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: &quot;&quot;</code>) - Optionally set the ingressClassName.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="pathtype" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-ui-ingress-pathtype" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="pathtype permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-ui-ingress-pathtype"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">pathType</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: Prefix</code>) - pathType override - refer to: <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://kubernetes.io/docs/concepts/services-networking/ingress/#path-types">https://kubernetes.io/docs/concepts/services-networking/ingress/#path-types</a></p></li><li class="mdx-lists_listItem__nkqhg"><a id="hosts-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-ui-ingress-hosts" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="hosts permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-ui-ingress-hosts"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">hosts</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">array&lt;map&gt;</code>) - hosts is a list of host name to create Ingress rules.</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":Ri8s8tdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">hosts</span><span style="color:var(--hds-code-block-color-keyword)">:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">  - </span><span style="color:var(--hds-code-block-color-keyword)">host</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> foo.bar</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">    paths</span><span style="color:var(--hds-code-block-color-keyword)">:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">      - </span><span style="color:var(--hds-code-block-color-string)">/example</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">      - </span><span style="color:var(--hds-code-block-color-string)">/test</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":Ri8s8tdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":Rti8s8tdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li><li class="mdx-lists_listItem__nkqhg"><a id="tls-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-ui-ingress-tls" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="tls permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-ui-ingress-tls"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tls</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">array&lt;map&gt;</code>) - tls is a list of hosts and secret name in an Ingress
which tells the Ingress controller to secure the channel.</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":Rios8tdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">tls</span><span style="color:var(--hds-code-block-color-keyword)">:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">  - </span><span style="color:var(--hds-code-block-color-keyword)">hosts</span><span style="color:var(--hds-code-block-color-keyword)">:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">    - </span><span style="color:var(--hds-code-block-color-string)">chart-example.local</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">    secretName</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> testsecret-tls</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":Rios8tdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":Rtios8tdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li><li class="mdx-lists_listItem__nkqhg"><a id="annotations-10" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-ui-ingress-annotations" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="annotations permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-ui-ingress-annotations"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">annotations</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - Annotations to apply to the UI ingress.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Example:</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":Rn8s8tdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">annotations</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-keyword)"> |</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  &#x27;annotation-key&#x27;: annotation-value</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":Rn8s8tdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":Rtn8s8tdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="metrics-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-ui-metrics" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="metrics permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-ui-metrics"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">metrics</code></a> - Configurations for displaying metrics in the UI.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="enabled-24" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-ui-metrics-enabled" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="enabled permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-ui-metrics-enabled"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enabled</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: global.metrics.enabled</code>) - Enable displaying metrics in the UI. The default value of &quot;-&quot;
will inherit from <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">global.metrics.enabled</code> value.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="provider" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-ui-metrics-provider" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="provider permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-ui-metrics-provider"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">provider</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: prometheus</code>) - Provider for metrics. Refer to
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/docs/reference/agent/configuration-file/ui#ui_config_metrics_provider"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">metrics_provider</code></a>
This value is only used if <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ui.enabled</code> is set to true.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="baseurl" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-ui-metrics-baseurl" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="baseurl permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-ui-metrics-baseurl"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">baseURL</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: http://prometheus-server</code>) - baseURL is the URL of the prometheus server, usually the service URL.
This value is only used if <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ui.enabled</code> is set to true.</p></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="dashboardurltemplates" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-ui-dashboardurltemplates" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="dashboardurltemplates permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-ui-dashboardurltemplates"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">dashboardURLTemplates</code></a> - Corresponds to <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/docs/reference/agent/configuration-file/ui#ui_config_dashboard_url_templates"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">dashboard_url_templates</code></a>
configuration.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="service-2" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-ui-dashboardurltemplates-service" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><a aria-label="service permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-ui-dashboardurltemplates-service"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">service</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: &quot;&quot;</code>) - Sets <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/docs/reference/agent/configuration-file/ui#ui_config_dashboard_url_templates_service"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">dashboardURLTemplates.service</code></a>.</li></ul></li></ul></li></ul><h3 id="synccatalog" class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="synccatalog permalink" href="/consul/docs/reference/k8s/helm#synccatalog"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a><a id="h-synccatalog" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-h __compat" href="/consul/docs/reference/k8s/helm#"></a>syncCatalog</h3><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="synccatalog-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-synccatalog" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="synccatalog permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-synccatalog"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">syncCatalog</code></a> - Configure the catalog sync process to sync K8S with Consul
services. This can run bidirectional (default) or unidirectionally (Consul
to K8S or K8S to Consul only).</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">This process assumes that a Consul agent is available on the host IP.
This is done automatically if clients are enabled. If clients are not
enabled then set the node selection so that it chooses a node with a
Consul agent.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="enabled-25" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-synccatalog-enabled" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="enabled permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-synccatalog-enabled"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enabled</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: false</code>) - True if you want to enable the catalog sync. Set to &quot;-&quot; to inherit from
global.enabled.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="image-3" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-synccatalog-image" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="image permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-synccatalog-image"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">image</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - The name of the Docker image (including any tag) for consul-k8s-control-plane
to run the sync program.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="default" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-synccatalog-default" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="default permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-synccatalog-default"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">default</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: true</code>) - If true, all valid services in K8S are
synced by default. If false, the service must be <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/docs/k8s/service-sync#enable-and-disable-sync">annotated</a>
properly to sync.
In either case an annotation can override the default.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="priorityclassname-2" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-synccatalog-priorityclassname" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="priorityclassname permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-synccatalog-priorityclassname"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">priorityClassName</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: &quot;&quot;</code>) - Optional priorityClassName.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="toconsul" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-synccatalog-toconsul" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="toconsul permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-synccatalog-toconsul"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">toConsul</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: true</code>) - If true, will sync Kubernetes services to Consul. This can be disabled to
have a one-way sync.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="tok8s" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-synccatalog-tok8s" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="tok8s permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-synccatalog-tok8s"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">toK8S</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: true</code>) - If true, will sync Consul services to Kubernetes. This can be disabled to
have a one-way sync.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="k8sprefix" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-synccatalog-k8sprefix" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="k8sprefix permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-synccatalog-k8sprefix"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">k8sPrefix</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - Service prefix to prepend to services before registering
with Kubernetes. For example &quot;consul-&quot; will register all services
prepended with &quot;consul-&quot;. (Consul -&gt; Kubernetes sync)</p></li><li class="mdx-lists_listItem__nkqhg"><a id="k8sallownamespaces" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-synccatalog-k8sallownamespaces" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="k8sallownamespaces permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-synccatalog-k8sallownamespaces"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">k8sAllowNamespaces</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">array&lt;string&gt;: [&quot;*&quot;]</code>) - List of k8s namespaces to sync the k8s services from.
If a k8s namespace is not included in this list or is listed in <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">k8sDenyNamespaces</code>,
services in that k8s namespace will not be synced even if they are explicitly
annotated. Use <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">[&quot;*&quot;]</code> to automatically allow all k8s namespaces.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">For example, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">[&quot;namespace1&quot;, &quot;namespace2&quot;]</code> will only allow services in the k8s
namespaces <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">namespace1</code> and <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">namespace2</code> to be synced and registered
with Consul. All other k8s namespaces will be ignored.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">To deny all namespaces, set this to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">[]</code>.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Note: <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">k8sDenyNamespaces</code> takes precedence over values defined here.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="k8sdenynamespaces" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-synccatalog-k8sdenynamespaces" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="k8sdenynamespaces permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-synccatalog-k8sdenynamespaces"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">k8sDenyNamespaces</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">array&lt;string&gt;: [&quot;kube-system&quot;, &quot;kube-public&quot;]</code>) - List of k8s namespaces that should not have their
services synced. This list takes precedence over <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">k8sAllowNamespaces</code>.
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">*</code> is not supported because then nothing would be allowed to sync.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">For example, if <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">k8sAllowNamespaces</code> is <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">[&quot;*&quot;]</code> and <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">k8sDenyNamespaces</code> is
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">[&quot;namespace1&quot;, &quot;namespace2&quot;]</code>, then all k8s namespaces besides <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">namespace1</code>
and <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">namespace2</code> will be synced.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="k8ssourcenamespace" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-synccatalog-k8ssourcenamespace" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="k8ssourcenamespace permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-synccatalog-k8ssourcenamespace"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">k8sSourceNamespace</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - <!-- -->[DEPRECATED]<!-- --> Use k8sAllowNamespaces and k8sDenyNamespaces instead. For
backwards compatibility, if both this and the allow/deny lists are set,
the allow/deny lists will be ignored.
k8sSourceNamespace is the Kubernetes namespace to watch for service
changes and sync to Consul. If this is not set then it will default
to all namespaces.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="consulnamespaces" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-synccatalog-consulnamespaces" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="consulnamespaces permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-synccatalog-consulnamespaces"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">consulNamespaces</code></a> - <span class="enterprise-alert_root__mvEIF enterprise-alert_inline__IqpbC"><span class="g-screen-reader-only">Enterprise</span><span aria-hidden="true" class="badge_root___Z7Nt badge_medium__8VGoW badge_outlined-neutral__32YXY enterprise-alert_badge___N2fV"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="var(--token-color-consul-brand)"><path d="M4.737 14.193A7 7 0 008.006 15a6.98 6.98 0 004.735-1.847l-1.66-1.737a4.6 4.6 0 110-6.828l1.66-1.738a7 7 0 10-8.004 11.343zM13.32 11.402a.573.573 0 10.637-.953.573.573 0 00-.637.953z"></path><path d="M7.96 9.517a1.517 1.517 0 11-.012-3.034 1.517 1.517 0 01.013 3.034zM13.978 9.447a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 9.472a.574.574 0 110-1.148.574.574 0 010 1.148zM13.978 7.514a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 7.675a.574.574 0 110-1.148.574.574 0 010 1.148zM13.353 5.585a.574.574 0 10.635-.956.574.574 0 00-.635.956z"></path></g></svg><span>Enterprise</span></span></span> These settings manage the catalog sync&#x27;s interaction with
Consul namespaces (requires consul-ent v1.7+).
Also, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">global.enableConsulNamespaces</code> must be true.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="consuldestinationnamespace" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-synccatalog-consulnamespaces-consuldestinationnamespace" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="consuldestinationnamespace permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-synccatalog-consulnamespaces-consuldestinationnamespace"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">consulDestinationNamespace</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: default</code>) - Name of the Consul namespace to register all
k8s services into. If the Consul namespace does not already exist,
it will be created. This will be ignored if <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">mirroringK8S</code> is true.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="mirroringk8s" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-synccatalog-consulnamespaces-mirroringk8s" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="mirroringk8s permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-synccatalog-consulnamespaces-mirroringk8s"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">mirroringK8S</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: true</code>) - If true, k8s services will be registered into a Consul namespace
of the same name as their k8s namespace, optionally prefixed if
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">mirroringK8SPrefix</code> is set below. If the Consul namespace does not
already exist, it will be created. Turning this on overrides the
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">consulDestinationNamespace</code> setting.
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">addK8SNamespaceSuffix</code> may no longer be needed if enabling this option.
If mirroring is enabled, avoid creating any Consul resources in the following
Kubernetes namespaces, as Consul currently reserves these namespaces for
system use: &quot;system&quot;, &quot;universal&quot;, &quot;operator&quot;, &quot;root&quot;.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="mirroringk8sprefix" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-synccatalog-consulnamespaces-mirroringk8sprefix" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="mirroringk8sprefix permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-synccatalog-consulnamespaces-mirroringk8sprefix"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">mirroringK8SPrefix</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: &quot;&quot;</code>) - If <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">mirroringK8S</code> is set to true, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">mirroringK8SPrefix</code> allows each Consul namespace
to be given a prefix. For example, if <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">mirroringK8SPrefix</code> is set to &quot;k8s-&quot;, a
service in the k8s <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">staging</code> namespace will be registered into the
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">k8s-staging</code> Consul namespace.</p></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="addk8snamespacesuffix" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-synccatalog-addk8snamespacesuffix" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="addk8snamespacesuffix permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-synccatalog-addk8snamespacesuffix"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">addK8SNamespaceSuffix</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: true</code>) - Appends Kubernetes namespace suffix to
each service name synced to Consul, separated by a dash.
For example, for a service &#x27;foo&#x27; in the default namespace,
the sync process will create a Consul service named &#x27;foo-default&#x27;.
Set this flag to true to avoid registering services with the same name
but in different namespaces as instances for the same Consul service.
Namespace suffix is not added if &#x27;annotationServiceName&#x27; is provided.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="consulprefix" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-synccatalog-consulprefix" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="consulprefix permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-synccatalog-consulprefix"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">consulPrefix</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - Service prefix which prepends itself
to Kubernetes services registered within Consul
For example, &quot;k8s-&quot; will register all services prepended with &quot;k8s-&quot;.
(Kubernetes -&gt; Consul sync)
consulPrefix is ignored when &#x27;annotationServiceName&#x27; is provided.
NOTE: Updating this property to a non-null value for an existing installation will result in deregistering
of existing services in Consul and registering them with a new name.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="k8stag" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-synccatalog-k8stag" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="k8stag permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-synccatalog-k8stag"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">k8sTag</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - Optional tag that is applied to all of the Kubernetes services
that are synced into Consul. If nothing is set, defaults to &quot;k8s&quot;.
(Kubernetes -&gt; Consul sync)</p></li><li class="mdx-lists_listItem__nkqhg"><a id="consulnodename" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-synccatalog-consulnodename" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="consulnodename permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-synccatalog-consulnodename"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">consulNodeName</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: k8s-sync</code>) - Defines the Consul synthetic node that all services
will be registered to.
NOTE: Changing the node name and upgrading the Helm chart will leave
all of the previously sync&#x27;d services registered with Consul and
register them again under the new Consul node name. The out-of-date
registrations will need to be explicitly removed.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="syncclusteripservices" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-synccatalog-syncclusteripservices" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="syncclusteripservices permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-synccatalog-syncclusteripservices"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">syncClusterIPServices</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: true</code>) - Syncs services of the ClusterIP type, which may
or may not be broadly accessible depending on your Kubernetes cluster.
Set this to false to skip syncing ClusterIP services.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="syncloadbalancerendpoints" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-synccatalog-syncloadbalancerendpoints" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="syncloadbalancerendpoints permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-synccatalog-syncloadbalancerendpoints"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">syncLoadBalancerEndpoints</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: false</code>) - If true, LoadBalancer service endpoints instead of ingress addresses will be synced to Consul.
If false, LoadBalancer endpoints are not synced to Consul.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="ingress-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-synccatalog-ingress" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="ingress permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-synccatalog-ingress"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ingress</code></a></p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="enabled-26" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-synccatalog-ingress-enabled" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="enabled permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-synccatalog-ingress-enabled"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enabled</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: false</code>) - Syncs the hostname from a Kubernetes Ingress resource to service registrations
when a rule matched a service. Currently only supports host based routing and
not path based routing. The only supported path on an ingress rule is &quot;/&quot;.
Set this to false to skip syncing Ingress services.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Currently, port 80 is synced if there is not TLS entry for the hostname. Syncs the port
443 if there is a TLS entry that matches the hostname.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="loadbalancerips" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-synccatalog-ingress-loadbalancerips" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="loadbalancerips permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-synccatalog-ingress-loadbalancerips"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">loadBalancerIPs</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: false</code>) - Requires syncIngress to be <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">true</code>. syncs the LoadBalancer IP from a Kubernetes Ingress
resource instead of the hostname to service registrations when a rule matched a service.</p></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="nodeportsynctype" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-synccatalog-nodeportsynctype" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="nodeportsynctype permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-synccatalog-nodeportsynctype"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">nodePortSyncType</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: ExternalFirst</code>) - Configures the type of syncing that happens for NodePort
services. The valid options are: ExternalOnly, InternalOnly, ExternalFirst.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg">ExternalOnly will only use a node&#x27;s ExternalIP address for the sync</li><li class="mdx-lists_listItem__nkqhg">InternalOnly use&#x27;s the node&#x27;s InternalIP address</li><li class="mdx-lists_listItem__nkqhg">ExternalFirst will preferentially use the node&#x27;s ExternalIP address, but
if it doesn&#x27;t exist, it will use the node&#x27;s InternalIP address instead.</li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="aclsynctoken" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-synccatalog-aclsynctoken" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="aclsynctoken permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-synccatalog-aclsynctoken"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">aclSyncToken</code></a> - Refers to a Kubernetes secret that you have created that contains
an ACL token for your Consul cluster which allows the sync process the correct
permissions. This is only needed if ACLs are managed manually within the Consul cluster, i.e. <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">global.acls.manageSystemACLs</code> is <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">false</code>.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="secretname-12" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-synccatalog-aclsynctoken-secretname" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="secretname permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-synccatalog-aclsynctoken-secretname"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">secretName</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - The name of the Kubernetes secret that holds the acl sync token.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="secretkey-9" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-synccatalog-aclsynctoken-secretkey" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="secretkey permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-synccatalog-aclsynctoken-secretkey"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">secretKey</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - The key within the Kubernetes secret that holds the acl sync token.</p></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="nodeselector-3" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-synccatalog-nodeselector" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="nodeselector permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-synccatalog-nodeselector"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">nodeSelector</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - This value defines <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#nodeselector"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">nodeSelector</code></a>
labels for catalog sync pod assignment, formatted as a multi-line string.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Example:</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R1dd9tdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">nodeSelector</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-keyword)"> |</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  beta.kubernetes.io/arch: amd64</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R1dd9tdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R1rdd9tdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li><li class="mdx-lists_listItem__nkqhg"><a id="affinity-2" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-synccatalog-affinity" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="affinity permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-synccatalog-affinity"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">affinity</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - Affinity Settings
This should be a multi-line string matching the affinity object</p></li><li class="mdx-lists_listItem__nkqhg"><a id="tolerations-3" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-synccatalog-tolerations" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="tolerations permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-synccatalog-tolerations"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tolerations</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - Toleration Settings
This should be a multi-line string matching the Toleration array
in a PodSpec.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="serviceaccount-2" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-synccatalog-serviceaccount" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="serviceaccount permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-synccatalog-serviceaccount"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">serviceAccount</code></a></p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="annotations-11" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-synccatalog-serviceaccount-annotations" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="annotations permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-synccatalog-serviceaccount-annotations"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">annotations</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - This value defines additional annotations for the mesh gateways&#x27; service account. This should be formatted as a
multi-line string.</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R9659tdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">annotations</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-keyword)"> |</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  &quot;sample/annotation1&quot;: &quot;foo&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  &quot;sample/annotation2&quot;: &quot;bar&quot;</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R9659tdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":Rep659tdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="resources-4" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-synccatalog-resources" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="resources permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-synccatalog-resources"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">resources</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">map</code>) - The resource settings for sync catalog pods.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="loglevel-7" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-synccatalog-loglevel" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="loglevel permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-synccatalog-loglevel"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">logLevel</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: &quot;&quot;</code>) - Override global log verbosity level. One of &quot;debug&quot;, &quot;info&quot;, &quot;warn&quot;, or &quot;error&quot;.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="consulwriteinterval" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-synccatalog-consulwriteinterval" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="consulwriteinterval permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-synccatalog-consulwriteinterval"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">consulWriteInterval</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - Override the default interval to perform syncing operations creating Consul services.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="extralabels-3" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-synccatalog-extralabels" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="extralabels permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-synccatalog-extralabels"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">extraLabels</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">map</code>) - Extra labels to attach to the sync catalog pods. This should be a YAML map.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Example:</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R1f59tdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">extraLabels</span><span style="color:var(--hds-code-block-color-keyword)">:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">  labelKey</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> label-value</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">  anotherLabelKey</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> another-label-value</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R1f59tdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R1rf59tdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li><li class="mdx-lists_listItem__nkqhg"><a id="annotations-12" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-synccatalog-annotations" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="annotations permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-synccatalog-annotations"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">annotations</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - This value defines additional annotations for
the catalog sync pods. This should be formatted as a multi-line string.</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R17d9tdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">annotations</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-keyword)"> |</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  &quot;sample/annotation1&quot;: &quot;foo&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  &quot;sample/annotation2&quot;: &quot;bar&quot;</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R17d9tdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R1r7d9tdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li></ul></li></ul><h3 id="connectinject-1" class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="connectinject permalink" href="/consul/docs/reference/k8s/helm#connectinject-1"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a><a id="h-connectinject" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-h __compat" href="/consul/docs/reference/k8s/helm#"></a>connectInject</h3><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="connectinject-2" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="connectinject permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">connectInject</code></a> - Configures the automatic Connect sidecar injector.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="enabled-27" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-enabled" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="enabled permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-enabled"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enabled</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: true</code>) - True if you want to enable connect injection. Set to &quot;-&quot; to inherit from
global.enabled.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="replicas-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-replicas" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="replicas permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-replicas"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">replicas</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">integer: 1</code>) - The number of deployment replicas.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="image-4" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-image" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="image permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-image"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">image</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - Image for consul-k8s-control-plane that contains the injector.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="default-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-default" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="default permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-default"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">default</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: false</code>) - If true, the injector will inject the
Connect sidecar into all pods by default. Otherwise, pods must specify the
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/docs/k8s/connect#consul-hashicorp-com-connect-inject">injection annotation</a>
to opt-in to Connect injection. If this is true, pods can use the same annotation
to explicitly opt-out of injection.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="transparentproxy" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-transparentproxy" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="transparentproxy permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-transparentproxy"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">transparentProxy</code></a> - Configures Transparent Proxy for Consul Service mesh services.
Using this feature requires Consul 1.10.0-beta1+.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="defaultenabled" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-transparentproxy-defaultenabled" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="defaultenabled permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-transparentproxy-defaultenabled"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">defaultEnabled</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: true</code>) - If true, then all Consul Service mesh will run with transparent proxy enabled by default,
i.e. we enforce that all traffic within the pod will go through the proxy.
This value is overridable via the &quot;consul.hashicorp.com/transparent-proxy&quot; pod annotation.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="defaultoverwriteprobes" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-transparentproxy-defaultoverwriteprobes" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="defaultoverwriteprobes permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-transparentproxy-defaultoverwriteprobes"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">defaultOverwriteProbes</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: true</code>) - If true, we will overwrite Kubernetes HTTP probes of the pod to point to the Envoy proxy instead.
This setting is recommended because with traffic being enforced to go through the Envoy proxy,
the probes on the pod will fail because kube-proxy doesn&#x27;t have the right certificates
to talk to Envoy.
This value is also overridable via the &quot;consul.hashicorp.com/transparent-proxy-overwrite-probes&quot; annotation.
Note: This value has no effect if transparent proxy is disabled on the pod.</p></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="disruptionbudget-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-disruptionbudget" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="disruptionbudget permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-disruptionbudget"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">disruptionBudget</code></a> - This configures the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://kubernetes.io/docs/tasks/run-application/configure-pdb/"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">PodDisruptionBudget</code></a>
for the service mesh sidecar injector.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="enabled-28" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-disruptionbudget-enabled" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="enabled permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-disruptionbudget-enabled"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enabled</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: true</code>) - This will enable/disable registering a PodDisruptionBudget for the
service mesh sidecar injector. If this is enabled, it will only register the budget so long as
the service mesh is enabled.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="maxunavailable-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-disruptionbudget-maxunavailable" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="maxunavailable permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-disruptionbudget-maxunavailable"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">maxUnavailable</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">integer: null</code>) - The maximum number of unavailable pods. By default, this will be
automatically computed based on the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">connectInject.replicas</code> value to be <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">(n/2)-1</code>.
If you need to set this to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">0</code>, you will need to add a
--set &#x27;connectInject.disruptionBudget.maxUnavailable=0&#x27;` flag to the helm chart installation
command because of a limitation in the Helm templating language.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="minavailable" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-disruptionbudget-minavailable" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="minavailable permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-disruptionbudget-minavailable"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">minAvailable</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">integer: null</code>) - The minimum number of available pods.
Takes precedence over maxUnavailable if set.</p></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="apigateway" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-apigateway" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="apigateway permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-apigateway"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">apiGateway</code></a> - Configuration settings for the Consul API Gateway integration.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="manageexternalcrds" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-apigateway-manageexternalcrds" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="manageexternalcrds permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-apigateway-manageexternalcrds"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">manageExternalCRDs</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: true</code>) - Enables Consul on Kubernetes to manage the CRDs used for Gateway API.
Setting this to true will install the CRDs used for the Gateway API when Consul on Kubernetes is installed.
These CRDs can clash with existing Gateway API CRDs if they are already installed in your cluster.
If this setting is false, you will need to install the Gateway API CRDs manually.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="managenonstandardcrds" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-apigateway-managenonstandardcrds" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="managenonstandardcrds permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-apigateway-managenonstandardcrds"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">manageNonStandardCRDs</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: false</code>) - Enables Consul on Kubernets to manage only the non-standard CRDs used for Gateway API. If manageExternalCRDs is true
then all CRDs will be installed; otherwise, if manageNonStandardCRDs is true then only TCPRoute, GatewayClassConfig and MeshService
will be installed.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="managedgatewayclass" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-apigateway-managedgatewayclass" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="managedgatewayclass permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-apigateway-managedgatewayclass"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">managedGatewayClass</code></a> - Configuration settings for the GatewayClass installed by Consul on Kubernetes.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="nodeselector-4" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-apigateway-managedgatewayclass-nodeselector" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="nodeselector permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-apigateway-managedgatewayclass-nodeselector"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">nodeSelector</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - This value defines <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#nodeselector"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">nodeSelector</code></a>
labels for gateway pod assignment, formatted as a multi-line string.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Example:</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":Ra671satdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">nodeSelector</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-keyword)"> |</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  beta.kubernetes.io/arch: amd64</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":Ra671satdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":Req671satdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li><li class="mdx-lists_listItem__nkqhg"><a id="tolerations-4" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-apigateway-managedgatewayclass-tolerations" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="tolerations permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-apigateway-managedgatewayclass-tolerations"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tolerations</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - Toleration settings for gateway pods created with the managed gateway class.
This should be a multi-line string matching the
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/">Tolerations</a> array in a Pod spec.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="servicetype" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-apigateway-managedgatewayclass-servicetype" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="servicetype permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-apigateway-managedgatewayclass-servicetype"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">serviceType</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: LoadBalancer</code>) - This value defines the type of Service created for gateways (e.g. LoadBalancer, ClusterIP)</p></li><li class="mdx-lists_listItem__nkqhg"><a id="copyannotations" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-apigateway-managedgatewayclass-copyannotations" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="copyannotations permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-apigateway-managedgatewayclass-copyannotations"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">copyAnnotations</code></a> - Configuration settings for annotations to be copied from the Gateway to other child resources.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="service-3" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-apigateway-managedgatewayclass-copyannotations-service" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="service permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-apigateway-managedgatewayclass-copyannotations-service"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">service</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - This value defines a list of annotations to be copied from the Gateway to the Service created, formatted as a multi-line string.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Example:</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R2oi71satdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">service</span><span style="color:var(--hds-code-block-color-keyword)">:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">  annotations</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-keyword)"> |</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">    - external-dns.alpha.kubernetes.io/hostname</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R2oi71satdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R3moi71satdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="metrics-2" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-apigateway-managedgatewayclass-metrics" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="metrics permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-apigateway-managedgatewayclass-metrics"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">metrics</code></a> - Metrics settings for gateways created with this gateway class configuration.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="enabled-29" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-apigateway-managedgatewayclass-metrics-enabled" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="enabled permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-apigateway-managedgatewayclass-metrics-enabled"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enabled</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: -</code>) - This value enables or disables metrics collection on a gateway, overriding the global gateway metrics collection settings.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="port-2" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-apigateway-managedgatewayclass-metrics-port" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="port permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-apigateway-managedgatewayclass-metrics-port"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">port</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">int: null</code>) - This value sets the port to use for scraping gateway metrics via prometheus, defaults to 20200 if not set. Must be in the port
range of 1024-65535.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="path-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-apigateway-managedgatewayclass-metrics-path" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="path permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-apigateway-managedgatewayclass-metrics-path"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">path</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - This value sets the path to use for scraping gateway metrics via prometheus, defaults to /metrics if not set.</p></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="resources-5" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-apigateway-managedgatewayclass-resources" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="resources permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-apigateway-managedgatewayclass-resources"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">resources</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">map</code>) - The resource settings for Pods handling traffic for Gateway API.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="deployment" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-apigateway-managedgatewayclass-deployment" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="deployment permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-apigateway-managedgatewayclass-deployment"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">deployment</code></a> - This value defines the number of pods to deploy for each Gateway as well as a min and max number of pods for all Gateways</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="defaultinstances" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-apigateway-managedgatewayclass-deployment-defaultinstances" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="defaultinstances permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-apigateway-managedgatewayclass-deployment-defaultinstances"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">defaultInstances</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">integer: 1</code>)</p></li><li class="mdx-lists_listItem__nkqhg"><a id="maxinstances" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-apigateway-managedgatewayclass-deployment-maxinstances" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="maxinstances permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-apigateway-managedgatewayclass-deployment-maxinstances"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">maxInstances</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">integer: 1</code>)</p></li><li class="mdx-lists_listItem__nkqhg"><a id="mininstances" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-apigateway-managedgatewayclass-deployment-mininstances" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="mininstances permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-apigateway-managedgatewayclass-deployment-mininstances"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">minInstances</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">integer: 1</code>)</p></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="openshiftsccname" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-apigateway-managedgatewayclass-openshiftsccname" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="openshiftsccname permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-apigateway-managedgatewayclass-openshiftsccname"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">openshiftSCCName</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: restricted-v2</code>) - The name of the OpenShift SecurityContextConstraints resource to use for Gateways.
Only applicable if <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">global.openshift.enabled</code> is true.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="mapprivilegedcontainerports" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-apigateway-managedgatewayclass-mapprivilegedcontainerports" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="mapprivilegedcontainerports permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-apigateway-managedgatewayclass-mapprivilegedcontainerports"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">mapPrivilegedContainerPorts</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">integer: 0</code>) - This value defines the amount we will add to privileged container ports on gateways that use this class.
This is useful if you don&#x27;t want to give your containers extra permissions to run privileged ports.
Example: The gateway listener is defined on port 80, but the underlying value of the port on the container
will be the 80 + the number defined below.</p></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="serviceaccount-3" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-apigateway-serviceaccount" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="serviceaccount permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-apigateway-serviceaccount"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">serviceAccount</code></a> - Configuration for the ServiceAccount created for the api-gateway component</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="annotations-13" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-apigateway-serviceaccount-annotations" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="annotations permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-apigateway-serviceaccount-annotations"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">annotations</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - This value defines additional annotations for the client service account. This should be formatted as a multi-line
string.</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":Ri91satdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">annotations</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-keyword)"> |</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  &quot;sample/annotation1&quot;: &quot;foo&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  &quot;sample/annotation2&quot;: &quot;bar&quot;</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":Ri91satdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":Rti91satdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li></ul></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="cni" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-cni" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="cni permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-cni"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">cni</code></a> - Configures consul-cni plugin for Consul Service mesh services</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="enabled-30" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-cni-enabled" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="enabled permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-cni-enabled"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enabled</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: false</code>) - If true, then all traffic redirection setup uses the consul-cni plugin.
Requires connectInject.enabled to also be true.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="loglevel-8" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-cni-loglevel" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="loglevel permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-cni-loglevel"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">logLevel</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - Log level for the installer and plugin. Overrides global.logLevel</p></li><li class="mdx-lists_listItem__nkqhg"><a id="namespace-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-cni-namespace" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="namespace permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-cni-namespace"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">namespace</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - Set the namespace to install the CNI plugin into. Overrides global namespace settings for CNI resources.
Ex: &quot;kube-system&quot;</p></li><li class="mdx-lists_listItem__nkqhg"><a id="cnibindir" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-cni-cnibindir" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="cnibindir permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-cni-cnibindir"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">cniBinDir</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: /opt/cni/bin</code>) - Location on the kubernetes node where the CNI plugin is installed. Shoud be the absolute path and start with a &#x27;/&#x27;
Example on GKE:</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R4924atdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">cniBinDir</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> &quot;/home/kubernetes/bin&quot;</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R4924atdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R7c924atdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li><li class="mdx-lists_listItem__nkqhg"><a id="cninetdir" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-cni-cninetdir" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="cninetdir permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-cni-cninetdir"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">cniNetDir</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: /etc/cni/net.d</code>) - Location on the kubernetes node of all CNI configuration. Should be the absolute path and start with a &#x27;/&#x27;</p></li><li class="mdx-lists_listItem__nkqhg"><a id="multus" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-cni-multus" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="multus permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-cni-multus"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">multus</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: false</code>) - If multus CNI plugin is enabled with consul-cni. When enabled, consul-cni will not be installed as a chained
CNI plugin. Instead, a NetworkAttachementDefinition CustomResourceDefinition (CRD) will be created in the helm
release namespace. Following multus plugin standards, an annotation is required in order for the consul-cni plugin
to be executed and for your service to be added to the Consul Service Mesh.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Add the annotation <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">&#x27;k8s.v1.cni.cncf.io/networks&#x27;: &#x27;[{ &quot;name&quot;:&quot;consul-cni&quot;,&quot;namespace&quot;: &quot;consul&quot; }]&#x27;</code> to your pod
to use the default installed NetworkAttachementDefinition CRD.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Please refer to the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://github.com/k8snetworkplumbingwg/multus-cni/blob/master/docs/quickstart.md">Multus Quickstart Guide</a>
for more information about using multus.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="resources-6" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-cni-resources" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="resources permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-cni-resources"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">resources</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">map</code>) - The resource settings for CNI installer daemonset.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="resourcequota" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-cni-resourcequota" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="resourcequota permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-cni-resourcequota"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">resourceQuota</code></a> - Resource quotas for running the daemonset as system critical pods</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="pods" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-cni-resourcequota-pods" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><a aria-label="pods permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-cni-resourcequota-pods"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">pods</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">integer: 5000</code>)</li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="securitycontext-2" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-cni-securitycontext" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="securitycontext permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-cni-securitycontext"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">securityContext</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">map</code>) - The security context for the CNI installer daemonset. This should be a YAML map corresponding to a
Kubernetes <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://kubernetes.io/docs/tasks/configure-pod-container/security-context/">SecurityContext</a> object.
By default, servers will run as root, with user ID <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">0</code> and group ID <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">0</code>.
Note: if running on OpenShift, this setting is ignored because the user and group are set automatically
by the OpenShift platform.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="updatestrategy-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-cni-updatestrategy" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="updatestrategy permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-cni-updatestrategy"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">updateStrategy</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - updateStrategy for the CNI installer DaemonSet.
Refer to the Kubernetes <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://kubernetes.io/docs/tasks/manage-daemon/update-daemon-set/#daemonset-update-strategy">Daemonset upgrade strategy</a>
documentation.
This should be a multi-line string mapping directly to the updateStrategy</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Example:</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R5l24atdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">updateStrategy</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-keyword)"> |</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  rollingUpdate:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">    maxUnavailable: 5</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  type: RollingUpdate</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R5l24atdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R7dl24atdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="consulnode" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-consulnode" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="consulnode permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-consulnode"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">consulNode</code></a></p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="meta" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-consulnode-meta" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="meta permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-consulnode-meta"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">meta</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">map</code>) - meta specifies an arbitrary metadata key/value pair to associate with the node.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Example:</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":Rb2catdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">meta</span><span style="color:var(--hds-code-block-color-keyword)">:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">  cluster</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> test-cluster</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">  persistent</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-constant)"> true</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":Rb2catdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":Rer2catdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="metrics-3" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-metrics" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="metrics permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-metrics"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">metrics</code></a> - Configures metrics for Consul service mesh services. All values are overridable
via annotations on a per-pod basis.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="defaultenabled-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-metrics-defaultenabled" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="defaultenabled permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-metrics-defaultenabled"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">defaultEnabled</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: -</code>) - If true, the connect-injector will automatically
add prometheus annotations to connect-injected pods. It will also
add a listener on the Envoy sidecar to expose metrics. The exposed
metrics will depend on whether metrics merging is enabled:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg">If metrics merging is enabled:
the consul-dataplane will run a merged metrics server
combining Envoy sidecar and Connect service metrics,
i.e. if your service exposes its own Prometheus metrics.</li><li class="mdx-lists_listItem__nkqhg">If metrics merging is disabled:
the listener will just expose Envoy sidecar metrics.
This will inherit from <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">global.metrics.enabled</code>.</li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="defaultenablemerging" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-metrics-defaultenablemerging" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="defaultenablemerging permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-metrics-defaultenablemerging"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">defaultEnableMerging</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: false</code>) - Configures the consul-dataplane to run a merged metrics server
to combine and serve both Envoy and Connect service metrics.
This feature is available only in Consul v1.10.0 or greater.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="defaultmergedmetricsport" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-metrics-defaultmergedmetricsport" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="defaultmergedmetricsport permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-metrics-defaultmergedmetricsport"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">defaultMergedMetricsPort</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">integer: 20100</code>) - Configures the port at which the consul-dataplane will listen on to return
combined metrics. This port only needs to be changed if it conflicts with
the application&#x27;s ports.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="defaultprometheusscrapeport" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-metrics-defaultprometheusscrapeport" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="defaultprometheusscrapeport permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-metrics-defaultprometheusscrapeport"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">defaultPrometheusScrapePort</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">integer: 20200</code>) - Configures the port Prometheus will scrape metrics from, by configuring
the Pod annotation <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">prometheus.io/port</code> and the corresponding listener in
the Envoy sidecar.
NOTE: This is <em>not</em> the port that your application exposes metrics on.
That can be configured with the
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">consul.hashicorp.com/service-metrics-port</code> annotation.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="defaultprometheusscrapepath" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-metrics-defaultprometheusscrapepath" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="defaultprometheusscrapepath permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-metrics-defaultprometheusscrapepath"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">defaultPrometheusScrapePath</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: /metrics</code>) - Configures the path Prometheus will scrape metrics from, by configuring the pod
annotation <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">prometheus.io/path</code> and the corresponding handler in the Envoy
sidecar.
NOTE: This is <em>not</em> the path that your application exposes metrics on.
That can be configured with the
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">consul.hashicorp.com/service-metrics-path</code> annotation.</p></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="envoyextraargs" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-envoyextraargs" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="envoyextraargs permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-envoyextraargs"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">envoyExtraArgs</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - Used to pass arguments to the injected envoy sidecar.
Valid arguments to pass to envoy can be found here: <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://www.envoyproxy.io/docs/envoy/latest/operations/cli">https://www.envoyproxy.io/docs/envoy/latest/operations/cli</a>
e.g &quot;--log-level debug --disable-hot-restart&quot;</p></li><li class="mdx-lists_listItem__nkqhg"><a id="priorityclassname-3" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-priorityclassname" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="priorityclassname permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-priorityclassname"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">priorityClassName</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: &quot;&quot;</code>) - Optional priorityClassName.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="extralabels-4" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-extralabels" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="extralabels permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-extralabels"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">extraLabels</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">map</code>) - Extra labels to attach to the connect inject pods. This should be a YAML map.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Example:</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R1bcatdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">extraLabels</span><span style="color:var(--hds-code-block-color-keyword)">:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">  labelKey</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> label-value</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">  anotherLabelKey</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> another-label-value</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R1bcatdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R1rbcatdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li><li class="mdx-lists_listItem__nkqhg"><a id="annotations-14" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-annotations" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="annotations permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-annotations"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">annotations</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - This value defines additional annotations for
connect inject pods. This should be formatted as a multi-line string.</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R13katdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">annotations</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-keyword)"> |</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  &quot;sample/annotation1&quot;: &quot;foo&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  &quot;sample/annotation2&quot;: &quot;bar&quot;</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R13katdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R1r3katdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li><li class="mdx-lists_listItem__nkqhg"><a id="imageconsul" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-imageconsul" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="imageconsul permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-imageconsul"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">imageConsul</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - The Docker image for Consul to use when performing Connect injection.
Defaults to global.image.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="loglevel-9" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-loglevel" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="loglevel permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-loglevel"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">logLevel</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: &quot;&quot;</code>) - Sets the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">logLevel</code> for the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">consul-dataplane</code> sidecar and the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">consul-connect-inject-init</code> container. When set, this value overrides the global log verbosity level. One of &quot;debug&quot;, &quot;info&quot;, &quot;warn&quot;, or &quot;error&quot;.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="serviceaccount-4" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-serviceaccount" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="serviceaccount permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-serviceaccount"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">serviceAccount</code></a></p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="annotations-15" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-serviceaccount-annotations" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="annotations permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-serviceaccount-annotations"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">annotations</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - This value defines additional annotations for the injector service account. This should be formatted as a
multi-line string.</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R94catdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">annotations</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-keyword)"> |</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  &quot;sample/annotation1&quot;: &quot;foo&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  &quot;sample/annotation2&quot;: &quot;bar&quot;</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R94catdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":Rep4catdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="resources-7" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-resources" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="resources permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-resources"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">resources</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">map</code>) - The resource settings for connect inject pods. The defaults, are optimized for getting started worklows on developer deployments. The settings should be tweaked for production deployments.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="requests" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-resources-requests" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="requests permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-resources-requests"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">requests</code></a></p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="memory" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-resources-requests-memory" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="memory permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-resources-requests-memory"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">memory</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: 200Mi</code>) - Recommended production default: 500Mi</p></li><li class="mdx-lists_listItem__nkqhg"><a id="cpu" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-resources-requests-cpu" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="cpu permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-resources-requests-cpu"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">cpu</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: 50m</code>) - Recommended production default: 250m</p></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="limits-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-resources-limits" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="limits permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-resources-limits"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">limits</code></a></p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="memory-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-resources-limits-memory" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="memory permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-resources-limits-memory"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">memory</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: 200Mi</code>) - Recommended production default: 500Mi</p></li><li class="mdx-lists_listItem__nkqhg"><a id="cpu-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-resources-limits-cpu" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="cpu permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-resources-limits-cpu"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">cpu</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: 50m</code>) - Recommended production default: 250m</p></li></ul></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="failurepolicy" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-failurepolicy" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="failurepolicy permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-failurepolicy"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">failurePolicy</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: Fail</code>) - Sets the failurePolicy for the mutating webhook. By default this will cause pods not part of the consul installation to fail scheduling while the webhook
is offline. This prevents a pod from skipping mutation if the webhook were to be momentarily offline.
Once the webhook is back online the pod will be scheduled.
In some environments such as Kind this may have an undesirable effect as it may prevent volume provisioner pods from running
which can lead to hangs. In these environments it is recommend to use &quot;Ignore&quot; instead.
This setting can be safely disabled by setting to &quot;Ignore&quot;.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="namespaceselector" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-namespaceselector" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="namespaceselector permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-namespaceselector"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">namespaceSelector</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string</code>) - Selector for restricting the webhook to only specific namespaces.
Use with <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">connectInject.default: true</code> to automatically inject all pods in namespaces that match the selector. This should be set to a multiline string.
Refer to <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://kubernetes.io/docs/reference/access-authn-authz/extensible-admission-controllers/#matching-requests-namespaceselector">https://kubernetes.io/docs/reference/access-authn-authz/extensible-admission-controllers/#matching-requests-namespaceselector</a>
for more details.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">By default, we exclude kube-system since usually users won&#x27;t
want those pods injected and local-path-storage and openebs so that
Kind (Kubernetes In Docker) and <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://openebs.io/">OpenEBS</a> respectively can provision Pods used to create PVCs.
Note that this exclusion is only supported in Kubernetes v1.21.1+.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Example:</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R1l4atdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">namespaceSelector</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-keyword)"> |</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  matchLabels:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">    namespace-label: label-value</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R1l4atdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R1rl4atdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li><li class="mdx-lists_listItem__nkqhg"><a id="k8sallownamespaces-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-k8sallownamespaces" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="k8sallownamespaces permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-k8sallownamespaces"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">k8sAllowNamespaces</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">array&lt;string&gt;: [&quot;*&quot;]</code>) - List of k8s namespaces to allow Connect sidecar
injection in. If a k8s namespace is not included or is listed in <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">k8sDenyNamespaces</code>,
pods in that k8s namespace will not be injected even if they are explicitly
annotated. Use <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">[&quot;*&quot;]</code> to automatically allow all k8s namespaces.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">For example, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">[&quot;namespace1&quot;, &quot;namespace2&quot;]</code> will only allow pods in the k8s
namespaces <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">namespace1</code> and <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">namespace2</code> to have Consul service mesh sidecars injected
and registered with Consul. All other k8s namespaces will be ignored.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">To deny all namespaces, set this to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">[]</code>.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Note: <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">k8sDenyNamespaces</code> takes precedence over values defined here and
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">namespaceSelector</code> takes precedence over both since it is applied first.
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">kube-system</code> and <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">kube-public</code> are never injected, even if included here.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="k8sdenynamespaces-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-k8sdenynamespaces" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="k8sdenynamespaces permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-k8sdenynamespaces"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">k8sDenyNamespaces</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">array&lt;string&gt;: []</code>) - List of k8s namespaces that should not allow Connect
sidecar injection. This list takes precedence over <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">k8sAllowNamespaces</code>.
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">*</code> is not supported because then nothing would be allowed to be injected.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">For example, if <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">k8sAllowNamespaces</code> is <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">[&quot;*&quot;]</code> and k8sDenyNamespaces is
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">[&quot;namespace1&quot;, &quot;namespace2&quot;]</code>, then all k8s namespaces besides &quot;namespace1&quot;
and &quot;namespace2&quot; will be available for injection.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Note: <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">namespaceSelector</code> takes precedence over this since it is applied first.
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">kube-system</code> and <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">kube-public</code> are never injected.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="consulnamespaces-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-consulnamespaces" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="consulnamespaces permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-consulnamespaces"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">consulNamespaces</code></a> - <span class="enterprise-alert_root__mvEIF enterprise-alert_inline__IqpbC"><span class="g-screen-reader-only">Enterprise</span><span aria-hidden="true" class="badge_root___Z7Nt badge_medium__8VGoW badge_outlined-neutral__32YXY enterprise-alert_badge___N2fV"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="var(--token-color-consul-brand)"><path d="M4.737 14.193A7 7 0 008.006 15a6.98 6.98 0 004.735-1.847l-1.66-1.737a4.6 4.6 0 110-6.828l1.66-1.738a7 7 0 10-8.004 11.343zM13.32 11.402a.573.573 0 10.637-.953.573.573 0 00-.637.953z"></path><path d="M7.96 9.517a1.517 1.517 0 11-.012-3.034 1.517 1.517 0 01.013 3.034zM13.978 9.447a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 9.472a.574.574 0 110-1.148.574.574 0 010 1.148zM13.978 7.514a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 7.675a.574.574 0 110-1.148.574.574 0 010 1.148zM13.353 5.585a.574.574 0 10.635-.956.574.574 0 00-.635.956z"></path></g></svg><span>Enterprise</span></span></span> These settings manage the connect injector&#x27;s interaction with
Consul namespaces (requires consul-ent v1.7+).
Also, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">global.enableConsulNamespaces</code> must be true.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="consuldestinationnamespace-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-consulnamespaces-consuldestinationnamespace" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="consuldestinationnamespace permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-consulnamespaces-consuldestinationnamespace"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">consulDestinationNamespace</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: default</code>) - Name of the Consul namespace to register all
k8s pods into. If the Consul namespace does not already exist,
it will be created. This will be ignored if <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">mirroringK8S</code> is true.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="mirroringk8s-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-consulnamespaces-mirroringk8s" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="mirroringk8s permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-consulnamespaces-mirroringk8s"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">mirroringK8S</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: true</code>) - Causes k8s pods to be registered into a Consul namespace
of the same name as their k8s namespace, optionally prefixed if
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">mirroringK8SPrefix</code> is set below. If the Consul namespace does not
already exist, it will be created. Turning this on overrides the
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">consulDestinationNamespace</code> setting. If mirroring is enabled, avoid creating any Consul
resources in the following Kubernetes namespaces, as Consul currently reserves these
namespaces for system use: &quot;system&quot;, &quot;universal&quot;, &quot;operator&quot;, &quot;root&quot;.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="mirroringk8sprefix-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-consulnamespaces-mirroringk8sprefix" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="mirroringk8sprefix permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-consulnamespaces-mirroringk8sprefix"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">mirroringK8SPrefix</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: &quot;&quot;</code>) - If <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">mirroringK8S</code> is set to true, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">mirroringK8SPrefix</code> allows each Consul namespace
to be given a prefix. For example, if <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">mirroringK8SPrefix</code> is set to &quot;k8s-&quot;, a
pod in the k8s <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">staging</code> namespace will be registered into the
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">k8s-staging</code> Consul namespace.</p></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="nodeselector-5" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-nodeselector" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="nodeselector permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-nodeselector"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">nodeSelector</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - Selector labels for connectInject pod assignment, formatted as a multi-line string.
ref: <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#nodeselector">https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#nodeselector</a></p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Example:</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R1e4atdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">nodeSelector</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-keyword)"> |</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  beta.kubernetes.io/arch: amd64</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R1e4atdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R1re4atdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li><li class="mdx-lists_listItem__nkqhg"><a id="affinity-3" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-affinity" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="affinity permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-affinity"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">affinity</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - Affinity Settings
This should be a multi-line string matching the affinity object</p></li><li class="mdx-lists_listItem__nkqhg"><a id="tolerations-5" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-tolerations" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="tolerations permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-tolerations"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tolerations</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - Toleration Settings
This should be a multi-line string matching the Toleration array
in a PodSpec.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="aclbindingruleselector" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-aclbindingruleselector" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="aclbindingruleselector permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-aclbindingruleselector"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">aclBindingRuleSelector</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: serviceaccount.name!=default</code>) - Query that defines which Service Accounts
can authenticate to Consul and receive an ACL token during Connect injection.
The default setting, i.e. serviceaccount.name!=default, prevents the
&#x27;default&#x27; Service Account from logging in.
If set to an empty string all service accounts can log in.
This only has effect if ACLs are enabled.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Refer to Auth methods <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/docs/security/acl/auth-methods#binding-rules">Binding rules</a>
and <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/docs/security/acl/auth-methods/kubernetes#trusted-identity-attributes">Trusted identiy attributes</a>
for more details.
Requires Consul &gt;= v1.5.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="overrideauthmethodname" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-overrideauthmethodname" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="overrideauthmethodname permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-overrideauthmethodname"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">overrideAuthMethodName</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: &quot;&quot;</code>) - If you are not using global.acls.manageSystemACLs and instead manually setting up an
auth method for Connect inject, set this to the name of your auth method.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="aclinjecttoken" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-aclinjecttoken" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="aclinjecttoken permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-aclinjecttoken"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">aclInjectToken</code></a> - Refers to a Kubernetes secret that you have created that contains
an ACL token for your Consul cluster which allows the Connect injector the correct
permissions. This is only needed if Consul namespaces <span class="enterprise-alert_root__mvEIF enterprise-alert_inline__IqpbC"><span class="g-screen-reader-only">Enterprise</span><span aria-hidden="true" class="badge_root___Z7Nt badge_medium__8VGoW badge_outlined-neutral__32YXY enterprise-alert_badge___N2fV"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="var(--token-color-consul-brand)"><path d="M4.737 14.193A7 7 0 008.006 15a6.98 6.98 0 004.735-1.847l-1.66-1.737a4.6 4.6 0 110-6.828l1.66-1.738a7 7 0 10-8.004 11.343zM13.32 11.402a.573.573 0 10.637-.953.573.573 0 00-.637.953z"></path><path d="M7.96 9.517a1.517 1.517 0 11-.012-3.034 1.517 1.517 0 01.013 3.034zM13.978 9.447a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 9.472a.574.574 0 110-1.148.574.574 0 010 1.148zM13.978 7.514a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 7.675a.574.574 0 110-1.148.574.574 0 010 1.148zM13.353 5.585a.574.574 0 10.635-.956.574.574 0 00-.635.956z"></path></g></svg><span>Enterprise</span></span></span> and ACLs
are enabled on the Consul cluster and you are not setting
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">global.acls.manageSystemACLs</code> to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">true</code>.
This token needs to have <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">operator = &quot;write&quot;</code> privileges to be able to
create Consul namespaces.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="secretname-13" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-aclinjecttoken-secretname" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="secretname permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-aclinjecttoken-secretname"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">secretName</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - The name of the Vault secret that holds the ACL inject token.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="secretkey-10" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-aclinjecttoken-secretkey" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="secretkey permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-aclinjecttoken-secretkey"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">secretKey</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - The key within the Vault secret that holds the ACL inject token.</p></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="sidecarproxy" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-sidecarproxy" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="sidecarproxy permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-sidecarproxy"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">sidecarProxy</code></a></p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="concurrency" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-sidecarproxy-concurrency" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="concurrency permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-sidecarproxy-concurrency"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">concurrency</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: 2</code>) - The number of worker threads to be used by the Envoy proxy.
By default the threading model of Envoy will use one thread per CPU core per envoy proxy. This
leads to unnecessary thread and memory usage and leaves unnecessary idle connections open. It is
advised to keep this number low for sidecars and high for edge proxies.
This will control the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">--concurrency</code> flag to Envoy.
For additional information, refer to <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://blog.envoyproxy.io/envoy-threading-model-a8d44b922310">https://blog.envoyproxy.io/envoy-threading-model-a8d44b922310</a></p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">This setting can be overridden on a per-pod basis via this annotation:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="consul-hashicorp-com-consul-envoy-proxy-concurrency" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a aria-label="consul hashicorp com consul envoy proxy concurrency permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#consul-hashicorp-com-consul-envoy-proxy-concurrency"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">consul.hashicorp.com/consul-envoy-proxy-concurrency</code></a></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="resources-8" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-sidecarproxy-resources" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="resources permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-sidecarproxy-resources"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">resources</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">map</code>) - Set default resources for sidecar proxy. If null, that resource won&#x27;t
be set.
These settings can be overridden on a per-pod basis via these annotations:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="consul-hashicorp-com-sidecar-proxy-cpu-limit" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="consul hashicorp com sidecar proxy cpu limit permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#consul-hashicorp-com-sidecar-proxy-cpu-limit"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">consul.hashicorp.com/sidecar-proxy-cpu-limit</code></a></p></li><li class="mdx-lists_listItem__nkqhg"><a id="consul-hashicorp-com-sidecar-proxy-cpu-request" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="consul hashicorp com sidecar proxy cpu request permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#consul-hashicorp-com-sidecar-proxy-cpu-request"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">consul.hashicorp.com/sidecar-proxy-cpu-request</code></a></p></li><li class="mdx-lists_listItem__nkqhg"><a id="consul-hashicorp-com-sidecar-proxy-memory-limit" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="consul hashicorp com sidecar proxy memory limit permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#consul-hashicorp-com-sidecar-proxy-memory-limit"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">consul.hashicorp.com/sidecar-proxy-memory-limit</code></a></p></li><li class="mdx-lists_listItem__nkqhg"><a id="consul-hashicorp-com-sidecar-proxy-memory-request" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="consul hashicorp com sidecar proxy memory request permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#consul-hashicorp-com-sidecar-proxy-memory-request"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">consul.hashicorp.com/sidecar-proxy-memory-request</code></a></p></li><li class="mdx-lists_listItem__nkqhg"><a id="requests-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-sidecarproxy-resources-requests" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="requests permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-sidecarproxy-resources-requests"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">requests</code></a></p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="memory-2" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-sidecarproxy-resources-requests-memory" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="memory permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-sidecarproxy-resources-requests-memory"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">memory</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - Recommended production default: 100Mi</p></li><li class="mdx-lists_listItem__nkqhg"><a id="cpu-2" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-sidecarproxy-resources-requests-cpu" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="cpu permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-sidecarproxy-resources-requests-cpu"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">cpu</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - Recommended production default: 100m</p></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="limits-2" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-sidecarproxy-resources-limits" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="limits permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-sidecarproxy-resources-limits"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">limits</code></a></p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="memory-3" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-sidecarproxy-resources-limits-memory" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="memory permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-sidecarproxy-resources-limits-memory"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">memory</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - Recommended production default: 100Mi</p></li><li class="mdx-lists_listItem__nkqhg"><a id="cpu-3" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-sidecarproxy-resources-limits-cpu" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="cpu permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-sidecarproxy-resources-limits-cpu"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">cpu</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - Recommended production default: 100m</p></li></ul></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="lifecycle" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-sidecarproxy-lifecycle" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="lifecycle permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-sidecarproxy-lifecycle"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">lifecycle</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">map</code>) - Set default lifecycle management configuration for sidecar proxy.
These settings can be overridden on a per-pod basis via these annotations:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="consul-hashicorp-com-enable-sidecar-proxy-lifecycle" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="consul hashicorp com enable sidecar proxy lifecycle permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#consul-hashicorp-com-enable-sidecar-proxy-lifecycle"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">consul.hashicorp.com/enable-sidecar-proxy-lifecycle</code></a></p></li><li class="mdx-lists_listItem__nkqhg"><a id="consul-hashicorp-com-enable-sidecar-proxy-shutdown-drain-listeners" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="consul hashicorp com enable sidecar proxy shutdown drain listeners permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#consul-hashicorp-com-enable-sidecar-proxy-shutdown-drain-listeners"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">consul.hashicorp.com/enable-sidecar-proxy-shutdown-drain-listeners</code></a></p></li><li class="mdx-lists_listItem__nkqhg"><a id="consul-hashicorp-com-sidecar-proxy-lifecycle-shutdown-grace-period-seconds" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="consul hashicorp com sidecar proxy lifecycle shutdown grace period seconds permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#consul-hashicorp-com-sidecar-proxy-lifecycle-shutdown-grace-period-seconds"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">consul.hashicorp.com/sidecar-proxy-lifecycle-shutdown-grace-period-seconds</code></a></p></li><li class="mdx-lists_listItem__nkqhg"><a id="consul-hashicorp-com-sidecar-proxy-lifecycle-startup-grace-period-seconds" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="consul hashicorp com sidecar proxy lifecycle startup grace period seconds permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#consul-hashicorp-com-sidecar-proxy-lifecycle-startup-grace-period-seconds"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">consul.hashicorp.com/sidecar-proxy-lifecycle-startup-grace-period-seconds</code></a></p></li><li class="mdx-lists_listItem__nkqhg"><a id="consul-hashicorp-com-sidecar-proxy-lifecycle-graceful-port" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="consul hashicorp com sidecar proxy lifecycle graceful port permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#consul-hashicorp-com-sidecar-proxy-lifecycle-graceful-port"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">consul.hashicorp.com/sidecar-proxy-lifecycle-graceful-port</code></a></p></li><li class="mdx-lists_listItem__nkqhg"><a id="consul-hashicorp-com-sidecar-proxy-lifecycle-graceful-shutdown-path" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="consul hashicorp com sidecar proxy lifecycle graceful shutdown path permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#consul-hashicorp-com-sidecar-proxy-lifecycle-graceful-shutdown-path"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">consul.hashicorp.com/sidecar-proxy-lifecycle-graceful-shutdown-path</code></a></p></li><li class="mdx-lists_listItem__nkqhg"><a id="consul-hashicorp-com-sidecar-proxy-lifecycle-graceful-startup-path" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="consul hashicorp com sidecar proxy lifecycle graceful startup path permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#consul-hashicorp-com-sidecar-proxy-lifecycle-graceful-startup-path"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">consul.hashicorp.com/sidecar-proxy-lifecycle-graceful-startup-path</code></a></p></li><li class="mdx-lists_listItem__nkqhg"><a id="defaultenabled-2" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-sidecarproxy-lifecycle-defaultenabled" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="defaultenabled permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-sidecarproxy-lifecycle-defaultenabled"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">defaultEnabled</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: true</code>)</p></li><li class="mdx-lists_listItem__nkqhg"><a id="defaultenableshutdowndrainlisteners" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-sidecarproxy-lifecycle-defaultenableshutdowndrainlisteners" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="defaultenableshutdowndrainlisteners permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-sidecarproxy-lifecycle-defaultenableshutdowndrainlisteners"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">defaultEnableShutdownDrainListeners</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: true</code>)</p></li><li class="mdx-lists_listItem__nkqhg"><a id="defaultshutdowngraceperiodseconds" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-sidecarproxy-lifecycle-defaultshutdowngraceperiodseconds" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="defaultshutdowngraceperiodseconds permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-sidecarproxy-lifecycle-defaultshutdowngraceperiodseconds"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">defaultShutdownGracePeriodSeconds</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">integer: 30</code>)</p></li><li class="mdx-lists_listItem__nkqhg"><a id="defaultstartupgraceperiodseconds" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-sidecarproxy-lifecycle-defaultstartupgraceperiodseconds" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="defaultstartupgraceperiodseconds permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-sidecarproxy-lifecycle-defaultstartupgraceperiodseconds"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">defaultStartupGracePeriodSeconds</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">integer: 0</code>)</p></li><li class="mdx-lists_listItem__nkqhg"><a id="defaultgracefulport" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-sidecarproxy-lifecycle-defaultgracefulport" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="defaultgracefulport permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-sidecarproxy-lifecycle-defaultgracefulport"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">defaultGracefulPort</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">integer: 20600</code>)</p></li><li class="mdx-lists_listItem__nkqhg"><a id="defaultgracefulshutdownpath" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-sidecarproxy-lifecycle-defaultgracefulshutdownpath" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="defaultgracefulshutdownpath permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-sidecarproxy-lifecycle-defaultgracefulshutdownpath"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">defaultGracefulShutdownPath</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: /graceful_shutdown</code>)</p></li><li class="mdx-lists_listItem__nkqhg"><a id="defaultgracefulstartuppath" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-sidecarproxy-lifecycle-defaultgracefulstartuppath" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="defaultgracefulstartuppath permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-sidecarproxy-lifecycle-defaultgracefulstartuppath"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">defaultGracefulStartupPath</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: /graceful_startup</code>)</p></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="defaultstartupfailureseconds" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-sidecarproxy-defaultstartupfailureseconds" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="defaultstartupfailureseconds permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-sidecarproxy-defaultstartupfailureseconds"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">defaultStartupFailureSeconds</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">integer: 0</code>) - Configures how long the k8s startup probe will wait before the proxy is considered to be unhealthy and the container is restarted.
A value of zero disables the probe.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="defaultlivenessfailureseconds" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-sidecarproxy-defaultlivenessfailureseconds" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="defaultlivenessfailureseconds permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-sidecarproxy-defaultlivenessfailureseconds"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">defaultLivenessFailureSeconds</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">integer: 0</code>) - Configures how long the k8s liveness probe will wait before the proxy is considered to be unhealthy and the container is restarted.
A value of zero disables the probe.</p></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="initcontainer" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-initcontainer" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="initcontainer permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-initcontainer"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">initContainer</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">map</code>) - The resource settings for the Connect injected init container. If null, the resources
won&#x27;t be set for the initContainer. The defaults are optimized for developer instances of
Kubernetes, however they should be tweaked with the recommended defaults as shown below to speed up service registration times.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="resources-9" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-initcontainer-resources" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="resources permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-initcontainer-resources"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">resources</code></a></p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="requests-2" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-initcontainer-resources-requests" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="requests permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-initcontainer-resources-requests"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">requests</code></a></p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="memory-4" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-initcontainer-resources-requests-memory" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="memory permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-initcontainer-resources-requests-memory"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">memory</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: 25Mi</code>) - Recommended production default: 150Mi</p></li><li class="mdx-lists_listItem__nkqhg"><a id="cpu-4" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-initcontainer-resources-requests-cpu" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="cpu permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-initcontainer-resources-requests-cpu"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">cpu</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: 50m</code>) - Recommended production default: 250m</p></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="limits-3" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-initcontainer-resources-limits" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="limits permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-initcontainer-resources-limits"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">limits</code></a></p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="memory-5" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-initcontainer-resources-limits-memory" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="memory permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-initcontainer-resources-limits-memory"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">memory</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: 150Mi</code>) - Recommended production default: 150Mi</p></li><li class="mdx-lists_listItem__nkqhg"><a id="cpu-5" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-connectinject-initcontainer-resources-limits-cpu" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="cpu permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-connectinject-initcontainer-resources-limits-cpu"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">cpu</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - Recommended production default: 500m</p></li></ul></li></ul></li></ul></li></ul></li></ul><h3 id="meshgateway" class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="meshgateway permalink" href="/consul/docs/reference/k8s/helm#meshgateway"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a><a id="h-meshgateway" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-h __compat" href="/consul/docs/reference/k8s/helm#"></a>meshGateway</h3><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="meshgateway-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-meshgateway" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="meshgateway permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-meshgateway"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">meshGateway</code></a> - <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/docs/east-west/mesh-gateway">Mesh Gateways</a> enable Consul Connect to work across Consul datacenters.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="enabled-31" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-meshgateway-enabled" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="enabled permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-meshgateway-enabled"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enabled</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: false</code>) - If <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/docs/east-west/mesh-gateway">mesh gateways</a> are enabled, a Deployment will be created that runs
gateways and Consul service mesh will be configured to use gateways.
This setting is required for <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="/consul/docs/connect/cluster-peering/k8s">Cluster Peering</a>.
Requirements: consul 1.6.0+ if using `global.acls.manageSystemACLs``.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="loglevel-10" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-meshgateway-loglevel" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="loglevel permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-meshgateway-loglevel"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">logLevel</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: &quot;&quot;</code>) - Override global log verbosity level for mesh-gateway-deployment pods. One of &quot;trace&quot;, &quot;debug&quot;, &quot;info&quot;, &quot;warn&quot;, or &quot;error&quot;.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="replicas-2" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-meshgateway-replicas" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="replicas permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-meshgateway-replicas"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">replicas</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">integer: 1</code>) - Number of replicas for the Deployment.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="wanaddress" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-meshgateway-wanaddress" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="wanaddress permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-meshgateway-wanaddress"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">wanAddress</code></a> - What gets registered as WAN address for the gateway.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="source" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-meshgateway-wanaddress-source" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="source permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-meshgateway-wanaddress-source"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">source</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: Service</code>) - source configures where to retrieve the WAN address (and possibly port)
for the mesh gateway from.
Can be set to either: <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">Service</code>, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">NodeIP</code>, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">NodeName</code> or <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">Static</code>.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="service-4" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="service permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#service-4"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">Service</code></a> - Determine the address based on the service type.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">If <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">service.type=LoadBalancer</code> use the external IP or hostname of
the service. Use the port set by <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">service.port</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">If <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">service.type=NodePort</code> use the Node IP. The port will be set to
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">service.nodePort</code> so <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">service.nodePort</code> cannot be null.</p></li><li class="mdx-lists_listItem__nkqhg"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">If <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">service.type=ClusterIP</code> use the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ClusterIP</code>. The port will be set to
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">service.port</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="service-type-externalname" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="service type externalname permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#service-type-externalname"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">service.type=ExternalName</code></a> is not supported.</p></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="nodeip" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="nodeip permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#nodeip"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">NodeIP</code></a> - The node IP as provided by the Kubernetes downward API.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="nodename" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="nodename permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#nodename"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">NodeName</code></a> - The name of the node as provided by the Kubernetes downward
API. This is useful if the node names are DNS entries that
are routable from other datacenters.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="static" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="static permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#static"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">Static</code></a> - Use the address hardcoded in <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">meshGateway.wanAddress.static</code>.</p></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="port-3" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-meshgateway-wanaddress-port" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="port permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-meshgateway-wanaddress-port"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">port</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">integer: 443</code>) - Port that gets registered for WAN traffic.
If source is set to &quot;Service&quot; then this setting will have no effect.
Refer to the documentation for source as to which port will be used in that
case.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="static-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-meshgateway-wanaddress-static" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="static permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-meshgateway-wanaddress-static"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">static</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: &quot;&quot;</code>) - If source is set to &quot;Static&quot; then this value will be used as the WAN
address of the mesh gateways. This is useful if you&#x27;ve configured a
DNS entry to point to your mesh gateways.</p></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="service-5" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-meshgateway-service" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="service permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-meshgateway-service"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">service</code></a> - The service option configures the Service that fronts the Gateway Deployment.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="type-6" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-meshgateway-service-type" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="type permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-meshgateway-service-type"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">type</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: LoadBalancer</code>) - Type of service, ex. LoadBalancer, ClusterIP.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="port-4" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-meshgateway-service-port" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="port permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-meshgateway-service-port"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">port</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">integer: 443</code>) - Port that the service will be exposed on.
The targetPort will be set to meshGateway.containerPort.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="nodeport-2" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-meshgateway-service-nodeport" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="nodeport permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-meshgateway-service-nodeport"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">nodePort</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">integer: null</code>) - Optionally set the nodePort value of the service if using a NodePort service.
If not set and using a NodePort service, Kubernetes will automatically assign
a port.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="annotations-16" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-meshgateway-service-annotations" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="annotations permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-meshgateway-service-annotations"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">annotations</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - Annotations to apply to the mesh gateway service.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Example:</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R2p1cbtdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">annotations</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-keyword)"> |</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  &#x27;annotation-key&#x27;: annotation-value</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R2p1cbtdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R3mp1cbtdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li><li class="mdx-lists_listItem__nkqhg"><a id="additionalspec-2" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-meshgateway-service-additionalspec" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="additionalspec permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-meshgateway-service-additionalspec"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">additionalSpec</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - Optional YAML string that will be appended to the Service spec.</p></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="hostnetwork-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-meshgateway-hostnetwork" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="hostnetwork permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-meshgateway-hostnetwork"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">hostNetwork</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: false</code>) - If set to true, gateway Pods will run on the host network.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="dnspolicy-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-meshgateway-dnspolicy" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="dnspolicy permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-meshgateway-dnspolicy"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">dnsPolicy</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - dnsPolicy to use.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="consulservicename" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-meshgateway-consulservicename" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="consulservicename permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-meshgateway-consulservicename"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">consulServiceName</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: mesh-gateway</code>) - Consul service name for the mesh gateways.
Cannot be set to anything other than &quot;mesh-gateway&quot; if
global.acls.manageSystemACLs is true since the ACL token
generated is only for the name &#x27;mesh-gateway&#x27;.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="containerport" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-meshgateway-containerport" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="containerport permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-meshgateway-containerport"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">containerPort</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">integer: 8443</code>) - Port that the gateway will run on inside the container.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="hostport" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-meshgateway-hostport" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="hostport permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-meshgateway-hostport"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">hostPort</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">integer: null</code>) - Optional hostPort for the gateway to be exposed on.
This can be used with wanAddress.port and wanAddress.useNodeIP
to expose the gateways directly from the node.
If hostNetwork is true, this must be null or set to the same port as
containerPort.
NOTE: Cannot set to 8500 or 8502 because those are reserved for the Consul
agent.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="serviceaccount-5" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-meshgateway-serviceaccount" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="serviceaccount permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-meshgateway-serviceaccount"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">serviceAccount</code></a></p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="annotations-17" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-meshgateway-serviceaccount-annotations" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="annotations permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-meshgateway-serviceaccount-annotations"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">annotations</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - This value defines additional annotations for the mesh gateways&#x27; service account. This should be formatted as a
multi-line string.</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R92sbtdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">annotations</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-keyword)"> |</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  &quot;sample/annotation1&quot;: &quot;foo&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  &quot;sample/annotation2&quot;: &quot;bar&quot;</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R92sbtdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":Rep2sbtdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="resources-10" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-meshgateway-resources" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="resources permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-meshgateway-resources"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">resources</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">map</code>) - The resource settings for mesh gateway pods.
NOTE: The use of a YAML string is deprecated. Instead, set directly as a
YAML map.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="initserviceinitcontainer" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-meshgateway-initserviceinitcontainer" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="initserviceinitcontainer permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-meshgateway-initserviceinitcontainer"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">initServiceInitContainer</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">map</code>) - The resource settings for the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">service-init</code> init container.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="affinity-4" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-meshgateway-affinity" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="affinity permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-meshgateway-affinity"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">affinity</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - This value defines the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#affinity-and-anti-affinity">affinity</a>
for mesh gateway pods. It defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">null</code> thereby allowing multiple gateway pods on each node. But if one would prefer
a mode which minimizes risk of the cluster becoming unusable if a node is lost, set this value
to the value in the example below.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Example:</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R1bkbtdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)"> affinity</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-keyword)"> |</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">   podAntiAffinity:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">     requiredDuringSchedulingIgnoredDuringExecution:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">       - labelSelector:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">           matchLabels:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">             app: {{ template &quot;consul.name&quot; . }}</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">             release: &quot;{{ .Release.Name }}&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">             component: mesh-gateway</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">         topologyKey: kubernetes.io/hostname</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R1bkbtdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R1rbkbtdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li><li class="mdx-lists_listItem__nkqhg"><a id="tolerations-6" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-meshgateway-tolerations" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="tolerations permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-meshgateway-tolerations"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tolerations</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - Optional YAML string to specify tolerations.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="topologyspreadconstraints-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-meshgateway-topologyspreadconstraints" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="topologyspreadconstraints permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-meshgateway-topologyspreadconstraints"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">topologySpreadConstraints</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: &quot;&quot;</code>) - Pod topology spread constraints for mesh gateway pods.
This should be a multi-line YAML string matching the
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://kubernetes.io/docs/concepts/workloads/pods/pod-topology-spread-constraints/"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">topologySpreadConstraints</code></a>
array in a Pod Spec.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">This requires K8S &gt;= 1.18 (beta) or 1.19 (stable).</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Example:</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R1k4btdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">topologySpreadConstraints</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-keyword)"> |</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  - maxSkew: 1</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">    topologyKey: topology.kubernetes.io/zone</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">    whenUnsatisfiable: DoNotSchedule</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">    labelSelector:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">      matchLabels:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">        app: {{ template &quot;consul.name&quot; . }}</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">        release: &quot;{{ .Release.Name }}&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">        component: mesh-gateway</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R1k4btdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R1rk4btdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li><li class="mdx-lists_listItem__nkqhg"><a id="nodeselector-6" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-meshgateway-nodeselector" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="nodeselector permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-meshgateway-nodeselector"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">nodeSelector</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - Optional YAML string to specify a nodeSelector config.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="priorityclassname-4" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-meshgateway-priorityclassname" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="priorityclassname permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-meshgateway-priorityclassname"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">priorityClassName</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: &quot;&quot;</code>) - Optional priorityClassName.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="annotations-18" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-meshgateway-annotations" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="annotations permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-meshgateway-annotations"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">annotations</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - Annotations to apply to the mesh gateway deployment.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Example:</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R1csbtdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">annotations</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-keyword)"> |</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  &#x27;annotation-key&#x27;: annotation-value</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R1csbtdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R1rcsbtdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li></ul></li></ul><h3 id="ingressgateways" class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="ingressgateways permalink" href="/consul/docs/reference/k8s/helm#ingressgateways"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a><a id="h-ingressgateways" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-h __compat" href="/consul/docs/reference/k8s/helm#"></a>ingressGateways</h3><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="ingressgateways-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-ingressgateways" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="ingressgateways permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-ingressgateways"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ingressGateways</code></a> - Configuration options for ingress gateways. Default values for all
ingress gateways are defined in <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ingressGateways.defaults</code>. Any of
these values may be overridden in <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ingressGateways.gateways</code> for a
specific gateway with the exception of annotations. Annotations will
include both the default annotations and any additional ones defined
for a specific gateway.
Requirements: consul &gt;= 1.8.0</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="enabled-32" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-ingressgateways-enabled" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="enabled permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-ingressgateways-enabled"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enabled</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: false</code>) - Enable ingress gateway deployment. Requires <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">connectInject.enabled=true</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="loglevel-11" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-ingressgateways-loglevel" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="loglevel permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-ingressgateways-loglevel"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">logLevel</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: &quot;&quot;</code>) - Override global log verbosity level for ingress-gateways-deployment pods. One of &quot;trace&quot;, &quot;debug&quot;, &quot;info&quot;, &quot;warn&quot;, or &quot;error&quot;.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="defaults" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-ingressgateways-defaults" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="defaults permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-ingressgateways-defaults"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">defaults</code></a> - Defaults sets default values for all gateway fields. With the exception
of annotations, defining any of these values in the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">gateways</code> list
will override the default values provided here. Annotations will
include both the default annotations and any additional ones defined
for a specific gateway.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="replicas-3" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-ingressgateways-defaults-replicas" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="replicas permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-ingressgateways-defaults-replicas"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">replicas</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">integer: 1</code>) - Number of replicas for each ingress gateway defined.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="service-6" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-ingressgateways-defaults-service" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="service permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-ingressgateways-defaults-service"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">service</code></a> - The service options configure the Service that fronts the gateway Deployment.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="type-7" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-ingressgateways-defaults-service-type" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="type permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-ingressgateways-defaults-service-type"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">type</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: ClusterIP</code>) - Type of service: LoadBalancer, ClusterIP or NodePort. If using NodePort service
type, you must set the desired nodePorts in the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ports</code> setting below.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="ports-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-ingressgateways-defaults-service-ports" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="ports permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-ingressgateways-defaults-service-ports"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ports</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">array&lt;map&gt;: [{port: 8080, port: 8443}]</code>) - Ports that will be exposed on the service and gateway container. Any
ports defined as ingress listeners on the gateway&#x27;s Consul configuration
entry should be included here. The first port will be used as part of
the Consul service registration for the gateway and be listed in its
SRV record. If using a NodePort service type, you must specify the
desired nodePort for each exposed port.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="annotations-19" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-ingressgateways-defaults-service-annotations" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="annotations permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-ingressgateways-defaults-service-annotations"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">annotations</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - Annotations to apply to the ingress gateway service. Annotations defined
here will be applied to all ingress gateway services in addition to any
service annotations defined for a specific gateway in <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ingressGateways.gateways</code>.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Example:</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R2n18sctdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">annotations</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-keyword)"> |</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  &#x27;annotation-key&#x27;: annotation-value</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R2n18sctdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R3mn18sctdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li><li class="mdx-lists_listItem__nkqhg"><a id="additionalspec-3" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-ingressgateways-defaults-service-additionalspec" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="additionalspec permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-ingressgateways-defaults-service-additionalspec"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">additionalSpec</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - Optional YAML string that will be appended to the Service spec.</p></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="serviceaccount-6" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-ingressgateways-defaults-serviceaccount" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="serviceaccount permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-ingressgateways-defaults-serviceaccount"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">serviceAccount</code></a></p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="annotations-20" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-ingressgateways-defaults-serviceaccount-annotations" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="annotations permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-ingressgateways-defaults-serviceaccount-annotations"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">annotations</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - This value defines additional annotations for the ingress gateways&#x27; service account. This should be formatted
as a multi-line string.</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R91osctdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">annotations</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-keyword)"> |</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  &quot;sample/annotation1&quot;: &quot;foo&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  &quot;sample/annotation2&quot;: &quot;bar&quot;</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R91osctdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":Rep1osctdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="resources-11" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-ingressgateways-defaults-resources" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="resources permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-ingressgateways-defaults-resources"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">resources</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">map</code>) - Resource limits for all ingress gateway pods</p></li><li class="mdx-lists_listItem__nkqhg"><a id="affinity-5" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-ingressgateways-defaults-affinity" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="affinity permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-ingressgateways-defaults-affinity"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">affinity</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - This value defines the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#affinity-and-anti-affinity">affinity</a>
for ingress gateway pods. It defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">null</code> thereby allowing multiple gateway pods on each node. But if one would prefer
a mode which minimizes risk of the cluster becoming unusable if a node is lost, set this value
to the value in the example below.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Example:</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R1aosctdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)"> affinity</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-keyword)"> |</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">   podAntiAffinity:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">     requiredDuringSchedulingIgnoredDuringExecution:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">       - labelSelector:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">           matchLabels:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">             app: {{ template &quot;consul.name&quot; . }}</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">             release: &quot;{{ .Release.Name }}&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">             component: ingress-gateway</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">         topologyKey: kubernetes.io/hostname</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R1aosctdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R1raosctdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li><li class="mdx-lists_listItem__nkqhg"><a id="tolerations-7" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-ingressgateways-defaults-tolerations" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="tolerations permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-ingressgateways-defaults-tolerations"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tolerations</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - Optional YAML string to specify tolerations.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="topologyspreadconstraints-2" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-ingressgateways-defaults-topologyspreadconstraints" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="topologyspreadconstraints permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-ingressgateways-defaults-topologyspreadconstraints"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">topologySpreadConstraints</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: &quot;&quot;</code>) - Pod topology spread constraints for ingress gateway pods.
This should be a multi-line YAML string matching the
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://kubernetes.io/docs/concepts/workloads/pods/pod-topology-spread-constraints/"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">topologySpreadConstraints</code></a>
array in a Pod Spec.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">This requires K8S &gt;= 1.18 (beta) or 1.19 (stable).</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Example:</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R1josctdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">topologySpreadConstraints</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-keyword)"> |</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  - maxSkew: 1</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">    topologyKey: topology.kubernetes.io/zone</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">    whenUnsatisfiable: DoNotSchedule</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">    labelSelector:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">      matchLabels:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">        app: {{ template &quot;consul.name&quot; . }}</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">        release: &quot;{{ .Release.Name }}&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">        component: ingress-gateway</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R1josctdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R1rjosctdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li><li class="mdx-lists_listItem__nkqhg"><a id="nodeselector-7" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-ingressgateways-defaults-nodeselector" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="nodeselector permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-ingressgateways-defaults-nodeselector"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">nodeSelector</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - Optional YAML string to specify a nodeSelector config.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="priorityclassname-5" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-ingressgateways-defaults-priorityclassname" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="priorityclassname permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-ingressgateways-defaults-priorityclassname"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">priorityClassName</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: &quot;&quot;</code>) - Optional priorityClassName.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="terminationgraceperiodseconds" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-ingressgateways-defaults-terminationgraceperiodseconds" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="terminationgraceperiodseconds permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-ingressgateways-defaults-terminationgraceperiodseconds"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">terminationGracePeriodSeconds</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">integer: 10</code>) - Amount of seconds to wait for graceful termination before killing the pod.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="annotations-21" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-ingressgateways-defaults-annotations" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="annotations permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-ingressgateways-defaults-annotations"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">annotations</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - Annotations to apply to the ingress gateway deployment. Annotations defined
here will be applied to all ingress gateway deployments in addition to any
annotations defined for a specific gateway in <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ingressGateways.gateways</code>.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Example:</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R1dosctdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">annotations</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-keyword)"> |</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  &quot;annotation-key&quot;: &#x27;annotation-value&#x27;</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R1dosctdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R1rdosctdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li><li class="mdx-lists_listItem__nkqhg"><a id="consulnamespace" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-ingressgateways-defaults-consulnamespace" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="consulnamespace permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-ingressgateways-defaults-consulnamespace"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">consulNamespace</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: default</code>) - <span class="enterprise-alert_root__mvEIF enterprise-alert_inline__IqpbC"><span class="g-screen-reader-only">Enterprise</span><span aria-hidden="true" class="badge_root___Z7Nt badge_medium__8VGoW badge_outlined-neutral__32YXY enterprise-alert_badge___N2fV"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="var(--token-color-consul-brand)"><path d="M4.737 14.193A7 7 0 008.006 15a6.98 6.98 0 004.735-1.847l-1.66-1.737a4.6 4.6 0 110-6.828l1.66-1.738a7 7 0 10-8.004 11.343zM13.32 11.402a.573.573 0 10.637-.953.573.573 0 00-.637.953z"></path><path d="M7.96 9.517a1.517 1.517 0 11-.012-3.034 1.517 1.517 0 01.013 3.034zM13.978 9.447a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 9.472a.574.574 0 110-1.148.574.574 0 010 1.148zM13.978 7.514a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 7.675a.574.574 0 110-1.148.574.574 0 010 1.148zM13.353 5.585a.574.574 0 10.635-.956.574.574 0 00-.635.956z"></path></g></svg><span>Enterprise</span></span></span> <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">consulNamespace</code> defines the Consul namespace to register
the gateway into. Requires <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">global.enableConsulNamespaces</code> to be true and
Consul Enterprise v1.7+ with a valid Consul Enterprise license.
Note: The Consul namespace MUST exist before the gateway is deployed.</p></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="gateways" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-ingressgateways-gateways" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="gateways permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-ingressgateways-gateways"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">gateways</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">array&lt;map&gt;</code>) - Gateways is a list of gateway objects. The only required field for
each is <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">name</code>, though they can also contain any of the fields in
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">defaults</code>. You must provide a unique name for each ingress gateway. These names
must be unique across different namespaces.
Values defined here override the defaults, except in the case of annotations where both will be applied.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="name-5" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-ingressgateways-gateways-name" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><a aria-label="name permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-ingressgateways-gateways-name"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">name</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: ingress-gateway</code>)</li></ul></li></ul></li></ul><h3 id="terminatinggateways" class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="terminatinggateways permalink" href="/consul/docs/reference/k8s/helm#terminatinggateways"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a><a id="h-terminatinggateways" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-h __compat" href="/consul/docs/reference/k8s/helm#"></a>terminatingGateways</h3><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="terminatinggateways-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-terminatinggateways" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="terminatinggateways permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-terminatinggateways"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">terminatingGateways</code></a> - Configuration options for terminating gateways. Default values for all
terminating gateways are defined in <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">terminatingGateways.defaults</code>. Any of
these values may be overridden in <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">terminatingGateways.gateways</code> for a
specific gateway with the exception of annotations. Annotations will
include both the default annotations and any additional ones defined
for a specific gateway.
Requirements: consul &gt;= 1.8.0</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="enabled-33" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-terminatinggateways-enabled" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="enabled permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-terminatinggateways-enabled"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enabled</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: false</code>) - Enable terminating gateway deployment. Requires <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">connectInject.enabled=true</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="loglevel-12" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-terminatinggateways-loglevel" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="loglevel permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-terminatinggateways-loglevel"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">logLevel</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: &quot;&quot;</code>) - Override global log verbosity level. One of &quot;trace&quot;, &quot;debug&quot;, &quot;info&quot;, &quot;warn&quot;, or &quot;error&quot;.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="defaults-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-terminatinggateways-defaults" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="defaults permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-terminatinggateways-defaults"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">defaults</code></a> - Defaults sets default values for all gateway fields. With the exception
of annotations, defining any of these values in the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">gateways</code> list
will override the default values provided here. Annotations will
include both the default annotations and any additional ones defined
for a specific gateway.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="replicas-4" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-terminatinggateways-defaults-replicas" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="replicas permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-terminatinggateways-defaults-replicas"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">replicas</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">integer: 1</code>) - Number of replicas for each terminating gateway defined.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="extravolumes-2" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-terminatinggateways-defaults-extravolumes" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="extravolumes permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-terminatinggateways-defaults-extravolumes"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">extraVolumes</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">array&lt;map&gt;</code>) - A list of extra volumes to mount. These will be exposed to Consul in the path <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/consul/userconfig/&lt;name&gt;/</code>.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Example:</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R198sdtdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">extraVolumes</span><span style="color:var(--hds-code-block-color-keyword)">:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">  - </span><span style="color:var(--hds-code-block-color-keyword)">type</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> secret</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">    name</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> my-secret</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">    items</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-comment)"> # optional items array</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-token)">      - </span><span style="color:var(--hds-code-block-color-keyword)">key</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> key</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">        path</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> path</span><span style="color:var(--hds-code-block-color-comment)"> # secret will now mount to /consul/userconfig/my-secret/path</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R198sdtdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R1r98sdtdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li><li class="mdx-lists_listItem__nkqhg"><a id="resources-12" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-terminatinggateways-defaults-resources" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="resources permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-terminatinggateways-defaults-resources"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">resources</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">map</code>) - Resource limits for all terminating gateway pods</p></li><li class="mdx-lists_listItem__nkqhg"><a id="affinity-6" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-terminatinggateways-defaults-affinity" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="affinity permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-terminatinggateways-defaults-affinity"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">affinity</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - This value defines the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#affinity-and-anti-affinity">affinity</a>
for terminating gateway pods. It defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">null</code> thereby allowing multiple gateway pods on each node. But if one would prefer
a mode which minimizes risk of the cluster becoming unusable if a node is lost, set this value
to the value in the example below.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Example:</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R1a8sdtdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)"> affinity</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-keyword)"> |</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">   podAntiAffinity:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">     requiredDuringSchedulingIgnoredDuringExecution:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">       - labelSelector:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">           matchLabels:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">             app: {{ template &quot;consul.name&quot; . }}</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">             release: &quot;{{ .Release.Name }}&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">             component: terminating-gateway</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">         topologyKey: kubernetes.io/hostname</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R1a8sdtdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R1ra8sdtdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li><li class="mdx-lists_listItem__nkqhg"><a id="tolerations-8" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-terminatinggateways-defaults-tolerations" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="tolerations permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-terminatinggateways-defaults-tolerations"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tolerations</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - Optional YAML string to specify tolerations.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="topologyspreadconstraints-3" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-terminatinggateways-defaults-topologyspreadconstraints" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="topologyspreadconstraints permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-terminatinggateways-defaults-topologyspreadconstraints"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">topologySpreadConstraints</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: &quot;&quot;</code>) - Pod topology spread constraints for terminating gateway pods.
This should be a multi-line YAML string matching the
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://kubernetes.io/docs/concepts/workloads/pods/pod-topology-spread-constraints/"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">topologySpreadConstraints</code></a>
array in a Pod Spec.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">This requires K8S &gt;= 1.18 (beta) or 1.19 (stable).</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Example:</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R1j8sdtdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">topologySpreadConstraints</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-keyword)"> |</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  - maxSkew: 1</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">    topologyKey: topology.kubernetes.io/zone</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">    whenUnsatisfiable: DoNotSchedule</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">    labelSelector:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">      matchLabels:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">        app: {{ template &quot;consul.name&quot; . }}</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">        release: &quot;{{ .Release.Name }}&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">        component: terminating-gateway</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R1j8sdtdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R1rj8sdtdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li><li class="mdx-lists_listItem__nkqhg"><a id="nodeselector-8" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-terminatinggateways-defaults-nodeselector" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="nodeselector permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-terminatinggateways-defaults-nodeselector"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">nodeSelector</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - Optional YAML string to specify a nodeSelector config.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="priorityclassname-6" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-terminatinggateways-defaults-priorityclassname" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="priorityclassname permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-terminatinggateways-defaults-priorityclassname"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">priorityClassName</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: &quot;&quot;</code>) - Optional priorityClassName.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="annotations-22" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-terminatinggateways-defaults-annotations" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="annotations permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-terminatinggateways-defaults-annotations"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">annotations</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - Annotations to apply to the terminating gateway deployment. Annotations defined
here will be applied to all terminating gateway deployments in addition to any
annotations defined for a specific gateway in <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">terminatingGateways.gateways</code>.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Example:</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R1cosdtdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">annotations</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-keyword)"> |</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  &#x27;annotation-key&#x27;: annotation-value</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R1cosdtdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R1rcosdtdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li><li class="mdx-lists_listItem__nkqhg"><a id="serviceaccount-7" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-terminatinggateways-defaults-serviceaccount" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="serviceaccount permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-terminatinggateways-defaults-serviceaccount"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">serviceAccount</code></a></p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="annotations-23" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-terminatinggateways-defaults-serviceaccount-annotations" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="annotations permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-terminatinggateways-defaults-serviceaccount-annotations"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">annotations</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - This value defines additional annotations for the terminating gateways&#x27; service account. This should be
formatted as a multi-line string.</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R958sdtdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">annotations</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-keyword)"> |</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  &quot;sample/annotation1&quot;: &quot;foo&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  &quot;sample/annotation2&quot;: &quot;bar&quot;</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R958sdtdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":Rep58sdtdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="consulnamespace-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-terminatinggateways-defaults-consulnamespace" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="consulnamespace permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-terminatinggateways-defaults-consulnamespace"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">consulNamespace</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: default</code>) - <span class="enterprise-alert_root__mvEIF enterprise-alert_inline__IqpbC"><span class="g-screen-reader-only">Enterprise</span><span aria-hidden="true" class="badge_root___Z7Nt badge_medium__8VGoW badge_outlined-neutral__32YXY enterprise-alert_badge___N2fV"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="var(--token-color-consul-brand)"><path d="M4.737 14.193A7 7 0 008.006 15a6.98 6.98 0 004.735-1.847l-1.66-1.737a4.6 4.6 0 110-6.828l1.66-1.738a7 7 0 10-8.004 11.343zM13.32 11.402a.573.573 0 10.637-.953.573.573 0 00-.637.953z"></path><path d="M7.96 9.517a1.517 1.517 0 11-.012-3.034 1.517 1.517 0 01.013 3.034zM13.978 9.447a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 9.472a.574.574 0 110-1.148.574.574 0 010 1.148zM13.978 7.514a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 7.675a.574.574 0 110-1.148.574.574 0 010 1.148zM13.353 5.585a.574.574 0 10.635-.956.574.574 0 00-.635.956z"></path></g></svg><span>Enterprise</span></span></span> <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">consulNamespace</code> defines the Consul namespace to register
the gateway into. Requires <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">global.enableConsulNamespaces</code> to be true and
Consul Enterprise v1.7+ with a valid Consul Enterprise license.
Note: The Consul namespace MUST exist before the gateway is deployed.</p></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="gateways-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-terminatinggateways-gateways" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="gateways permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-terminatinggateways-gateways"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">gateways</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">array&lt;map&gt;</code>) - Gateways is a list of gateway objects. The only required field for
each is <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">name</code>, though they can also contain any of the fields in
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">defaults</code>. Values defined here override the defaults except in the
case of annotations where both will be applied.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="name-6" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-terminatinggateways-gateways-name" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><a aria-label="name permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-terminatinggateways-gateways-name"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">name</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: terminating-gateway</code>)</li></ul></li></ul></li></ul><h3 id="webhookcertmanager" class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="webhookcertmanager permalink" href="/consul/docs/reference/k8s/helm#webhookcertmanager"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a><a id="h-webhookcertmanager" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-h __compat" href="/consul/docs/reference/k8s/helm#"></a>webhookCertManager</h3><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="webhookcertmanager-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-webhookcertmanager" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="webhookcertmanager permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-webhookcertmanager"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">webhookCertManager</code></a> - Configuration settings for the webhook-cert-manager
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">webhook-cert-manager</code> ensures that cert bundles are up to date for the mutating webhook.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="tolerations-9" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-webhookcertmanager-tolerations" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="tolerations permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-webhookcertmanager-tolerations"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tolerations</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - Toleration Settings
This should be a multi-line string matching the Toleration array
in a PodSpec.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="nodeselector-9" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-webhookcertmanager-nodeselector" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="nodeselector permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-webhookcertmanager-nodeselector"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">nodeSelector</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - This value defines <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#nodeselector"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">nodeSelector</code></a>
labels for the webhook-cert-manager pod assignment, formatted as a multi-line string.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Example:</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R5ketdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">nodeSelector</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-keyword)"> |</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  beta.kubernetes.io/arch: amd64</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R5ketdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R7dketdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li></ul></li></ul><h3 id="prometheus" class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="prometheus permalink" href="/consul/docs/reference/k8s/helm#prometheus"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a><a id="h-prometheus" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-h __compat" href="/consul/docs/reference/k8s/helm#"></a>prometheus</h3><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="prometheus-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-prometheus" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="prometheus permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-prometheus"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">prometheus</code></a> - Configures a demo Prometheus installation.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="enabled-34" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-prometheus-enabled" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><a aria-label="enabled permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-prometheus-enabled"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enabled</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: false</code>) - When true, the Helm chart will install a demo Prometheus server instance
alongside Consul.</li></ul></li></ul><h3 id="tests" class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="tests permalink" href="/consul/docs/reference/k8s/helm#tests"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a><a id="h-tests" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-h __compat" href="/consul/docs/reference/k8s/helm#"></a>tests</h3><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="tests-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-tests" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="tests permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-tests"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tests</code></a> - Control whether a test Pod manifest is generated when running helm template.
When using helm install, the test Pod is not submitted to the cluster so this
is only useful when running helm template.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="enabled-35" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-tests-enabled" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><a aria-label="enabled permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-tests-enabled"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enabled</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: true</code>)</li></ul></li></ul><h3 id="telemetrycollector" class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="telemetrycollector permalink" href="/consul/docs/reference/k8s/helm#telemetrycollector"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a><a id="h-telemetrycollector" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-h __compat" href="/consul/docs/reference/k8s/helm#"></a>telemetryCollector</h3><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="telemetrycollector-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-telemetrycollector" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="telemetrycollector permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-telemetrycollector"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">telemetryCollector</code></a></p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="enabled-36" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-telemetrycollector-enabled" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="enabled permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-telemetrycollector-enabled"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enabled</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boolean: false</code>) - Enables the consul-telemetry-collector deployment</p></li><li class="mdx-lists_listItem__nkqhg"><a id="loglevel-13" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-telemetrycollector-loglevel" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="loglevel permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-telemetrycollector-loglevel"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">logLevel</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: &quot;&quot;</code>) - Override global log verbosity level. One of &quot;trace&quot;, &quot;debug&quot;, &quot;info&quot;, &quot;warn&quot;, or &quot;error&quot;.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="image-5" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-telemetrycollector-image" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="image permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-telemetrycollector-image"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">image</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: hashicorp/consul-telemetry-collector:0.0.2</code>) - The name of the Docker image (including any tag) for the containers running
the consul-telemetry-collector</p></li><li class="mdx-lists_listItem__nkqhg"><a id="resources-13" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-telemetrycollector-resources" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="resources permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-telemetrycollector-resources"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">resources</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">map</code>) - The resource settings for consul-telemetry-collector pods.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="replicas-5" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-telemetrycollector-replicas" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="replicas permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-telemetrycollector-replicas"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">replicas</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">integer: 1</code>) - This value sets the number of consul-telemetry-collector replicas to deploy.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="customexporterconfig" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-telemetrycollector-customexporterconfig" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="customexporterconfig permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-telemetrycollector-customexporterconfig"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">customExporterConfig</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - This value defines additional configuration for the telemetry collector. It should be formatted as a multi-line
json blob string</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":Rhkhtdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">customExporterConfig</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-keyword)"> |</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  {&quot;http_collector_endpoint&quot;: &quot;other-otel-collector&quot;}</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":Rhkhtdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":Rthkhtdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li><li class="mdx-lists_listItem__nkqhg"><a id="service-7" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-telemetrycollector-service" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="service permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-telemetrycollector-service"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">service</code></a></p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="annotations-24" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-telemetrycollector-service-annotations" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="annotations permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-telemetrycollector-service-annotations"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">annotations</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - This value defines additional annotations for the telemetry-collector&#x27;s service account. This should be formatted as a multi-line
string.</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R4hshtdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">annotations</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-keyword)"> |</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  &quot;sample/annotation1&quot;: &quot;foo&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  &quot;sample/annotation2&quot;: &quot;bar&quot;</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R4hshtdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R7chshtdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="serviceaccount-8" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-telemetrycollector-serviceaccount" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="serviceaccount permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-telemetrycollector-serviceaccount"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">serviceAccount</code></a></p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="annotations-25" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-telemetrycollector-serviceaccount-annotations" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="annotations permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-telemetrycollector-serviceaccount-annotations"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">annotations</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - This value defines additional annotations for the telemetry-collector&#x27;s service account. This should be formatted
as a multi-line string.</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":R4i4htdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">annotations</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-keyword)"> |</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  &quot;sample/annotation1&quot;: &quot;foo&quot;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-string)">  &quot;sample/annotation2&quot;: &quot;bar&quot;</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":R4i4htdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":R7ci4htdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="initcontainer-1" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-telemetrycollector-initcontainer" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="initcontainer permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-telemetrycollector-initcontainer"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">initContainer</code></a></p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="resources-14" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-telemetrycollector-initcontainer-resources" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><a aria-label="resources permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-telemetrycollector-initcontainer-resources"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">resources</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">map</code>) - The resource settings for consul-telemetry-collector initContainer.</li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="nodeselector-10" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-telemetrycollector-nodeselector" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="nodeselector permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-telemetrycollector-nodeselector"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">nodeSelector</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: null</code>) - Optional YAML string to specify a nodeSelector config.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="priorityclassname-7" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-telemetrycollector-priorityclassname" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="priorityclassname permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-telemetrycollector-priorityclassname"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">priorityClassName</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">string: &quot;&quot;</code>) - Optional priorityClassName.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="extraenvironmentvars-2" aria-hidden="true" tabindex="-1" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" href="/consul/docs/reference/k8s/helm#"></a><a id="v-telemetrycollector-extraenvironmentvars" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" href="/consul/docs/reference/k8s/helm#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="extraenvironmentvars permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" href="/consul/docs/reference/k8s/helm#v-telemetrycollector-extraenvironmentvars"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">extraEnvironmentVars</code></a> (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">map</code>) - A list of extra environment variables to set within the deployment.
These could be used to include proxy settings required for cloud auto-join
feature, in case kubernetes cluster is behind egress http proxies. Additionally,
it could be used to configure custom consul parameters.</p></li></ul></li></ul><h2 id="helm-chart-examples" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="helm chart examples permalink" href="/consul/docs/reference/k8s/helm#helm-chart-examples"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Helm Chart Examples</h2><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The below <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">values.yaml</code> results in a single server Consul cluster with a <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">LoadBalancer</code> to allow external access to the UI and API.</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":Rjddal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-comment)"># values.yaml</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">server</span><span style="color:var(--hds-code-block-color-keyword)">:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">  replicas</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-constant)"> 1</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">  bootstrapExpect</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-constant)"> 1</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last">
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">ui</span><span style="color:var(--hds-code-block-color-keyword)">:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">  service</span><span style="color:var(--hds-code-block-color-keyword)">:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">    type</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> LoadBalancer</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":Rjddal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":Rtjddal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The below <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">values.yaml</code> results in a three server Consul Enterprise cluster with 100GB of storage and automatic connect injection.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Note, this would require a secret that contains the enterprise license key.</p><div class="hds-code-block hds-code-block--theme-dark language-yaml hds-code-block--is-standalone language-yaml mdx-code-blocks_codeBlockMargin__xk4yr"><div class="hds-code-block__header"></div><div class="hds-code-block__body"><pre class="hds-code-block__code" id=":Rktdal6j6:" style="max-height:auto"><code><span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-comment)"># values.yaml</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">global</span><span style="color:var(--hds-code-block-color-keyword)">:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">  image</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> &#x27;hashicorp/consul-enterprise:1.4.2-ent&#x27;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last">
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">server</span><span style="color:var(--hds-code-block-color-keyword)">:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">  replicas</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-constant)"> 3</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">  bootstrapExpect</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-constant)"> 3</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">  enterpriseLicense</span><span style="color:var(--hds-code-block-color-keyword)">:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">    secretName</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> &#x27;consul-license&#x27;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">    secretKey</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> &#x27;key&#x27;</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">  storage</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-string)"> 100Gi</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">  connect</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-constant)"> true</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last">
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">client</span><span style="color:var(--hds-code-block-color-keyword)">:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">  grpc</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-constant)"> true</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last">
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">connectInject</span><span style="color:var(--hds-code-block-color-keyword)">:</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">  enabled</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-constant)"> true</span></span>
</span><span class="line-of-code line-highlight-first line-highlight-last"><span class="line"><span style="color:var(--hds-code-block-color-keyword)">  default</span><span style="color:var(--hds-code-block-color-keyword)">:</span><span style="color:var(--hds-code-block-color-constant)"> false</span></span>
</span></span></code></pre><button class="hds-button hds-button--size-small hds-button--color-secondary-white hds-button--is-icon-only hds-copy-button hds-button--size-small hds-copy-button--status-idle hds-code-block__copy-button" aria-label="Copy" aria-describedby=":Rktdal6j6:"><div class="hds-button__icon"><svg class="flight-icon flight-icon-clipboard-copy" aria-hidden="true" fill="currentColor" id=":Rtktdal6j6:" width="100%" height="100%" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><use href="/_next/static/media/svg-sprite.8ce6dd4a.svg#flight-clipboard-copy-16"></use></svg></div></button></div></div><h2 id="customizing-the-helm-chart" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="customizing the helm chart permalink" href="/consul/docs/reference/k8s/helm#customizing-the-helm-chart"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Customizing the Helm Chart</h2><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Consul within Kubernetes is highly configurable and the Helm chart contains dozens
of the most commonly used configuration options.
If you need to extend the Helm chart with additional options, we recommend using a third-party tool,
such as <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://github.com/kubernetes-sigs/kustomize">kustomize</a> or <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" href="https://github.com/replicatedhq/ship">ship</a>.
Note that the Helm chart heavily relies on Helm lifecycle hooks, and so features like bootstrapping ACLs or TLS
will not work as expected. Additionally, we can make changes to the internal implementation (e.g., renaming template files) that
may be backward incompatible with such customizations.</p></div></div><a href="https://github.com/hashicorp/consul/blob/main/website/../content/docs/reference/k8s/helm.mdx" target="_blank" class="edit-on-github-link_editLink__AsG8Z sidebar-sidecar-layout_editOnGithubLink__SDraB" rel="noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="edit-on-github-link_editLinkIcon__wMtY9"><path fill="currentColor" fill-rule="evenodd" d="M8 1C4.133 1 1 4.13 1 7.993c0 3.09 2.006 5.71 4.787 6.635.35.064.478-.152.478-.337 0-.166-.006-.606-.01-1.19-1.947.423-2.357-.937-2.357-.937-.319-.808-.778-1.023-.778-1.023-.635-.434.048-.425.048-.425.703.05 1.073.72 1.073.72.624 1.07 1.638.76 2.037.582.063-.452.244-.76.444-.935-1.554-.176-3.188-.776-3.188-3.456 0-.763.273-1.388.72-1.876-.072-.177-.312-.888.07-1.85 0 0 .586-.189 1.924.716A6.711 6.711 0 018 4.381c.595.003 1.194.08 1.753.236 1.336-.905 1.923-.717 1.923-.717.382.963.142 1.674.07 1.85.448.49.72 1.114.72 1.877 0 2.686-1.638 3.278-3.197 3.45.251.216.475.643.475 1.296 0 .934-.009 1.688-.009 1.918 0 .187.127.404.482.336A6.996 6.996 0 0015 7.993 6.997 6.997 0 008 1z" clip-rule="evenodd"></path></svg>Edit this page on GitHub</a></main><div class="sidebar-sidecar-layout_sidecarPosition__WtTq0"><div class="sidebar-sidecar-layout_sidecarTopSlot__qRAEI"></div><div class="sidecar-scroll-container_root__a8nIj"><div class="sidecar-scroll-container_scrollContainer__Dw9id"><div><nav aria-labelledby="react-aria-1771"><p id="react-aria-1771" class="outline-nav_navLabel__HrjQb hds-typography-body-100">On this page:</p><ol class="outline-nav_listRoot__Sm1fr"><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/consul/docs/reference/k8s/helm#helm-chart-reference">Helm Chart Reference</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/consul/docs/reference/k8s/helm#top-level-stanzas">Top-Level Stanzas</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/consul/docs/reference/k8s/helm#all-values">All Values</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/consul/docs/reference/k8s/helm#helm-chart-examples">Helm Chart Examples</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" href="/consul/docs/reference/k8s/helm#customizing-the-helm-chart">Customizing the Helm Chart</a></li></ol></nav></div></div></div></div></div></div></div></div></div><div class="base-layout_footer__HGqK8 base-layout_showFooterTopBorder__4_CwH"><footer class="footer_root__qJO_k"><span class="footer_logoAndSwitcher__CJkN3"><a href="https://www.hashicorp.com/" aria-label="Go to HashiCorp home page" class="footer_logo__pe9i3 g-focus-ring-from-box-shadow"><div><svg xmlns="http://www.w3.org/2000/svg" width="266" height="65" fill="none" viewBox="0 0 266 65"><path fill="#000" d="M71.823 62.023c-.817 0-1.171-.519-1.253-1.174h-.081c-.3.874-1.09 1.365-2.097 1.365-1.524 0-2.423-.846-2.423-2.185 0-1.338.98-2.13 3.077-2.13h1.443v-.71c0-1.038-.572-1.584-1.716-1.584-1.143 0-1.443.41-1.851 1.093l-.68-.629c.38-.764 1.252-1.42 2.559-1.42 1.306 0 2.777.929 2.777 2.458v3.987h.816v.984h-.626zm-1.307-2.103v-1.202h-1.498c-1.28 0-1.85.383-1.85 1.093v.3c0 .71.57 1.12 1.442 1.12.871 0 1.906-.573 1.906-1.31M74.137 62.023v-7.265h1.116v1.175h.055c.354-.82.98-1.366 2.042-1.366 1.062 0 2.423 1.01 2.423 2.786v4.67h-1.117v-4.452c0-1.283-.571-1.966-1.633-1.966s-1.77.464-1.77 1.393v5.052h-1.116zM84.646 62.023v-.983h1.389v-7.866h-1.389v-.983h3.92v.983h-1.388v7.866h1.389v.983zM90.8 52.191h4.029c1.606 0 2.614 1.01 2.614 2.54s-.953 1.994-1.58 2.076v.082c.708.054 1.934.655 1.934 2.294 0 1.638-1.09 2.84-2.532 2.84h-4.466zm1.17 4.26h2.723c.925 0 1.497-.49 1.497-1.365v-.492c0-.873-.572-1.365-1.497-1.365H91.97zm0 4.534h2.913c1.008 0 1.634-.546 1.634-1.53v-.49c0-.984-.626-1.53-1.634-1.53H91.97v3.523zM100.056 52.191h1.579l2.805 5.298h.081l2.832-5.298h1.525v9.832h-1.144v-8.275h-.082l-.816 1.639-2.342 4.287-2.341-4.287-.817-1.64h-.082v8.276h-1.143v-9.832zM113.86 57.162c0-3.278 1.47-5.135 3.948-5.135 2.477 0 2.75.792 3.376 2.158l-.953.573c-.381-1.01-1.198-1.666-2.423-1.666s-2.696 1.339-2.696 3.36v1.474c0 2.021 1.008 3.25 2.696 3.25 1.688 0 2.096-.71 2.505-1.775l.953.601c-.627 1.393-1.825 2.24-3.431 2.24-2.478 0-3.948-1.748-3.948-5.026zM122.491 58.39c0-2.32 1.334-3.796 3.267-3.796 1.933 0 3.267 1.503 3.267 3.797 0 2.294-1.334 3.796-3.267 3.796-1.933 0-3.267-1.502-3.267-3.796m5.336.52v-1.038c0-1.53-.844-2.294-2.069-2.294s-2.069.737-2.069 2.294v1.038c0 1.53.844 2.294 2.069 2.294s2.069-.738 2.069-2.294M130.958 62.023v-7.265h1.116v1.175h.055c.327-.738.817-1.366 1.96-1.366 1.144 0 1.824.437 2.205 1.475h.028c.272-.792.98-1.475 2.205-1.475s2.369 1.01 2.369 2.786v4.67h-1.117v-4.452c0-1.283-.49-1.966-1.579-1.966s-1.688.464-1.688 1.393v5.052h-1.116V57.6c0-1.284-.49-1.967-1.552-1.967s-1.715.465-1.715 1.393v5.053h-1.116zM143.292 54.758h1.116v1.175h.054c.381-.929 1.117-1.366 2.124-1.366 1.824 0 2.94 1.475 2.94 3.796 0 2.322-1.143 3.797-2.94 3.797s-1.688-.465-2.124-1.366h-.054v3.987h-1.116V54.704zm5.036 4.26V57.79c0-1.284-.789-2.158-2.042-2.158-1.252 0-1.878.601-1.878 1.393v2.704c0 .956.844 1.475 1.878 1.475 1.035 0 2.042-.874 2.042-2.158zM156.768 62.023c-.816 0-1.17-.519-1.252-1.174h-.082c-.299.874-1.089 1.365-2.096 1.365-1.525 0-2.423-.846-2.423-2.185 0-1.338.98-2.13 3.076-2.13h1.443v-.71c0-1.038-.571-1.584-1.715-1.584-1.143 0-1.443.41-1.851 1.093l-.681-.629c.381-.764 1.253-1.42 2.559-1.42 1.307 0 2.777.929 2.777 2.458v3.987h.817v.984h-.626zm-1.334-2.103v-1.202h-1.497c-1.28 0-1.851.383-1.851 1.093v.3c0 .71.571 1.12 1.443 1.12.871 0 1.905-.573 1.905-1.31M159.056 62.023v-7.265h1.116v1.175h.054c.354-.82.98-1.366 2.042-1.366 1.062 0 2.423 1.01 2.423 2.786v4.67h-1.116v-4.452c0-1.283-.572-1.966-1.633-1.966-1.062 0-1.77.464-1.77 1.393v5.052h-1.116zM171.471 54.758h1.116l-3.24 8.958c-.327.874-.626 1.12-1.688 1.12h-.572v-.983h1.144l.544-1.557-2.722-7.538h1.116l1.742 4.944.327 1.174h.082l.381-1.174 1.742-4.944zM66.132 12.863h5.582v12.045H84.51V12.863h5.636V42.36H84.51V29.96H71.714v12.4h-5.582zM93.74 36.651c0-4.424 3.104-5.899 6.888-6.8l6.398-1.475v-.519c0-2.157-1.388-3.496-3.621-3.496-2.232 0-3.54 1.23-3.948 3.25l-4.791-.546c.707-4.042 4.11-6.664 8.957-6.664 4.846 0 8.821 3.387 8.821 8.303v8.63c0 .546.164.71.545.71h1.17v4.288h-3.267c-2.069 0-2.995-.683-2.995-2.349 0-1.666.082-1.092.3-1.857l-.463-.164c-1.525 3.277-3.73 4.725-6.888 4.725s-7.106-2.403-7.106-6.063zm8.549 2.103c2.777 0 4.737-2.02 4.737-5.216v-1.693l-4.574 1.092c-2.314.546-3.267 1.338-3.267 3.113 0 1.776 1.225 2.704 3.104 2.704M116.147 36.542l5.119-1.01c.544 2.266 2.341 3.413 4.737 3.413s3.73-.983 3.73-2.621c0-1.64-1.606-1.994-4.629-2.54-3.811-.601-8.766-1.311-8.766-6.61 0-5.298 3.403-6.8 8.957-6.8s8.74 2.076 9.611 6.227l-5.173.847c-.463-2.104-2.178-3.196-4.465-3.196s-3.649 1.065-3.649 2.485 1.634 1.994 4.656 2.54c3.785.601 8.74 1.311 8.74 6.61 0 5.298-3.376 6.964-9.039 6.964s-8.958-2.103-9.883-6.336zM143.836 42.387h-5.472V12.044h5.472v9.45c0 1.092-.218 2.157-.517 3.714l.517.164c1.307-3.114 3.267-4.943 6.943-4.943 3.675 0 7.133 2.95 7.133 7.974v13.984h-5.473v-13.82c0-2.458-1.225-3.796-3.648-3.796s-4.955 2.103-4.955 5.817zM169.129 36.924c0 .847.3 1.093.926 1.093h2.396v4.342h-4.955c-2.478 0-3.812-1.393-3.812-3.96V25.263h-3.022V20.92h8.494v16.004zm-6.207-21.74c0-1.856 1.524-3.386 3.321-3.386 1.797 0 3.322 1.53 3.322 3.387a3.305 3.305 0 0 1-3.322 3.332 3.305 3.305 0 0 1-3.321-3.332M174.248 27.639c0-8.85 5.799-15.24 14.185-15.24 8.385 0 11.897 4.097 13.177 9.64l-5.554 1.34c-1.062-3.879-3.621-6.064-7.651-6.064-4.029 0-8.358 4.26-8.358 10.324 0 6.063 3.376 10.323 8.576 10.323 5.2 0 6.643-2.24 7.705-6.363l5.255.6c-1.253 6.61-6.126 10.707-13.014 10.707-6.889 0-14.321-6.419-14.321-15.24zM203.87 31.626c0-6.527 4.574-11.197 10.918-11.197 6.343 0 10.917 4.67 10.917 11.197 0 6.527-4.574 11.252-10.917 11.252-6.344 0-10.918-4.725-10.918-11.252m16.39 0c0-4.042-2.151-6.746-5.472-6.746-3.322 0-5.473 2.704-5.473 6.746s2.178 6.8 5.473 6.8c3.294 0 5.472-2.703 5.472-6.8M229.163 20.92h5.037v.847c0 1.147-.055 2.075-.381 3.796l.517.137c.79-2.813 2.26-4.752 5.717-4.752h1.552v5.325h-2.232c-3.077 0-4.738 1.857-4.738 5.271v10.87h-5.472v-21.44zM244.165 20.92h5.39v.983c0 .984-.081 1.72-.381 3.469l.517.136c1.307-3.413 3.73-5.052 6.889-5.052 5.2 0 9.338 4.288 9.338 11.197 0 6.91-4.111 11.253-9.338 11.253-5.228 0-5.473-1.64-6.807-5.108l-.463.164c.245 1.694.327 2.485.327 3.414v9.64h-5.472zm16.308 10.706c0-4.178-2.26-6.746-5.472-6.746-3.213 0-5.473 2.568-5.473 6.746 0 4.179 2.26 6.8 5.473 6.8 3.212 0 5.472-2.567 5.472-6.8M21.781 0 0 12.618v30.26l8.168 4.725v-30.26L21.78 9.476z"/><path fill="#000" d="M30.466 0v24.116h-8.685v-9.013l-8.195 4.752v30.889l8.195 4.724V31.435h8.685v8.958l8.195-4.752V4.752z"/><path fill="#000" d="m30.466 55.496 21.781-12.618v-30.26l-8.195-4.725v30.26L30.466 46.02z"/></svg></div></a><span class="footer_themeSwitcher__CPJxw hds-font-weight-regular"><label class="theme-switcher_label__7Boh2 hds-typography-body-200" for="react-aria-1777">Theme</label></span></span><ul class="footer_links__t81SU"><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="/certifications"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Certifications</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="https://status.hashicorp.com"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">System Status</span></a></li><li><button class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Cookie Manager</span></button></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="https://www.hashicorp.com/terms-of-service"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Terms of Use</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="https://www.hashicorp.com/trust/security"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Security</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="https://www.hashicorp.com/privacy"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Privacy</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="https://www.hashicorp.com/trademark-policy"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Trademark Policy</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="https://www.hashicorp.com/trade-controls"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Trade Controls</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" href="https://www.hashicorp.com/trust/accessibility"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Accessibility</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" aria-describedby="opens-in-new-tab-label-react-aria-1786" target="_blank" href="https://forms.gle/fnHLuNahLEhjuKvE6"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Give Feedback</span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path d="M9 .75A.75.75 0 019.75 0h4.5c.206 0 .393.083.529.218l.001.002.002.001A.748.748 0 0115 .75v4.5a.75.75 0 01-1.5 0V2.56L7.28 8.78a.75.75 0 01-1.06-1.06l6.22-6.22H9.75A.75.75 0 019 .75z"></path><path d="M3.25 3.5a.75.75 0 00-.75.75v7.5c0 .414.336.75.75.75h7.5a.75.75 0 00.75-.75v-4a.75.75 0 011.5 0v4A2.25 2.25 0 0110.75 14h-7.5A2.25 2.25 0 011 11.75v-7.5A2.25 2.25 0 013.25 2h4a.75.75 0 010 1.5h-4z"></path></g></svg></a><span class="g-screen-reader-only" id="opens-in-new-tab-label-react-aria-1786">(opens in new tab)</span></li></ul></footer></div></div></div><div style="position:fixed;z-index:99;top:16px;left:16px;right:16px;bottom:16px;pointer-events:none;inset:24px"></div><!--$--><!--/$--></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"layoutProps":{"breadcrumbLinks":[{"title":"Developer","url":"/"},{"title":"Consul","url":"/consul"},{"title":"Documentation","url":"/consul/docs","isCurrentPage":false},{"title":"Reference"},{"title":"Consul on Kubernetes"},{"title":"Consul Helm chart","url":"/consul/docs/reference/k8s/helm","isCurrentPage":true}],"sidebarNavDataLevels":[{"levelButtonProps":{"levelDownButtonText":"Consul Home"},"menuItems":[{"leadingIconName":"home","title":"HashiCorp Developer","href":"/"},{"leadingIconName":"guide","title":"Tutorials","href":"/tutorials"},{"divider":true},{"heading":"Products"},{"leadingIconName":"hcp","title":"HashiCorp Cloud Platform","href":"/hcp"},{"leadingIconName":"terraform","title":"Terraform","href":"/terraform"},{"leadingIconName":"packer","title":"Packer","href":"/packer"},{"leadingIconName":"consul","title":"Consul","href":"/consul"},{"leadingIconName":"vault","title":"Vault","href":"/vault"},{"leadingIconName":"boundary","title":"Boundary","href":"/boundary"},{"leadingIconName":"nomad","title":"Nomad","href":"/nomad"},{"leadingIconName":"waypoint","title":"Waypoint","href":"/waypoint"},{"leadingIconName":"vagrant","title":"Vagrant","href":"/vagrant"}],"showFilterInput":false,"title":"Main Menu"},{"levelButtonProps":{"levelUpButtonText":"Main Menu","levelDownButtonText":"Previous"},"menuItems":[{"title":"Consul","fullPath":"/consul","theme":"consul"},{"title":"Install","fullPath":"/consul/install"},{"title":"Tutorials","fullPath":"/consul/tutorials"},{"title":"Documentation","fullPath":"/consul/docs"},{"title":"API","fullPath":"/consul/api-docs"},{"title":"CLI","fullPath":"/consul/commands"}],"showFilterInput":false,"title":"Consul","visuallyHideTitle":true},{"backToLinkProps":{"text":"Consul Home","href":"/consul"},"levelButtonProps":{"levelUpButtonText":"Consul Home"},"menuItems":[{"title":"Documentation","fullPath":"/consul/docs","theme":"consul"},{"heading":"Get started","id":"sidebar-nav-item-0"},{"title":"What is Consul?","path":"intro","filePath":"../content/docs/intro.mdx","fullPath":"/consul/docs/intro","id":"sidebar-nav-item-1"},{"title":"Quickstart","routes":[{"title":"Consul on VMs","href":null,"fullPath":"/consul/tutorials/get-started-vms","id":"sidebar-nav-item-3","path":"/consul/tutorials/get-started-vms"},{"title":"Consul on Kubernetes","href":null,"fullPath":"/consul/tutorials/get-started-kubernetes","id":"sidebar-nav-item-4","path":"/consul/tutorials/get-started-kubernetes"},{"title":"HCP Consul Dedicated","href":null,"fullPath":"/consul/tutorials/get-started-hcp","id":"sidebar-nav-item-5","path":"/consul/tutorials/get-started-hcp"}],"id":"sidebar-nav-item-2"},{"title":"Architecture","routes":[{"title":"Control plane","routes":[{"title":"Overview","path":"architecture/control-plane","filePath":"../content/docs/architecture/control-plane/index.mdx","fullPath":"/consul/docs/architecture/control-plane","id":"sidebar-nav-item-8"},{"title":"Consul dataplanes","path":"architecture/control-plane/dataplane","filePath":"../content/docs/architecture/control-plane/dataplane.mdx","fullPath":"/consul/docs/architecture/control-plane/dataplane","id":"sidebar-nav-item-9"},{"title":"Kubernetes","path":"architecture/control-plane/k8s","filePath":"../content/docs/architecture/control-plane/k8s.mdx","fullPath":"/consul/docs/architecture/control-plane/k8s","id":"sidebar-nav-item-10"}],"id":"sidebar-nav-item-7"},{"title":"Data plane","routes":[{"title":"Overview","path":"architecture/data-plane","filePath":"../content/docs/architecture/data-plane/index.mdx","fullPath":"/consul/docs/architecture/data-plane","id":"sidebar-nav-item-12"},{"title":"Services","path":"architecture/data-plane/service","filePath":"../content/docs/architecture/data-plane/service.mdx","fullPath":"/consul/docs/architecture/data-plane/service","id":"sidebar-nav-item-13"},{"title":"Gateways","path":"architecture/data-plane/gateway","filePath":"../content/docs/architecture/data-plane/gateway.mdx","fullPath":"/consul/docs/architecture/data-plane/gateway","id":"sidebar-nav-item-14"},{"title":"Consul service mesh","path":"architecture/data-plane/connect","filePath":"../content/docs/architecture/data-plane/connect.mdx","fullPath":"/consul/docs/architecture/data-plane/connect","id":"sidebar-nav-item-15"}],"id":"sidebar-nav-item-11"},{"title":"Data directory","path":"architecture/backend","filePath":"../content/docs/architecture/backend.mdx","fullPath":"/consul/docs/architecture/backend","id":"sidebar-nav-item-16"},{"title":"Network coordinates","path":"architecture/coordinates","filePath":"../content/docs/architecture/coordinates.mdx","fullPath":"/consul/docs/architecture/coordinates","id":"sidebar-nav-item-17"},{"title":"Security architecture","path":"architecture/security","filePath":"../content/docs/architecture/security.mdx","fullPath":"/consul/docs/architecture/security","id":"sidebar-nav-item-18"},{"title":"Consul-Terraform-Sync (CTS)","path":"architecture/cts","filePath":"../content/docs/architecture/cts.mdx","fullPath":"/consul/docs/architecture/cts","id":"sidebar-nav-item-19"}],"id":"sidebar-nav-item-6"},{"title":"Concepts","routes":[{"title":"Catalog","path":"concept/catalog","filePath":"../content/docs/concept/catalog.mdx","fullPath":"/consul/docs/concept/catalog","id":"sidebar-nav-item-21"},{"title":"Consensus","path":"concept/consensus","filePath":"../content/docs/concept/consensus.mdx","fullPath":"/consul/docs/concept/consensus","id":"sidebar-nav-item-22"},{"title":"Consistency","path":"concept/consistency","filePath":"../content/docs/concept/consistency.mdx","fullPath":"/consul/docs/concept/consistency","id":"sidebar-nav-item-23"},{"title":"Gossip","path":"concept/gossip","filePath":"../content/docs/concept/gossip.mdx","fullPath":"/consul/docs/concept/gossip","id":"sidebar-nav-item-24"},{"title":"Reliability","path":"concept/reliability","filePath":"../content/docs/concept/reliability.mdx","fullPath":"/consul/docs/concept/reliability","id":"sidebar-nav-item-25"}],"id":"sidebar-nav-item-20"},{"title":"Fundamentals","routes":[{"title":"Consul editions and releases","path":"fundamentals/editions","filePath":"../content/docs/fundamentals/editions.mdx","fullPath":"/consul/docs/fundamentals/editions","id":"sidebar-nav-item-27"},{"title":"Install and run Consul","routes":[{"title":"Install Consul","path":"fundamentals/install","filePath":"../content/docs/fundamentals/install/index.mdx","fullPath":"/consul/docs/fundamentals/install","id":"sidebar-nav-item-29"},{"title":"Run in dev mode","path":"fundamentals/install/dev","filePath":"../content/docs/fundamentals/install/dev.mdx","fullPath":"/consul/docs/fundamentals/install/dev","id":"sidebar-nav-item-30"}],"id":"sidebar-nav-item-28"},{"title":"Interact with Consul","routes":[{"title":"Consul HTTP API","path":"fundamentals/interface/api","filePath":"../content/docs/fundamentals/interface/api.mdx","fullPath":"/consul/docs/fundamentals/interface/api","id":"sidebar-nav-item-32"},{"title":"Consul CLI","path":"fundamentals/interface/cli","filePath":"../content/docs/fundamentals/interface/cli.mdx","fullPath":"/consul/docs/fundamentals/interface/cli","id":"sidebar-nav-item-33"},{"title":"Consul web UI","path":"fundamentals/interface/ui","filePath":"../content/docs/fundamentals/interface/ui.mdx","fullPath":"/consul/docs/fundamentals/interface/ui","id":"sidebar-nav-item-34"}],"id":"sidebar-nav-item-31"},{"title":"Identity in Consul","path":"fundamentals/identity","filePath":"../content/docs/fundamentals/identity.mdx","fullPath":"/consul/docs/fundamentals/identity","id":"sidebar-nav-item-35"},{"title":"Consul agent basics","path":"fundamentals/agent","filePath":"../content/docs/fundamentals/agent.mdx","fullPath":"/consul/docs/fundamentals/agent","id":"sidebar-nav-item-36"},{"title":"Service and health check basics","path":"fundamentals/service","filePath":"../content/docs/fundamentals/service.mdx","fullPath":"/consul/docs/fundamentals/service","id":"sidebar-nav-item-37"},{"title":"Configuration entry basics","path":"fundamentals/config-entry","filePath":"../content/docs/fundamentals/config-entry.mdx","fullPath":"/consul/docs/fundamentals/config-entry","id":"sidebar-nav-item-38"},{"title":"Consul Terraform provider","path":"fundamentals/tf","filePath":"../content/docs/fundamentals/tf.mdx","fullPath":"/consul/docs/fundamentals/tf","id":"sidebar-nav-item-39"}],"id":"sidebar-nav-item-26"},{"title":"Use cases","routes":[{"title":"Overview","path":"use-case","filePath":"../content/docs/use-case/index.mdx","fullPath":"/consul/docs/use-case","id":"sidebar-nav-item-41"},{"title":"API gateway","path":"use-case/api-gateway","filePath":"../content/docs/use-case/api-gateway.mdx","fullPath":"/consul/docs/use-case/api-gateway","id":"sidebar-nav-item-42"},{"title":"Configuration management","path":"use-case/config-management","filePath":"../content/docs/use-case/config-management.mdx","fullPath":"/consul/docs/use-case/config-management","id":"sidebar-nav-item-43"},{"title":"DNS","path":"use-case/dns","filePath":"../content/docs/use-case/dns.mdx","fullPath":"/consul/docs/use-case/dns","id":"sidebar-nav-item-44"},{"title":"Service Discovery","path":"use-case/service-discovery","filePath":"../content/docs/use-case/service-discovery.mdx","fullPath":"/consul/docs/use-case/service-discovery","id":"sidebar-nav-item-45"},{"title":"Service Mesh","path":"use-case/service-mesh","filePath":"../content/docs/use-case/service-mesh.mdx","fullPath":"/consul/docs/use-case/service-mesh","id":"sidebar-nav-item-46"}],"id":"sidebar-nav-item-40"},{"divider":true,"id":"sidebar-nav-item-47"},{"heading":"Consul operations","id":"sidebar-nav-item-48"},{"title":"Deploy Consul","routes":[{"title":"Overview","path":"deploy","filePath":"../content/docs/deploy/index.mdx","fullPath":"/consul/docs/deploy","id":"sidebar-nav-item-50"},{"title":"Deploy server cluster","routes":[{"title":"Overview","path":"deploy/server","filePath":"../content/docs/deploy/server/index.mdx","fullPath":"/consul/docs/deploy/server","id":"sidebar-nav-item-52"},{"title":"Required ports","href":null,"fullPath":"/consul/docs/reference/architecture/ports","id":"sidebar-nav-item-53","path":"reference/architecture/ports"},{"title":"FIPS 140-2 compliance","path":"deploy/server/fips","filePath":"../content/docs/deploy/server/fips.mdx","fullPath":"/consul/docs/deploy/server/fips","id":"sidebar-nav-item-54"},{"title":"Automatic agent discovery","path":"deploy/server/cloud-auto-join","filePath":"../content/docs/deploy/server/cloud-auto-join.mdx","fullPath":"/consul/docs/deploy/server/cloud-auto-join","id":"sidebar-nav-item-55"},{"title":"WAL LogStore","routes":[{"title":"Overview","path":"deploy/server/wal","filePath":"../content/docs/deploy/server/wal/index.mdx","fullPath":"/consul/docs/deploy/server/wal","id":"sidebar-nav-item-57"},{"title":"Monitor Raft metrics and logs","path":"deploy/server/wal/monitor-raft","filePath":"../content/docs/deploy/server/wal/monitor-raft.mdx","fullPath":"/consul/docs/deploy/server/wal/monitor-raft","id":"sidebar-nav-item-58"},{"title":"Revert to BoltDB","path":"deploy/server/wal/revert-boltdb","filePath":"../content/docs/deploy/server/wal/revert-boltdb.mdx","fullPath":"/consul/docs/deploy/server/wal/revert-boltdb","id":"sidebar-nav-item-59"}],"id":"sidebar-nav-item-56"},{"title":"HCP Consul Dedicated","path":"deploy/server/hcp","filePath":"../content/docs/deploy/server/hcp.mdx","fullPath":"/consul/docs/deploy/server/hcp","id":"sidebar-nav-item-60"},{"title":"Virtual machine (VM)","routes":[{"title":"Overview","path":"deploy/server/vm","filePath":"../content/docs/deploy/server/vm/index.mdx","fullPath":"/consul/docs/deploy/server/vm","id":"sidebar-nav-item-62"},{"title":"Bootstrap a datacenter","path":"deploy/server/vm/bootstrap","filePath":"../content/docs/deploy/server/vm/bootstrap.mdx","fullPath":"/consul/docs/deploy/server/vm/bootstrap","id":"sidebar-nav-item-63"},{"title":"Server requirements","path":"deploy/server/vm/requirements","filePath":"../content/docs/deploy/server/vm/requirements.mdx","fullPath":"/consul/docs/deploy/server/vm/requirements","id":"sidebar-nav-item-64"}],"id":"sidebar-nav-item-61"},{"title":"Kubernetes","routes":[{"title":"Overview","path":"deploy/server/k8s","filePath":"../content/docs/deploy/server/k8s/index.mdx","fullPath":"/consul/docs/deploy/server/k8s","id":"sidebar-nav-item-66"},{"title":"Kubernetes requirements","path":"deploy/server/k8s/requirements","filePath":"../content/docs/deploy/server/k8s/requirements.mdx","fullPath":"/consul/docs/deploy/server/k8s/requirements","id":"sidebar-nav-item-67"},{"title":"Deploy with Helm","path":"deploy/server/k8s/helm","filePath":"../content/docs/deploy/server/k8s/helm.mdx","fullPath":"/consul/docs/deploy/server/k8s/helm","id":"sidebar-nav-item-68"},{"title":"Deploy with consul-k8s","path":"deploy/server/k8s/consul-k8s","filePath":"../content/docs/deploy/server/k8s/consul-k8s.mdx","fullPath":"/consul/docs/deploy/server/k8s/consul-k8s","id":"sidebar-nav-item-69"},{"title":"Deploy Consul Enterprise","path":"deploy/server/k8s/enterprise","filePath":"../content/docs/deploy/server/k8s/enterprise.mdx","fullPath":"/consul/docs/deploy/server/k8s/enterprise","id":"sidebar-nav-item-70"},{"title":"Platform guides","routes":[{"title":"Minikube","path":"deploy/server/k8s/platform/minikube","filePath":"../content/docs/deploy/server/k8s/platform/minikube.mdx","fullPath":"/consul/docs/deploy/server/k8s/platform/minikube","id":"sidebar-nav-item-72"},{"title":"Kind","path":"deploy/server/k8s/platform/kind","filePath":"../content/docs/deploy/server/k8s/platform/kind.mdx","fullPath":"/consul/docs/deploy/server/k8s/platform/kind","id":"sidebar-nav-item-73"},{"title":"AKS (Azure)","path":"deploy/server/k8s/platform/aks","filePath":"../content/docs/deploy/server/k8s/platform/aks.mdx","fullPath":"/consul/docs/deploy/server/k8s/platform/aks","id":"sidebar-nav-item-74"},{"title":"EKS (AWS)","path":"deploy/server/k8s/platform/eks","filePath":"../content/docs/deploy/server/k8s/platform/eks.mdx","fullPath":"/consul/docs/deploy/server/k8s/platform/eks","id":"sidebar-nav-item-75"},{"title":"GKE (Google Cloud)","path":"deploy/server/k8s/platform/gke","filePath":"../content/docs/deploy/server/k8s/platform/gke.mdx","fullPath":"/consul/docs/deploy/server/k8s/platform/gke","id":"sidebar-nav-item-76"},{"title":"OpenShift (Red Hat)","path":"deploy/server/k8s/platform/openshift","filePath":"../content/docs/deploy/server/k8s/platform/openshift.mdx","fullPath":"/consul/docs/deploy/server/k8s/platform/openshift","id":"sidebar-nav-item-77"},{"title":"Self-hosted Kubernetes","path":"deploy/server/k8s/platform/self-hosted","filePath":"../content/docs/deploy/server/k8s/platform/self-hosted.mdx","fullPath":"/consul/docs/deploy/server/k8s/platform/self-hosted","id":"sidebar-nav-item-78"}],"id":"sidebar-nav-item-71"},{"title":"Servers outside Kubernetes","path":"deploy/server/k8s/external","filePath":"../content/docs/deploy/server/k8s/external.mdx","fullPath":"/consul/docs/deploy/server/k8s/external","id":"sidebar-nav-item-79"},{"title":"Consul in multiple Kubernetes clusters","path":"deploy/server/k8s/multi-cluster","filePath":"../content/docs/deploy/server/k8s/multi-cluster.mdx","fullPath":"/consul/docs/deploy/server/k8s/multi-cluster","id":"sidebar-nav-item-80"},{"title":"Vault as a secrets backend","routes":[{"title":"Overview","path":"deploy/server/k8s/vault","filePath":"../content/docs/deploy/server/k8s/vault/index.mdx","fullPath":"/consul/docs/deploy/server/k8s/vault","id":"sidebar-nav-item-82"},{"title":"System integration","path":"deploy/server/k8s/vault/backend","filePath":"../content/docs/deploy/server/k8s/vault/backend.mdx","fullPath":"/consul/docs/deploy/server/k8s/vault/backend","id":"sidebar-nav-item-83"},{"title":"Data integration","routes":[{"title":"Overview","path":"deploy/server/k8s/vault/data","filePath":"../content/docs/deploy/server/k8s/vault/data/index.mdx","fullPath":"/consul/docs/deploy/server/k8s/vault/data","id":"sidebar-nav-item-85"},{"title":"Bootstrap token","path":"deploy/server/k8s/vault/data/bootstrap-token","filePath":"../content/docs/deploy/server/k8s/vault/data/bootstrap-token.mdx","fullPath":"/consul/docs/deploy/server/k8s/vault/data/bootstrap-token","id":"sidebar-nav-item-86"},{"title":"Enterprise license","path":"deploy/server/k8s/vault/data/enterprise-license","filePath":"../content/docs/deploy/server/k8s/vault/data/enterprise-license.mdx","fullPath":"/consul/docs/deploy/server/k8s/vault/data/enterprise-license","id":"sidebar-nav-item-87"},{"title":"Gossip encryption key","path":"deploy/server/k8s/vault/data/gossip-key","filePath":"../content/docs/deploy/server/k8s/vault/data/gossip-key.mdx","fullPath":"/consul/docs/deploy/server/k8s/vault/data/gossip-key","id":"sidebar-nav-item-88"},{"title":"Service mesh certificates","path":"deploy/server/k8s/vault/data/mesh-ca","filePath":"../content/docs/deploy/server/k8s/vault/data/mesh-ca.mdx","fullPath":"/consul/docs/deploy/server/k8s/vault/data/mesh-ca","id":"sidebar-nav-item-89"},{"title":"Partition token","path":"deploy/server/k8s/vault/data/partition-token","filePath":"../content/docs/deploy/server/k8s/vault/data/partition-token.mdx","fullPath":"/consul/docs/deploy/server/k8s/vault/data/partition-token","id":"sidebar-nav-item-90"},{"title":"Replication token","path":"deploy/server/k8s/vault/data/replication-token","filePath":"../content/docs/deploy/server/k8s/vault/data/replication-token.mdx","fullPath":"/consul/docs/deploy/server/k8s/vault/data/replication-token","id":"sidebar-nav-item-91"},{"title":"Server TLS","path":"deploy/server/k8s/vault/data/tls-certificate","filePath":"../content/docs/deploy/server/k8s/vault/data/tls-certificate.mdx","fullPath":"/consul/docs/deploy/server/k8s/vault/data/tls-certificate","id":"sidebar-nav-item-92"},{"title":"Snapshot agent","path":"deploy/server/k8s/vault/data/snapshot-agent","filePath":"../content/docs/deploy/server/k8s/vault/data/snapshot-agent.mdx","fullPath":"/consul/docs/deploy/server/k8s/vault/data/snapshot-agent","id":"sidebar-nav-item-93"},{"title":"Webhook certificates","path":"deploy/server/k8s/vault/data/webhook-certificate","filePath":"../content/docs/deploy/server/k8s/vault/data/webhook-certificate.mdx","fullPath":"/consul/docs/deploy/server/k8s/vault/data/webhook-certificate","id":"sidebar-nav-item-94"}],"id":"sidebar-nav-item-84"}],"id":"sidebar-nav-item-81"},{"title":"Uninstall Consul on Kubernetes","path":"deploy/server/k8s/uninstall","filePath":"../content/docs/deploy/server/k8s/uninstall.mdx","fullPath":"/consul/docs/deploy/server/k8s/uninstall","id":"sidebar-nav-item-95"}],"id":"sidebar-nav-item-65"},{"title":"Docker containers","path":"deploy/server/docker","filePath":"../content/docs/deploy/server/docker.mdx","fullPath":"/consul/docs/deploy/server/docker","id":"sidebar-nav-item-96"},{"title":"AWS ECS","routes":[{"title":"Deploy with Terraform","path":"deploy/server/ecs","filePath":"../content/docs/deploy/server/ecs/index.mdx","fullPath":"/consul/docs/deploy/server/ecs","id":"sidebar-nav-item-98"},{"title":"Deploy manually","path":"deploy/server/ecs/manual","filePath":"../content/docs/deploy/server/ecs/manual.mdx","fullPath":"/consul/docs/deploy/server/ecs/manual","id":"sidebar-nav-item-99"}],"id":"sidebar-nav-item-97"}],"id":"sidebar-nav-item-51"},{"title":"Deploy workload agents","routes":[{"title":"Overview","path":"deploy/workload","filePath":"../content/docs/deploy/workload/index.mdx","fullPath":"/consul/docs/deploy/workload","id":"sidebar-nav-item-101"},{"title":"Client agents","routes":[{"title":"Virtual machines","path":"deploy/workload/client/vm","filePath":"../content/docs/deploy/workload/client/vm.mdx","fullPath":"/consul/docs/deploy/workload/client/vm","id":"sidebar-nav-item-103"},{"title":"Kubernetes","path":"deploy/workload/client/k8s","filePath":"../content/docs/deploy/workload/client/k8s.mdx","fullPath":"/consul/docs/deploy/workload/client/k8s","id":"sidebar-nav-item-104"},{"title":"Docker containers","path":"deploy/workload/client/docker","filePath":"../content/docs/deploy/workload/client/docker.mdx","fullPath":"/consul/docs/deploy/workload/client/docker","id":"sidebar-nav-item-105"}],"id":"sidebar-nav-item-102"},{"title":"Dataplanes","routes":[{"title":"Kubernetes","path":"deploy/workload/dataplane/k8s","filePath":"../content/docs/deploy/workload/dataplane/k8s.mdx","fullPath":"/consul/docs/deploy/workload/dataplane/k8s","id":"sidebar-nav-item-107"},{"title":"AWS ECS","path":"deploy/workload/dataplane/ecs","filePath":"../content/docs/deploy/workload/dataplane/ecs.mdx","fullPath":"/consul/docs/deploy/workload/dataplane/ecs","id":"sidebar-nav-item-108"}],"id":"sidebar-nav-item-106"}],"id":"sidebar-nav-item-100"}],"id":"sidebar-nav-item-49"},{"title":"Secure Consul","routes":[{"title":"Overview","path":"secure","filePath":"../content/docs/secure/index.mdx","fullPath":"/consul/docs/secure","id":"sidebar-nav-item-110"},{"title":"Access Control Lists (ACLs)","routes":[{"title":"Overview","path":"secure/acl","filePath":"../content/docs/secure/acl/index.mdx","fullPath":"/consul/docs/secure/acl","id":"sidebar-nav-item-112"},{"title":"Tokens","routes":[{"title":"Overview","path":"secure/acl/token","filePath":"../content/docs/secure/acl/token/index.mdx","fullPath":"/consul/docs/secure/acl/token","id":"sidebar-nav-item-114"},{"title":"Agent token","path":"secure/acl/token/agent","filePath":"../content/docs/secure/acl/token/agent.mdx","fullPath":"/consul/docs/secure/acl/token/agent","id":"sidebar-nav-item-115"},{"title":"DNS token","path":"secure/acl/token/dns","filePath":"../content/docs/secure/acl/token/dns.mdx","fullPath":"/consul/docs/secure/acl/token/dns","id":"sidebar-nav-item-116"},{"title":"External Service Monitor (ESM) token","path":"secure/acl/token/esm","filePath":"../content/docs/secure/acl/token/esm.mdx","fullPath":"/consul/docs/secure/acl/token/esm","id":"sidebar-nav-item-117"},{"title":"Ingress gateway token","path":"secure/acl/token/ingress-gateway","filePath":"../content/docs/secure/acl/token/ingress-gateway.mdx","fullPath":"/consul/docs/secure/acl/token/ingress-gateway","id":"sidebar-nav-item-118"},{"title":"Mesh gateway token","path":"secure/acl/token/mesh-gateway","filePath":"../content/docs/secure/acl/token/mesh-gateway.mdx","fullPath":"/consul/docs/secure/acl/token/mesh-gateway","id":"sidebar-nav-item-119"},{"title":"Replication token","path":"secure/acl/token/replication","filePath":"../content/docs/secure/acl/token/replication.mdx","fullPath":"/consul/docs/secure/acl/token/replication","id":"sidebar-nav-item-120"},{"title":"Service token","path":"secure/acl/token/service","filePath":"../content/docs/secure/acl/token/service.mdx","fullPath":"/consul/docs/secure/acl/token/service","id":"sidebar-nav-item-121"},{"title":"Snapshot agent token","path":"secure/acl/token/snapshot-agent","filePath":"../content/docs/secure/acl/token/snapshot-agent.mdx","fullPath":"/consul/docs/secure/acl/token/snapshot-agent","id":"sidebar-nav-item-122"},{"title":"Terminating gateway token","path":"secure/acl/token/terminating-gateway","filePath":"../content/docs/secure/acl/token/terminating-gateway.mdx","fullPath":"/consul/docs/secure/acl/token/terminating-gateway","id":"sidebar-nav-item-123"},{"title":"UI token","path":"secure/acl/token/ui","filePath":"../content/docs/secure/acl/token/ui.mdx","fullPath":"/consul/docs/secure/acl/token/ui","id":"sidebar-nav-item-124"},{"title":"Vault as storage backend","path":"secure/acl/token/vault-backend","filePath":"../content/docs/secure/acl/token/vault-backend.mdx","fullPath":"/consul/docs/secure/acl/token/vault-backend","id":"sidebar-nav-item-125"},{"title":"WAN federation","path":"secure/acl/token/federation","filePath":"../content/docs/secure/acl/token/federation.mdx","fullPath":"/consul/docs/secure/acl/token/federation","id":"sidebar-nav-item-126"}],"id":"sidebar-nav-item-113"},{"title":"Policies","path":"secure/acl/policy","filePath":"../content/docs/secure/acl/policy.mdx","fullPath":"/consul/docs/secure/acl/policy","id":"sidebar-nav-item-127"},{"title":"Roles","path":"secure/acl/role","filePath":"../content/docs/secure/acl/role.mdx","fullPath":"/consul/docs/secure/acl/role","id":"sidebar-nav-item-128"},{"title":"Rules","path":"secure/acl/rule","filePath":"../content/docs/secure/acl/rule.mdx","fullPath":"/consul/docs/secure/acl/rule","id":"sidebar-nav-item-129"},{"title":"Auth methods","routes":[{"title":"Overview","path":"secure/acl/auth-method","filePath":"../content/docs/secure/acl/auth-method/index.mdx","fullPath":"/consul/docs/secure/acl/auth-method","id":"sidebar-nav-item-131"},{"title":"Kubernetes","path":"secure/acl/auth-method/k8s","filePath":"../content/docs/secure/acl/auth-method/k8s.mdx","fullPath":"/consul/docs/secure/acl/auth-method/k8s","id":"sidebar-nav-item-132"},{"title":"JWT","path":"secure/acl/auth-method/jwt","filePath":"../content/docs/secure/acl/auth-method/jwt.mdx","fullPath":"/consul/docs/secure/acl/auth-method/jwt","id":"sidebar-nav-item-133"},{"title":"OIDC (ENT)","path":"secure/acl/auth-method/oidc","filePath":"../content/docs/secure/acl/auth-method/oidc.mdx","fullPath":"/consul/docs/secure/acl/auth-method/oidc","id":"sidebar-nav-item-134"},{"title":"AWS IAM","path":"secure/acl/auth-method/aws","filePath":"../content/docs/secure/acl/auth-method/aws.mdx","fullPath":"/consul/docs/secure/acl/auth-method/aws","id":"sidebar-nav-item-135"}],"id":"sidebar-nav-item-130"},{"title":"Bootstrap ACL system","path":"secure/acl/bootstrap","filePath":"../content/docs/secure/acl/bootstrap.mdx","fullPath":"/consul/docs/secure/acl/bootstrap","id":"sidebar-nav-item-136"},{"title":"Enforce ACL policies with Sentinel","badge":{"text":"ENTERPRISE","type":"outlined","color":"neutral"},"path":"secure/acl/sentinel","filePath":"../content/docs/secure/acl/sentinel.mdx","fullPath":"/consul/docs/secure/acl/sentinel","id":"sidebar-nav-item-137"},{"title":"Migrate legacy tokens","path":"secure/acl/legacy","filePath":"../content/docs/secure/acl/legacy.mdx","fullPath":"/consul/docs/secure/acl/legacy","id":"sidebar-nav-item-138"},{"title":"Store ACL tokens with Vault","routes":[{"title":"Virtual machines (VMs)","path":"secure/acl/vault/vm","filePath":"../content/docs/secure/acl/vault/vm.mdx","fullPath":"/consul/docs/secure/acl/vault/vm","id":"sidebar-nav-item-140"}],"id":"sidebar-nav-item-139"},{"title":"Troubleshoot","path":"secure/acl/troubleshoot","filePath":"../content/docs/secure/acl/troubleshoot.mdx","fullPath":"/consul/docs/secure/acl/troubleshoot","id":"sidebar-nav-item-141"}],"id":"sidebar-nav-item-111"},{"title":"Encryption","routes":[{"title":"Overview","path":"secure/encryption","filePath":"../content/docs/secure/encryption/index.mdx","fullPath":"/consul/docs/secure/encryption","id":"sidebar-nav-item-143"},{"title":"Encrypt gossip traffic","routes":[{"title":"Enable gossip","routes":[{"title":"Enable on new datacenters","path":"secure/encryption/gossip/enable","filePath":"../content/docs/secure/encryption/gossip/enable/index.mdx","fullPath":"/consul/docs/secure/encryption/gossip/enable","id":"sidebar-nav-item-146"},{"title":"Enable on existing datacenters","path":"secure/encryption/gossip/enable/existing","filePath":"../content/docs/secure/encryption/gossip/enable/existing.mdx","fullPath":"/consul/docs/secure/encryption/gossip/enable/existing","id":"sidebar-nav-item-147"}],"id":"sidebar-nav-item-145"},{"title":"Rotate gossip key","routes":[{"title":"Virtual machines (VMs)","path":"secure/encryption/gossip/rotate/vm","filePath":"../content/docs/secure/encryption/gossip/rotate/vm.mdx","fullPath":"/consul/docs/secure/encryption/gossip/rotate/vm","id":"sidebar-nav-item-149"},{"title":"Kubernetes","path":"secure/encryption/gossip/rotate/k8s","filePath":"../content/docs/secure/encryption/gossip/rotate/k8s.mdx","fullPath":"/consul/docs/secure/encryption/gossip/rotate/k8s","id":"sidebar-nav-item-150"}],"id":"sidebar-nav-item-148"}],"id":"sidebar-nav-item-144"},{"title":"Encrypt RPC traffic (TLS)","routes":[{"title":"Overview","path":"secure/encryption/tls/mtls","filePath":"../content/docs/secure/encryption/tls/mtls.mdx","fullPath":"/consul/docs/secure/encryption/tls/mtls","id":"sidebar-nav-item-152"},{"title":"Enable TLS","routes":[{"title":"Enable on new datacenters","routes":[{"title":"Built-in","path":"secure/encryption/tls/enable/new/builtin","filePath":"../content/docs/secure/encryption/tls/enable/new/builtin.mdx","fullPath":"/consul/docs/secure/encryption/tls/enable/new/builtin","id":"sidebar-nav-item-155"},{"title":"OpenSSL","path":"secure/encryption/tls/enable/new/openssl","filePath":"../content/docs/secure/encryption/tls/enable/new/openssl.mdx","fullPath":"/consul/docs/secure/encryption/tls/enable/new/openssl","id":"sidebar-nav-item-156"}],"id":"sidebar-nav-item-154"},{"title":"Enable on existing datacenters","routes":[{"title":"Virtual machines (VMs)","path":"secure/encryption/tls/enable/existing/vm","filePath":"../content/docs/secure/encryption/tls/enable/existing/vm.mdx","fullPath":"/consul/docs/secure/encryption/tls/enable/existing/vm","id":"sidebar-nav-item-158"},{"title":"Kubernetes","path":"secure/encryption/tls/enable/existing/k8s","filePath":"../content/docs/secure/encryption/tls/enable/existing/k8s.mdx","fullPath":"/consul/docs/secure/encryption/tls/enable/existing/k8s","id":"sidebar-nav-item-159"}],"id":"sidebar-nav-item-157"}],"id":"sidebar-nav-item-153"},{"title":"Rotate certificates","routes":[{"title":"Virtual machines (VMs)","path":"secure/encryption/tls/rotate/vm","filePath":"../content/docs/secure/encryption/tls/rotate/vm.mdx","fullPath":"/consul/docs/secure/encryption/tls/rotate/vm","id":"sidebar-nav-item-161"},{"title":"Kubernetes","path":"secure/encryption/tls/rotate/k8s","filePath":"../content/docs/secure/encryption/tls/rotate/k8s.mdx","fullPath":"/consul/docs/secure/encryption/tls/rotate/k8s","id":"sidebar-nav-item-162"}],"id":"sidebar-nav-item-160"}],"id":"sidebar-nav-item-151"}],"id":"sidebar-nav-item-142"},{"title":"Audit logs","href":null,"fullPath":"/consul/docs/monitor/log/audit","id":"sidebar-nav-item-163","path":"monitor/log/audit"},{"title":"Auto-config","routes":[{"title":"Docker","path":"secure/auto-config/docker","filePath":"../content/docs/secure/auto-config/docker.mdx","fullPath":"/consul/docs/secure/auto-config/docker","id":"sidebar-nav-item-165"}],"id":"sidebar-nav-item-164"},{"title":"Single sign-on (SSO)","routes":[{"title":"Auth0","path":"secure/sso/auth0","filePath":"../content/docs/secure/sso/auth0.mdx","fullPath":"/consul/docs/secure/sso/auth0","id":"sidebar-nav-item-167"}],"id":"sidebar-nav-item-166"},{"title":"Security model","routes":[{"title":"Overview","path":"secure/security-model","filePath":"../content/docs/secure/security-model/index.mdx","fullPath":"/consul/docs/secure/security-model","id":"sidebar-nav-item-169"},{"title":"Consul Core","path":"secure/security-model/core","filePath":"../content/docs/secure/security-model/core.mdx","fullPath":"/consul/docs/secure/security-model/core","id":"sidebar-nav-item-170"},{"title":"Consul-Terraform-Sync (CTS)","path":"secure/security-model/cts","filePath":"../content/docs/secure/security-model/cts.mdx","fullPath":"/consul/docs/secure/security-model/cts","id":"sidebar-nav-item-171"}],"id":"sidebar-nav-item-168"}],"id":"sidebar-nav-item-109"},{"title":"Manage multi-tenancy","badge":{"text":"ENTERPRISE","type":"outlined","color":"neutral"},"routes":[{"title":"Overview","path":"multi-tenant","filePath":"../content/docs/multi-tenant/index.mdx","fullPath":"/consul/docs/multi-tenant","id":"sidebar-nav-item-173"},{"title":"Admin partitions","routes":[{"title":"Overview","path":"multi-tenant/admin-partition","filePath":"../content/docs/multi-tenant/admin-partition/index.mdx","fullPath":"/consul/docs/multi-tenant/admin-partition","id":"sidebar-nav-item-175"},{"title":"Configure partitions on Kubernetes","path":"multi-tenant/admin-partition/k8s","filePath":"../content/docs/multi-tenant/admin-partition/k8s.mdx","fullPath":"/consul/docs/multi-tenant/admin-partition/k8s","id":"sidebar-nav-item-176"}],"id":"sidebar-nav-item-174"},{"title":"Namespaces","routes":[{"title":"Overview","path":"multi-tenant/namespace","filePath":"../content/docs/multi-tenant/namespace/index.mdx","fullPath":"/consul/docs/multi-tenant/namespace","id":"sidebar-nav-item-178"},{"title":"Configure namespaces on VMs","path":"multi-tenant/namespace/vm","filePath":"../content/docs/multi-tenant/namespace/vm.mdx","fullPath":"/consul/docs/multi-tenant/namespace/vm","id":"sidebar-nav-item-179"},{"title":"Configure namespaces on Kubernetes","path":"multi-tenant/namespace/k8s","filePath":"../content/docs/multi-tenant/namespace/k8s.mdx","fullPath":"/consul/docs/multi-tenant/namespace/k8s","id":"sidebar-nav-item-180"}],"id":"sidebar-nav-item-177"},{"title":"Network segments","routes":[{"title":"Overview","path":"multi-tenant/network-segment","filePath":"../content/docs/multi-tenant/network-segment/index.mdx","fullPath":"/consul/docs/multi-tenant/network-segment","id":"sidebar-nav-item-182"},{"title":"Create network segments (VM)","path":"multi-tenant/network-segment/vm","filePath":"../content/docs/multi-tenant/network-segment/vm.mdx","fullPath":"/consul/docs/multi-tenant/network-segment/vm","id":"sidebar-nav-item-183"}],"id":"sidebar-nav-item-181"},{"title":"Sameness groups","routes":[{"title":"Virtual machines (VMs)","path":"multi-tenant/sameness-group/vm","filePath":"../content/docs/multi-tenant/sameness-group/vm.mdx","fullPath":"/consul/docs/multi-tenant/sameness-group/vm","id":"sidebar-nav-item-185"},{"title":"Kubernetes (K8s)","path":"multi-tenant/sameness-group/k8s","filePath":"../content/docs/multi-tenant/sameness-group/k8s.mdx","fullPath":"/consul/docs/multi-tenant/sameness-group/k8s","id":"sidebar-nav-item-186"}],"id":"sidebar-nav-item-184"}],"id":"sidebar-nav-item-172"},{"title":"Manage Consul","routes":[{"title":"Overview","path":"manage","filePath":"../content/docs/manage/index.mdx","fullPath":"/consul/docs/manage","id":"sidebar-nav-item-188"},{"title":"Agent rate limits","routes":[{"title":"Overview","path":"manage/rate-limit","filePath":"../content/docs/manage/rate-limit/index.mdx","fullPath":"/consul/docs/manage/rate-limit","id":"sidebar-nav-item-190"},{"title":"Initialize rate limit settings","path":"manage/rate-limit/initialize","filePath":"../content/docs/manage/rate-limit/initialize.mdx","fullPath":"/consul/docs/manage/rate-limit/initialize","id":"sidebar-nav-item-191"},{"title":"Monitor traffic rate limits","path":"manage/rate-limit/monitor","filePath":"../content/docs/manage/rate-limit/monitor.mdx","fullPath":"/consul/docs/manage/rate-limit/monitor","id":"sidebar-nav-item-192"},{"title":"Set global traffic rate limits","path":"manage/rate-limit/global","filePath":"../content/docs/manage/rate-limit/global.mdx","fullPath":"/consul/docs/manage/rate-limit/global","id":"sidebar-nav-item-193"},{"title":"Limit traffic rates from source IP address","badge":{"text":"ENTERPRISE","type":"outlined","color":"neutral"},"path":"manage/rate-limit/source","filePath":"../content/docs/manage/rate-limit/source.mdx","fullPath":"/consul/docs/manage/rate-limit/source","id":"sidebar-nav-item-194"}],"id":"sidebar-nav-item-189"},{"title":"DNS operations","routes":[{"title":"DNS forwarding","routes":[{"title":"Overview","path":"manage/dns/forwarding","filePath":"../content/docs/manage/dns/forwarding/index.mdx","fullPath":"/consul/docs/manage/dns/forwarding","id":"sidebar-nav-item-197"},{"title":"Virtual Machines (VMs)","path":"manage/dns/forwarding/enable","filePath":"../content/docs/manage/dns/forwarding/enable.mdx","fullPath":"/consul/docs/manage/dns/forwarding/enable","id":"sidebar-nav-item-198"},{"title":"Kubernetes","path":"manage/dns/forwarding/k8s","filePath":"../content/docs/manage/dns/forwarding/k8s.mdx","fullPath":"/consul/docs/manage/dns/forwarding/k8s","id":"sidebar-nav-item-199"}],"id":"sidebar-nav-item-196"},{"title":"DNS views","routes":[{"title":"Overview","path":"manage/dns/views","filePath":"../content/docs/manage/dns/views/index.mdx","fullPath":"/consul/docs/manage/dns/views","id":"sidebar-nav-item-201"},{"title":"Enable DNS views","path":"manage/dns/views/enable","filePath":"../content/docs/manage/dns/views/enable.mdx","fullPath":"/consul/docs/manage/dns/views/enable","id":"sidebar-nav-item-202"}],"id":"sidebar-nav-item-200"}],"id":"sidebar-nav-item-195"},{"title":"Disaster recovery","routes":[{"title":"Overview","path":"manage/disaster-recovery","filePath":"../content/docs/manage/disaster-recovery/index.mdx","fullPath":"/consul/docs/manage/disaster-recovery","id":"sidebar-nav-item-204"},{"title":"Backup and restore","path":"manage/disaster-recovery/backup-restore","filePath":"../content/docs/manage/disaster-recovery/backup-restore.mdx","fullPath":"/consul/docs/manage/disaster-recovery/backup-restore","id":"sidebar-nav-item-205"},{"title":"Restore federated datacenters","path":"manage/disaster-recovery/federation","filePath":"../content/docs/manage/disaster-recovery/federation.mdx","fullPath":"/consul/docs/manage/disaster-recovery/federation","id":"sidebar-nav-item-206"}],"id":"sidebar-nav-item-203"},{"title":"Operations at scale","routes":[{"title":"Best practices","path":"manage/scale","filePath":"../content/docs/manage/scale/index.mdx","fullPath":"/consul/docs/manage/scale","id":"sidebar-nav-item-208"},{"title":"Automated backups","badge":{"text":"ENTERPRISE","type":"outlined","color":"neutral"},"path":"manage/scale/automated-backup","filePath":"../content/docs/manage/scale/automated-backup.mdx","fullPath":"/consul/docs/manage/scale/automated-backup","id":"sidebar-nav-item-209"},{"title":"Autopilot","badge":{"text":"ENTERPRISE","type":"outlined","color":"neutral"},"path":"manage/scale/autopilot","filePath":"../content/docs/manage/scale/autopilot.mdx","fullPath":"/consul/docs/manage/scale/autopilot","id":"sidebar-nav-item-210"},{"title":"Redundancy zones","badge":{"text":"ENTERPRISE","type":"outlined","color":"neutral"},"path":"manage/scale/redundancy-zone","filePath":"../content/docs/manage/scale/redundancy-zone.mdx","fullPath":"/consul/docs/manage/scale/redundancy-zone","id":"sidebar-nav-item-211"},{"title":"Read replicas","badge":{"text":"ENTERPRISE","type":"outlined","color":"neutral"},"path":"manage/scale/read-replica","filePath":"../content/docs/manage/scale/read-replica.mdx","fullPath":"/consul/docs/manage/scale/read-replica","id":"sidebar-nav-item-212"}],"id":"sidebar-nav-item-207"}],"id":"sidebar-nav-item-187"},{"title":"Monitor Consul","routes":[{"title":"Overview","path":"monitor","filePath":"../content/docs/monitor/index.mdx","fullPath":"/consul/docs/monitor","id":"sidebar-nav-item-214"},{"title":"Set up alerts","path":"monitor/alerts","filePath":"../content/docs/monitor/alerts.mdx","fullPath":"/consul/docs/monitor/alerts","id":"sidebar-nav-item-215"},{"title":"Consul telemetry","routes":[{"title":"Agent telemetry","path":"monitor/telemetry/agent","filePath":"../content/docs/monitor/telemetry/agent.mdx","fullPath":"/consul/docs/monitor/telemetry/agent","id":"sidebar-nav-item-217"},{"title":"Dataplane telemetry","path":"monitor/telemetry/dataplane","filePath":"../content/docs/monitor/telemetry/dataplane.mdx","fullPath":"/consul/docs/monitor/telemetry/dataplane","id":"sidebar-nav-item-218"},{"title":"Telegraf","path":"monitor/telemetry/telegraf","filePath":"../content/docs/monitor/telemetry/telegraf.mdx","fullPath":"/consul/docs/monitor/telemetry/telegraf","id":"sidebar-nav-item-219"},{"title":"AppDynamics CNS","path":"monitor/telemetry/appdynamics","filePath":"../content/docs/monitor/telemetry/appdynamics.mdx","fullPath":"/consul/docs/monitor/telemetry/appdynamics","id":"sidebar-nav-item-220"}],"id":"sidebar-nav-item-216"},{"title":"Configure Datadog for metrics","routes":[{"title":"Kubernetes","path":"monitor/datadog","filePath":"../content/docs/monitor/datadog.mdx","fullPath":"/consul/docs/monitor/datadog","id":"sidebar-nav-item-222"}],"id":"sidebar-nav-item-221"},{"title":"Consul logs","routes":[{"title":"Consul agent logs","path":"monitor/log/agent","filePath":"../content/docs/monitor/log/agent.mdx","fullPath":"/consul/docs/monitor/log/agent","id":"sidebar-nav-item-224"},{"title":"Audit logs","badge":{"text":"ENTERPRISE","type":"outlined","color":"neutral"},"path":"monitor/log/audit","filePath":"../content/docs/monitor/log/audit.mdx","fullPath":"/consul/docs/monitor/log/audit","id":"sidebar-nav-item-225"}],"id":"sidebar-nav-item-223"}],"id":"sidebar-nav-item-213"},{"title":"Upgrade Consul","routes":[{"title":"Overview","path":"upgrade","filePath":"../content/docs/upgrade/index.mdx","fullPath":"/consul/docs/upgrade","id":"sidebar-nav-item-227"},{"title":"Automated upgrades","badge":{"text":"ENTERPRISE","type":"outlined","color":"neutral"},"path":"upgrade/automated","filePath":"../content/docs/upgrade/automated.mdx","fullPath":"/consul/docs/upgrade/automated","id":"sidebar-nav-item-228"},{"title":"Compatibility promise","path":"upgrade/compatibility","filePath":"../content/docs/upgrade/compatibility.mdx","fullPath":"/consul/docs/upgrade/compatibility","id":"sidebar-nav-item-229"},{"title":"Long Term Support (LTS)","badge":{"text":"ENTERPRISE","type":"outlined","color":"neutral"},"path":"upgrade/lts","filePath":"../content/docs/upgrade/lts.mdx","fullPath":"/consul/docs/upgrade/lts","id":"sidebar-nav-item-230"},{"title":"Specific version details","path":"upgrade/version-specific","filePath":"../content/docs/upgrade/version-specific.mdx","fullPath":"/consul/docs/upgrade/version-specific","id":"sidebar-nav-item-231"},{"title":"Upgrade instructions","routes":[{"title":"Overview","path":"upgrade/instructions","filePath":"../content/docs/upgrade/instructions/index.mdx","fullPath":"/consul/docs/upgrade/instructions","id":"sidebar-nav-item-233"},{"title":"General Process","path":"upgrade/instructions/general","filePath":"../content/docs/upgrade/instructions/general.mdx","fullPath":"/consul/docs/upgrade/instructions/general","id":"sidebar-nav-item-234"},{"title":"Upgrade to Consul v1.2.x","path":"upgrade/instructions/upgrade-to-1-2-x","filePath":"../content/docs/upgrade/instructions/upgrade-to-1-2-x.mdx","fullPath":"/consul/docs/upgrade/instructions/upgrade-to-1-2-x","id":"sidebar-nav-item-235"},{"title":"Upgrade to Consul v1.6.x","path":"upgrade/instructions/upgrade-to-1-6-x","filePath":"../content/docs/upgrade/instructions/upgrade-to-1-6-x.mdx","fullPath":"/consul/docs/upgrade/instructions/upgrade-to-1-6-x","id":"sidebar-nav-item-236"},{"title":"Upgrade to Consul v1.8.x","path":"upgrade/instructions/upgrade-to-1-8-x","filePath":"../content/docs/upgrade/instructions/upgrade-to-1-8-x.mdx","fullPath":"/consul/docs/upgrade/instructions/upgrade-to-1-8-x","id":"sidebar-nav-item-237"},{"title":"Upgrade to Consul v1.10.x","path":"upgrade/instructions/upgrade-to-1-10-x","filePath":"../content/docs/upgrade/instructions/upgrade-to-1-10-x.mdx","fullPath":"/consul/docs/upgrade/instructions/upgrade-to-1-10-x","id":"sidebar-nav-item-238"}],"id":"sidebar-nav-item-232"},{"title":"Upgrade WAN-federated datacenter","path":"upgrade/federated","filePath":"../content/docs/upgrade/federated.mdx","fullPath":"/consul/docs/upgrade/federated","id":"sidebar-nav-item-239"},{"title":"Consul on Kubernetes","routes":[{"title":"Overview","path":"upgrade/k8s","filePath":"../content/docs/upgrade/k8s/index.mdx","fullPath":"/consul/docs/upgrade/k8s","id":"sidebar-nav-item-241"},{"title":"Compatibility","path":"upgrade/k8s/compatibility","filePath":"../content/docs/upgrade/k8s/compatibility.mdx","fullPath":"/consul/docs/upgrade/k8s/compatibility","id":"sidebar-nav-item-242"},{"title":"consul-k8s","path":"upgrade/k8s/consul-k8s","filePath":"../content/docs/upgrade/k8s/consul-k8s.mdx","fullPath":"/consul/docs/upgrade/k8s/consul-k8s","id":"sidebar-nav-item-243"},{"title":"RedHat OpenShift","path":"upgrade/k8s/openshift","filePath":"../content/docs/upgrade/k8s/openshift.mdx","fullPath":"/consul/docs/upgrade/k8s/openshift","id":"sidebar-nav-item-244"},{"title":"Upgrade cluster to use CRDs","path":"upgrade/k8s/crds","filePath":"../content/docs/upgrade/k8s/crds.mdx","fullPath":"/consul/docs/upgrade/k8s/crds","id":"sidebar-nav-item-245"},{"title":"Uninstall","path":"upgrade/k8s/uninstall","filePath":"../content/docs/upgrade/k8s/uninstall.mdx","fullPath":"/consul/docs/upgrade/k8s/uninstall","id":"sidebar-nav-item-246"}],"id":"sidebar-nav-item-240"},{"title":"AWS ECS","routes":[{"title":"Overview","path":"upgrade/ecs","filePath":"../content/docs/upgrade/ecs/index.mdx","fullPath":"/consul/docs/upgrade/ecs","id":"sidebar-nav-item-248"},{"title":"Upgrade to Consul dataplane","path":"upgrade/ecs/dataplane","filePath":"../content/docs/upgrade/ecs/dataplane.mdx","fullPath":"/consul/docs/upgrade/ecs/dataplane","id":"sidebar-nav-item-249"}],"id":"sidebar-nav-item-247"},{"title":"API gateway","path":"upgrade/api-gateway","filePath":"../content/docs/upgrade/api-gateway.mdx","fullPath":"/consul/docs/upgrade/api-gateway","id":"sidebar-nav-item-250"}],"id":"sidebar-nav-item-226"},{"title":"Release Notes","routes":[{"title":"Overview","path":"release-notes","filePath":"../content/docs/release-notes/index.mdx","fullPath":"/consul/docs/release-notes","id":"sidebar-nav-item-252"},{"title":"Consul","routes":[{"title":"v1.21.x","path":"release-notes/consul/v1_21_x","filePath":"../content/docs/release-notes/consul/v1_21_x.mdx","fullPath":"/consul/docs/release-notes/consul/v1_21_x","id":"sidebar-nav-item-254"},{"title":"v1.20.x","path":"release-notes/consul/v1_20_x","filePath":"../content/docs/release-notes/consul/v1_20_x.mdx","fullPath":"/consul/docs/release-notes/consul/v1_20_x","id":"sidebar-nav-item-255"},{"title":"v1.19.x","path":"release-notes/consul/v1_19_x","filePath":"../content/docs/release-notes/consul/v1_19_x.mdx","fullPath":"/consul/docs/release-notes/consul/v1_19_x","id":"sidebar-nav-item-256"},{"title":"v1.18.x","path":"release-notes/consul/v1_18_x","filePath":"../content/docs/release-notes/consul/v1_18_x.mdx","fullPath":"/consul/docs/release-notes/consul/v1_18_x","id":"sidebar-nav-item-257"},{"title":"v1.17.x","path":"release-notes/consul/v1_17_x","filePath":"../content/docs/release-notes/consul/v1_17_x.mdx","fullPath":"/consul/docs/release-notes/consul/v1_17_x","id":"sidebar-nav-item-258"},{"title":"v1.16.x","path":"release-notes/consul/v1_16_x","filePath":"../content/docs/release-notes/consul/v1_16_x.mdx","fullPath":"/consul/docs/release-notes/consul/v1_16_x","id":"sidebar-nav-item-259"},{"title":"v1.15.x","path":"release-notes/consul/v1_15_x","filePath":"../content/docs/release-notes/consul/v1_15_x.mdx","fullPath":"/consul/docs/release-notes/consul/v1_15_x","id":"sidebar-nav-item-260"},{"title":"v1.14.x","path":"release-notes/consul/v1_14_x","filePath":"../content/docs/release-notes/consul/v1_14_x.mdx","fullPath":"/consul/docs/release-notes/consul/v1_14_x","id":"sidebar-nav-item-261"},{"title":"v1.13.x","path":"release-notes/consul/v1_13_x","filePath":"../content/docs/release-notes/consul/v1_13_x.mdx","fullPath":"/consul/docs/release-notes/consul/v1_13_x","id":"sidebar-nav-item-262"},{"title":"v1.12.x","path":"release-notes/consul/v1_12_x","filePath":"../content/docs/release-notes/consul/v1_12_x.mdx","fullPath":"/consul/docs/release-notes/consul/v1_12_x","id":"sidebar-nav-item-263"},{"title":"v1.11.x","path":"release-notes/consul/v1_11_x","filePath":"../content/docs/release-notes/consul/v1_11_x.mdx","fullPath":"/consul/docs/release-notes/consul/v1_11_x","id":"sidebar-nav-item-264"},{"title":"v1.10.x","path":"release-notes/consul/v1_10_x","filePath":"../content/docs/release-notes/consul/v1_10_x.mdx","fullPath":"/consul/docs/release-notes/consul/v1_10_x","id":"sidebar-nav-item-265"},{"title":"v1.9.x","path":"release-notes/consul/v1_9_x","filePath":"../content/docs/release-notes/consul/v1_9_x.mdx","fullPath":"/consul/docs/release-notes/consul/v1_9_x","id":"sidebar-nav-item-266"}],"id":"sidebar-nav-item-253"},{"title":"Consul K8s","routes":[{"title":"v1.6.x","path":"release-notes/consul-k8s/v1_6_x","filePath":"../content/docs/release-notes/consul-k8s/v1_6_x.mdx","fullPath":"/consul/docs/release-notes/consul-k8s/v1_6_x","id":"sidebar-nav-item-268"},{"title":"v1.5.x","path":"release-notes/consul-k8s/v1_5_x","filePath":"../content/docs/release-notes/consul-k8s/v1_5_x.mdx","fullPath":"/consul/docs/release-notes/consul-k8s/v1_5_x","id":"sidebar-nav-item-269"},{"title":"v1.4.x","path":"release-notes/consul-k8s/v1_4_x","filePath":"../content/docs/release-notes/consul-k8s/v1_4_x.mdx","fullPath":"/consul/docs/release-notes/consul-k8s/v1_4_x","id":"sidebar-nav-item-270"},{"title":"v1.3.x","path":"release-notes/consul-k8s/v1_3_x","filePath":"../content/docs/release-notes/consul-k8s/v1_3_x.mdx","fullPath":"/consul/docs/release-notes/consul-k8s/v1_3_x","id":"sidebar-nav-item-271"},{"title":"v1.2.x","path":"release-notes/consul-k8s/v1_2_x","filePath":"../content/docs/release-notes/consul-k8s/v1_2_x.mdx","fullPath":"/consul/docs/release-notes/consul-k8s/v1_2_x","id":"sidebar-nav-item-272"},{"title":"v1.1.x","path":"release-notes/consul-k8s/v1_1_x","filePath":"../content/docs/release-notes/consul-k8s/v1_1_x.mdx","fullPath":"/consul/docs/release-notes/consul-k8s/v1_1_x","id":"sidebar-nav-item-273"},{"title":"v1.0.x","path":"release-notes/consul-k8s/v1_0_x","filePath":"../content/docs/release-notes/consul-k8s/v1_0_x.mdx","fullPath":"/consul/docs/release-notes/consul-k8s/v1_0_x","id":"sidebar-nav-item-274"},{"title":"v0.49.x","path":"release-notes/consul-k8s/v0_49_x","filePath":"../content/docs/release-notes/consul-k8s/v0_49_x.mdx","fullPath":"/consul/docs/release-notes/consul-k8s/v0_49_x","id":"sidebar-nav-item-275"},{"title":"v0.48.x","path":"release-notes/consul-k8s/v0_48_x","filePath":"../content/docs/release-notes/consul-k8s/v0_48_x.mdx","fullPath":"/consul/docs/release-notes/consul-k8s/v0_48_x","id":"sidebar-nav-item-276"},{"title":"v0.47.x","path":"release-notes/consul-k8s/v0_47_x","filePath":"../content/docs/release-notes/consul-k8s/v0_47_x.mdx","fullPath":"/consul/docs/release-notes/consul-k8s/v0_47_x","id":"sidebar-nav-item-277"}],"id":"sidebar-nav-item-267"},{"title":"API Gateway for Kubernetes","routes":[{"title":"v0.5.x","path":"release-notes/consul-api-gateway/v0_5_x","filePath":"../content/docs/release-notes/consul-api-gateway/v0_5_x.mdx","fullPath":"/consul/docs/release-notes/consul-api-gateway/v0_5_x","id":"sidebar-nav-item-279"},{"title":"v0.4.x","path":"release-notes/consul-api-gateway/v0_4_x","filePath":"../content/docs/release-notes/consul-api-gateway/v0_4_x.mdx","fullPath":"/consul/docs/release-notes/consul-api-gateway/v0_4_x","id":"sidebar-nav-item-280"},{"title":"v0.3.x","path":"release-notes/consul-api-gateway/v0_3_x","filePath":"../content/docs/release-notes/consul-api-gateway/v0_3_x.mdx","fullPath":"/consul/docs/release-notes/consul-api-gateway/v0_3_x","id":"sidebar-nav-item-281"},{"title":"v0.2.x","path":"release-notes/consul-api-gateway/v0_2_x","filePath":"../content/docs/release-notes/consul-api-gateway/v0_2_x.mdx","fullPath":"/consul/docs/release-notes/consul-api-gateway/v0_2_x","id":"sidebar-nav-item-282"},{"title":"v0.1.x","path":"release-notes/consul-api-gateway/v0_1_x","filePath":"../content/docs/release-notes/consul-api-gateway/v0_1_x.mdx","fullPath":"/consul/docs/release-notes/consul-api-gateway/v0_1_x","id":"sidebar-nav-item-283"}],"id":"sidebar-nav-item-278"},{"title":"Consul ECS","routes":[{"title":"v0.7.x","path":"release-notes/consul-ecs/v0_7_x","filePath":"../content/docs/release-notes/consul-ecs/v0_7_x.mdx","fullPath":"/consul/docs/release-notes/consul-ecs/v0_7_x","id":"sidebar-nav-item-285"},{"title":"v0.5.x","path":"release-notes/consul-ecs/v0_5_x","filePath":"../content/docs/release-notes/consul-ecs/v0_5_x.mdx","fullPath":"/consul/docs/release-notes/consul-ecs/v0_5_x","id":"sidebar-nav-item-286"},{"title":"v0.4.x","path":"release-notes/consul-ecs/v0_4_x","filePath":"../content/docs/release-notes/consul-ecs/v0_4_x.mdx","fullPath":"/consul/docs/release-notes/consul-ecs/v0_4_x","id":"sidebar-nav-item-287"},{"title":"v0.3.x","path":"release-notes/consul-ecs/v0_3_x","filePath":"../content/docs/release-notes/consul-ecs/v0_3_x.mdx","fullPath":"/consul/docs/release-notes/consul-ecs/v0_3_x","id":"sidebar-nav-item-288"},{"title":"v0.2.x","path":"release-notes/consul-ecs/v0_2_x","filePath":"../content/docs/release-notes/consul-ecs/v0_2_x.mdx","fullPath":"/consul/docs/release-notes/consul-ecs/v0_2_x","id":"sidebar-nav-item-289"}],"id":"sidebar-nav-item-284"},{"title":"Consul Terraform Sync","routes":[{"title":"v0.6.x","path":"release-notes/consul-terraform-sync/v0_6_x","filePath":"../content/docs/release-notes/consul-terraform-sync/v0_6_x.mdx","fullPath":"/consul/docs/release-notes/consul-terraform-sync/v0_6_x","id":"sidebar-nav-item-291"},{"title":"v0.5.x","path":"release-notes/consul-terraform-sync/v0_5_x","filePath":"../content/docs/release-notes/consul-terraform-sync/v0_5_x.mdx","fullPath":"/consul/docs/release-notes/consul-terraform-sync/v0_5_x","id":"sidebar-nav-item-292"}],"id":"sidebar-nav-item-290"}],"id":"sidebar-nav-item-251"},{"divider":true,"id":"sidebar-nav-item-293"},{"heading":"Service networking","id":"sidebar-nav-item-294"},{"title":"Register services","routes":[{"title":"Overview","path":"register","filePath":"../content/docs/register/index.mdx","fullPath":"/consul/docs/register","id":"sidebar-nav-item-296"},{"title":"Services","routes":[{"title":"Virtual machine (VM)","routes":[{"title":"Define services","path":"register/service/vm/define","filePath":"../content/docs/register/service/vm/define.mdx","fullPath":"/consul/docs/register/service/vm/define","id":"sidebar-nav-item-299"},{"title":"Register services","path":"register/service/vm","filePath":"../content/docs/register/service/vm/index.mdx","fullPath":"/consul/docs/register/service/vm","id":"sidebar-nav-item-300"}],"id":"sidebar-nav-item-298"},{"title":"Kubernetes","routes":[{"title":"Register services in transparent proxy mode","path":"register/service/k8s/transparent-proxy","filePath":"../content/docs/register/service/k8s/transparent-proxy.mdx","fullPath":"/consul/docs/register/service/k8s/transparent-proxy","id":"sidebar-nav-item-302"},{"title":"Register services with service sync","path":"register/service/k8s/service-sync","filePath":"../content/docs/register/service/k8s/service-sync.mdx","fullPath":"/consul/docs/register/service/k8s/service-sync","id":"sidebar-nav-item-303"},{"title":"Register external services","path":"register/service/k8s/external","filePath":"../content/docs/register/service/k8s/external.mdx","fullPath":"/consul/docs/register/service/k8s/external","id":"sidebar-nav-item-304"},{"title":"Annotations and labels","path":"register/service/k8s/annotations","filePath":"../content/docs/register/service/k8s/annotations.mdx","fullPath":"/consul/docs/register/service/k8s/annotations","id":"sidebar-nav-item-305"}],"id":"sidebar-nav-item-301"},{"title":"Register services into a namespace","badge":{"text":"ENTERPRISE","type":"outlined","color":"neutral"},"path":"register/service/namespace","filePath":"../content/docs/register/service/namespace.mdx","fullPath":"/consul/docs/register/service/namespace","id":"sidebar-nav-item-306"},{"title":"Docker containers","path":"register/service/docker","filePath":"../content/docs/register/service/docker.mdx","fullPath":"/consul/docs/register/service/docker","id":"sidebar-nav-item-307"},{"title":"AWS Cloud Map services","path":"register/service/aws","filePath":"../content/docs/register/service/aws.mdx","fullPath":"/consul/docs/register/service/aws","id":"sidebar-nav-item-308"},{"title":"ECS","routes":[{"title":"Requirements","path":"register/service/ecs/requirements","filePath":"../content/docs/register/service/ecs/requirements.mdx","fullPath":"/consul/docs/register/service/ecs/requirements","id":"sidebar-nav-item-310"},{"title":"Consul Enterprise configuration","href":null,"fullPath":"/consul/docs/enterprise/ecs","id":"sidebar-nav-item-311","path":"enterprise/ecs"},{"title":"Register tasks with Terraform","path":"register/service/ecs","filePath":"../content/docs/register/service/ecs/index.mdx","fullPath":"/consul/docs/register/service/ecs","id":"sidebar-nav-item-312"},{"title":"Register tasks manually","path":"register/service/ecs/manual","filePath":"../content/docs/register/service/ecs/manual.mdx","fullPath":"/consul/docs/register/service/ecs/manual","id":"sidebar-nav-item-313"},{"title":"Register existing tasks with Terraform","path":"register/service/ecs/migrate","filePath":"../content/docs/register/service/ecs/migrate.mdx","fullPath":"/consul/docs/register/service/ecs/migrate","id":"sidebar-nav-item-314"},{"title":"Configure ECS task bind address","path":"register/service/ecs/task-bind-address","filePath":"../content/docs/register/service/ecs/task-bind-address.mdx","fullPath":"/consul/docs/register/service/ecs/task-bind-address","id":"sidebar-nav-item-315"}],"id":"sidebar-nav-item-309"},{"title":"Lambda","routes":[{"title":"Overview","path":"register/service/lambda","filePath":"../content/docs/register/service/lambda/index.mdx","fullPath":"/consul/docs/register/service/lambda","id":"sidebar-nav-item-317"},{"title":"Register functions with Terraform","path":"register/service/lambda/automatic","filePath":"../content/docs/register/service/lambda/automatic.mdx","fullPath":"/consul/docs/register/service/lambda/automatic","id":"sidebar-nav-item-318"},{"title":"Register functions manually","path":"register/service/lambda/manual","filePath":"../content/docs/register/service/lambda/manual.mdx","fullPath":"/consul/docs/register/service/lambda/manual","id":"sidebar-nav-item-319"}],"id":"sidebar-nav-item-316"},{"title":"Register Nomad jobs","path":"register/service/nomad","filePath":"../content/docs/register/service/nomad.mdx","fullPath":"/consul/docs/register/service/nomad","id":"sidebar-nav-item-320"}],"id":"sidebar-nav-item-297"},{"title":"External services","routes":[{"title":"External Services Monitor (ESM)","routes":[{"title":"Register services with ESM","path":"register/external/esm","filePath":"../content/docs/register/external/esm/index.mdx","fullPath":"/consul/docs/register/external/esm","id":"sidebar-nav-item-323"},{"title":"Register external services in Kubernetes","path":"register/external/esm/k8s","filePath":"../content/docs/register/external/esm/k8s.mdx","fullPath":"/consul/docs/register/external/esm/k8s","id":"sidebar-nav-item-324"}],"id":"sidebar-nav-item-322"},{"title":"Terminating gateways","routes":[{"title":"Overview","path":"register/external/terminating-gateway","filePath":"../content/docs/register/external/terminating-gateway/index.mdx","fullPath":"/consul/docs/register/external/terminating-gateway","id":"sidebar-nav-item-326"},{"title":"Kubernetes","path":"register/external/terminating-gateway/k8s","filePath":"../content/docs/register/external/terminating-gateway/k8s.mdx","fullPath":"/consul/docs/register/external/terminating-gateway/k8s","id":"sidebar-nav-item-327"}],"id":"sidebar-nav-item-325"},{"title":"Onboard services in transparent proxy mode","path":"register/external/permissive-mtls","filePath":"../content/docs/register/external/permissive-mtls.mdx","fullPath":"/consul/docs/register/external/permissive-mtls","id":"sidebar-nav-item-328"}],"id":"sidebar-nav-item-321"},{"title":"Health checks","routes":[{"title":"Virtual machines (VMs)","path":"register/health-check/vm","filePath":"../content/docs/register/health-check/vm.mdx","fullPath":"/consul/docs/register/health-check/vm","id":"sidebar-nav-item-330"},{"title":"Kubernetes","path":"register/health-check/k8s","filePath":"../content/docs/register/health-check/k8s.mdx","fullPath":"/consul/docs/register/health-check/k8s","id":"sidebar-nav-item-331"}],"id":"sidebar-nav-item-329"}],"id":"sidebar-nav-item-295"},{"title":"Discover services","routes":[{"title":"Overview","path":"discover","filePath":"../content/docs/discover/index.mdx","fullPath":"/consul/docs/discover","id":"sidebar-nav-item-333"},{"title":"DNS","routes":[{"title":"Overview","path":"discover/dns","filePath":"../content/docs/discover/dns/index.mdx","fullPath":"/consul/docs/discover/dns","id":"sidebar-nav-item-335"},{"title":"Configure DNS behavior","path":"discover/dns/configure","filePath":"../content/docs/discover/dns/configure.mdx","fullPath":"/consul/docs/discover/dns/configure","id":"sidebar-nav-item-336"},{"title":"Resolve Consul DNS in Kubernetes","path":"discover/dns/k8s","filePath":"../content/docs/discover/dns/k8s.mdx","fullPath":"/consul/docs/discover/dns/k8s","id":"sidebar-nav-item-337"},{"title":"Resolve Consul DNS in Docker","path":"discover/dns/docker","filePath":"../content/docs/discover/dns/docker.mdx","fullPath":"/consul/docs/discover/dns/docker","id":"sidebar-nav-item-338"},{"title":"Resolve external services with PAS","path":"discover/dns/pas","filePath":"../content/docs/discover/dns/pas.mdx","fullPath":"/consul/docs/discover/dns/pas","id":"sidebar-nav-item-339"},{"title":"Scale Consul DNS","path":"discover/dns/scale","filePath":"../content/docs/discover/dns/scale.mdx","fullPath":"/consul/docs/discover/dns/scale","id":"sidebar-nav-item-340"}],"id":"sidebar-nav-item-334"},{"title":"Load balancing","routes":[{"title":"HA Proxy","path":"discover/load-balancer/ha","filePath":"../content/docs/discover/load-balancer/ha.mdx","fullPath":"/consul/docs/discover/load-balancer/ha","id":"sidebar-nav-item-342"},{"title":"NGINX","path":"discover/load-balancer/nginx","filePath":"../content/docs/discover/load-balancer/nginx.mdx","fullPath":"/consul/docs/discover/load-balancer/nginx","id":"sidebar-nav-item-343"},{"title":"F5 BIG-IP AS3","path":"discover/load-balancer/f5","filePath":"../content/docs/discover/load-balancer/f5.mdx","fullPath":"/consul/docs/discover/load-balancer/f5","id":"sidebar-nav-item-344"},{"title":"Envoy","path":"discover/load-balancer/envoy","filePath":"../content/docs/discover/load-balancer/envoy.mdx","fullPath":"/consul/docs/discover/load-balancer/envoy","id":"sidebar-nav-item-345"}],"id":"sidebar-nav-item-341"},{"title":"Lookup services","routes":[{"title":"Static lookups","path":"discover/service/static","filePath":"../content/docs/discover/service/static.mdx","fullPath":"/consul/docs/discover/service/static","id":"sidebar-nav-item-347"},{"title":"Dynamic lookups with prepared queries","path":"discover/service/dynamic","filePath":"../content/docs/discover/service/dynamic.mdx","fullPath":"/consul/docs/discover/service/dynamic","id":"sidebar-nav-item-348"}],"id":"sidebar-nav-item-346"},{"title":"Virtual machine (VM)","path":"discover/vm","filePath":"../content/docs/discover/vm.mdx","fullPath":"/consul/docs/discover/vm","id":"sidebar-nav-item-349"},{"title":"Kubernetes","path":"discover/k8s","filePath":"../content/docs/discover/k8s.mdx","fullPath":"/consul/docs/discover/k8s","id":"sidebar-nav-item-350"}],"id":"sidebar-nav-item-332"},{"title":"Connect service mesh","routes":[{"title":"Overview","path":"connect","filePath":"../content/docs/connect/index.mdx","fullPath":"/consul/docs/connect","id":"sidebar-nav-item-352"},{"title":"Enable service mesh","path":"connect/enable","filePath":"../content/docs/connect/enable.mdx","fullPath":"/consul/docs/connect/enable","id":"sidebar-nav-item-353"},{"title":"Lambda","routes":[{"title":"Overview","path":"connect/lambda","filePath":"../content/docs/connect/lambda/index.mdx","fullPath":"/consul/docs/connect/lambda","id":"sidebar-nav-item-355"},{"title":"Invoke Lambda functions from services","path":"connect/lambda/function","filePath":"../content/docs/connect/lambda/function.mdx","fullPath":"/consul/docs/connect/lambda/function","id":"sidebar-nav-item-356"},{"title":"Invoke services from Lambda functions","path":"connect/lambda/service","filePath":"../content/docs/connect/lambda/service.mdx","fullPath":"/consul/docs/connect/lambda/service","id":"sidebar-nav-item-357"}],"id":"sidebar-nav-item-354"},{"title":"Proxy","routes":[{"title":"Overview","path":"connect/proxy","filePath":"../content/docs/connect/proxy/index.mdx","fullPath":"/consul/docs/connect/proxy","id":"sidebar-nav-item-359"},{"title":"Deploy service mesh proxy","path":"connect/proxy/mesh","filePath":"../content/docs/connect/proxy/mesh.mdx","fullPath":"/consul/docs/connect/proxy/mesh","id":"sidebar-nav-item-360"},{"title":"Deploy sidecar proxy","path":"connect/proxy/sidecar","filePath":"../content/docs/connect/proxy/sidecar.mdx","fullPath":"/consul/docs/connect/proxy/sidecar","id":"sidebar-nav-item-361"},{"title":"Envoy extensions","href":null,"fullPath":"/consul/docs/envoy-extension","id":"sidebar-nav-item-362","path":"envoy-extension"},{"title":"Use custom proxy","path":"connect/proxy/custom","filePath":"../content/docs/connect/proxy/custom.mdx","fullPath":"/consul/docs/connect/proxy/custom","id":"sidebar-nav-item-363"},{"title":"Transparent proxy","routes":[{"title":"Overview","path":"connect/proxy/transparent-proxy","filePath":"../content/docs/connect/proxy/transparent-proxy/index.mdx","fullPath":"/consul/docs/connect/proxy/transparent-proxy","id":"sidebar-nav-item-365"},{"title":"Enable transparent proxy","path":"connect/proxy/transparent-proxy/enable","filePath":"../content/docs/connect/proxy/transparent-proxy/enable.mdx","fullPath":"/consul/docs/connect/proxy/transparent-proxy/enable","id":"sidebar-nav-item-366"},{"title":"Kubernetes","path":"connect/proxy/transparent-proxy/k8s","filePath":"../content/docs/connect/proxy/transparent-proxy/k8s.mdx","fullPath":"/consul/docs/connect/proxy/transparent-proxy/k8s","id":"sidebar-nav-item-367"},{"title":"ECS","path":"connect/proxy/transparent-proxy/ecs","filePath":"../content/docs/connect/proxy/transparent-proxy/ecs.mdx","fullPath":"/consul/docs/connect/proxy/transparent-proxy/ecs","id":"sidebar-nav-item-368"}],"id":"sidebar-nav-item-364"}],"id":"sidebar-nav-item-358"},{"title":"Troubleshoot","routes":[{"title":"Overview","path":"connect/troubleshoot","filePath":"../content/docs/connect/troubleshoot/index.mdx","fullPath":"/consul/docs/connect/troubleshoot","id":"sidebar-nav-item-370"},{"title":"Develop and debug","path":"connect/troubleshoot/debug","filePath":"../content/docs/connect/troubleshoot/debug.mdx","fullPath":"/consul/docs/connect/troubleshoot/debug","id":"sidebar-nav-item-371"},{"title":"Service-to-service troubleshooting","path":"connect/troubleshoot/service-to-service","filePath":"../content/docs/connect/troubleshoot/service-to-service.mdx","fullPath":"/consul/docs/connect/troubleshoot/service-to-service","id":"sidebar-nav-item-372"}],"id":"sidebar-nav-item-369"},{"title":"Virtual machine (VM)","path":"connect/vm","filePath":"../content/docs/connect/vm.mdx","fullPath":"/consul/docs/connect/vm","id":"sidebar-nav-item-373"},{"title":"Kubernetes","routes":[{"title":"Overview","path":"connect/k8s","filePath":"../content/docs/connect/k8s/index.mdx","fullPath":"/consul/docs/connect/k8s","id":"sidebar-nav-item-375"},{"title":"Connect injector","path":"connect/k8s/inject","filePath":"../content/docs/connect/k8s/inject.mdx","fullPath":"/consul/docs/connect/k8s/inject","id":"sidebar-nav-item-376"},{"title":"Consul CRDs","path":"connect/k8s/crds","filePath":"../content/docs/connect/k8s/crds.mdx","fullPath":"/consul/docs/connect/k8s/crds","id":"sidebar-nav-item-377"},{"title":"Workload scenario examples","path":"connect/k8s/workload","filePath":"../content/docs/connect/k8s/workload.mdx","fullPath":"/consul/docs/connect/k8s/workload","id":"sidebar-nav-item-378"}],"id":"sidebar-nav-item-374"},{"title":"ECS","path":"connect/ecs","filePath":"../content/docs/connect/ecs.mdx","fullPath":"/consul/docs/connect/ecs","id":"sidebar-nav-item-379"},{"title":"Nomad","path":"connect/nomad","filePath":"../content/docs/connect/nomad.mdx","fullPath":"/consul/docs/connect/nomad","id":"sidebar-nav-item-380"}],"id":"sidebar-nav-item-351"},{"title":"Secure north/south","routes":[{"title":"Overview","path":"north-south","filePath":"../content/docs/north-south/index.mdx","fullPath":"/consul/docs/north-south","id":"sidebar-nav-item-382"},{"title":"API gateway","routes":[{"title":"Overview","path":"north-south/api-gateway","filePath":"../content/docs/north-south/api-gateway/index.mdx","fullPath":"/consul/docs/north-south/api-gateway","id":"sidebar-nav-item-384"},{"title":"Kubernetes","routes":[{"title":"Technical specifications","path":"north-south/api-gateway/k8s/tech-specs","filePath":"../content/docs/north-south/api-gateway/k8s/tech-specs.mdx","fullPath":"/consul/docs/north-south/api-gateway/k8s/tech-specs","id":"sidebar-nav-item-386"},{"title":"Enable API gateway","path":"north-south/api-gateway/k8s/enable","filePath":"../content/docs/north-south/api-gateway/k8s/enable.mdx","fullPath":"/consul/docs/north-south/api-gateway/k8s/enable","id":"sidebar-nav-item-387"},{"title":"Deploy listener","path":"north-south/api-gateway/k8s/listener","filePath":"../content/docs/north-south/api-gateway/k8s/listener.mdx","fullPath":"/consul/docs/north-south/api-gateway/k8s/listener","id":"sidebar-nav-item-388"},{"title":"Define route","path":"north-south/api-gateway/k8s/route","filePath":"../content/docs/north-south/api-gateway/k8s/route.mdx","fullPath":"/consul/docs/north-south/api-gateway/k8s/route","id":"sidebar-nav-item-389"},{"title":"Reroute traffic","path":"north-south/api-gateway/k8s/reroute","filePath":"../content/docs/north-south/api-gateway/k8s/reroute.mdx","fullPath":"/consul/docs/north-south/api-gateway/k8s/reroute","id":"sidebar-nav-item-390"},{"title":"Route to peered services","path":"north-south/api-gateway/k8s/peer","filePath":"../content/docs/north-south/api-gateway/k8s/peer.mdx","fullPath":"/consul/docs/north-south/api-gateway/k8s/peer","id":"sidebar-nav-item-391"}],"id":"sidebar-nav-item-385"},{"title":"VMs","routes":[{"title":"Deploy listener","path":"north-south/api-gateway/vm/listener","filePath":"../content/docs/north-south/api-gateway/vm/listener.mdx","fullPath":"/consul/docs/north-south/api-gateway/vm/listener","id":"sidebar-nav-item-393"},{"title":"Define route","path":"north-south/api-gateway/vm/route","filePath":"../content/docs/north-south/api-gateway/vm/route.mdx","fullPath":"/consul/docs/north-south/api-gateway/vm/route","id":"sidebar-nav-item-394"}],"id":"sidebar-nav-item-392"},{"title":"Upgrade","href":null,"fullPath":"/consul/docs/upgrade/api-gateway/","id":"sidebar-nav-item-395","path":"upgrade/api-gateway/"},{"title":"Secure traffic","routes":[{"title":"Encrypt traffic","path":"north-south/api-gateway/secure-traffic/encrypt","filePath":"../content/docs/north-south/api-gateway/secure-traffic/encrypt.mdx","fullPath":"/consul/docs/north-south/api-gateway/secure-traffic/encrypt","id":"sidebar-nav-item-397"},{"title":"Verify requests with JWTs","badge":{"text":"ENTERPRISE","type":"outlined","color":"neutral"},"routes":[{"title":"Verify requests with JWTS on VMs","path":"north-south/api-gateway/secure-traffic/jwt/vm","filePath":"../content/docs/north-south/api-gateway/secure-traffic/jwt/vm.mdx","fullPath":"/consul/docs/north-south/api-gateway/secure-traffic/jwt/vm","id":"sidebar-nav-item-399"},{"title":"Verify requests with JWTS on Kubernetes","path":"north-south/api-gateway/secure-traffic/jwt/k8s","filePath":"../content/docs/north-south/api-gateway/secure-traffic/jwt/k8s.mdx","fullPath":"/consul/docs/north-south/api-gateway/secure-traffic/jwt/k8s","id":"sidebar-nav-item-400"}],"id":"sidebar-nav-item-398"}],"id":"sidebar-nav-item-396"}],"id":"sidebar-nav-item-383"},{"title":"Ingress gateway","routes":[{"title":"Overview","path":"north-south/ingress-gateway","filePath":"../content/docs/north-south/ingress-gateway/index.mdx","fullPath":"/consul/docs/north-south/ingress-gateway","id":"sidebar-nav-item-402"},{"title":"Create ingress gateways on VMs","path":"north-south/ingress-gateway/vm","filePath":"../content/docs/north-south/ingress-gateway/vm.mdx","fullPath":"/consul/docs/north-south/ingress-gateway/vm","id":"sidebar-nav-item-403"},{"title":"Create ingress gateways on K8s","path":"north-south/ingress-gateway/k8s","filePath":"../content/docs/north-south/ingress-gateway/k8s.mdx","fullPath":"/consul/docs/north-south/ingress-gateway/k8s","id":"sidebar-nav-item-404"},{"title":"Serve TLS certificate from external service","path":"north-south/ingress-gateway/external","filePath":"../content/docs/north-south/ingress-gateway/external.mdx","fullPath":"/consul/docs/north-south/ingress-gateway/external","id":"sidebar-nav-item-405"}],"id":"sidebar-nav-item-401"},{"title":"Terminating gateways","path":"north-south/terminating-gateway","filePath":"../content/docs/north-south/terminating-gateway.mdx","fullPath":"/consul/docs/north-south/terminating-gateway","id":"sidebar-nav-item-406"},{"title":"Ingress controllers (K8s)","path":"north-south/ingress-controller","filePath":"../content/docs/north-south/ingress-controller.mdx","fullPath":"/consul/docs/north-south/ingress-controller","id":"sidebar-nav-item-407"},{"title":"Virtual machine (VM)","path":"north-south/vm","filePath":"../content/docs/north-south/vm.mdx","fullPath":"/consul/docs/north-south/vm","id":"sidebar-nav-item-408"},{"title":"Kubernetes","path":"north-south/k8s","filePath":"../content/docs/north-south/k8s.mdx","fullPath":"/consul/docs/north-south/k8s","id":"sidebar-nav-item-409"}],"id":"sidebar-nav-item-381"},{"title":"Expand east/west","routes":[{"title":"Overview","path":"east-west","filePath":"../content/docs/east-west/index.mdx","fullPath":"/consul/docs/east-west","id":"sidebar-nav-item-411"},{"title":"Cluster peering","routes":[{"title":"Overview","path":"east-west/cluster-peering","filePath":"../content/docs/east-west/cluster-peering/index.mdx","fullPath":"/consul/docs/east-west/cluster-peering","id":"sidebar-nav-item-413"},{"title":"Technical specifications","routes":[{"title":"VMs","path":"east-west/cluster-peering/tech-specs","filePath":"../content/docs/east-west/cluster-peering/tech-specs/index.mdx","fullPath":"/consul/docs/east-west/cluster-peering/tech-specs","id":"sidebar-nav-item-415"},{"title":"Kubernetes","path":"east-west/cluster-peering/tech-specs/k8s","filePath":"../content/docs/east-west/cluster-peering/tech-specs/k8s.mdx","fullPath":"/consul/docs/east-west/cluster-peering/tech-specs/k8s","id":"sidebar-nav-item-416"}],"id":"sidebar-nav-item-414"},{"title":"Establish connections","routes":[{"title":"Virtual machine (VM)","path":"east-west/cluster-peering/establish/vm","filePath":"../content/docs/east-west/cluster-peering/establish/vm.mdx","fullPath":"/consul/docs/east-west/cluster-peering/establish/vm","id":"sidebar-nav-item-418"},{"title":"Kubernetes","path":"east-west/cluster-peering/establish/k8s","filePath":"../content/docs/east-west/cluster-peering/establish/k8s.mdx","fullPath":"/consul/docs/east-west/cluster-peering/establish/k8s","id":"sidebar-nav-item-419"}],"id":"sidebar-nav-item-417"},{"title":"Manage connections","routes":[{"title":"Virtual machine (VM)","path":"east-west/cluster-peering/manage/vm","filePath":"../content/docs/east-west/cluster-peering/manage/vm.mdx","fullPath":"/consul/docs/east-west/cluster-peering/manage/vm","id":"sidebar-nav-item-421"},{"title":"Kubernetes","path":"east-west/cluster-peering/manage/k8s","filePath":"../content/docs/east-west/cluster-peering/manage/k8s.mdx","fullPath":"/consul/docs/east-west/cluster-peering/manage/k8s","id":"sidebar-nav-item-422"}],"id":"sidebar-nav-item-420"}],"id":"sidebar-nav-item-412"},{"title":"Network area","path":"east-west/network-area","filePath":"../content/docs/east-west/network-area.mdx","fullPath":"/consul/docs/east-west/network-area","id":"sidebar-nav-item-423"},{"title":"WAN federation","routes":[{"title":"Overview","path":"east-west/wan-federation","filePath":"../content/docs/east-west/wan-federation/index.mdx","fullPath":"/consul/docs/east-west/wan-federation","id":"sidebar-nav-item-425"},{"title":"Federate Consul datacenters on VMs","path":"east-west/wan-federation/vms","filePath":"../content/docs/east-west/wan-federation/vms.mdx","fullPath":"/consul/docs/east-west/wan-federation/vms","id":"sidebar-nav-item-426"},{"title":"Federate Kubernetes clusters","path":"east-west/wan-federation/k8s","filePath":"../content/docs/east-west/wan-federation/k8s.mdx","fullPath":"/consul/docs/east-west/wan-federation/k8s","id":"sidebar-nav-item-427"},{"title":"Federate Kubernetes and VM","path":"east-west/wan-federation/k8s-vm","filePath":"../content/docs/east-west/wan-federation/k8s-vm.mdx","fullPath":"/consul/docs/east-west/wan-federation/k8s-vm","id":"sidebar-nav-item-428"},{"title":"ACLs in federated datacenters","href":null,"fullPath":"/consul/docs/secure/acl/token/federation","id":"sidebar-nav-item-429","path":"secure/acl/token/federation"},{"title":"Vault backend on Kubernetes","path":"east-west/wan-federation/vault-backend","filePath":"../content/docs/east-west/wan-federation/vault-backend.mdx","fullPath":"/consul/docs/east-west/wan-federation/vault-backend","id":"sidebar-nav-item-430"}],"id":"sidebar-nav-item-424"},{"title":"Mesh gateway","routes":[{"title":"Overview","path":"east-west/mesh-gateway","filePath":"../content/docs/east-west/mesh-gateway/index.mdx","fullPath":"/consul/docs/east-west/mesh-gateway","id":"sidebar-nav-item-432"},{"title":"Enable WAN federation control plane traffic","path":"east-west/mesh-gateway/enable","filePath":"../content/docs/east-west/mesh-gateway/enable.mdx","fullPath":"/consul/docs/east-west/mesh-gateway/enable","id":"sidebar-nav-item-433"},{"title":"Enable traffic across WAN federated datacenters","path":"east-west/mesh-gateway/federation","filePath":"../content/docs/east-west/mesh-gateway/federation.mdx","fullPath":"/consul/docs/east-west/mesh-gateway/federation","id":"sidebar-nav-item-434"},{"title":"Enable peering control plane traffic","path":"east-west/mesh-gateway/cluster-peer","filePath":"../content/docs/east-west/mesh-gateway/cluster-peer.mdx","fullPath":"/consul/docs/east-west/mesh-gateway/cluster-peer","id":"sidebar-nav-item-435"},{"title":"Enable traffic across admin partition","path":"east-west/mesh-gateway/admin-partition","filePath":"../content/docs/east-west/mesh-gateway/admin-partition.mdx","fullPath":"/consul/docs/east-west/mesh-gateway/admin-partition","id":"sidebar-nav-item-436"}],"id":"sidebar-nav-item-431"},{"title":"Virtual machine (VM)","path":"east-west/vm","filePath":"../content/docs/east-west/vm.mdx","fullPath":"/consul/docs/east-west/vm","id":"sidebar-nav-item-437"},{"title":"Kubernetes","path":"east-west/k8s","filePath":"../content/docs/east-west/k8s.mdx","fullPath":"/consul/docs/east-west/k8s","id":"sidebar-nav-item-438"}],"id":"sidebar-nav-item-410"},{"title":"Secure mesh traffic","routes":[{"title":"Overview","path":"secure-mesh","filePath":"../content/docs/secure-mesh/index.mdx","fullPath":"/consul/docs/secure-mesh","id":"sidebar-nav-item-440"},{"title":"Best practices","path":"secure-mesh/best-practice","filePath":"../content/docs/secure-mesh/best-practice.mdx","fullPath":"/consul/docs/secure-mesh/best-practice","id":"sidebar-nav-item-441"},{"title":"Service intentions","routes":[{"title":"Overview","path":"secure-mesh/intention","filePath":"../content/docs/secure-mesh/intention/index.mdx","fullPath":"/consul/docs/secure-mesh/intention","id":"sidebar-nav-item-443"},{"title":"Create and manage intentions","path":"secure-mesh/intention/create","filePath":"../content/docs/secure-mesh/intention/create.mdx","fullPath":"/consul/docs/secure-mesh/intention/create","id":"sidebar-nav-item-444"},{"title":"JWT authorization","path":"secure-mesh/intention/jwt","filePath":"../content/docs/secure-mesh/intention/jwt.mdx","fullPath":"/consul/docs/secure-mesh/intention/jwt","id":"sidebar-nav-item-445"}],"id":"sidebar-nav-item-442"},{"title":"Certificate (mTLS)","routes":[{"title":"Overview","path":"secure-mesh/certificate","filePath":"../content/docs/secure-mesh/certificate/index.mdx","fullPath":"/consul/docs/secure-mesh/certificate","id":"sidebar-nav-item-447"},{"title":"Bootstrap certificate authority (CA)","path":"secure-mesh/certificate/bootstrap","filePath":"../content/docs/secure-mesh/certificate/bootstrap.mdx","fullPath":"/consul/docs/secure-mesh/certificate/bootstrap","id":"sidebar-nav-item-448"},{"title":"Rotate TLS certificates","path":"secure-mesh/certificate/rotate","filePath":"../content/docs/secure-mesh/certificate/rotate.mdx","fullPath":"/consul/docs/secure-mesh/certificate/rotate","id":"sidebar-nav-item-449"},{"title":"Configure CA for Kubernetes","path":"secure-mesh/certificate/k8s","filePath":"../content/docs/secure-mesh/certificate/k8s.mdx","fullPath":"/consul/docs/secure-mesh/certificate/k8s","id":"sidebar-nav-item-450"},{"title":"Configure TLS on an existing cluster","path":"secure-mesh/certificate/existing","filePath":"../content/docs/secure-mesh/certificate/existing.mdx","fullPath":"/consul/docs/secure-mesh/certificate/existing","id":"sidebar-nav-item-451"},{"title":"Use built-in CA","path":"secure-mesh/certificate/built-in","filePath":"../content/docs/secure-mesh/certificate/built-in.mdx","fullPath":"/consul/docs/secure-mesh/certificate/built-in","id":"sidebar-nav-item-452"},{"title":"Use Vault for service mesh CA","path":"secure-mesh/certificate/vault","filePath":"../content/docs/secure-mesh/certificate/vault.mdx","fullPath":"/consul/docs/secure-mesh/certificate/vault","id":"sidebar-nav-item-453"},{"title":"Use AWS certificate manager","path":"secure-mesh/certificate/acm","filePath":"../content/docs/secure-mesh/certificate/acm.mdx","fullPath":"/consul/docs/secure-mesh/certificate/acm","id":"sidebar-nav-item-454"},{"title":"Enable permissive mTLS","path":"secure-mesh/certificate/permissive-mtls","filePath":"../content/docs/secure-mesh/certificate/permissive-mtls.mdx","fullPath":"/consul/docs/secure-mesh/certificate/permissive-mtls","id":"sidebar-nav-item-455"}],"id":"sidebar-nav-item-446"},{"title":"Virtual machine (VM)","path":"secure-mesh/vm","filePath":"../content/docs/secure-mesh/vm.mdx","fullPath":"/consul/docs/secure-mesh/vm","id":"sidebar-nav-item-456"},{"title":"Kubernetes","path":"secure-mesh/k8s","filePath":"../content/docs/secure-mesh/k8s.mdx","fullPath":"/consul/docs/secure-mesh/k8s","id":"sidebar-nav-item-457"}],"id":"sidebar-nav-item-439"},{"title":"Manage service traffic","routes":[{"title":"Overview","path":"manage-traffic","filePath":"../content/docs/manage-traffic/index.mdx","fullPath":"/consul/docs/manage-traffic","id":"sidebar-nav-item-459"},{"title":"Configure discovery chain","path":"manage-traffic/discovery-chain","filePath":"../content/docs/manage-traffic/discovery-chain.mdx","fullPath":"/consul/docs/manage-traffic/discovery-chain","id":"sidebar-nav-item-460"},{"title":"Route local traffic","path":"manage-traffic/route-local","filePath":"../content/docs/manage-traffic/route-local.mdx","fullPath":"/consul/docs/manage-traffic/route-local","id":"sidebar-nav-item-461"},{"title":"Route traffic to virtual services","path":"manage-traffic/virtual-service","filePath":"../content/docs/manage-traffic/virtual-service.mdx","fullPath":"/consul/docs/manage-traffic/virtual-service","id":"sidebar-nav-item-462"},{"title":"Rate limit service mesh traffic","path":"manage-traffic/rate-limit","filePath":"../content/docs/manage-traffic/rate-limit.mdx","fullPath":"/consul/docs/manage-traffic/rate-limit","id":"sidebar-nav-item-463"},{"title":"Progressive delivery","routes":[{"title":"Argo rollouts","path":"manage-traffic/progressive-rollouts/argo","filePath":"../content/docs/manage-traffic/progressive-rollouts/argo.mdx","fullPath":"/consul/docs/manage-traffic/progressive-rollouts/argo","id":"sidebar-nav-item-465"}],"id":"sidebar-nav-item-464"},{"title":"Manage traffic for peered clusters","routes":[{"title":"Virtual Machines (VMs)","path":"manage-traffic/cluster-peering/vm","filePath":"../content/docs/manage-traffic/cluster-peering/vm.mdx","fullPath":"/consul/docs/manage-traffic/cluster-peering/vm","id":"sidebar-nav-item-467"},{"title":"Kubernetes (K8s)","path":"manage-traffic/cluster-peering/k8s","filePath":"../content/docs/manage-traffic/cluster-peering/k8s.mdx","fullPath":"/consul/docs/manage-traffic/cluster-peering/k8s","id":"sidebar-nav-item-468"}],"id":"sidebar-nav-item-466"},{"title":"Failover","routes":[{"title":"Overview","path":"manage-traffic/failover","filePath":"../content/docs/manage-traffic/failover/index.mdx","fullPath":"/consul/docs/manage-traffic/failover","id":"sidebar-nav-item-470"},{"title":"Configure failover services for Kubernetes","path":"manage-traffic/failover/k8s","filePath":"../content/docs/manage-traffic/failover/k8s.mdx","fullPath":"/consul/docs/manage-traffic/failover/k8s","id":"sidebar-nav-item-471"},{"title":"Automate geo-failover with prepared queries","path":"manage-traffic/failover/prepared-query","filePath":"../content/docs/manage-traffic/failover/prepared-query.mdx","fullPath":"/consul/docs/manage-traffic/failover/prepared-query","id":"sidebar-nav-item-472"},{"title":"Failover with sameness groups","path":"manage-traffic/failover/sameness-group","filePath":"../content/docs/manage-traffic/failover/sameness-group.mdx","fullPath":"/consul/docs/manage-traffic/failover/sameness-group","id":"sidebar-nav-item-473"}],"id":"sidebar-nav-item-469"},{"title":"Virtual machine (VM)","path":"manage-traffic/vm","filePath":"../content/docs/manage-traffic/vm.mdx","fullPath":"/consul/docs/manage-traffic/vm","id":"sidebar-nav-item-474"},{"title":"Kubernetes","path":"manage-traffic/k8s","filePath":"../content/docs/manage-traffic/k8s.mdx","fullPath":"/consul/docs/manage-traffic/k8s","id":"sidebar-nav-item-475"}],"id":"sidebar-nav-item-458"},{"title":"Observe service mesh","routes":[{"title":"Overview","path":"observe","filePath":"../content/docs/observe/index.mdx","fullPath":"/consul/docs/observe","id":"sidebar-nav-item-477"},{"title":"Technical specifications","path":"observe/tech-specs","filePath":"../content/docs/observe/tech-specs.mdx","fullPath":"/consul/docs/observe/tech-specs","id":"sidebar-nav-item-478"},{"title":"Access logs","path":"observe/access-log","filePath":"../content/docs/observe/access-log.mdx","fullPath":"/consul/docs/observe/access-log","id":"sidebar-nav-item-479"},{"title":"Distributed tracing","path":"observe/distributed-tracing","filePath":"../content/docs/observe/distributed-tracing.mdx","fullPath":"/consul/docs/observe/distributed-tracing","id":"sidebar-nav-item-480"},{"title":"Mesh telemetry metrics","routes":[{"title":"Virtual Machines (VM)","path":"observe/telemetry/vm","filePath":"../content/docs/observe/telemetry/vm.mdx","fullPath":"/consul/docs/observe/telemetry/vm","id":"sidebar-nav-item-482"},{"title":"Kubernetes","path":"observe/telemetry/k8s","filePath":"../content/docs/observe/telemetry/k8s.mdx","fullPath":"/consul/docs/observe/telemetry/k8s","id":"sidebar-nav-item-483"}],"id":"sidebar-nav-item-481"},{"title":"Grafana dashboards","routes":[{"title":"Overview","path":"observe/grafana","filePath":"../content/docs/observe/grafana/index.mdx","fullPath":"/consul/docs/observe/grafana","id":"sidebar-nav-item-485"},{"title":"Consul on Kubernetes","path":"observe/grafana/consul-k8s","filePath":"../content/docs/observe/grafana/consul-k8s.mdx","fullPath":"/consul/docs/observe/grafana/consul-k8s","id":"sidebar-nav-item-486"},{"title":"Dataplanes","path":"observe/grafana/dataplane","filePath":"../content/docs/observe/grafana/dataplane.mdx","fullPath":"/consul/docs/observe/grafana/dataplane","id":"sidebar-nav-item-487"},{"title":"Consul servers","path":"observe/grafana/server","filePath":"../content/docs/observe/grafana/server.mdx","fullPath":"/consul/docs/observe/grafana/server","id":"sidebar-nav-item-488"},{"title":"Inter-service traffic","path":"observe/grafana/service-to-service","filePath":"../content/docs/observe/grafana/service-to-service.mdx","fullPath":"/consul/docs/observe/grafana/service-to-service","id":"sidebar-nav-item-489"},{"title":"Services","path":"observe/grafana/service","filePath":"../content/docs/observe/grafana/service.mdx","fullPath":"/consul/docs/observe/grafana/service","id":"sidebar-nav-item-490"}],"id":"sidebar-nav-item-484"},{"title":"Docker","path":"observe/docker","filePath":"../content/docs/observe/docker.mdx","fullPath":"/consul/docs/observe/docker","id":"sidebar-nav-item-491"}],"id":"sidebar-nav-item-476"},{"title":"Automate applications","routes":[{"title":"Overview","path":"automate","filePath":"../content/docs/automate/index.mdx","fullPath":"/consul/docs/automate","id":"sidebar-nav-item-493"},{"title":"Key/Value store","routes":[{"title":"Overview","path":"automate/kv","filePath":"../content/docs/automate/kv/index.mdx","fullPath":"/consul/docs/automate/kv","id":"sidebar-nav-item-495"},{"title":"Use KV store","path":"automate/kv/store","filePath":"../content/docs/automate/kv/store.mdx","fullPath":"/consul/docs/automate/kv/store","id":"sidebar-nav-item-496"}],"id":"sidebar-nav-item-494"},{"title":"Application leader elections","path":"automate/application-leader-election","filePath":"../content/docs/automate/application-leader-election.mdx","fullPath":"/consul/docs/automate/application-leader-election","id":"sidebar-nav-item-497"},{"title":"Consul template","routes":[{"title":"Overview","path":"automate/consul-template","filePath":"../content/docs/automate/consul-template/index.mdx","fullPath":"/consul/docs/automate/consul-template","id":"sidebar-nav-item-499"},{"title":"Install Consul Template","path":"automate/consul-template/install","filePath":"../content/docs/automate/consul-template/install.mdx","fullPath":"/consul/docs/automate/consul-template/install","id":"sidebar-nav-item-500"},{"title":"Configure Consul Template","path":"automate/consul-template/configure","filePath":"../content/docs/automate/consul-template/configure.mdx","fullPath":"/consul/docs/automate/consul-template/configure","id":"sidebar-nav-item-501"},{"title":"Render templates","path":"automate/consul-template/render","filePath":"../content/docs/automate/consul-template/render.mdx","fullPath":"/consul/docs/automate/consul-template/render","id":"sidebar-nav-item-502"},{"title":"Change modes","path":"automate/consul-template/mode","filePath":"../content/docs/automate/consul-template/mode.mdx","fullPath":"/consul/docs/automate/consul-template/mode","id":"sidebar-nav-item-503"},{"title":"View logs","path":"automate/consul-template/log","filePath":"../content/docs/automate/consul-template/log.mdx","fullPath":"/consul/docs/automate/consul-template/log","id":"sidebar-nav-item-504"},{"title":"Use custom plugins","path":"automate/consul-template/plugins","filePath":"../content/docs/automate/consul-template/plugins.mdx","fullPath":"/consul/docs/automate/consul-template/plugins","id":"sidebar-nav-item-505"},{"title":"Vault integrations","routes":[{"title":"Gossip with Consul template and Vault","path":"automate/consul-template/vault/gossip","filePath":"../content/docs/automate/consul-template/vault/gossip.mdx","fullPath":"/consul/docs/automate/consul-template/vault/gossip","id":"sidebar-nav-item-507"},{"title":"mTLS with Consul template and Vault","path":"automate/consul-template/vault/mtls","filePath":"../content/docs/automate/consul-template/vault/mtls.mdx","fullPath":"/consul/docs/automate/consul-template/vault/mtls","id":"sidebar-nav-item-508"}],"id":"sidebar-nav-item-506"}],"id":"sidebar-nav-item-498"},{"title":"Infrastructure automation","routes":[{"title":"Consul-Terraform-Sync overview","path":"automate/infrastructure","filePath":"../content/docs/automate/infrastructure/index.mdx","fullPath":"/consul/docs/automate/infrastructure","id":"sidebar-nav-item-510"},{"title":"Requirements","path":"automate/infrastructure/requirements","filePath":"../content/docs/automate/infrastructure/requirements.mdx","fullPath":"/consul/docs/automate/infrastructure/requirements","id":"sidebar-nav-item-511"},{"title":"Install CTS","path":"automate/infrastructure/install","filePath":"../content/docs/automate/infrastructure/install.mdx","fullPath":"/consul/docs/automate/infrastructure/install","id":"sidebar-nav-item-512"},{"title":"Configure CTS","path":"automate/infrastructure/configure","filePath":"../content/docs/automate/infrastructure/configure.mdx","fullPath":"/consul/docs/automate/infrastructure/configure","id":"sidebar-nav-item-513"},{"title":"Run CTS","path":"automate/infrastructure/run","filePath":"../content/docs/automate/infrastructure/run.mdx","fullPath":"/consul/docs/automate/infrastructure/run","id":"sidebar-nav-item-514"},{"title":"Configure CTS task","path":"automate/infrastructure/task","filePath":"../content/docs/automate/infrastructure/task.mdx","fullPath":"/consul/docs/automate/infrastructure/task","id":"sidebar-nav-item-515"},{"title":"Create Terraform module","path":"automate/infrastructure/module","filePath":"../content/docs/automate/infrastructure/module.mdx","fullPath":"/consul/docs/automate/infrastructure/module","id":"sidebar-nav-item-516"},{"title":"High availability","path":"automate/infrastructure/high-availability","filePath":"../content/docs/automate/infrastructure/high-availability.mdx","fullPath":"/consul/docs/automate/infrastructure/high-availability","id":"sidebar-nav-item-517"},{"title":"Network drivers","routes":[{"title":"Overview","path":"automate/infrastructure/network-driver","filePath":"../content/docs/automate/infrastructure/network-driver/index.mdx","fullPath":"/consul/docs/automate/infrastructure/network-driver","id":"sidebar-nav-item-519"},{"title":"Terraform","path":"automate/infrastructure/network-driver/terraform","filePath":"../content/docs/automate/infrastructure/network-driver/terraform.mdx","fullPath":"/consul/docs/automate/infrastructure/network-driver/terraform","id":"sidebar-nav-item-520"},{"title":"HCP Terraform","badge":{"text":"ENTERPRISE","type":"outlined","color":"neutral"},"path":"automate/infrastructure/network-driver/hcp-terraform","filePath":"../content/docs/automate/infrastructure/network-driver/hcp-terraform.mdx","fullPath":"/consul/docs/automate/infrastructure/network-driver/hcp-terraform","id":"sidebar-nav-item-521"}],"id":"sidebar-nav-item-518"}],"id":"sidebar-nav-item-509"},{"title":"Native app integration","routes":[{"title":"Overview","path":"automate/native","filePath":"../content/docs/automate/native/index.mdx","fullPath":"/consul/docs/automate/native","id":"sidebar-nav-item-523"},{"title":"Go apps","path":"automate/native/go","filePath":"../content/docs/automate/native/go.mdx","fullPath":"/consul/docs/automate/native/go","id":"sidebar-nav-item-524"}],"id":"sidebar-nav-item-522"},{"title":"Sessions","path":"automate/session","filePath":"../content/docs/automate/session.mdx","fullPath":"/consul/docs/automate/session","id":"sidebar-nav-item-525"},{"title":"Watches","path":"automate/watch","filePath":"../content/docs/automate/watch.mdx","fullPath":"/consul/docs/automate/watch","id":"sidebar-nav-item-526"}],"id":"sidebar-nav-item-492"},{"divider":true,"id":"sidebar-nav-item-527"},{"heading":"Enterprise solutions","id":"sidebar-nav-item-528"},{"title":"Consul Enterprise","routes":[{"title":"Overview","path":"enterprise","filePath":"../content/docs/enterprise/index.mdx","fullPath":"/consul/docs/enterprise","id":"sidebar-nav-item-530"},{"title":"License","routes":[{"title":"Overview","path":"enterprise/license","filePath":"../content/docs/enterprise/license/index.mdx","fullPath":"/consul/docs/enterprise/license","id":"sidebar-nav-item-532"},{"title":"Automated entitlement utilization","path":"enterprise/license/reporting","filePath":"../content/docs/enterprise/license/reporting.mdx","fullPath":"/consul/docs/enterprise/license/reporting","id":"sidebar-nav-item-533"},{"title":"FAQ","path":"enterprise/license/faq","filePath":"../content/docs/enterprise/license/faq.mdx","fullPath":"/consul/docs/enterprise/license/faq","id":"sidebar-nav-item-534"},{"title":"CTS license","path":"enterprise/license/cts","filePath":"../content/docs/enterprise/license/cts.mdx","fullPath":"/consul/docs/enterprise/license/cts","id":"sidebar-nav-item-535"}],"id":"sidebar-nav-item-531"},{"title":"AWS ECS","path":"enterprise/ecs","filePath":"../content/docs/enterprise/ecs.mdx","fullPath":"/consul/docs/enterprise/ecs","id":"sidebar-nav-item-536"},{"title":"Downgrade to CE","path":"enterprise/downgrade","filePath":"../content/docs/enterprise/downgrade.mdx","fullPath":"/consul/docs/enterprise/downgrade","id":"sidebar-nav-item-537"},{"title":"Consul-Terraform-Sync","path":"enterprise/cts","filePath":"../content/docs/enterprise/cts.mdx","fullPath":"/consul/docs/enterprise/cts","id":"sidebar-nav-item-538"}],"id":"sidebar-nav-item-529"},{"divider":true,"id":"sidebar-nav-item-539"},{"heading":"Runtimes and platforms","id":"sidebar-nav-item-540"},{"title":"Virtual machine (VM)","routes":[{"title":"Overview","path":"vm","filePath":"../content/docs/vm.mdx","fullPath":"/consul/docs/vm","id":"sidebar-nav-item-542"},{"title":"Deploy Consul","href":null,"fullPath":"/consul/docs/deploy/server/vm","id":"sidebar-nav-item-543","path":"deploy/server/vm"},{"title":"Upgrade Consul","href":null,"fullPath":"/consul/docs/upgrade","id":"sidebar-nav-item-544","path":"upgrade"},{"title":"Register services","href":null,"fullPath":"/consul/docs/register/service/vm","id":"sidebar-nav-item-545","path":"register/service/vm"},{"title":"Discover services","href":null,"fullPath":"/consul/docs/discover/vm","id":"sidebar-nav-item-546","path":"discover/vm"},{"title":"Connect services","href":null,"fullPath":"/consul/docs/connect/vm","id":"sidebar-nav-item-547","path":"connect/vm"},{"title":"Secure north/south","href":null,"fullPath":"/consul/docs/north-south/vm","id":"sidebar-nav-item-548","path":"north-south/vm"},{"title":"Expand east/west","href":null,"fullPath":"/consul/docs/east-west/vm","id":"sidebar-nav-item-549","path":"east-west/vm"},{"title":"Secure services","href":null,"fullPath":"/consul/docs/secure-mesh/vm","id":"sidebar-nav-item-550","path":"secure-mesh/vm"},{"title":"Manage service traffic","href":null,"fullPath":"/consul/docs/manage-traffic/vm","id":"sidebar-nav-item-551","path":"manage-traffic/vm"},{"title":"Observe services","href":null,"fullPath":"/consul/docs/observe/telemetry/vm","id":"sidebar-nav-item-552","path":"observe/telemetry/vm"}],"id":"sidebar-nav-item-541"},{"title":"Kubernetes","routes":[{"title":"Overview","path":"k8s","filePath":"../content/docs/k8s.mdx","fullPath":"/consul/docs/k8s","id":"sidebar-nav-item-554"},{"title":"Deploy Consul","href":null,"fullPath":"/consul/docs/deploy/server/k8s","id":"sidebar-nav-item-555","path":"deploy/server/k8s"},{"title":"Upgrade Consul","href":null,"fullPath":"/consul/docs/upgrade/k8s","id":"sidebar-nav-item-556","path":"upgrade/k8s"},{"title":"Register services","href":null,"fullPath":"/consul/docs/register/service/k8s/service-sync","id":"sidebar-nav-item-557","path":"register/service/k8s/service-sync"},{"title":"Discover services","href":null,"fullPath":"/consul/docs/discover/k8s","id":"sidebar-nav-item-558","path":"discover/k8s"},{"title":"Connect services","href":null,"fullPath":"/consul/docs/connect/k8s","id":"sidebar-nav-item-559","path":"connect/k8s"},{"title":"Secure north/south","href":null,"fullPath":"/consul/docs/north-south/k8s","id":"sidebar-nav-item-560","path":"north-south/k8s"},{"title":"Expand east/west","href":null,"fullPath":"/consul/docs/east-west/k8s","id":"sidebar-nav-item-561","path":"east-west/k8s"},{"title":"Secure services","href":null,"fullPath":"/consul/docs/secure-mesh/k8s","id":"sidebar-nav-item-562","path":"secure-mesh/k8s"},{"title":"Manage service traffic","href":null,"fullPath":"/consul/docs/manage-traffic/k8s","id":"sidebar-nav-item-563","path":"manage-traffic/k8s"},{"title":"Observe services","href":null,"fullPath":"/consul/docs/observe/telemetry/k8s","id":"sidebar-nav-item-564","path":"observe/telemetry/k8s"}],"id":"sidebar-nav-item-553"},{"title":"Docker","routes":[{"title":"Overview","path":"docker","filePath":"../content/docs/docker.mdx","fullPath":"/consul/docs/docker","id":"sidebar-nav-item-566"},{"title":"Deploy Consul","href":null,"fullPath":"/consul/docs/deploy/server/docker","id":"sidebar-nav-item-567","path":"deploy/server/docker"},{"title":"Secure Consul","href":null,"fullPath":"/consul/docs/secure/auto-config/docker","id":"sidebar-nav-item-568","path":"secure/auto-config/docker"},{"title":"Register services","href":null,"fullPath":"/consul/docs/register/docker","id":"sidebar-nav-item-569","path":"register/docker"},{"title":"Discover services","href":null,"fullPath":"/consul/docs/discover/dns/docker","id":"sidebar-nav-item-570","path":"discover/dns/docker"}],"id":"sidebar-nav-item-565"},{"title":"AWS ECS","routes":[{"title":"Overview","path":"ecs","filePath":"../content/docs/ecs.mdx","fullPath":"/consul/docs/ecs","id":"sidebar-nav-item-572"},{"title":"Deploy Consul","href":null,"fullPath":"/consul/docs/deploy/server/ecs","id":"sidebar-nav-item-573","path":"deploy/server/ecs"},{"title":"Upgrade Consul","href":null,"fullPath":"/consul/docs/upgrade/ecs","id":"sidebar-nav-item-574","path":"upgrade/ecs"},{"title":"Register services","href":null,"fullPath":"/consul/docs/register/service/ecs","id":"sidebar-nav-item-575","path":"register/service/ecs"},{"title":"Connect services","href":null,"fullPath":"/consul/docs/connect/ecs","id":"sidebar-nav-item-576","path":"connect/ecs"}],"id":"sidebar-nav-item-571"},{"title":"AWS Lambda","routes":[{"title":"Overview","path":"lambda","filePath":"../content/docs/lambda.mdx","fullPath":"/consul/docs/lambda","id":"sidebar-nav-item-578"},{"title":"Register services","href":null,"fullPath":"/consul/docs/register/service/lambda","id":"sidebar-nav-item-579","path":"register/service/lambda"},{"title":"Connect services","href":null,"fullPath":"/consul/docs/connect/lambda","id":"sidebar-nav-item-580","path":"connect/lambda"}],"id":"sidebar-nav-item-577"},{"title":"Nomad","routes":[{"title":"Overview","path":"nomad","filePath":"../content/docs/nomad.mdx","fullPath":"/consul/docs/nomad","id":"sidebar-nav-item-582"},{"title":"Register services","href":null,"fullPath":"/consul/docs/register/service/nomad","id":"sidebar-nav-item-583","path":"register/service/nomad"},{"title":"Connect services","href":null,"fullPath":"/consul/docs/connect/nomad","id":"sidebar-nav-item-584","path":"connect/nomad"}],"id":"sidebar-nav-item-581"},{"title":"RedHat OpenShift","routes":[{"title":"Overview","path":"openshift","filePath":"../content/docs/openshift.mdx","fullPath":"/consul/docs/openshift","id":"sidebar-nav-item-586"}],"id":"sidebar-nav-item-585"},{"divider":true,"id":"sidebar-nav-item-587"},{"heading":"Plugins, integrations, \u0026 extensions","id":"sidebar-nav-item-588"},{"title":"Integrations","routes":[{"title":"Consul integration program","path":"integrate","filePath":"../content/docs/integrate/index.mdx","fullPath":"/consul/docs/integrate","id":"sidebar-nav-item-590"},{"title":"Consul tools","path":"integrate/consul-tools","filePath":"../content/docs/integrate/consul-tools.mdx","fullPath":"/consul/docs/integrate/consul-tools","id":"sidebar-nav-item-591"},{"title":"NIA integration program","path":"integrate/nia","filePath":"../content/docs/integrate/nia.mdx","fullPath":"/consul/docs/integrate/nia","id":"sidebar-nav-item-592"},{"title":"HashiCorp Diagnostics (hcdiag) tool","path":"integrate/hcdiag","filePath":"../content/docs/integrate/hcdiag.mdx","fullPath":"/consul/docs/integrate/hcdiag","id":"sidebar-nav-item-593"},{"title":"HashiCorp Vault","routes":[{"title":"Consul on Kubernetes","path":"integrate/vault/k8s","filePath":"../content/docs/integrate/vault/k8s.mdx","fullPath":"/consul/docs/integrate/vault/k8s","id":"sidebar-nav-item-595"}],"id":"sidebar-nav-item-594"}],"id":"sidebar-nav-item-589"},{"title":"Envoy extensions","routes":[{"title":"Overview","path":"envoy-extension","filePath":"../content/docs/envoy-extension/index.mdx","fullPath":"/consul/docs/envoy-extension","id":"sidebar-nav-item-597"},{"title":"Authorize with Apigee","path":"envoy-extension/apigee","filePath":"../content/docs/envoy-extension/apigee.mdx","fullPath":"/consul/docs/envoy-extension/apigee","id":"sidebar-nav-item-598"},{"title":"Authorize with external services","path":"envoy-extension/ext","filePath":"../content/docs/envoy-extension/ext.mdx","fullPath":"/consul/docs/envoy-extension/ext","id":"sidebar-nav-item-599"},{"title":"Run Lua scripts","path":"envoy-extension/lua","filePath":"../content/docs/envoy-extension/lua.mdx","fullPath":"/consul/docs/envoy-extension/lua","id":"sidebar-nav-item-600"},{"title":"Invoke Lambda functions","path":"envoy-extension/lambda","filePath":"../content/docs/envoy-extension/lambda.mdx","fullPath":"/consul/docs/envoy-extension/lambda","id":"sidebar-nav-item-601"},{"title":"Configure Envoy proxy properties","path":"envoy-extension/property-override","filePath":"../content/docs/envoy-extension/property-override.mdx","fullPath":"/consul/docs/envoy-extension/property-override","id":"sidebar-nav-item-602"},{"title":"Send access logs to OpenTelemetry","path":"envoy-extension/otel","filePath":"../content/docs/envoy-extension/otel.mdx","fullPath":"/consul/docs/envoy-extension/otel","id":"sidebar-nav-item-603"},{"title":"Run WebAssembly plug-ins","path":"envoy-extension/wasm","filePath":"../content/docs/envoy-extension/wasm.mdx","fullPath":"/consul/docs/envoy-extension/wasm","id":"sidebar-nav-item-604"}],"id":"sidebar-nav-item-596"},{"divider":true,"id":"sidebar-nav-item-605"},{"heading":"Reference docs","id":"sidebar-nav-item-606"},{"title":"Error messages","routes":[{"title":"Consul","path":"error-messages/consul","filePath":"../content/docs/error-messages/consul.mdx","fullPath":"/consul/docs/error-messages/consul","id":"sidebar-nav-item-608"},{"title":"Consul on Kubernetes","path":"error-messages/k8s","filePath":"../content/docs/error-messages/k8s.mdx","fullPath":"/consul/docs/error-messages/k8s","id":"sidebar-nav-item-609"},{"title":"Consul-Terraform-Sync (CTS)","path":"error-messages/cts","filePath":"../content/docs/error-messages/cts.mdx","fullPath":"/consul/docs/error-messages/cts","id":"sidebar-nav-item-610"},{"title":"API gateway","path":"error-messages/api-gateway","filePath":"../content/docs/error-messages/api-gateway.mdx","fullPath":"/consul/docs/error-messages/api-gateway","id":"sidebar-nav-item-611"}],"id":"sidebar-nav-item-607"},{"title":"Troubleshoot Consul","routes":[{"title":"Troubleshooting overview","path":"troubleshoot","filePath":"../content/docs/troubleshoot/index.mdx","fullPath":"/consul/docs/troubleshoot","id":"sidebar-nav-item-613"},{"title":"FAQ","path":"troubleshoot/faq","filePath":"../content/docs/troubleshoot/faq.mdx","fullPath":"/consul/docs/troubleshoot/faq","id":"sidebar-nav-item-614"},{"title":"Debug service mesh","path":"troubleshoot/mesh","filePath":"../content/docs/troubleshoot/mesh.mdx","fullPath":"/consul/docs/troubleshoot/mesh","id":"sidebar-nav-item-615"},{"title":"Troubleshoot service-to-service communication","path":"troubleshoot/service-communication","filePath":"../content/docs/troubleshoot/service-communication.mdx","fullPath":"/consul/docs/troubleshoot/service-communication","id":"sidebar-nav-item-616"},{"title":"Fault injection","badge":{"text":"ENTERPRISE","type":"outlined","color":"neutral"},"path":"troubleshoot/fault-injection","filePath":"../content/docs/troubleshoot/fault-injection.mdx","fullPath":"/consul/docs/troubleshoot/fault-injection","id":"sidebar-nav-item-617"}],"id":"sidebar-nav-item-612"},{"title":"Reference","routes":[{"title":"CLI documentation","routes":[{"title":"consul","href":null,"fullPath":"/consul/commands","id":"sidebar-nav-item-620","path":"/consul/commands"},{"title":"consul-k8s","path":"reference/cli/consul-k8s","filePath":"../content/docs/reference/cli/consul-k8s.mdx","fullPath":"/consul/docs/reference/cli/consul-k8s","id":"sidebar-nav-item-621"},{"title":"consul-aws","path":"reference/cli/consul-aws","filePath":"../content/docs/reference/cli/consul-aws.mdx","fullPath":"/consul/docs/reference/cli/consul-aws","id":"sidebar-nav-item-622"},{"title":"consul-terraform-sync","routes":[{"title":"Overview","path":"reference/cli/cts","filePath":"../content/docs/reference/cli/cts/index.mdx","fullPath":"/consul/docs/reference/cli/cts","id":"sidebar-nav-item-624"},{"title":"task","path":"reference/cli/cts/task","filePath":"../content/docs/reference/cli/cts/task.mdx","fullPath":"/consul/docs/reference/cli/cts/task","id":"sidebar-nav-item-625"},{"title":"start","path":"reference/cli/cts/start","filePath":"../content/docs/reference/cli/cts/start.mdx","fullPath":"/consul/docs/reference/cli/cts/start","id":"sidebar-nav-item-626"}],"id":"sidebar-nav-item-623"}],"id":"sidebar-nav-item-619"},{"title":"Architecture","routes":[{"title":"Required ports","path":"reference/architecture/ports","filePath":"../content/docs/reference/architecture/ports.mdx","fullPath":"/consul/docs/reference/architecture/ports","id":"sidebar-nav-item-628"},{"title":"Server requirements","path":"reference/architecture/server","filePath":"../content/docs/reference/architecture/server.mdx","fullPath":"/consul/docs/reference/architecture/server","id":"sidebar-nav-item-629"},{"title":"Capacity planning","path":"reference/architecture/capacity","filePath":"../content/docs/reference/architecture/capacity.mdx","fullPath":"/consul/docs/reference/architecture/capacity","id":"sidebar-nav-item-630"},{"title":"ECS architecture","path":"reference/architecture/ecs","filePath":"../content/docs/reference/architecture/ecs.mdx","fullPath":"/consul/docs/reference/architecture/ecs","id":"sidebar-nav-item-631"}],"id":"sidebar-nav-item-627"},{"title":"Access control lists (ACLs)","routes":[{"title":"Auth methods","routes":[{"title":"AWS IAM","path":"reference/acl/auth-method/aws-iam","filePath":"../content/docs/reference/acl/auth-method/aws-iam.mdx","fullPath":"/consul/docs/reference/acl/auth-method/aws-iam","id":"sidebar-nav-item-634"},{"title":"JWT","path":"reference/acl/auth-method/jwt","filePath":"../content/docs/reference/acl/auth-method/jwt.mdx","fullPath":"/consul/docs/reference/acl/auth-method/jwt","id":"sidebar-nav-item-635"},{"title":"Kubernetes","path":"reference/acl/auth-method/k8s","filePath":"../content/docs/reference/acl/auth-method/k8s.mdx","fullPath":"/consul/docs/reference/acl/auth-method/k8s","id":"sidebar-nav-item-636"},{"title":"OIDC","path":"reference/acl/auth-method/oidc","filePath":"../content/docs/reference/acl/auth-method/oidc.mdx","fullPath":"/consul/docs/reference/acl/auth-method/oidc","id":"sidebar-nav-item-637"}],"id":"sidebar-nav-item-633"},{"title":"Tokens","path":"reference/acl/token","filePath":"../content/docs/reference/acl/token.mdx","fullPath":"/consul/docs/reference/acl/token","id":"sidebar-nav-item-638"},{"title":"Rules","path":"reference/acl/rule","filePath":"../content/docs/reference/acl/rule.mdx","fullPath":"/consul/docs/reference/acl/rule","id":"sidebar-nav-item-639"},{"title":"Roles","path":"reference/acl/role","filePath":"../content/docs/reference/acl/role.mdx","fullPath":"/consul/docs/reference/acl/role","id":"sidebar-nav-item-640"},{"title":"Policies","path":"reference/acl/policy","filePath":"../content/docs/reference/acl/policy.mdx","fullPath":"/consul/docs/reference/acl/policy","id":"sidebar-nav-item-641"}],"id":"sidebar-nav-item-632"},{"title":"Agent","routes":[{"title":"Configuration files","routes":[{"title":"Overview","path":"reference/agent/configuration-file","filePath":"../content/docs/reference/agent/configuration-file/index.mdx","fullPath":"/consul/docs/reference/agent/configuration-file","id":"sidebar-nav-item-644"},{"title":"General parameters","path":"reference/agent/configuration-file/general","filePath":"../content/docs/reference/agent/configuration-file/general.mdx","fullPath":"/consul/docs/reference/agent/configuration-file/general","id":"sidebar-nav-item-645"},{"title":"ACL parameters","path":"reference/agent/configuration-file/acl","filePath":"../content/docs/reference/agent/configuration-file/acl.mdx","fullPath":"/consul/docs/reference/agent/configuration-file/acl","id":"sidebar-nav-item-646"},{"title":"Advertise address parameters","path":"reference/agent/configuration-file/address","filePath":"../content/docs/reference/agent/configuration-file/address.mdx","fullPath":"/consul/docs/reference/agent/configuration-file/address","id":"sidebar-nav-item-647"},{"title":"Auto config parameters","path":"reference/agent/configuration-file/auto-config","filePath":"../content/docs/reference/agent/configuration-file/auto-config.mdx","fullPath":"/consul/docs/reference/agent/configuration-file/auto-config","id":"sidebar-nav-item-648"},{"title":"Bootstrap parameters","path":"reference/agent/configuration-file/bootstrap","filePath":"../content/docs/reference/agent/configuration-file/bootstrap.mdx","fullPath":"/consul/docs/reference/agent/configuration-file/bootstrap","id":"sidebar-nav-item-649"},{"title":"DNS parameters","path":"reference/agent/configuration-file/dns","filePath":"../content/docs/reference/agent/configuration-file/dns.mdx","fullPath":"/consul/docs/reference/agent/configuration-file/dns","id":"sidebar-nav-item-650"},{"title":"Encryption parameters","path":"reference/agent/configuration-file/encryption","filePath":"../content/docs/reference/agent/configuration-file/encryption.mdx","fullPath":"/consul/docs/reference/agent/configuration-file/encryption","id":"sidebar-nav-item-651"},{"title":"Gossip parameters","path":"reference/agent/configuration-file/gossip","filePath":"../content/docs/reference/agent/configuration-file/gossip.mdx","fullPath":"/consul/docs/reference/agent/configuration-file/gossip","id":"sidebar-nav-item-652"},{"title":"HCP Consul Dedicated parameters","path":"reference/agent/configuration-file/hcp","filePath":"../content/docs/reference/agent/configuration-file/hcp.mdx","fullPath":"/consul/docs/reference/agent/configuration-file/hcp","id":"sidebar-nav-item-653"},{"title":"Join parameters","path":"reference/agent/configuration-file/join","filePath":"../content/docs/reference/agent/configuration-file/join.mdx","fullPath":"/consul/docs/reference/agent/configuration-file/join","id":"sidebar-nav-item-654"},{"title":"Log parameters","path":"reference/agent/configuration-file/log","filePath":"../content/docs/reference/agent/configuration-file/log.mdx","fullPath":"/consul/docs/reference/agent/configuration-file/log","id":"sidebar-nav-item-655"},{"title":"Node parameters","path":"reference/agent/configuration-file/node","filePath":"../content/docs/reference/agent/configuration-file/node.mdx","fullPath":"/consul/docs/reference/agent/configuration-file/node","id":"sidebar-nav-item-656"},{"title":"Raft parameters","path":"reference/agent/configuration-file/raft","filePath":"../content/docs/reference/agent/configuration-file/raft.mdx","fullPath":"/consul/docs/reference/agent/configuration-file/raft","id":"sidebar-nav-item-657"},{"title":"Serf parameters","path":"reference/agent/configuration-file/serf","filePath":"../content/docs/reference/agent/configuration-file/serf.mdx","fullPath":"/consul/docs/reference/agent/configuration-file/serf","id":"sidebar-nav-item-658"},{"title":"Service mesh parameters","path":"reference/agent/configuration-file/service-mesh","filePath":"../content/docs/reference/agent/configuration-file/service-mesh.mdx","fullPath":"/consul/docs/reference/agent/configuration-file/service-mesh","id":"sidebar-nav-item-659"},{"title":"Telemetry parameters","path":"reference/agent/configuration-file/telemetry","filePath":"../content/docs/reference/agent/configuration-file/telemetry.mdx","fullPath":"/consul/docs/reference/agent/configuration-file/telemetry","id":"sidebar-nav-item-660"},{"title":"TLS parameters","path":"reference/agent/configuration-file/tls","filePath":"../content/docs/reference/agent/configuration-file/tls.mdx","fullPath":"/consul/docs/reference/agent/configuration-file/tls","id":"sidebar-nav-item-661"},{"title":"UI parameters","path":"reference/agent/configuration-file/ui","filePath":"../content/docs/reference/agent/configuration-file/ui.mdx","fullPath":"/consul/docs/reference/agent/configuration-file/ui","id":"sidebar-nav-item-662"},{"title":"xDS parameters","path":"reference/agent/configuration-file/xds","filePath":"../content/docs/reference/agent/configuration-file/xds.mdx","fullPath":"/consul/docs/reference/agent/configuration-file/xds","id":"sidebar-nav-item-663"}],"id":"sidebar-nav-item-643"},{"title":"CLI flag reference","href":null,"fullPath":"/consul/commands/agent","id":"sidebar-nav-item-664","path":"/commands/agent"},{"title":"Telemetry reference","path":"reference/agent/telemetry","filePath":"../content/docs/reference/agent/telemetry.mdx","fullPath":"/consul/docs/reference/agent/telemetry","id":"sidebar-nav-item-665"}],"id":"sidebar-nav-item-642"},{"title":"Service","routes":[{"title":"Definitions","path":"reference/service","filePath":"../content/docs/reference/service/index.mdx","fullPath":"/consul/docs/reference/service","id":"sidebar-nav-item-667"},{"title":"Health checks","path":"reference/service/health-check","filePath":"../content/docs/reference/service/health-check.mdx","fullPath":"/consul/docs/reference/service/health-check","id":"sidebar-nav-item-668"}],"id":"sidebar-nav-item-666"},{"title":"Configuration entries","routes":[{"title":"API gateway","path":"reference/config-entry/api-gateway","filePath":"../content/docs/reference/config-entry/api-gateway.mdx","fullPath":"/consul/docs/reference/config-entry/api-gateway","id":"sidebar-nav-item-670"},{"title":"Control plane request limit","path":"reference/config-entry/control-plane-request-limit","filePath":"../content/docs/reference/config-entry/control-plane-request-limit.mdx","fullPath":"/consul/docs/reference/config-entry/control-plane-request-limit","id":"sidebar-nav-item-671"},{"title":"Exported services","path":"reference/config-entry/exported-services","filePath":"../content/docs/reference/config-entry/exported-services.mdx","fullPath":"/consul/docs/reference/config-entry/exported-services","id":"sidebar-nav-item-672"},{"title":"File system certificate","path":"reference/config-entry/file-system-certificate","filePath":"../content/docs/reference/config-entry/file-system-certificate.mdx","fullPath":"/consul/docs/reference/config-entry/file-system-certificate","id":"sidebar-nav-item-673"},{"title":"Gateway CRD","href":null,"fullPath":"/consul/docs/reference/k8s/api-gateway/gateway","id":"sidebar-nav-item-674","path":"reference/k8s/api-gateway/gateway"},{"title":"GatewayClass CRD","href":null,"fullPath":"/consul/docs/reference/k8s/api-gateway/gatewayclass","id":"sidebar-nav-item-675","path":"reference/k8s/api-gateway/gatewayclass"},{"title":"GatewayClassConfig CRD","href":null,"fullPath":"/consul/docs/reference/k8s/api-gateway/gatewayclassconfig","id":"sidebar-nav-item-676","path":"reference/k8s/api-gateway/gatewayclassconfig"},{"title":"GatewayPolicy CRD","href":null,"fullPath":"/consul/docs/reference/k8s/api-gateway/gatewaypolicy","id":"sidebar-nav-item-677","path":"reference/k8s/api-gateway/gatewaypolicy"},{"title":"HTTP route","path":"reference/config-entry/http-route","filePath":"../content/docs/reference/config-entry/http-route.mdx","fullPath":"/consul/docs/reference/config-entry/http-route","id":"sidebar-nav-item-678"},{"title":"Ingress gateway","path":"reference/config-entry/ingress-gateway","filePath":"../content/docs/reference/config-entry/ingress-gateway.mdx","fullPath":"/consul/docs/reference/config-entry/ingress-gateway","id":"sidebar-nav-item-679"},{"title":"Inline certificate","path":"reference/config-entry/inline-certificate","filePath":"../content/docs/reference/config-entry/inline-certificate.mdx","fullPath":"/consul/docs/reference/config-entry/inline-certificate","id":"sidebar-nav-item-680"},{"title":"JWT provider","path":"reference/config-entry/jwt-provider","filePath":"../content/docs/reference/config-entry/jwt-provider.mdx","fullPath":"/consul/docs/reference/config-entry/jwt-provider","id":"sidebar-nav-item-681"},{"title":"Mesh","path":"reference/config-entry/mesh","filePath":"../content/docs/reference/config-entry/mesh.mdx","fullPath":"/consul/docs/reference/config-entry/mesh","id":"sidebar-nav-item-682"},{"title":"MeshService CRD","href":null,"fullPath":"/consul/docs/reference/k8s/api-gateway/meshservice","id":"sidebar-nav-item-683","path":"reference/k8s/api-gateway/meshservice"},{"title":"Proxy defaults","path":"reference/config-entry/proxy-defaults","filePath":"../content/docs/reference/config-entry/proxy-defaults.mdx","fullPath":"/consul/docs/reference/config-entry/proxy-defaults","id":"sidebar-nav-item-684"},{"title":"Registration CRD","path":"reference/config-entry/registration","filePath":"../content/docs/reference/config-entry/registration.mdx","fullPath":"/consul/docs/reference/config-entry/registration","id":"sidebar-nav-item-685"},{"title":"Routes CRD","href":null,"fullPath":"/consul/docs/reference/k8s/api-gateway/routes","id":"sidebar-nav-item-686","path":"reference/k8s/api-gateway/routes"},{"title":"RouteAuthFilter CRD","href":null,"fullPath":"/consul/docs/reference/k8s/api-gateway/routeauthfilter","id":"sidebar-nav-item-687","path":"reference/k8s/api-gateway/routeauthfilter"},{"title":"RouteRetryFilter CRD","href":null,"fullPath":"/consul/docs/reference/k8s/api-gateway/routeretryfilter","id":"sidebar-nav-item-688","path":"reference/k8s/api-gateway/routeretryfilter"},{"title":"RouteTimeoutFilter CRD","href":null,"fullPath":"/consul/docs/reference/k8s/api-gateway/routetimeoutfilter","id":"sidebar-nav-item-689","path":"reference/k8s/api-gateway/routetimeoutfilter"},{"title":"Sameness group","path":"reference/config-entry/sameness-group","filePath":"../content/docs/reference/config-entry/sameness-group.mdx","fullPath":"/consul/docs/reference/config-entry/sameness-group","id":"sidebar-nav-item-690"},{"title":"Service defaults","path":"reference/config-entry/service-defaults","filePath":"../content/docs/reference/config-entry/service-defaults.mdx","fullPath":"/consul/docs/reference/config-entry/service-defaults","id":"sidebar-nav-item-691"},{"title":"Service intentions","path":"reference/config-entry/service-intentions","filePath":"../content/docs/reference/config-entry/service-intentions.mdx","fullPath":"/consul/docs/reference/config-entry/service-intentions","id":"sidebar-nav-item-692"},{"title":"Service resolver","path":"reference/config-entry/service-resolver","filePath":"../content/docs/reference/config-entry/service-resolver.mdx","fullPath":"/consul/docs/reference/config-entry/service-resolver","id":"sidebar-nav-item-693"},{"title":"Service router","path":"reference/config-entry/service-router","filePath":"../content/docs/reference/config-entry/service-router.mdx","fullPath":"/consul/docs/reference/config-entry/service-router","id":"sidebar-nav-item-694"},{"title":"Service splitter","path":"reference/config-entry/service-splitter","filePath":"../content/docs/reference/config-entry/service-splitter.mdx","fullPath":"/consul/docs/reference/config-entry/service-splitter","id":"sidebar-nav-item-695"},{"title":"TCP route","path":"reference/config-entry/tcp-route","filePath":"../content/docs/reference/config-entry/tcp-route.mdx","fullPath":"/consul/docs/reference/config-entry/tcp-route","id":"sidebar-nav-item-696"},{"title":"Terminating gateways","path":"reference/config-entry/terminating-gateway","filePath":"../content/docs/reference/config-entry/terminating-gateway.mdx","fullPath":"/consul/docs/reference/config-entry/terminating-gateway","id":"sidebar-nav-item-697"}],"id":"sidebar-nav-item-669"},{"title":"Consul Template","routes":[{"title":"CLI","path":"reference/consul-template/cli","filePath":"../content/docs/reference/consul-template/cli.mdx","fullPath":"/consul/docs/reference/consul-template/cli","id":"sidebar-nav-item-699"},{"title":"Configuration file","path":"reference/consul-template/configuration","filePath":"../content/docs/reference/consul-template/configuration.mdx","fullPath":"/consul/docs/reference/consul-template/configuration","id":"sidebar-nav-item-700"},{"title":"Go syntax","path":"reference/consul-template/go","filePath":"../content/docs/reference/consul-template/go.mdx","fullPath":"/consul/docs/reference/consul-template/go","id":"sidebar-nav-item-701"}],"id":"sidebar-nav-item-698"},{"title":"Consul-Terraform-Sync (CTS)","routes":[{"title":"Configuration reference","path":"reference/cts","filePath":"../content/docs/reference/cts/index.mdx","fullPath":"/consul/docs/reference/cts","id":"sidebar-nav-item-703"},{"title":"API","routes":[{"title":"Overview","path":"reference/cts/api","filePath":"../content/docs/reference/cts/api/index.mdx","fullPath":"/consul/docs/reference/cts/api","id":"sidebar-nav-item-705"},{"title":"Status","path":"reference/cts/api/status","filePath":"../content/docs/reference/cts/api/status.mdx","fullPath":"/consul/docs/reference/cts/api/status","id":"sidebar-nav-item-706"},{"title":"Tasks","path":"reference/cts/api/tasks","filePath":"../content/docs/reference/cts/api/tasks.mdx","fullPath":"/consul/docs/reference/cts/api/tasks","id":"sidebar-nav-item-707"},{"title":"Health","path":"reference/cts/api/health","filePath":"../content/docs/reference/cts/api/health.mdx","fullPath":"/consul/docs/reference/cts/api/health","id":"sidebar-nav-item-708"}],"id":"sidebar-nav-item-704"},{"title":"Version compatibility","path":"reference/cts/compatibility","filePath":"../content/docs/reference/cts/compatibility.mdx","fullPath":"/consul/docs/reference/cts/compatibility","id":"sidebar-nav-item-709"}],"id":"sidebar-nav-item-702"},{"title":"Dataplanes","routes":[{"title":"CLI reference","path":"reference/dataplane/cli","filePath":"../content/docs/reference/dataplane/cli.mdx","fullPath":"/consul/docs/reference/dataplane/cli","id":"sidebar-nav-item-711"},{"title":"Telemetry","path":"reference/dataplane/telemetry","filePath":"../content/docs/reference/dataplane/telemetry.mdx","fullPath":"/consul/docs/reference/dataplane/telemetry","id":"sidebar-nav-item-712"}],"id":"sidebar-nav-item-710"},{"title":"DNS","path":"reference/dns","filePath":"../content/docs/reference/dns.mdx","fullPath":"/consul/docs/reference/dns","id":"sidebar-nav-item-713"},{"title":"ECS","routes":[{"title":"Technical specifications","path":"reference/ecs/tech-specs","filePath":"../content/docs/reference/ecs/tech-specs.mdx","fullPath":"/consul/docs/reference/ecs/tech-specs","id":"sidebar-nav-item-715"},{"title":"Task module","path":"reference/ecs","filePath":"../content/docs/reference/ecs/index.mdx","fullPath":"/consul/docs/reference/ecs","id":"sidebar-nav-item-716"},{"title":"Server JSON schema","path":"reference/ecs/server-json","filePath":"../content/docs/reference/ecs/server-json.mdx","fullPath":"/consul/docs/reference/ecs/server-json","id":"sidebar-nav-item-717"}],"id":"sidebar-nav-item-714"},{"title":"Consul on Kubernetes","routes":[{"title":"Annotations and labels","path":"reference/k8s/annotation-label","filePath":"../content/docs/reference/k8s/annotation-label.mdx","fullPath":"/consul/docs/reference/k8s/annotation-label","id":"sidebar-nav-item-719"},{"title":"API gateway resources","routes":[{"title":"Gateway","path":"reference/k8s/api-gateway/gateway","filePath":"../content/docs/reference/k8s/api-gateway/gateway.mdx","fullPath":"/consul/docs/reference/k8s/api-gateway/gateway","id":"sidebar-nav-item-721"},{"title":"GatewayClass","path":"reference/k8s/api-gateway/gatewayclass","filePath":"../content/docs/reference/k8s/api-gateway/gatewayclass.mdx","fullPath":"/consul/docs/reference/k8s/api-gateway/gatewayclass","id":"sidebar-nav-item-722"},{"title":"GatewayClassConfig","path":"reference/k8s/api-gateway/gatewayclassconfig","filePath":"../content/docs/reference/k8s/api-gateway/gatewayclassconfig.mdx","fullPath":"/consul/docs/reference/k8s/api-gateway/gatewayclassconfig","id":"sidebar-nav-item-723"},{"title":"GatewayPolicy","path":"reference/k8s/api-gateway/gatewaypolicy","filePath":"../content/docs/reference/k8s/api-gateway/gatewaypolicy.mdx","fullPath":"/consul/docs/reference/k8s/api-gateway/gatewaypolicy","id":"sidebar-nav-item-724"},{"title":"RouteAuthFilter","path":"reference/k8s/api-gateway/routeauthfilter","filePath":"../content/docs/reference/k8s/api-gateway/routeauthfilter.mdx","fullPath":"/consul/docs/reference/k8s/api-gateway/routeauthfilter","id":"sidebar-nav-item-725"},{"title":"Routes","path":"reference/k8s/api-gateway/routes","filePath":"../content/docs/reference/k8s/api-gateway/routes.mdx","fullPath":"/consul/docs/reference/k8s/api-gateway/routes","id":"sidebar-nav-item-726"},{"title":"RouteRetryFilter","path":"reference/k8s/api-gateway/routeretryfilter","filePath":"../content/docs/reference/k8s/api-gateway/routeretryfilter.mdx","fullPath":"/consul/docs/reference/k8s/api-gateway/routeretryfilter","id":"sidebar-nav-item-727"},{"title":"RouteTimeoutFilter","path":"reference/k8s/api-gateway/routetimeoutfilter","filePath":"../content/docs/reference/k8s/api-gateway/routetimeoutfilter.mdx","fullPath":"/consul/docs/reference/k8s/api-gateway/routetimeoutfilter","id":"sidebar-nav-item-728"},{"title":"MeshService","path":"reference/k8s/api-gateway/meshservice","filePath":"../content/docs/reference/k8s/api-gateway/meshservice.mdx","fullPath":"/consul/docs/reference/k8s/api-gateway/meshservice","id":"sidebar-nav-item-729"}],"id":"sidebar-nav-item-720"},{"title":"Consul Helm chart","path":"reference/k8s/helm","filePath":"../content/docs/reference/k8s/helm.mdx","fullPath":"/consul/docs/reference/k8s/helm","id":"sidebar-nav-item-730"}],"id":"sidebar-nav-item-718"},{"title":"Namespaces","path":"reference/namespace","filePath":"../content/docs/reference/namespace.mdx","fullPath":"/consul/docs/reference/namespace","id":"sidebar-nav-item-731"},{"title":"Proxies","routes":[{"title":"Built-in proxy configuration","path":"reference/proxy/built-in","filePath":"../content/docs/reference/proxy/built-in.mdx","fullPath":"/consul/docs/reference/proxy/built-in","id":"sidebar-nav-item-733"},{"title":"Connect proxy configuration","path":"reference/proxy/connect-proxy","filePath":"../content/docs/reference/proxy/connect-proxy.mdx","fullPath":"/consul/docs/reference/proxy/connect-proxy","id":"sidebar-nav-item-734"},{"title":"Envoy configuration","path":"reference/proxy/envoy","filePath":"../content/docs/reference/proxy/envoy.mdx","fullPath":"/consul/docs/reference/proxy/envoy","id":"sidebar-nav-item-735"},{"title":"Envoy extensions","routes":[{"title":"External authorization","path":"reference/proxy/extensions/ext-authz","filePath":"../content/docs/reference/proxy/extensions/ext-authz.mdx","fullPath":"/consul/docs/reference/proxy/extensions/ext-authz","id":"sidebar-nav-item-737"},{"title":"Open Telemetry","path":"reference/proxy/extensions/otel","filePath":"../content/docs/reference/proxy/extensions/otel.mdx","fullPath":"/consul/docs/reference/proxy/extensions/otel","id":"sidebar-nav-item-738"},{"title":"Property override","path":"reference/proxy/extensions/property-override","filePath":"../content/docs/reference/proxy/extensions/property-override.mdx","fullPath":"/consul/docs/reference/proxy/extensions/property-override","id":"sidebar-nav-item-739"},{"title":"WebAssembly","path":"reference/proxy/extensions/wasm","filePath":"../content/docs/reference/proxy/extensions/wasm.mdx","fullPath":"/consul/docs/reference/proxy/extensions/wasm","id":"sidebar-nav-item-740"}],"id":"sidebar-nav-item-736"},{"title":"Sidecar proxy configuration","path":"reference/proxy/sidecar","filePath":"../content/docs/reference/proxy/sidecar.mdx","fullPath":"/consul/docs/reference/proxy/sidecar","id":"sidebar-nav-item-741"}],"id":"sidebar-nav-item-732"}],"id":"sidebar-nav-item-618"},{"title":"Glossary","path":"glossary","filePath":"../content/docs/glossary.mdx","fullPath":"/consul/docs/glossary","id":"sidebar-nav-item-742"}],"title":"Documentation","visuallyHideTitle":true}],"mainWidth":"narrow","githubFileUrl":"https://github.com/hashicorp/consul/blob/main/website/../content/docs/reference/k8s/helm.mdx"},"metadata":{"title":"Helm Chart Reference","description":"The Helm Chart allows you to schedule Kubernetes clusters with injected Consul sidecars by defining custom values in a YAML configuration. Find stanza hierarchy, the parameters you can set, and their default values in this k8s reference guide.","layout":null},"outlineItems":[{"title":"Helm Chart Reference","url":"#helm-chart-reference"},{"title":"Top-Level Stanzas","url":"#top-level-stanzas"},{"title":"All Values","url":"#all-values"},{"title":"Helm Chart Examples","url":"#helm-chart-examples"},{"title":"Customizing the Helm Chart","url":"#customizing-the-helm-chart"}],"pageHeading":{"id":"helm-chart-reference","title":"Helm Chart Reference"},"mdxSource":{"compiledSource":"const makeShortcode=name=\u003efunction MDXDefaultShortcode(props){console.warn(\"Component \"+name+\" was not imported, exported, or provided by MDXProvider as global scope\");return mdx(\"div\",props)};const EnterpriseAlert=makeShortcode(\"EnterpriseAlert\");const layoutProps={};const MDXLayout=\"wrapper\";function MDXContent({components,...props}){return mdx(MDXLayout,{...layoutProps,...props,components:components,mdxType:\"MDXLayout\"},mdx(\"p\",null,`The chart is highly customizable using\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"https://helm.sh/docs/intro/using_helm/#customizing-the-chart-before-installing\"},`Helm configuration values`),`.\nEach value has a reasonable default tuned for an optimal getting started experience\nwith Consul.`),mdx(\"h2\",{\"id\":\"top-level-stanzas\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#top-level-stanzas\",\"aria-label\":\"top level stanzas permalink\"},`\\xbb`),`Top-Level Stanzas`),mdx(\"p\",null,`Use these links to navigate to a particular top-level stanza.`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"href\":\"#h-global\"},mdx(\"inlineCode\",{parentName:\"a\"},`global`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"href\":\"#h-server\"},mdx(\"inlineCode\",{parentName:\"a\"},`server`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"href\":\"#h-externalservers\"},mdx(\"inlineCode\",{parentName:\"a\"},`externalServers`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"href\":\"#h-client\"},mdx(\"inlineCode\",{parentName:\"a\"},`client`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"href\":\"#h-dns\"},mdx(\"inlineCode\",{parentName:\"a\"},`dns`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"href\":\"#h-ui\"},mdx(\"inlineCode\",{parentName:\"a\"},`ui`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"href\":\"#h-synccatalog\"},mdx(\"inlineCode\",{parentName:\"a\"},`syncCatalog`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"href\":\"#h-connectinject\"},mdx(\"inlineCode\",{parentName:\"a\"},`connectInject`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"href\":\"#h-meshgateway\"},mdx(\"inlineCode\",{parentName:\"a\"},`meshGateway`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"href\":\"#h-ingressgateways\"},mdx(\"inlineCode\",{parentName:\"a\"},`ingressGateways`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"href\":\"#h-terminatinggateways\"},mdx(\"inlineCode\",{parentName:\"a\"},`terminatingGateways`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"href\":\"#h-webhookcertmanager\"},mdx(\"inlineCode\",{parentName:\"a\"},`webhookCertManager`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"href\":\"#h-prometheus\"},mdx(\"inlineCode\",{parentName:\"a\"},`prometheus`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"href\":\"#h-tests\"},mdx(\"inlineCode\",{parentName:\"a\"},`tests`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"href\":\"#h-telemetrycollector\"},mdx(\"inlineCode\",{parentName:\"a\"},`telemetryCollector`)))),mdx(\"h2\",{\"id\":\"all-values\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#all-values\",\"aria-label\":\"all values permalink\"},`\\xbb`),`All Values`),mdx(\"h3\",{\"id\":\"global\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#h-global\",\"aria-label\":\"global permalink\"},`\\xbb`),mdx(\"a\",{parentName:\"h3\",\"className\":\"__target-h __compat\",\"id\":\"h-global\",\"aria-hidden\":\"true\"}),`global`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"global-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global\",\"aria-label\":\"global permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`global`)),` - Holds values that affect multiple components of the chart.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enabled\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-enabled\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-enabled\",\"aria-label\":\"enabled permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enabled`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: true`),`) - The main enabled/disabled setting. If true, servers,\nclients, Consul DNS and the Consul UI will be enabled. Each component can override\nthis default via its component-specific \"enabled\" config. If false, no components\nwill be installed by default and per-component opt-in is required, such as by\nsetting `,mdx(\"inlineCode\",{parentName:\"p\"},`server.enabled`),` to true.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"loglevel\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-loglevel\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-loglevel\",\"aria-label\":\"loglevel permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`logLevel`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: info`),`) - The default log level to apply to all components which do not otherwise override this setting.\nIt is recommended to generally not set this below \"info\" unless actively debugging due to logging verbosity.\nOne of \"debug\", \"info\", \"warn\", or \"error\".`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"logjson\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-logjson\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-logjson\",\"aria-label\":\"logjson permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`logJSON`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: false`),`) - Enable all component logs to be output in JSON format.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"name\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-name\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-name\",\"aria-label\":\"name permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`name`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - Set the prefix used for all resources in the Helm chart. If not set,\nthe prefix will be `,mdx(\"inlineCode\",{parentName:\"p\"},`\u003chelm release name\u003e-consul`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"domain\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-domain\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-domain\",\"aria-label\":\"domain permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`domain`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: consul`),`) - The domain Consul will answer DNS queries for\n(Refer to `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/commands/agent#_domain\"},mdx(\"inlineCode\",{parentName:\"a\"},`-domain`)),`) and the domain services synced from\nConsul into Kubernetes will have, e.g. `,mdx(\"inlineCode\",{parentName:\"p\"},`service-name.service.consul`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"peering\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-peering\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-peering\",\"aria-label\":\"peering permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`peering`)),` - Configures the Cluster Peering feature. Requires Consul v1.14+ and Consul-K8s v1.0.0+.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enabled-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-peering-enabled\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#v-global-peering-enabled\",\"aria-label\":\"enabled permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enabled`)),` (`,mdx(\"inlineCode\",{parentName:\"li\"},`boolean: false`),`) - If true, the Helm chart enables Cluster Peering for the cluster. This option enables peering controllers and\nallows use of the PeeringAcceptor and PeeringDialer CRDs for establishing service mesh peerings.`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"adminpartitions\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-adminpartitions\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-adminpartitions\",\"aria-label\":\"adminpartitions permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`adminPartitions`)),` - `,mdx(EnterpriseAlert,{inline:true,mdxType:\"EnterpriseAlert\"}),` Enabling `,mdx(\"inlineCode\",{parentName:\"p\"},`adminPartitions`),` allows creation of Admin Partitions in Kubernetes clusters.\nIt additionally indicates that you are running Consul Enterprise v1.11+ with a valid Consul Enterprise\nlicense. Admin partitions enables deploying services across partitions, while sharing\na set of Consul servers.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enabled-2\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-adminpartitions-enabled\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-adminpartitions-enabled\",\"aria-label\":\"enabled permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enabled`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: false`),`) - If true, the Helm chart will enable Admin Partitions for the cluster. The clients in the server cluster\nmust be installed in the default partition. Creation of Admin Partitions is only supported during installation.\nAdmin Partitions cannot be installed via a Helm upgrade operation. Only Helm installs are supported.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"name-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-adminpartitions-name\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-adminpartitions-name\",\"aria-label\":\"name permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`name`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: default`),`) - The name of the Admin Partition. The partition name cannot be modified once the partition has been installed.\nChanging the partition name would require an un-install and a re-install with the updated name.\nMust be \"default\" in the server cluster ie the Kubernetes cluster that the Consul server pods are deployed onto.`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"image\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-image\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-image\",\"aria-label\":\"image permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`image`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: hashicorp/consul:\u003clatest version\u003e`),`) - The name (and tag) of the Consul Docker image for clients and servers.\nThis can be overridden per component. This should be pinned to a specific\nversion tag, otherwise you may inadvertently upgrade your Consul version.`),mdx(\"p\",{parentName:\"li\"},`Examples:`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-comment)\"}},`# Consul 1.10.0`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`image`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"consul:1.10.0\"`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-comment)\"}},`# Consul Enterprise 1.10.0`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`image`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"hashicorp/consul-enterprise:1.10.0-ent\"`)),`\n`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"imagepullsecrets\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-imagepullsecrets\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-imagepullsecrets\",\"aria-label\":\"imagepullsecrets permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`imagePullSecrets`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`array\u003cmap\u003e`),`) - Array of objects containing image pull secret names that will be applied to each service account.\nThis can be used to reference image pull secrets if using a custom consul or consul-k8s-control-plane Docker image.\nRefer to `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://kubernetes.io/docs/concepts/containers/images/#using-a-private-registry\"},`https://kubernetes.io/docs/concepts/containers/images/#using-a-private-registry`),`.`),mdx(\"p\",{parentName:\"li\"},`Example:`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`imagePullSecrets`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  - `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`name`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` pull-secret-name`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  - `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`name`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` pull-secret-name-2`)),`\n`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"imagek8s\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-imagek8s\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-imagek8s\",\"aria-label\":\"imagek8s permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`imageK8S`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: hashicorp/consul-k8s-control-plane:\u003clatest version\u003e`),`) - The name (and tag) of the consul-k8s-control-plane Docker\nimage that is used for functionality such as catalog sync.\nThis can be overridden per component.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"imagepullpolicy\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-imagepullpolicy\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-imagepullpolicy\",\"aria-label\":\"imagepullpolicy permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`imagePullPolicy`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: \"\"`),`) - The image pull policy used globally for images controlled by Consul (consul, consul-dataplane, consul-k8s, consul-telemetry-collector).\nOne of \"IfNotPresent\", \"Always\", \"Never\", and \"\". Refer to `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://kubernetes.io/docs/concepts/containers/images/#image-pull-policy\"},`https://kubernetes.io/docs/concepts/containers/images/#image-pull-policy`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"datacenter\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-datacenter\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-datacenter\",\"aria-label\":\"datacenter permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`datacenter`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: dc1`),`) - The name of the datacenter that the agents should\nregister as. This can't be changed once the Consul cluster is up and running\nsince Consul doesn't support an automatic way to change this value currently:\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"https://github.com/hashicorp/consul/issues/1858\"},`https://github.com/hashicorp/consul/issues/1858`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enablepodsecuritypolicies\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-enablepodsecuritypolicies\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-enablepodsecuritypolicies\",\"aria-label\":\"enablepodsecuritypolicies permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enablePodSecurityPolicies`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: false`),`) - Controls whether pod security policies are created for the Consul components\ncreated by this chart. Refer to `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://kubernetes.io/docs/concepts/policy/pod-security-policy/\"},`https://kubernetes.io/docs/concepts/policy/pod-security-policy/`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"secretsbackend\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-secretsbackend\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-secretsbackend\",\"aria-label\":\"secretsbackend permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`secretsBackend`)),` - secretsBackend is used to configure Vault as the secrets backend for the Consul on Kubernetes installation.\nThe Vault cluster needs to have the Kubernetes Auth Method, KV2 and PKI secrets engines enabled\nand have necessary secrets, policies and roles created prior to installing Consul.\nRefer to `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/deploy/server/k8s/vault\"},`Vault as the Secrets Backend`),`\ndocumentation for full instructions.`),mdx(\"p\",{parentName:\"li\"},`The Vault cluster `,mdx(\"em\",{parentName:\"p\"},`must`),` not have the Consul cluster installed by this Helm chart as its storage backend\nas that would cause a circular dependency.\nVault can have Consul as its storage backend as long as that Consul cluster is not running on this Kubernetes cluster\nand is being managed separately from this Helm installation.`),mdx(\"p\",{parentName:\"li\"},`Note: When using Vault KV2 secrets engines the \"data\" field is implicitly required for Vault API calls,\nsecretName should be in the form of  \"vault-kv2-mount-path/data/secret-name\".\nsecretKey should be in the form of \"key\".`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"vault\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-secretsbackend-vault\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-secretsbackend-vault\",\"aria-label\":\"vault permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`vault`)),``),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"vaultnamespace\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-secretsbackend-vault-vaultnamespace\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-secretsbackend-vault-vaultnamespace\",\"aria-label\":\"vaultnamespace permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`vaultNamespace`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: \"\"`),`) - Vault namespace (optional). This sets the Vault namespace for the `,mdx(\"inlineCode\",{parentName:\"p\"},`vault.hashicorp.com/namespace`),`\nagent annotation and `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/connect/ca/vault#namespace\"},`Vault Connect CA namespace`),`.\nTo override one of these values individually, see `,mdx(\"inlineCode\",{parentName:\"p\"},`agentAnnotations`),` and `,mdx(\"inlineCode\",{parentName:\"p\"},`connectCA.additionalConfig`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enabled-3\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-secretsbackend-vault-enabled\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-secretsbackend-vault-enabled\",\"aria-label\":\"enabled permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enabled`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: false`),`) - Enabling the Vault secrets backend will replace Kubernetes secrets with referenced Vault secrets.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"consulserverrole\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-secretsbackend-vault-consulserverrole\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-secretsbackend-vault-consulserverrole\",\"aria-label\":\"consulserverrole permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`consulServerRole`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: \"\"`),`) - The Vault role for the Consul server.\nThe role must be connected to the Consul server's service account.\nThe role must also have a policy with read capabilities for the following secrets:`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},`gossip encryption key defined by the `,mdx(\"inlineCode\",{parentName:\"li\"},`global.gossipEncryption.secretName`),` value`),mdx(\"li\",{parentName:\"ul\"},`certificate issue path defined by the `,mdx(\"inlineCode\",{parentName:\"li\"},`server.serverCert.secretName`),` value`),mdx(\"li\",{parentName:\"ul\"},`CA certificate defined by the `,mdx(\"inlineCode\",{parentName:\"li\"},`global.tls.caCert.secretName`),` value`),mdx(\"li\",{parentName:\"ul\"},`replication token defined by the `,mdx(\"inlineCode\",{parentName:\"li\"},`global.acls.replicationToken.secretName`),` value if `,mdx(\"inlineCode\",{parentName:\"li\"},`global.federation.enabled`),` is `,mdx(\"inlineCode\",{parentName:\"li\"},`true`),`\nTo discover the service account name of the Consul server, run`)),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"shellsession\",\"className\":\"language-shellsession\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-shellsession\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-cyan)\"}},`$`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` helm template --show-only templates/server-serviceaccount.yaml `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`\u003c`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`release-name`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`\u003e`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` hashicorp/consul`)),`\n`)),mdx(\"p\",{parentName:\"li\"},`and check the name of `,mdx(\"inlineCode\",{parentName:\"p\"},`metadata.name`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"consulclientrole\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-secretsbackend-vault-consulclientrole\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-secretsbackend-vault-consulclientrole\",\"aria-label\":\"consulclientrole permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`consulClientRole`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: \"\"`),`) - The Vault role for the Consul client.\nThe role must be connected to the Consul client's service account.\nThe role must also have a policy with read capabilities for the gossip encryption\nkey defined by the `,mdx(\"inlineCode\",{parentName:\"p\"},`global.gossipEncryption.secretName`),` value.\nTo discover the service account name of the Consul client, run`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"shellsession\",\"className\":\"language-shellsession\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-shellsession\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-cyan)\"}},`$`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` helm template --show-only templates/client-serviceaccount.yaml `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`\u003c`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`release-name`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`\u003e`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` hashicorp/consul`)),`\n`)),mdx(\"p\",{parentName:\"li\"},`and check the name of `,mdx(\"inlineCode\",{parentName:\"p\"},`metadata.name`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"managesystemaclsrole\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-secretsbackend-vault-managesystemaclsrole\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-secretsbackend-vault-managesystemaclsrole\",\"aria-label\":\"managesystemaclsrole permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`manageSystemACLsRole`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: \"\"`),`) - A Vault role for the Consul `,mdx(\"inlineCode\",{parentName:\"p\"},`server-acl-init`),` job, which manages setting ACLs so that clients and components can obtain ACL tokens.\nThe role must be connected to the `,mdx(\"inlineCode\",{parentName:\"p\"},`server-acl-init`),` job's service account.\nThe role must also have a policy with read and write capabilities for the bootstrap, replication or partition tokens\nTo discover the service account name of the `,mdx(\"inlineCode\",{parentName:\"p\"},`server-acl-init`),` job, run`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"shellsession\",\"className\":\"language-shellsession\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-shellsession\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-cyan)\"}},`$`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` helm template --show-only templates/server-acl-init-serviceaccount.yaml \\\\`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  --set global.acls.manageSystemACLs=true \u003crelease-name\u003e hashicorp/consul`)),`\n`)),mdx(\"p\",{parentName:\"li\"},`and check the name of `,mdx(\"inlineCode\",{parentName:\"p\"},`metadata.name`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"adminpartitionsrole\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-secretsbackend-vault-adminpartitionsrole\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-secretsbackend-vault-adminpartitionsrole\",\"aria-label\":\"adminpartitionsrole permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`adminPartitionsRole`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: \"\"`),`) - `,mdx(EnterpriseAlert,{inline:true,mdxType:\"EnterpriseAlert\"}),` A Vault role that allows the Consul `,mdx(\"inlineCode\",{parentName:\"p\"},`partition-init`),` job to read a Vault secret for the partition ACL token.\nThe `,mdx(\"inlineCode\",{parentName:\"p\"},`partition-init`),` job bootstraps Admin Partitions on Consul servers.\n.\nThis role must be bound the `,mdx(\"inlineCode\",{parentName:\"p\"},`partition-init`),` job's service account.\nTo discover the service account name of the `,mdx(\"inlineCode\",{parentName:\"p\"},`partition-init`),` job, run with Helm values for the client cluster:`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"shellsession\",\"className\":\"language-shellsession\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-shellsession\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-cyan)\"}},`$`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` helm template --show-only templates/partition-init-serviceaccount.yaml -f client-cluster-values.yaml `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`\u003c`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`release-name`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`\u003e`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` hashicorp/consul`)),`\n`)),mdx(\"p\",{parentName:\"li\"},`and check the name of `,mdx(\"inlineCode\",{parentName:\"p\"},`metadata.name`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"connectinjectrole\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-secretsbackend-vault-connectinjectrole\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-secretsbackend-vault-connectinjectrole\",\"aria-label\":\"connectinjectrole permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`connectInjectRole`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: \"\"`),`) - The Vault role to read Consul connect-injector webhook's CA\nand issue a certificate and private key.\nA Vault policy must be created which grants issue capabilities to\n`,mdx(\"inlineCode\",{parentName:\"p\"},`global.secretsBackend.vault.connectInject.tlsCert.secretName`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"consulcarole\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-secretsbackend-vault-consulcarole\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-secretsbackend-vault-consulcarole\",\"aria-label\":\"consulcarole permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`consulCARole`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: \"\"`),`) - The Vault role for all Consul components to read the Consul's server's CA Certificate (unauthenticated).\nThe role should be connected to the service accounts of all Consul components, or alternatively `,mdx(\"inlineCode\",{parentName:\"p\"},`*`),` since it\nwill be used only against the `,mdx(\"inlineCode\",{parentName:\"p\"},`pki/cert/ca`),` endpoint which is unauthenticated. A policy must be created which grants\nread capabilities to `,mdx(\"inlineCode\",{parentName:\"p\"},`global.tls.caCert.secretName`),`, which is usually `,mdx(\"inlineCode\",{parentName:\"p\"},`pki/cert/ca`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"agentannotations\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-secretsbackend-vault-agentannotations\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-secretsbackend-vault-agentannotations\",\"aria-label\":\"agentannotations permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`agentAnnotations`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - This value defines additional annotations for\nVault agent on any pods where it'll be running.\nThis should be formatted as a multi-line string.`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`annotations`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` |`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  \"sample/annotation1\": \"foo\"`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  \"sample/annotation2\": \"bar\"`)),`\n`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"ca\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-secretsbackend-vault-ca\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-secretsbackend-vault-ca\",\"aria-label\":\"ca permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`ca`)),` - Configuration for Vault server CA certificate. This certificate will be mounted\nto any pod where Vault agent needs to run.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"secretname\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-secretsbackend-vault-ca-secretname\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-secretsbackend-vault-ca-secretname\",\"aria-label\":\"secretname permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`secretName`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: \"\"`),`) - The name of the Kubernetes or Vault secret that holds the Vault CA certificate.\nA Kubernetes secret must be in the same namespace that Consul is installed into.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"secretkey\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-secretsbackend-vault-ca-secretkey\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-secretsbackend-vault-ca-secretkey\",\"aria-label\":\"secretkey permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`secretKey`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: \"\"`),`) - The key within the Kubernetes or Vault secret that holds the Vault CA certificate.`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"connectca\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-secretsbackend-vault-connectca\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-secretsbackend-vault-connectca\",\"aria-label\":\"connectca permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`connectCA`)),` - Configuration for the Vault Connect CA provider.\nThe provider will be configured to use the Vault Kubernetes auth method\nand therefore requires the role provided by `,mdx(\"inlineCode\",{parentName:\"p\"},`global.secretsBackend.vault.consulServerRole`),`\nto have permissions to the root and intermediate PKI paths.\nPlease refer to `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/connect/ca/vault#vault-acl-policies\"},`Vault ACL policies`),`\ndocumentation for information on how to configure the Vault policies.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"address\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-secretsbackend-vault-connectca-address\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-secretsbackend-vault-connectca-address\",\"aria-label\":\"address permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`address`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: \"\"`),`) - The address of the Vault server.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"authmethodpath\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-secretsbackend-vault-connectca-authmethodpath\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-secretsbackend-vault-connectca-authmethodpath\",\"aria-label\":\"authmethodpath permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`authMethodPath`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: kubernetes`),`) - The mount path of the Kubernetes auth method in Vault.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"rootpkipath\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-secretsbackend-vault-connectca-rootpkipath\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-secretsbackend-vault-connectca-rootpkipath\",\"aria-label\":\"rootpkipath permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`rootPKIPath`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: \"\"`),`) - The path to a PKI secrets engine for the root certificate.\nFor more details, please refer to `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/connect/ca/vault#rootpkipath\"},`Vault Connect CA configuration`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"intermediatepkipath\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-secretsbackend-vault-connectca-intermediatepkipath\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-secretsbackend-vault-connectca-intermediatepkipath\",\"aria-label\":\"intermediatepkipath permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`intermediatePKIPath`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: \"\"`),`) - The path to a PKI secrets engine for the generated intermediate certificate.\nFor more details, please refer to `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/connect/ca/vault#intermediatepkipath\"},`Vault Connect CA configuration`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"additionalconfig\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-secretsbackend-vault-connectca-additionalconfig\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-secretsbackend-vault-connectca-additionalconfig\",\"aria-label\":\"additionalconfig permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`additionalConfig`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: {}`),`) - Additional Connect CA configuration in JSON format.\nPlease refer to `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/connect/ca/vault#configuration\"},`Vault Connect CA configuration`),`\nfor all configuration options available for that provider.`),mdx(\"p\",{parentName:\"li\"},`Example:`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`additionalConfig`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` |`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  {`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`    \"connect\": [{`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`      \"ca_config\": [{`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`           \"leaf_cert_ttl\": \"36h\"`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`        }]`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`    }]`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  }`)),`\n`))))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"connectinject\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-secretsbackend-vault-connectinject\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-secretsbackend-vault-connectinject\",\"aria-label\":\"connectinject permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`connectInject`)),``),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"cacert\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-secretsbackend-vault-connectinject-cacert\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-secretsbackend-vault-connectinject-cacert\",\"aria-label\":\"cacert permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`caCert`)),` - Configuration to the Vault Secret that Kubernetes uses on\nKubernetes pod creation, deletion, and update, to get CA certificates\nused issued from vault to send webhooks to the ConnectInject.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"secretname-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-secretsbackend-vault-connectinject-cacert-secretname\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#v-global-secretsbackend-vault-connectinject-cacert-secretname\",\"aria-label\":\"secretname permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`secretName`)),` (`,mdx(\"inlineCode\",{parentName:\"li\"},`string: null`),`) - The Vault secret path that contains the CA certificate for\nConnect Inject webhooks.`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"tlscert\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-secretsbackend-vault-connectinject-tlscert\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-secretsbackend-vault-connectinject-tlscert\",\"aria-label\":\"tlscert permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`tlsCert`)),` - Configuration to the Vault Secret that Kubernetes uses on\nKubernetes pod creation, deletion, and update, to get TLS certificates\nused issued from vault to send webhooks to the ConnectInject.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"secretname-2\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-secretsbackend-vault-connectinject-tlscert-secretname\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#v-global-secretsbackend-vault-connectinject-tlscert-secretname\",\"aria-label\":\"secretname permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`secretName`)),` (`,mdx(\"inlineCode\",{parentName:\"li\"},`string: null`),`) - The Vault secret path that issues TLS certificates for connect\ninject webhooks.`))))))))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"gossipencryption\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-gossipencryption\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-gossipencryption\",\"aria-label\":\"gossipencryption permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`gossipEncryption`)),` - Configures Consul's gossip encryption key.\n(Refer to `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/commands/agent#_encrypt\"},mdx(\"inlineCode\",{parentName:\"a\"},`-encrypt`)),`).\nBy default, gossip encryption is not enabled. The gossip encryption key may be set automatically or manually.\nThe recommended method is to automatically generate the key.\nTo automatically generate and set a gossip encryption key, set autoGenerate to true.\nValues for secretName and secretKey should not be set if autoGenerate is true.\nTo manually generate a gossip encryption key, set secretName and secretKey and use Consul to generate\na key, saving this as a Kubernetes secret or Vault secret path and key.\nIf `,mdx(\"inlineCode\",{parentName:\"p\"},`global.secretsBackend.vault.enabled=true`),`, be sure to add the \"data\" component of the secretName path as required by\nthe Vault KV-2 secrets engine `,`[refer to example]`,`.`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"shellsession\",\"className\":\"language-shellsession\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-shellsession\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-cyan)\"}},`$`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` kubectl create secret generic consul-gossip-encryption-key --from-literal=key=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`$(`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`consul`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` keygen)`)),`\n`)),mdx(\"p\",{parentName:\"li\"},`Vault CLI Example:`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"shellsession\",\"className\":\"language-shellsession\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-shellsession\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-cyan)\"}},`$`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` vault kv put consul/secrets/gossip key=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`$(`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`consul`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` keygen)`)),`\n`)),mdx(\"p\",{parentName:\"li\"},mdx(\"inlineCode\",{parentName:\"p\"},`gossipEncryption.secretName=\"consul/data/secrets/gossip\"`),`\n`,mdx(\"inlineCode\",{parentName:\"p\"},`gossipEncryption.secretKey=\"key\"`)),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"autogenerate\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-gossipencryption-autogenerate\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-gossipencryption-autogenerate\",\"aria-label\":\"autogenerate permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`autoGenerate`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: false`),`) - Automatically generate a gossip encryption key and save it to a Kubernetes or Vault secret.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"secretname-3\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-gossipencryption-secretname\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-gossipencryption-secretname\",\"aria-label\":\"secretname permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`secretName`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: \"\"`),`) - The name of the Kubernetes secret or Vault secret path that holds the gossip\nencryption key. A Kubernetes secret must be in the same namespace that Consul is installed into.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"secretkey-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-gossipencryption-secretkey\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-gossipencryption-secretkey\",\"aria-label\":\"secretkey permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`secretKey`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: \"\"`),`) - The key within the Kubernetes secret or Vault secret key that holds the gossip\nencryption key.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"loglevel-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-gossipencryption-loglevel\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-gossipencryption-loglevel\",\"aria-label\":\"loglevel permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`logLevel`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: \"\"`),`) - Override global log verbosity level for gossip-encryption-autogenerate-job pods. One of \"trace\", \"debug\", \"info\", \"warn\", or \"error\".`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"recursors\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-recursors\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-recursors\",\"aria-label\":\"recursors permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`recursors`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`array\u003cstring\u003e: []`),`) - A list of addresses of upstream DNS servers that are used to recursively resolve DNS queries.\nThese values are given as `,mdx(\"inlineCode\",{parentName:\"p\"},`-recursor`),` flags to Consul servers and clients.\nRefer to `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/commands/agent#_recursor\"},mdx(\"inlineCode\",{parentName:\"a\"},`-recursor`)),` for more details.\nIf this is an empty array (the default), then Consul DNS will only resolve queries for the Consul top level domain (by default `,mdx(\"inlineCode\",{parentName:\"p\"},`.consul`),`).`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"tls\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-tls\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-tls\",\"aria-label\":\"tls permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`tls`)),` - Enables `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/tutorials/security/tls-encryption-secure\"},`TLS`),`\nacross the cluster to verify authenticity of the Consul servers and clients.\nRequires Consul v1.4.1+.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enabled-4\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-tls-enabled\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-tls-enabled\",\"aria-label\":\"enabled permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enabled`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: false`),`) - If true, the Helm chart will enable TLS for Consul\nservers and clients and all consul-k8s-control-plane components, as well as generate certificate\nauthority (optional) and server and client certificates.\nThis setting is required for `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/connect/cluster-peering/k8s\"},`Cluster Peering`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"loglevel-2\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-tls-loglevel\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-tls-loglevel\",\"aria-label\":\"loglevel permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`logLevel`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: \"\"`),`) - Override global log verbosity level. One of \"trace\", \"debug\", \"info\", \"warn\", or \"error\".`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enableautoencrypt\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-tls-enableautoencrypt\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-tls-enableautoencrypt\",\"aria-label\":\"enableautoencrypt permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enableAutoEncrypt`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: false`),`) - If true, turns on the auto-encrypt feature on clients and servers.\nIt also switches consul-k8s-control-plane components to retrieve the CA from the servers\nvia the API. Requires Consul 1.7.1+.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"serveradditionaldnssans\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-tls-serveradditionaldnssans\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-tls-serveradditionaldnssans\",\"aria-label\":\"serveradditionaldnssans permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`serverAdditionalDNSSANs`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`array\u003cstring\u003e: []`),`) - A list of additional DNS names to set as Subject Alternative Names (SANs)\nin the server certificate. This is useful when you need to access the\nConsul server(s) externally, for example, if you're using the UI.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"serveradditionalipsans\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-tls-serveradditionalipsans\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-tls-serveradditionalipsans\",\"aria-label\":\"serveradditionalipsans permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`serverAdditionalIPSANs`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`array\u003cstring\u003e: []`),`) - A list of additional IP addresses to set as Subject Alternative Names (SANs)\nin the server certificate. This is useful when you need to access the\nConsul server(s) externally, for example, if you're using the UI.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"verify\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-tls-verify\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-tls-verify\",\"aria-label\":\"verify permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`verify`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: true`),`) - If true, `,mdx(\"inlineCode\",{parentName:\"p\"},`verify_outgoing`),`, `,mdx(\"inlineCode\",{parentName:\"p\"},`verify_server_hostname`),`,\nand `,mdx(\"inlineCode\",{parentName:\"p\"},`verify_incoming`),` for internal RPC communication will be set to `,mdx(\"inlineCode\",{parentName:\"p\"},`true`),` for Consul servers and clients.\nSet this to false to incrementally roll out TLS on an existing Consul cluster.\nPlease refer to `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/secure/encryption/tls/enable/existing/k8s\"},`TLS on existing clusters`),`\nfor more details.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"httpsonly\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-tls-httpsonly\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-tls-httpsonly\",\"aria-label\":\"httpsonly permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`httpsOnly`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: true`),`) - If true, the Helm chart will configure Consul to disable the HTTP port on\nboth clients and servers and to only accept HTTPS connections.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"cacert-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-tls-cacert\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-tls-cacert\",\"aria-label\":\"cacert permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`caCert`)),` - A secret containing the certificate of the CA to use for TLS communication within the Consul cluster.\nIf you have generated the CA yourself with the consul CLI, you could use the following command to create the secret\nin Kubernetes:`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"shellsession\",\"className\":\"language-shellsession\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-shellsession\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-cyan)\"}},`$`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` kubectl create secret generic consul-ca-cert \\\\`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    --from-file='tls.crt=./consul-agent-ca.pem'`)),`\n`)),mdx(\"p\",{parentName:\"li\"},`If you are using Vault as a secrets backend with TLS, `,mdx(\"inlineCode\",{parentName:\"p\"},`caCert.secretName`),` must be provided and should reference\nthe CA path for your PKI secrets engine. This should be of the form `,mdx(\"inlineCode\",{parentName:\"p\"},`pki/cert/ca`),` where `,mdx(\"inlineCode\",{parentName:\"p\"},`pki`),` is the mount point of your PKI secrets engine.\nA read policy must be created and associated with the CA cert path for `,mdx(\"inlineCode\",{parentName:\"p\"},`global.tls.caCert.secretName`),`.\nThis will be consumed by the `,mdx(\"inlineCode\",{parentName:\"p\"},`global.secretsBackend.vault.consulCARole`),` role by all Consul components.\nWhen using Vault the secretKey is not used.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"secretname-4\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-tls-cacert-secretname\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-tls-cacert-secretname\",\"aria-label\":\"secretname permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`secretName`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - The name of the Kubernetes or Vault secret that holds the CA certificate.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"secretkey-2\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-tls-cacert-secretkey\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-tls-cacert-secretkey\",\"aria-label\":\"secretkey permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`secretKey`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - The key within the Kubernetes or Vault secret that holds the CA certificate.`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"cakey\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-tls-cakey\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-tls-cakey\",\"aria-label\":\"cakey permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`caKey`)),` - A Kubernetes or Vault secret containing the private key of the CA to use for\nTLS communication within the Consul cluster. If you have generated the CA yourself\nwith the consul CLI, you could use the following command to create the secret\nin Kubernetes:`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"shellsession\",\"className\":\"language-shellsession\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-shellsession\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-cyan)\"}},`$`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` kubectl create secret generic consul-ca-key \\\\`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    --from-file='tls.key=./consul-agent-ca-key.pem'`)),`\n`)),mdx(\"p\",{parentName:\"li\"},`Note that we need the CA key so that we can generate server and client certificates.\nIt is particularly important for the client certificates since they need to have host IPs\nas Subject Alternative Names. If you are setting server certs yourself via `,mdx(\"inlineCode\",{parentName:\"p\"},`server.serverCert`),`\nand you are not enabling clients (or clients are enabled with autoEncrypt) then you do not\nneed to provide the CA key.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"secretname-5\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-tls-cakey-secretname\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-tls-cakey-secretname\",\"aria-label\":\"secretname permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`secretName`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - The name of the Kubernetes or Vault secret that holds the CA key.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"secretkey-3\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-tls-cakey-secretkey\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-tls-cakey-secretkey\",\"aria-label\":\"secretkey permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`secretKey`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - The key within the Kubernetes or Vault secret that holds the CA key.`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"annotations\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-tls-annotations\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-tls-annotations\",\"aria-label\":\"annotations permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`annotations`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - This value defines additional annotations for\ntls init jobs. This should be formatted as a multi-line string.`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`annotations`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` |`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  \"sample/annotation1\": \"foo\"`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  \"sample/annotation2\": \"bar\"`)),`\n`))))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enableconsulnamespaces\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-enableconsulnamespaces\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-enableconsulnamespaces\",\"aria-label\":\"enableconsulnamespaces permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enableConsulNamespaces`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: false`),`) - `,mdx(EnterpriseAlert,{inline:true,mdxType:\"EnterpriseAlert\"}),` `,mdx(\"inlineCode\",{parentName:\"p\"},`enableConsulNamespaces`),` indicates that you are running\nConsul Enterprise v1.7+ with a valid Consul Enterprise license and would\nlike to make use of configuration beyond registering everything into\nthe `,mdx(\"inlineCode\",{parentName:\"p\"},`default`),` Consul namespace. Additional configuration\noptions are found in the `,mdx(\"inlineCode\",{parentName:\"p\"},`consulNamespaces`),` section of both the catalog sync\nand connect injector.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"acls\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-acls\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-acls\",\"aria-label\":\"acls permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`acls`)),` - Configure ACLs.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"managesystemacls\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-acls-managesystemacls\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-acls-managesystemacls\",\"aria-label\":\"managesystemacls permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`manageSystemACLs`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: false`),`) - If true, the Helm chart will automatically manage ACL tokens and policies\nfor all Consul and consul-k8s-control-plane components.\nThis requires Consul \u003e= 1.4.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"loglevel-3\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-acls-loglevel\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-acls-loglevel\",\"aria-label\":\"loglevel permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`logLevel`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: \"\"`),`) - Override global log verbosity level. One of \"trace\", \"debug\", \"info\", \"warn\", or \"error\".`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"bootstraptoken\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-acls-bootstraptoken\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-acls-bootstraptoken\",\"aria-label\":\"bootstraptoken permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`bootstrapToken`)),` - A Kubernetes or Vault secret containing the bootstrap token to use for creating policies and\ntokens for all Consul and consul-k8s-control-plane components. If `,mdx(\"inlineCode\",{parentName:\"p\"},`secretName`),` and `,mdx(\"inlineCode\",{parentName:\"p\"},`secretKey`),`\nare unset, a default secret name and secret key are used. If the secret is populated, then\nwe will skip ACL bootstrapping of the servers and will only initialize ACLs for the Consul\nclients and consul-k8s-control-plane system components.\nIf the secret is empty, then we will bootstrap ACLs on the Consul servers, and write the\nbootstrap token to this secret. If ACLs are already bootstrapped on the servers, then the\nsecret must contain the bootstrap token.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"secretname-6\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-acls-bootstraptoken-secretname\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-acls-bootstraptoken-secretname\",\"aria-label\":\"secretname permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`secretName`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - The name of the Kubernetes or Vault secret that holds the bootstrap token.\nIf unset, this defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`{{ global.name }}-bootstrap-acl-token`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"secretkey-4\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-acls-bootstraptoken-secretkey\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-acls-bootstraptoken-secretkey\",\"aria-label\":\"secretkey permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`secretKey`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - The key within the Kubernetes or Vault secret that holds the bootstrap token.\nIf unset, this defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`token`),`.`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"createreplicationtoken\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-acls-createreplicationtoken\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-acls-createreplicationtoken\",\"aria-label\":\"createreplicationtoken permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`createReplicationToken`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: false`),`) - If true, an ACL token will be created that can be used in secondary\ndatacenters for replication. This should only be set to true in the\nprimary datacenter since the replication token must be created from that\ndatacenter.\nIn secondary datacenters, the secret needs to be imported from the primary\ndatacenter and referenced via `,mdx(\"inlineCode\",{parentName:\"p\"},`global.acls.replicationToken`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"replicationtoken\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-acls-replicationtoken\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-acls-replicationtoken\",\"aria-label\":\"replicationtoken permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`replicationToken`)),` - replicationToken references a secret containing the replication ACL token.\nThis token will be used by secondary datacenters to perform ACL replication\nand create ACL tokens and policies.\nThis value is ignored if `,mdx(\"inlineCode\",{parentName:\"p\"},`bootstrapToken`),` is also set.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"secretname-7\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-acls-replicationtoken-secretname\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-acls-replicationtoken-secretname\",\"aria-label\":\"secretname permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`secretName`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - The name of the Kubernetes or Vault secret that holds the replication token.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"secretkey-5\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-acls-replicationtoken-secretkey\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-acls-replicationtoken-secretkey\",\"aria-label\":\"secretkey permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`secretKey`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - The key within the Kubernetes or Vault secret that holds the replication token.`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"resources\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-acls-resources\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-acls-resources\",\"aria-label\":\"resources permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`resources`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`map`),`) - The resource requests (CPU, memory, etc.) for the server-acl-init and server-acl-init-cleanup pods.\nThis should be a YAML map corresponding to a Kubernetes\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.27/#resourcerequirements-v1-core\"},`\\`ResourceRequirements\\`\\``),`\nobject.`),mdx(\"p\",{parentName:\"li\"},`Example:`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`resources`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  requests`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`    memory`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` '200Mi'`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`    cpu`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` '100m'`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  limits`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`    memory`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` '200Mi'`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`    cpu`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` '100m'`)),`\n`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"partitiontoken\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-acls-partitiontoken\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-acls-partitiontoken\",\"aria-label\":\"partitiontoken permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`partitionToken`)),` - partitionToken references a Vault secret containing the ACL token to be used in non-default partitions.\nThis value should only be provided in the default partition and only when setting\nthe `,mdx(\"inlineCode\",{parentName:\"p\"},`global.secretsBackend.vault.enabled`),` value to true.\nConsul will use the value of the secret stored in Vault to create an ACL token in Consul with the value of the\nsecret as the secretID for the token.\nIn non-default, partitions set this secret as the `,mdx(\"inlineCode\",{parentName:\"p\"},`bootstrapToken`),`.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"secretname-8\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-acls-partitiontoken-secretname\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-acls-partitiontoken-secretname\",\"aria-label\":\"secretname permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`secretName`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - The name of the Vault secret that holds the partition token.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"secretkey-6\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-acls-partitiontoken-secretkey\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-acls-partitiontoken-secretkey\",\"aria-label\":\"secretkey permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`secretKey`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - The key within the Vault secret that holds the parition token.`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"tolerations\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-acls-tolerations\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-acls-tolerations\",\"aria-label\":\"tolerations permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`tolerations`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: \"\"`),`) - tolerations configures the taints and tolerations for the server-acl-init\nand server-acl-init-cleanup jobs. This should be a multi-line string matching the\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/\"},`Tolerations`),` array in a Pod spec.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"nodeselector\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-acls-nodeselector\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-acls-nodeselector\",\"aria-label\":\"nodeselector permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`nodeSelector`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - This value defines `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#nodeselector\"},mdx(\"inlineCode\",{parentName:\"a\"},`nodeSelector`)),`\nlabels for the server-acl-init and server-acl-init-cleanup jobs pod assignment, formatted as a multi-line string.`),mdx(\"p\",{parentName:\"li\"},`Example:`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`nodeSelector`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` |`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  beta.kubernetes.io/arch: amd64`)),`\n`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"annotations-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-acls-annotations\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-acls-annotations\",\"aria-label\":\"annotations permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`annotations`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - This value defines additional annotations for\nacl init jobs. This should be formatted as a multi-line string.`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`annotations`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` |`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  \"sample/annotation1\": \"foo\"`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  \"sample/annotation2\": \"bar\"`)),`\n`))))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"argocd\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-argocd\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-argocd\",\"aria-label\":\"argocd permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`argocd`)),` - If argocd.enabled is set to true, following annotations are added to\njob - server-acl-init-job\nannotations -\nargocd.argoproj.io/hook: Sync\nargocd.argoproj.io/hook-delete-policy: HookSucceeded`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enabled-5\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-argocd-enabled\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#v-global-argocd-enabled\",\"aria-label\":\"enabled permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enabled`)),` (`,mdx(\"inlineCode\",{parentName:\"li\"},`boolean: false`),`)`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enterpriselicense\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-enterpriselicense\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-enterpriselicense\",\"aria-label\":\"enterpriselicense permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enterpriseLicense`)),` - `,mdx(EnterpriseAlert,{inline:true,mdxType:\"EnterpriseAlert\"}),` This value refers to a Kubernetes or Vault secret that you have created\nthat contains your enterprise license. It is required if you are using an\nenterprise binary. Defining it here applies it to your cluster once a leader\nhas been elected. If you are not using an enterprise image or if you plan to\nintroduce the license key via another route, then set these fields to null.\nNote: the job to apply license runs on both Helm installs and upgrades.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"secretname-9\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-enterpriselicense-secretname\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-enterpriselicense-secretname\",\"aria-label\":\"secretname permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`secretName`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - The name of the Kubernetes or Vault secret that holds the enterprise license.\nA Kubernetes secret must be in the same namespace that Consul is installed into.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"secretkey-7\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-enterpriselicense-secretkey\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-enterpriselicense-secretkey\",\"aria-label\":\"secretkey permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`secretKey`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - The key within the Kubernetes or Vault secret that holds the enterprise license.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enablelicenseautoload\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-enterpriselicense-enablelicenseautoload\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-enterpriselicense-enablelicenseautoload\",\"aria-label\":\"enablelicenseautoload permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enableLicenseAutoload`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: true`),`) - Manages license autoload. Required in Consul 1.10.0+, 1.9.7+ and 1.8.12+.`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"federation\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-federation\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-federation\",\"aria-label\":\"federation permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`federation`)),` - Configure federation.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enabled-6\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-federation-enabled\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-federation-enabled\",\"aria-label\":\"enabled permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enabled`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: false`),`) - If enabled, this datacenter will be federation-capable. Only federation\nvia mesh gateways is supported.\nMesh gateways and servers will be configured to allow federation.\nRequires `,mdx(\"inlineCode\",{parentName:\"p\"},`global.tls.enabled`),`, `,mdx(\"inlineCode\",{parentName:\"p\"},`connectInject.enabled`),`, and one of\n`,mdx(\"inlineCode\",{parentName:\"p\"},`meshGateway.enabled`),` or `,mdx(\"inlineCode\",{parentName:\"p\"},`externalServers.enabled`),` to be true.\nRequires Consul 1.8+.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"createfederationsecret\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-federation-createfederationsecret\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-federation-createfederationsecret\",\"aria-label\":\"createfederationsecret permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`createFederationSecret`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: false`),`) - If true, the chart will create a Kubernetes secret that can be imported\ninto secondary datacenters so they can federate with this datacenter. The\nsecret contains all the information secondary datacenters need to contact\nand authenticate with this datacenter. This should only be set to true\nin your primary datacenter. The secret name is\n`,mdx(\"inlineCode\",{parentName:\"p\"},`\u003cglobal.name\u003e-federation`),` (if setting `,mdx(\"inlineCode\",{parentName:\"p\"},`global.name`),`), otherwise\n`,mdx(\"inlineCode\",{parentName:\"p\"},`\u003chelm-release-name\u003e-consul-federation`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"primarydatacenter\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-federation-primarydatacenter\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-federation-primarydatacenter\",\"aria-label\":\"primarydatacenter permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`primaryDatacenter`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - The name of the primary datacenter.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"primarygateways\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-federation-primarygateways\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-federation-primarygateways\",\"aria-label\":\"primarygateways permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`primaryGateways`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`array\u003cstring\u003e: []`),`) - A list of addresses of the primary mesh gateways in the form `,mdx(\"inlineCode\",{parentName:\"p\"},`\u003cip\u003e:\u003cport\u003e`),`\n(e.g. `,mdx(\"inlineCode\",{parentName:\"p\"},`[\"1.1.1.1:443\", \"2.3.4.5:443\"]`),`).`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"k8sauthmethodhost\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-federation-k8sauthmethodhost\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-federation-k8sauthmethodhost\",\"aria-label\":\"k8sauthmethodhost permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`k8sAuthMethodHost`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - If you are setting `,mdx(\"inlineCode\",{parentName:\"p\"},`global.federation.enabled`),` to true and are in a secondary datacenter,\nset `,mdx(\"inlineCode\",{parentName:\"p\"},`k8sAuthMethodHost`),` to the address of the Kubernetes API server of the secondary datacenter.\nThis address must be reachable from the Consul servers in the primary datacenter.\nThis auth method will be used to provision ACL tokens for Consul components and is different\nfrom the one used by the Consul Service Mesh.\nPlease refer to the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/secure/acl/auth-method/k8s\"},`Kubernetes Auth Method documentation`),`.`),mdx(\"p\",{parentName:\"li\"},`If `,mdx(\"inlineCode\",{parentName:\"p\"},`externalServers.enabled`),` is set to true, `,mdx(\"inlineCode\",{parentName:\"p\"},`global.federation.k8sAuthMethodHost`),` and\n`,mdx(\"inlineCode\",{parentName:\"p\"},`externalServers.k8sAuthMethodHost`),` should be set to the same value.`),mdx(\"p\",{parentName:\"li\"},`You can retrieve this value from your `,mdx(\"inlineCode\",{parentName:\"p\"},`kubeconfig`),` by running:`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"shellsession\",\"className\":\"language-shellsession\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-shellsession\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-cyan)\"}},`$`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` kubectl config view \\\\`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  -o jsonpath=\"{.clusters[?(@.name=='\u003cyour cluster name\u003e')].cluster.server}\"`)),`\n`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"loglevel-4\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-federation-loglevel\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-federation-loglevel\",\"aria-label\":\"loglevel permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`logLevel`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: \"\"`),`) - Override global log verbosity level for the create-federation-secret-job pods. One of \"trace\", \"debug\", \"info\", \"warn\", or \"error\".`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"metrics\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-metrics\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-metrics\",\"aria-label\":\"metrics permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`metrics`)),` - Configures metrics for Consul service mesh`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enabled-7\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-metrics-enabled\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-metrics-enabled\",\"aria-label\":\"enabled permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enabled`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: false`),`) - Configures the Helm charts components\nto expose Prometheus metrics for the Consul service mesh. By default\nthis includes gateway metrics and sidecar metrics.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enableagentmetrics\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-metrics-enableagentmetrics\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-metrics-enableagentmetrics\",\"aria-label\":\"enableagentmetrics permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enableAgentMetrics`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: false`),`) - Configures consul agent metrics. Only applicable if\n`,mdx(\"inlineCode\",{parentName:\"p\"},`global.metrics.enabled`),` is true.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"disableagenthostname\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-metrics-disableagenthostname\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-metrics-disableagenthostname\",\"aria-label\":\"disableagenthostname permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`disableAgentHostName`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: false`),`) - Set to true to stop prepending the machine's hostname to gauge-type metrics. Default is false.\nOnly applicable if `,mdx(\"inlineCode\",{parentName:\"p\"},`global.metrics.enabled`),` and `,mdx(\"inlineCode\",{parentName:\"p\"},`global.metrics.enableAgentMetrics`),` is true.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enablehostmetrics\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-metrics-enablehostmetrics\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-metrics-enablehostmetrics\",\"aria-label\":\"enablehostmetrics permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enableHostMetrics`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: false`),`) - Configures consul agent underlying host metrics. Default is false.\nOnly applicable if `,mdx(\"inlineCode\",{parentName:\"p\"},`global.metrics.enabled`),` and `,mdx(\"inlineCode\",{parentName:\"p\"},`global.metrics.enableAgentMetrics`),` is true.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"agentmetricsretentiontime\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-metrics-agentmetricsretentiontime\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-metrics-agentmetricsretentiontime\",\"aria-label\":\"agentmetricsretentiontime permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`agentMetricsRetentionTime`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: 1m`),`) - Configures the retention time for metrics in Consul clients and\nservers. This must be greater than 0 for Consul clients and servers\nto expose any metrics at all.\nOnly applicable if `,mdx(\"inlineCode\",{parentName:\"p\"},`global.metrics.enabled`),` is true.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enablegatewaymetrics\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-metrics-enablegatewaymetrics\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-metrics-enablegatewaymetrics\",\"aria-label\":\"enablegatewaymetrics permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enableGatewayMetrics`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: true`),`) - If true, mesh, terminating, and ingress gateways will expose their\nEnvoy metrics on port `,mdx(\"inlineCode\",{parentName:\"p\"},`20200`),` at the `,mdx(\"inlineCode\",{parentName:\"p\"},`/metrics`),` path and all gateway pods\nwill have Prometheus scrape annotations. Only applicable if `,mdx(\"inlineCode\",{parentName:\"p\"},`global.metrics.enabled`),` is true.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enabletelemetrycollector\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-metrics-enabletelemetrycollector\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-metrics-enabletelemetrycollector\",\"aria-label\":\"enabletelemetrycollector permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enableTelemetryCollector`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: false`),`) - Configures the Helm charts components to forward envoy metrics for the Consul service mesh to the\nconsul-telemetry-collector. This includes gateway metrics and sidecar metrics.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"prefixfilter\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-metrics-prefixfilter\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-metrics-prefixfilter\",\"aria-label\":\"prefixfilter permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`prefixFilter`)),` - Configures the list of filter rules to apply for allowing or blocking\nmetrics by prefix in the following format:`),mdx(\"p\",{parentName:\"li\"},`A leading \"+\" will enable any metrics with the given prefix, and a leading \"-\" will block them.\nIf there is overlap between two rules, the more specific rule will take precedence.\nBlocking will take priority if the same prefix is listed multiple times.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"allowlist\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-metrics-prefixfilter-allowlist\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-metrics-prefixfilter-allowlist\",\"aria-label\":\"allowlist permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`allowList`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`array\u003cstring\u003e: []`),`)`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"blocklist\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-metrics-prefixfilter-blocklist\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-metrics-prefixfilter-blocklist\",\"aria-label\":\"blocklist permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`blockList`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`array\u003cstring\u003e: []`),`)`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"datadog\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-metrics-datadog\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-metrics-datadog\",\"aria-label\":\"datadog permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`datadog`)),` - Configures consul integration configurations for datadog on kubernetes.\nOnly applicable if `,mdx(\"inlineCode\",{parentName:\"p\"},`global.metrics.enabled`),` and `,mdx(\"inlineCode\",{parentName:\"p\"},`global.metrics.enableAgentMetrics`),` is true.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enabled-8\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-metrics-datadog-enabled\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-metrics-datadog-enabled\",\"aria-label\":\"enabled permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enabled`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: false`),`) - Enables datadog `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://docs.datadoghq.com/integrations/consul/?tab=containerized#metric-collection\"},`Consul Autodiscovery Integration`),`\nby configuring the required `,mdx(\"inlineCode\",{parentName:\"p\"},`ad.datadoghq.com/consul.checks`),` annotation. The following `,mdx(\"em\",{parentName:\"p\"},`Consul`),` agent metrics/health statuses\nare monitored by Datadog unless monitoring via OpenMetrics (Prometheus) or DogStatsD:`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},`Serf events and member flaps`),mdx(\"li\",{parentName:\"ul\"},`The Raft protocol`),mdx(\"li\",{parentName:\"ul\"},`DNS performance`),mdx(\"li\",{parentName:\"ul\"},`API Endpoints scraped:`,mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"v1-agent-metrics-format-prometheus\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#v1-agent-metrics-format-prometheus\",\"aria-label\":\"v1 agent metrics format prometheus permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`/v1/agent/metrics?format=prometheus`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"v1-agent-self\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#v1-agent-self\",\"aria-label\":\"v1 agent self permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`/v1/agent/self`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"v1-status-leader\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#v1-status-leader\",\"aria-label\":\"v1 status leader permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`/v1/status/leader`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"v1-status-peers\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#v1-status-peers\",\"aria-label\":\"v1 status peers permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`/v1/status/peers`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"v1-catalog-services\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#v1-catalog-services\",\"aria-label\":\"v1 catalog services permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`/v1/catalog/services`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"v1-health-service\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#v1-health-service\",\"aria-label\":\"v1 health service permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`/v1/health/service`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"v1-health-state-any\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#v1-health-state-any\",\"aria-label\":\"v1 health state any permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`/v1/health/state/any`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"v1-coordinate-datacenters\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#v1-coordinate-datacenters\",\"aria-label\":\"v1 coordinate datacenters permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`/v1/coordinate/datacenters`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"v1-coordinate-nodes\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#v1-coordinate-nodes\",\"aria-label\":\"v1 coordinate nodes permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`/v1/coordinate/nodes`)))))),mdx(\"p\",{parentName:\"li\"},`Setting either `,mdx(\"inlineCode\",{parentName:\"p\"},`global.metrics.datadog.otlp.enabled=true`),` or `,mdx(\"inlineCode\",{parentName:\"p\"},`global.metrics.datadog.dogstatsd.enabled=true`),` disables the above checks\nin lieu of metrics data collection via DogStatsD or by a customer OpenMetrics (Prometheus) collection endpoint.`),mdx(\"div\",{parentName:\"li\",\"className\":\"alert alert-warning g-type-body\"},mdx(\"p\",{parentName:\"div\"},``,mdx(\"strong\",{parentName:\"p\"},`Note:`),` If you have a `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://docs.datadoghq.com/integrations/consul/?tab=host#dogstatsd\"},`dogstatsd_mapper_profile`),` configured for Consul\nresiding on either your Datadog NodeAgent or ClusterAgent the default Consul agent metrics/health status checks will fail. If you do not desire\nto utilize DogStatsD metrics emission from Consul, remove this configuration file, and restart your Datadog agent to permit the checks to run.`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"openmetricsprometheus\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-metrics-datadog-openmetricsprometheus\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-metrics-datadog-openmetricsprometheus\",\"aria-label\":\"openmetricsprometheus permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`openMetricsPrometheus`)),` - Configures Kubernetes Prometheus/OpenMetrics auto-discovery annotations for use with Datadog.\nThis configuration is less common and more for advanced usage with custom metrics monitoring\nconfigurations. Refer to the `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://docs.datadoghq.com/containers/kubernetes/prometheus/?tab=kubernetesadv2\"},`Datadog documentation`),` for more details.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enabled-9\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-metrics-datadog-openmetricsprometheus-enabled\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#v-global-metrics-datadog-openmetricsprometheus-enabled\",\"aria-label\":\"enabled permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enabled`)),` (`,mdx(\"inlineCode\",{parentName:\"li\"},`boolean: false`),`)`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"otlp\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-metrics-datadog-otlp\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-metrics-datadog-otlp\",\"aria-label\":\"otlp permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`otlp`)),``),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enabled-10\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-metrics-datadog-otlp-enabled\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-metrics-datadog-otlp-enabled\",\"aria-label\":\"enabled permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enabled`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: false`),`) - Enables forwarding of Consul's Telemetry Collector OTLP metrics for\ningestion by Datadog Agent.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"protocol\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-metrics-datadog-otlp-protocol\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-metrics-datadog-otlp-protocol\",\"aria-label\":\"protocol permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`protocol`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: \"http\"`),`) - Protocol used for DataDog Endpoint OTLP ingestion.`),mdx(\"p\",{parentName:\"li\"},`Valid protocol options are one of either:`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},`\"http\": will forward to DataDog HTTP OTLP Node Agent Endpoint default - \"0.0.0.0:4318\"`),mdx(\"li\",{parentName:\"ul\"},`\"grpc\": will forward to DataDog gRPC OTLP Node Agent Endpoint default - \"0.0.0.0:4317\"`))))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"dogstatsd\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-metrics-datadog-dogstatsd\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-metrics-datadog-dogstatsd\",\"aria-label\":\"dogstatsd permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`dogstatsd`)),` - Configuration settings for DogStatsD metrics aggregation service\nthat is bundled with the Datadog Agent.\nDogStatsD implements the StatsD protocol and adds a few Datadog-specific extensions:`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\"},`Histogram metric type`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\"},`Service checks`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\"},`Events`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\"},`Tagging`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enabled-11\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-metrics-datadog-dogstatsd-enabled\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-metrics-datadog-dogstatsd-enabled\",\"aria-label\":\"enabled permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enabled`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: false`),`)`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"sockettransporttype\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-metrics-datadog-dogstatsd-sockettransporttype\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-metrics-datadog-dogstatsd-sockettransporttype\",\"aria-label\":\"sockettransporttype permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`socketTransportType`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: \"UDS\"`),`) - Sets the socket transport type for dogstatsd:`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\"},`\"UDS\" (Unix Domain Socket): prefixes `,mdx(\"inlineCode\",{parentName:\"p\"},`unix://`),` to URL and appends path to socket (i.e., \"unix:///var/run/datadog/dsd.socket\")\nIf set, this will create the required `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://kubernetes.io/docs/concepts/storage/volumes/#hostpath\"},`hostPath`),` mount for\nmanaging `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://docs.datadoghq.com/developers/dogstatsd/unix_socket/?tab=kubernetes\"},`DogStatsD with Unix Domain Socket on Kubernetes`),`.\nThe volume is mounted using the `,mdx(\"inlineCode\",{parentName:\"p\"},`DirectoryOrCreate`),` type, thereby setting `,mdx(\"inlineCode\",{parentName:\"p\"},`0755`),` permissions with the same kubelet group ownership.`),mdx(\"p\",{parentName:\"li\"},`Applies the following `,mdx(\"inlineCode\",{parentName:\"p\"},`volumes`),` and `,mdx(\"inlineCode\",{parentName:\"p\"},`volumeMounts`),` to the consul-server stateful set consul containers:`))),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`volumes`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  - `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`name`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` dsdsocket`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`    hostPath`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      path`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` /var/run/datadog`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`      type`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` DirectoryOrCreate`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`volumeMounts`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  - `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`name`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` dsdsocket`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`    mountPath`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` /var/run/datadog`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`    readOnly`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},` true`)),`\n`)),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},`\"UDP\" (User Datagram Protocol): assigns address to use `,mdx(\"inlineCode\",{parentName:\"li\"},`hostname/IP:Port`),` formatted URL for UDP transport to hostIP based\ndogstatsd sink (i.e., 127.0.0.1:8125). HostIP of Datadog agent must be reachable and known to Consul server emitting metrics.`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"dogstatsdaddr\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-metrics-datadog-dogstatsd-dogstatsdaddr\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-metrics-datadog-dogstatsd-dogstatsdaddr\",\"aria-label\":\"dogstatsdaddr permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`dogstatsdAddr`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: \"/var/run/datadog/dsd.socket\"`),`) - Sets URL path for dogstatsd:`),mdx(\"p\",{parentName:\"li\"},`Can be either a path to unix domain socket or an IP Address or Hostname that's reachable from the\nconsul-server service, server containers. When using \"UDS\" the path will be appended. When using \"UDP\"\nthe path will be prepended to the specified `,mdx(\"inlineCode\",{parentName:\"p\"},`dogstatsdPort`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"dogstatsdport\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-metrics-datadog-dogstatsd-dogstatsdport\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-metrics-datadog-dogstatsd-dogstatsdport\",\"aria-label\":\"dogstatsdport permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`dogstatsdPort`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`integer: 0`),`) - Configures IP based dogstatsd designated port that will be appended to \"UDP\" based transport socket IP/Hostname URL.`),mdx(\"p\",{parentName:\"li\"},`If using a kubernetes service based address (i.e., datadog.default.svc.cluster.local), set this to 0 to\nmitigate appending a port value to the dogstatsd address field. Resultant address would be \"datadog.default.svc.cluster.local\" with\ndefault port setting, while appending a non-zero port would result in \"172.10.23.6:8125\" with a dogstatsdAddr value\nof \"172.10.23.6\".`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"dogstatsdtags\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-metrics-datadog-dogstatsd-dogstatsdtags\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-metrics-datadog-dogstatsd-dogstatsdtags\",\"aria-label\":\"dogstatsdtags permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`dogstatsdTags`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`array\u003cstring\u003e: [\"source:consul\",\"consul_service:consul-server\"]`),`) - Configures datadog `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://docs.datadoghq.com/containers/kubernetes/log/?tab=operator#autodiscovery\"},`autodiscovery`),`\nstyle `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://docs.datadoghq.com/integrations/consul/?tab=containerized#log-collection\"},`log integration`),`\nconfiguration for Consul.`),mdx(\"p\",{parentName:\"li\"},`The default settings should handle most Consul Kubernetes deployment schemes. The resultant annotation\nwill reside on the consul-server statefulset as autodiscovery annotations.\n(i.e., ad.datadoghq.com/consul.logs: `,`[\"source:consul\",\"consul_service:consul-server\", \"\"]`,`)`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"namespace\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-metrics-datadog-namespace\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-metrics-datadog-namespace\",\"aria-label\":\"namespace permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`namespace`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: \"default\"`),`) - Namespace`)))))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"imageconsuldataplane\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-imageconsuldataplane\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-imageconsuldataplane\",\"aria-label\":\"imageconsuldataplane permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`imageConsulDataplane`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: hashicorp/consul-dataplane:\u003clatest supported version\u003e`),`) - The name (and tag) of the consul-dataplane Docker image used for the\nconnect-injected sidecar proxies and mesh, terminating, and ingress gateways.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"openshift\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-openshift\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-openshift\",\"aria-label\":\"openshift permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`openshift`)),` - Configuration for running this Helm chart on the Red Hat OpenShift platform.\nThis Helm chart currently supports OpenShift v4.x+.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enabled-12\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-openshift-enabled\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#v-global-openshift-enabled\",\"aria-label\":\"enabled permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enabled`)),` (`,mdx(\"inlineCode\",{parentName:\"li\"},`boolean: false`),`) - If true, the Helm chart will create necessary configuration for running\nits components on OpenShift.`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"consulapitimeout\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-consulapitimeout\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-consulapitimeout\",\"aria-label\":\"consulapitimeout permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`consulAPITimeout`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: 5s`),`) - The time in seconds that the consul API client will wait for a response from\nthe API before cancelling the request.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"extralabels\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-extralabels\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-extralabels\",\"aria-label\":\"extralabels permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`extraLabels`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`map`),`) - Extra labels to attach to all pods, deployments, daemonsets, statefulsets, and jobs. This should be a YAML map.`),mdx(\"p\",{parentName:\"li\"},`Example:`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`extraLabels`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  labelKey`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` label-value`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  anotherLabelKey`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` another-label-value`)),`\n`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"trustedcas\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-trustedcas\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-trustedcas\",\"aria-label\":\"trustedcas permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`trustedCAs`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`array\u003cstring\u003e: []`),`) - Optional PEM-encoded CA certificates that will be added to trusted system CAs.`),mdx(\"p\",{parentName:\"li\"},`Example:`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`trustedCAs`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` [`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  |`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  -----BEGIN CERTIFICATE-----`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  MIIC7jCCApSgAwIBAgIRAIq2zQEVexqxvtxP6J0bXAwwCgYIKoZIzj0EAwIwgbkx`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},`  ...`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`]`)),`\n`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"experiments\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-global-experiments\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-global-experiments\",\"aria-label\":\"experiments permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`experiments`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`array\u003cstring\u003e: []`),`) - Consul feature flags that will be enabled across components.\nSupported feature flags:`),mdx(\"p\",{parentName:\"li\"},`Example:`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`experiments`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` [ `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"\u003cexperiment name\u003e\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` ]`)),`\n`)))))),mdx(\"h3\",{\"id\":\"server\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#h-server\",\"aria-label\":\"server permalink\"},`\\xbb`),mdx(\"a\",{parentName:\"h3\",\"className\":\"__target-h __compat\",\"id\":\"h-server\",\"aria-hidden\":\"true\"}),`server`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"server-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-server\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-server\",\"aria-label\":\"server permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`server`)),` - Server, when enabled, configures a server cluster to run. This should\nbe disabled if you plan on connecting to a Consul cluster external to\nthe Kube cluster.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enabled-13\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-server-enabled\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-server-enabled\",\"aria-label\":\"enabled permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enabled`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: global.enabled`),`) - If true, the chart will install all the resources necessary for a\nConsul server cluster. If you're running Consul externally and want agents\nwithin Kubernetes to join that cluster, this should probably be false.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"loglevel-5\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-server-loglevel\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-server-loglevel\",\"aria-label\":\"loglevel permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`logLevel`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: \"\"`),`) - Override global log verbosity level. One of \"trace\", \"debug\", \"info\", \"warn\", or \"error\".`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"image-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-server-image\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-server-image\",\"aria-label\":\"image permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`image`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - The name of the Docker image (including any tag) for the containers running\nConsul server agents.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"replicas\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-server-replicas\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-server-replicas\",\"aria-label\":\"replicas permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`replicas`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`integer: 1`),`) - The number of server agents to run. This determines the fault tolerance of\nthe cluster. Please refer to the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/architecture/consensus#deployment-table\"},`deployment table`),`\nfor more information.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"bootstrapexpect\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-server-bootstrapexpect\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-server-bootstrapexpect\",\"aria-label\":\"bootstrapexpect permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`bootstrapExpect`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`int: null`),`) - The number of servers that are expected to be running.\nIt defaults to server.replicas.\nIn most cases the default should be used, however if there are more\nservers in this datacenter than server.replicas it might make sense\nto override the default. This would be the case if two kube clusters\nwere joined into the same datacenter and each cluster ran a certain number\nof servers.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"servercert\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-server-servercert\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-server-servercert\",\"aria-label\":\"servercert permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`serverCert`)),` - A secret containing a certificate \u0026 key for the server agents to use\nfor TLS communication within the Consul cluster. Cert needs to be provided with\nadditional DNS name SANs so that it will work within the Kubernetes cluster:`),mdx(\"p\",{parentName:\"li\"},`Kubernetes Secrets backend:`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"bash\",\"className\":\"language-bash\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-bash\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`consul`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` tls`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` cert`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` create`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` -server`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` -days=730`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` -domain=consul`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` -ca=consul-agent-ca.pem`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` \\\\`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`    -key=consul-agent-ca-key.pem`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` -dc=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`{{datacenter}} \\\\`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    -additional-dnsname`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"{{fullname}}-server\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` \\\\`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    -additional-dnsname`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"*.{{fullname}}-server\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` \\\\`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    -additional-dnsname`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"*.{{fullname}}-server.{{namespace}}\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` \\\\`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    -additional-dnsname`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"*.{{fullname}}-server.{{namespace}}.svc\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` \\\\`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    -additional-dnsname`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"*.server.{{datacenter}}.{{domain}}\"`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` \\\\`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    -additional-dnsname`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`\"server.{{datacenter}}.{{domain}}\"`)),`\n`)),mdx(\"p\",{parentName:\"li\"},`If you have generated the server-cert yourself with the consul CLI, you could use the following command\nto create the secret in Kubernetes:`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"bash\",\"className\":\"language-bash\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-bash\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-function)\"}},`kubectl`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` create`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` secret`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` generic`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` consul-server-cert`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` \\\\`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`    --from-file='tls.crt=./dc1-server-consul-0.pem'`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    --from-file`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`=`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`'tls.key=./dc1-server-consul-0-key.pem'`)),`\n`)),mdx(\"p\",{parentName:\"li\"},`Vault Secrets backend:\nIf you are using Vault as a secrets backend, a Vault Policy must be created which allows `,mdx(\"inlineCode\",{parentName:\"p\"},`[\"create\", \"update\"]`),`\ncapabilities on the PKI issuing endpoint, which is usually of the form `,mdx(\"inlineCode\",{parentName:\"p\"},`pki/issue/consul-server`),`.\nComplete `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/tutorials/vault-secure/vault-pki-consul-secure-tls\"},`this tutorial`),`\nto learn how to generate a compatible certificate.\nNote: when using TLS, both the `,mdx(\"inlineCode\",{parentName:\"p\"},`server.serverCert`),` and `,mdx(\"inlineCode\",{parentName:\"p\"},`global.tls.caCert`),` which points to the CA endpoint of this PKI engine\nmust be provided.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"secretname-10\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-server-servercert-secretname\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#v-server-servercert-secretname\",\"aria-label\":\"secretname permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`secretName`)),` (`,mdx(\"inlineCode\",{parentName:\"li\"},`string: null`),`) - The name of the Vault secret that holds the PEM encoded server certificate.`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"exposegossipandrpcports\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-server-exposegossipandrpcports\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-server-exposegossipandrpcports\",\"aria-label\":\"exposegossipandrpcports permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`exposeGossipAndRPCPorts`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: false`),`) - Exposes the servers' gossip and RPC ports as hostPorts. To enable a client\nagent outside of the k8s cluster to join the datacenter, you would need to\nenable `,mdx(\"inlineCode\",{parentName:\"p\"},`server.exposeGossipAndRPCPorts`),`, `,mdx(\"inlineCode\",{parentName:\"p\"},`client.exposeGossipPorts`),`, and\nset `,mdx(\"inlineCode\",{parentName:\"p\"},`server.ports.serflan.port`),` to a port not being used on the host. Since\n`,mdx(\"inlineCode\",{parentName:\"p\"},`client.exposeGossipPorts`),` uses the hostPort 8301,\n`,mdx(\"inlineCode\",{parentName:\"p\"},`server.ports.serflan.port`),` must be set to something other than 8301.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"ports\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-server-ports\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-server-ports\",\"aria-label\":\"ports permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`ports`)),` - Configures ports for the consul servers.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"serflan\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-server-ports-serflan\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-server-ports-serflan\",\"aria-label\":\"serflan permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`serflan`)),` - Configures the LAN gossip port for the consul servers. If you choose to\nenable `,mdx(\"inlineCode\",{parentName:\"p\"},`server.exposeGossipAndRPCPorts`),` and `,mdx(\"inlineCode\",{parentName:\"p\"},`client.exposeGossipPorts`),`,\nthat will configure the LAN gossip ports on the servers and clients to be\nhostPorts, so if you are running clients and servers on the same node the\nports will conflict if they are both 8301. When you enable\n`,mdx(\"inlineCode\",{parentName:\"p\"},`server.exposeGossipAndRPCPorts`),` and `,mdx(\"inlineCode\",{parentName:\"p\"},`client.exposeGossipPorts`),`, you must\nchange this from the default to an unused port on the host, e.g. 9301. By\ndefault the LAN gossip port is 8301 and configured as a containerPort on\nthe consul server Pods.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"port\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-server-ports-serflan-port\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#v-server-ports-serflan-port\",\"aria-label\":\"port permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`port`)),` (`,mdx(\"inlineCode\",{parentName:\"li\"},`integer: 8301`),`)`))))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"storage\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-server-storage\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-server-storage\",\"aria-label\":\"storage permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`storage`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: 10Gi`),`) - This defines the disk size for configuring the\nservers' StatefulSet storage. For dynamically provisioned storage classes, this is the\ndesired size. For manually defined persistent volumes, this should be set to\nthe disk size of the attached volume.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"storageclass\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-server-storageclass\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-server-storageclass\",\"aria-label\":\"storageclass permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`storageClass`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - The StorageClass to use for the servers' StatefulSet storage. It must be\nable to be dynamically provisioned if you want the storage\nto be automatically created. For example, to use\nlocal(`,mdx(\"a\",{parentName:\"p\",\"href\":\"https://kubernetes.io/docs/concepts/storage/storage-classes/#local\"},`https://kubernetes.io/docs/concepts/storage/storage-classes/#local`),`)\nstorage classes, the PersistentVolumeClaims would need to be manually created.\nA `,mdx(\"inlineCode\",{parentName:\"p\"},`null`),` value will use the Kubernetes cluster's default StorageClass. If a default\nStorageClass does not exist, you will need to create one.\nRefer to the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/install/performance#read-write-tuning\"},`Read/Write Tuning`),`\nsection of the Server Performance Requirements documentation for considerations\naround choosing a performant storage class.`),mdx(\"div\",{parentName:\"li\",\"className\":\"alert alert-warning g-type-body\"},mdx(\"p\",{parentName:\"div\"},``,mdx(\"strong\",{parentName:\"p\"},`Note:`),` The `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/tutorials/production-deploy/reference-architecture#hardware-sizing-for-consul-servers\"},`Reference Architecture`),`\ncontains best practices and recommendations for selecting suitable\nhardware sizes for your Consul servers.`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"persistentvolumeclaimretentionpolicy\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-server-persistentvolumeclaimretentionpolicy\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-server-persistentvolumeclaimretentionpolicy\",\"aria-label\":\"persistentvolumeclaimretentionpolicy permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`persistentVolumeClaimRetentionPolicy`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`map`),`) - The `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://kubernetes.io/docs/concepts/workloads/controllers/statefulset/#persistentvolumeclaim-retention\"},`Persistent Volume Claim (PVC) retention policy`),`\ncontrols if and how PVCs are deleted during the lifecycle of a StatefulSet.\nWhenDeleted specifies what happens to PVCs created from StatefulSet VolumeClaimTemplates when the StatefulSet is deleted,\nand WhenScaled specifies what happens to PVCs created from StatefulSet VolumeClaimTemplates when the StatefulSet is scaled down.`),mdx(\"p\",{parentName:\"li\"},`Example:`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`persistentVolumeClaimRetentionPolicy`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  whenDeleted`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` Retain`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  whenScaled`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` Retain`)),`\n`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"connect\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-server-connect\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-server-connect\",\"aria-label\":\"connect permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`connect`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: true`),`) - This will enable/disable `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/connect\"},`service mesh`),`. Setting this to true\n`,mdx(\"em\",{parentName:\"p\"},`will not`),` automatically secure pod communication, this\nsetting will only enable usage of the feature. Consul will automatically initialize\na new CA and set of certificates. Additional service mesh settings can be configured\nby setting the `,mdx(\"inlineCode\",{parentName:\"p\"},`server.extraConfig`),` value or by applying `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/fundamentals/config-entry\"},`configuration entries`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enableagentdebug\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-server-enableagentdebug\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-server-enableagentdebug\",\"aria-label\":\"enableagentdebug permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enableAgentDebug`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: false`),`) - When set to true, enables Consul to report additional debugging information, including runtime profiling (pprof) data.\nThis setting is only required for clusters without ACL enabled. Sets `,mdx(\"inlineCode\",{parentName:\"p\"},`enable_debug`),` in server agent config to `,mdx(\"inlineCode\",{parentName:\"p\"},`true`),`.\nIf you change this setting, you must restart the agent for the change to take effect. Default is false.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"serviceaccount\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-server-serviceaccount\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-server-serviceaccount\",\"aria-label\":\"serviceaccount permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`serviceAccount`)),``),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"annotations-2\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-server-serviceaccount-annotations\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-server-serviceaccount-annotations\",\"aria-label\":\"annotations permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`annotations`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - This value defines additional annotations for the server service account. This should be formatted as a multi-line\nstring.`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`annotations`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` |`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  \"sample/annotation1\": \"foo\"`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  \"sample/annotation2\": \"bar\"`)),`\n`))))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"resources-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-server-resources\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-server-resources\",\"aria-label\":\"resources permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`resources`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`map`),`) - The resource requests (CPU, memory, etc.)\nfor each of the server agents. This should be a YAML map corresponding to a Kubernetes\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.24/#resourcerequirements-v1-core\"},`\\`ResourceRequirements\\`\\``),`\nobject. NOTE: The use of a YAML string is deprecated.`),mdx(\"p\",{parentName:\"li\"},`Example:`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`resources`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  requests`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`    memory`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` '200Mi'`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`    cpu`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` '100m'`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  limits`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`    memory`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` '200Mi'`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`    cpu`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` '100m'`)),`\n`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"securitycontext\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-server-securitycontext\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-server-securitycontext\",\"aria-label\":\"securitycontext permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`securityContext`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`map`),`) - The security context for the server pods. This should be a YAML map corresponding to a\nKubernetes `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://kubernetes.io/docs/tasks/configure-pod-container/security-context/\"},`SecurityContext`),` object.\nBy default, servers will run as non-root, with user ID `,mdx(\"inlineCode\",{parentName:\"p\"},`100`),` and group ID `,mdx(\"inlineCode\",{parentName:\"p\"},`1000`),`,\nwhich correspond to the consul user and group created by the Consul docker image.\nNote: if running on OpenShift, this setting is ignored because the user and group are set automatically\nby the OpenShift platform.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"containersecuritycontext\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-server-containersecuritycontext\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-server-containersecuritycontext\",\"aria-label\":\"containersecuritycontext permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`containerSecurityContext`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`map`),`) - The container securityContext for each container in the server pods.  In\naddition to the Pod's SecurityContext this can\nset the capabilities of processes running in the container and ensure the\nroot file systems in the container is read-only.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"server-2\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-server-containersecuritycontext-server\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-server-containersecuritycontext-server\",\"aria-label\":\"server permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`server`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`map`),`) - The consul server agent container`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"aclinit\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-server-containersecuritycontext-aclinit\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-server-containersecuritycontext-aclinit\",\"aria-label\":\"aclinit permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`aclInit`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`map`),`) - The acl-init job`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"tlsinit\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-server-containersecuritycontext-tlsinit\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-server-containersecuritycontext-tlsinit\",\"aria-label\":\"tlsinit permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`tlsInit`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`map`),`) - The tls-init job`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"updatepartition\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-server-updatepartition\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-server-updatepartition\",\"aria-label\":\"updatepartition permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`updatePartition`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`integer: 0`),`) - This value is used to carefully\ncontrol a rolling update of Consul server agents. This value specifies the\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"https://kubernetes.io/docs/concepts/workloads/controllers/statefulset/#partitions\"},`partition`),`\nfor performing a rolling update. Please read the linked Kubernetes\nand `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/k8s/upgrade#upgrading-consul-servers\"},`Upgrade Consul`),`\ndocumentation for more information.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"disruptionbudget\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-server-disruptionbudget\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-server-disruptionbudget\",\"aria-label\":\"disruptionbudget permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`disruptionBudget`)),` - This configures the `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://kubernetes.io/docs/tasks/run-application/configure-pdb/\"},mdx(\"inlineCode\",{parentName:\"a\"},`PodDisruptionBudget`)),`\nfor the server cluster.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enabled-14\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-server-disruptionbudget-enabled\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-server-disruptionbudget-enabled\",\"aria-label\":\"enabled permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enabled`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: true`),`) - Enables registering a PodDisruptionBudget for the server\ncluster. If enabled, it only registers the budget so long as\nthe server cluster is enabled. To disable, set to `,mdx(\"inlineCode\",{parentName:\"p\"},`false`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"maxunavailable\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-server-disruptionbudget-maxunavailable\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-server-disruptionbudget-maxunavailable\",\"aria-label\":\"maxunavailable permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`maxUnavailable`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`integer: null`),`) - The maximum number of unavailable pods. In most cases you should not change this as it is automatically set to\nthe correct number when left as null. This setting has been kept to preserve backwards compatibility.`),mdx(\"p\",{parentName:\"li\"},`By default, this is set to 1 internally in the chart. When server pods are stopped gracefully, they leave the Raft\nconsensus pool. When running an odd number of servers, one server leaving the pool does not change the quorum\nsize, and so fault tolerance is not affected. However, if more than one server were to leave the pool, the quorum\nsize would change. That's why this is set to 1 internally and should not be changed in most cases.`),mdx(\"p\",{parentName:\"li\"},`If you need to set this to `,mdx(\"inlineCode\",{parentName:\"p\"},`0`),`, you will need to add a\n--set 'server.disruptionBudget.maxUnavailable=0'\\` flag to the helm chart installation\ncommand because of a limitation in the Helm templating language.`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"extraconfig\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-server-extraconfig\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-server-extraconfig\",\"aria-label\":\"extraconfig permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`extraConfig`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: {}`),`) - A raw string of extra `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/reference/agent/configuration-file\"},`JSON configuration`),` for Consul\nservers. This will be saved as-is into a ConfigMap that is read by the Consul\nserver agents. This can be used to add additional configuration that\nisn't directly exposed by the chart.`),mdx(\"p\",{parentName:\"li\"},`Example:`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`extraConfig`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` |`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  {`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`    \"log_level\": \"DEBUG\"`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  }`)),`\n`)),mdx(\"p\",{parentName:\"li\"},`This can also be set using Helm's `,mdx(\"inlineCode\",{parentName:\"p\"},`--set`),` flag using the following syntax:`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"shellsession\",\"className\":\"language-shellsession\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-shellsession\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`--set 'server.extraConfig=\"{\"log_level\": \"DEBUG\"}\"'`)),`\n`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"extravolumes\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-server-extravolumes\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-server-extravolumes\",\"aria-label\":\"extravolumes permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`extraVolumes`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`array\u003cmap\u003e`),`) - A list of extra volumes to mount for server agents. This\nis useful for bringing in extra data that can be referenced by other configurations\nat a well known path, such as TLS certificates or Gossip encryption keys. The\nvalue of this should be a list of objects.`),mdx(\"p\",{parentName:\"li\"},`Example:`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`extraVolumes`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  - `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`type`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` secret`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`    name`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` consul-certs`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`    load`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},` false`)),`\n`)),mdx(\"p\",{parentName:\"li\"},`Each object supports the following keys:`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"type\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#type\",\"aria-label\":\"type permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`type`)),` - Type of the volume, must be one of \"configMap\" or \"secret\". Case sensitive.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"name-2\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#name-2\",\"aria-label\":\"name permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`name`)),` - Name of the configMap or secret to be mounted. This also controls\nthe path that it is mounted to. The volume will be mounted to `,mdx(\"inlineCode\",{parentName:\"p\"},`/consul/userconfig/\u003cname\u003e`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"load\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#load\",\"aria-label\":\"load permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`load`)),` - If true, then the agent will be\nconfigured to automatically load HCL/JSON configuration files from this volume\nwith `,mdx(\"inlineCode\",{parentName:\"p\"},`-config-dir`),`. This defaults to false.`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"extracontainers\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-server-extracontainers\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-server-extracontainers\",\"aria-label\":\"extracontainers permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`extraContainers`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`array\u003cmap\u003e`),`) - A list of sidecar containers.\nExample:`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`extraContainers`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`- `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`name`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` extra-container`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  image`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` example-image:latest`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  command`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`   - `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},`...`)),`\n`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"affinity\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-server-affinity\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-server-affinity\",\"aria-label\":\"affinity permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`affinity`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string`),`) - This value defines the `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#affinity-and-anti-affinity\"},`affinity`),`\nfor server pods. It defaults to allowing only a single server pod on each node, which\nminimizes risk of the cluster becoming unusable if a node is lost. If you need\nto run more pods per node (for example, testing on Minikube), set this value\nto `,mdx(\"inlineCode\",{parentName:\"p\"},`null`),`.`),mdx(\"p\",{parentName:\"li\"},`Example:`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`affinity`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` |`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  podAntiAffinity:`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`    requiredDuringSchedulingIgnoredDuringExecution:`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`      - labelSelector:`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`          matchLabels:`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`            app: {{ template \"consul.name\" . }}`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`            release: \"{{ .Release.Name }}\"`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`            component: server`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`      topologyKey: kubernetes.io/hostname`)),`\n`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"tolerations-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-server-tolerations\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-server-tolerations\",\"aria-label\":\"tolerations permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`tolerations`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: \"\"`),`) - Toleration settings for server pods. This\nshould be a multi-line string matching the\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/\"},`Tolerations`),`\narray in a Pod spec.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"topologyspreadconstraints\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-server-topologyspreadconstraints\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-server-topologyspreadconstraints\",\"aria-label\":\"topologyspreadconstraints permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`topologySpreadConstraints`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: \"\"`),`) - Pod topology spread constraints for server pods.\nThis should be a multi-line YAML string matching the\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"https://kubernetes.io/docs/concepts/workloads/pods/pod-topology-spread-constraints/\"},mdx(\"inlineCode\",{parentName:\"a\"},`topologySpreadConstraints`)),`\narray in a Pod Spec.`),mdx(\"p\",{parentName:\"li\"},`This requires K8S \u003e= 1.18 (beta) or 1.19 (stable).`),mdx(\"p\",{parentName:\"li\"},`Example:`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`topologySpreadConstraints`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` |`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  - maxSkew: 1`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`    topologyKey: topology.kubernetes.io/zone`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`    whenUnsatisfiable: DoNotSchedule`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`    labelSelector:`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`      matchLabels:`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`        app: {{ template \"consul.name\" . }}`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`        release: \"{{ .Release.Name }}\"`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`        component: server`)),`\n`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"nodeselector-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-server-nodeselector\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-server-nodeselector\",\"aria-label\":\"nodeselector permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`nodeSelector`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - This value defines `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#nodeselector\"},mdx(\"inlineCode\",{parentName:\"a\"},`nodeSelector`)),`\nlabels for server pod assignment, formatted as a multi-line string.`),mdx(\"p\",{parentName:\"li\"},`Example:`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`nodeSelector`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` |`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  beta.kubernetes.io/arch: amd64`)),`\n`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"priorityclassname\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-server-priorityclassname\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-server-priorityclassname\",\"aria-label\":\"priorityclassname permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`priorityClassName`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: \"\"`),`) - This value references an existing\nKubernetes `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://kubernetes.io/docs/concepts/configuration/pod-priority-preemption/#pod-priority\"},mdx(\"inlineCode\",{parentName:\"a\"},`priorityClassName`)),`\nthat can be assigned to server pods.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"extralabels-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-server-extralabels\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-server-extralabels\",\"aria-label\":\"extralabels permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`extraLabels`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`map`),`) - Extra labels to attach to the server pods. This should be a YAML map.`),mdx(\"p\",{parentName:\"li\"},`Example:`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`extraLabels`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  labelKey`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` label-value`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  anotherLabelKey`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` another-label-value`)),`\n`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"annotations-3\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-server-annotations\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-server-annotations\",\"aria-label\":\"annotations permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`annotations`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - This value defines additional annotations for\nserver pods. This should be formatted as a multi-line string.`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`annotations`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` |`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  \"sample/annotation1\": \"foo\"`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  \"sample/annotation2\": \"bar\"`)),`\n`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"exposeservice\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-server-exposeservice\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-server-exposeservice\",\"aria-label\":\"exposeservice permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`exposeService`)),` - Configures a service to expose ports on the Consul servers over a Kubernetes Service.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enabled-15\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-server-exposeservice-enabled\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-server-exposeservice-enabled\",\"aria-label\":\"enabled permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enabled`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: -`),`) - When enabled, deploys a Kubernetes Service to reach the Consul servers.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"type-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-server-exposeservice-type\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-server-exposeservice-type\",\"aria-label\":\"type permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`type`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: LoadBalancer`),`) - Type of service, supports LoadBalancer or NodePort.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"nodeport\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-server-exposeservice-nodeport\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-server-exposeservice-nodeport\",\"aria-label\":\"nodeport permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`nodePort`)),` - If service is of type NodePort, configures the nodePorts.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"http\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-server-exposeservice-nodeport-http\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-server-exposeservice-nodeport-http\",\"aria-label\":\"http permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`http`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`integer: null`),`) - Configures the nodePort to expose the Consul server http port.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"https\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-server-exposeservice-nodeport-https\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-server-exposeservice-nodeport-https\",\"aria-label\":\"https permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`https`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`integer: null`),`) - Configures the nodePort to expose the Consul server https port.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"serf\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-server-exposeservice-nodeport-serf\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-server-exposeservice-nodeport-serf\",\"aria-label\":\"serf permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`serf`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`integer: null`),`) - Configures the nodePort to expose the Consul server serf port.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"rpc\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-server-exposeservice-nodeport-rpc\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-server-exposeservice-nodeport-rpc\",\"aria-label\":\"rpc permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`rpc`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`integer: null`),`) - Configures the nodePort to expose the Consul server rpc port.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"grpc\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-server-exposeservice-nodeport-grpc\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-server-exposeservice-nodeport-grpc\",\"aria-label\":\"grpc permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`grpc`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`integer: null`),`) - Configures the nodePort to expose the Consul server grpc port.`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"annotations-4\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-server-exposeservice-annotations\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-server-exposeservice-annotations\",\"aria-label\":\"annotations permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`annotations`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - This value defines additional annotations for\nserver pods. This should be formatted as a multi-line string.`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`annotations`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` |`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  \"sample/annotation1\": \"foo\"`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  \"sample/annotation2\": \"bar\"`)),`\n`))))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"service\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-server-service\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-server-service\",\"aria-label\":\"service permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`service`)),` - Server service properties.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"annotations-5\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-server-service-annotations\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-server-service-annotations\",\"aria-label\":\"annotations permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`annotations`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - Annotations to apply to the server service.`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`annotations`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` |`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  \"annotation-key\": \"annotation-value\"`)),`\n`))))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"extraenvironmentvars\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-server-extraenvironmentvars\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-server-extraenvironmentvars\",\"aria-label\":\"extraenvironmentvars permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`extraEnvironmentVars`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`map`),`) - A list of extra environment variables to set within the stateful set.\nThese could be used to include proxy settings required for cloud auto-join\nfeature, in case kubernetes cluster is behind egress http proxies. Additionally,\nit could be used to configure custom consul parameters.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"snapshotagent\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-server-snapshotagent\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-server-snapshotagent\",\"aria-label\":\"snapshotagent permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`snapshotAgent`)),` - `,mdx(EnterpriseAlert,{inline:true,mdxType:\"EnterpriseAlert\"}),` Values for setting up and running\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/commands/snapshot/agent\"},`snapshot agents`),`\nwithin the Consul clusters. They run as a sidecar with Consul servers.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enabled-16\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-server-snapshotagent-enabled\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-server-snapshotagent-enabled\",\"aria-label\":\"enabled permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enabled`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: false`),`) - If true, the chart will install resources necessary to run the snapshot agent.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"interval\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-server-snapshotagent-interval\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-server-snapshotagent-interval\",\"aria-label\":\"interval permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`interval`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: 1h`),`) - Interval at which to perform snapshots.\nRefer to `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/commands/snapshot/agent#interval\"},mdx(\"inlineCode\",{parentName:\"a\"},`interval`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"configsecret\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-server-snapshotagent-configsecret\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-server-snapshotagent-configsecret\",\"aria-label\":\"configsecret permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`configSecret`)),` - A Kubernetes or Vault secret that should be manually created to contain the entire\nconfig to be used on the snapshot agent.\nThis is the preferred method of configuration since there are usually storage\ncredentials present. Please refer to the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/commands/snapshot/agent#config-file-options\"},`Snapshot agent config`),`\nfor details.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"secretname-11\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-server-snapshotagent-configsecret-secretname\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-server-snapshotagent-configsecret-secretname\",\"aria-label\":\"secretname permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`secretName`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - The name of the Kubernetes secret or Vault secret path that holds the snapshot agent config.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"secretkey-8\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-server-snapshotagent-configsecret-secretkey\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-server-snapshotagent-configsecret-secretkey\",\"aria-label\":\"secretkey permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`secretKey`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - The key within the Kubernetes secret or Vault secret key that holds the snapshot agent config.`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"resources-2\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-server-snapshotagent-resources\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-server-snapshotagent-resources\",\"aria-label\":\"resources permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`resources`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`map`),`) - The resource settings for snapshot agent pods.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"cacert-2\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-server-snapshotagent-cacert\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-server-snapshotagent-cacert\",\"aria-label\":\"cacert permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`caCert`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - Optional PEM-encoded CA certificate that will be added to the trusted system CAs.\nUseful if using an S3-compatible storage exposing a self-signed certificate.`),mdx(\"p\",{parentName:\"li\"},`Example:`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`caCert`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` |`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  -----BEGIN CERTIFICATE-----`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  MIIC7jCCApSgAwIBAgIRAIq2zQEVexqxvtxP6J0bXAwwCgYIKoZIzj0EAwIwgbkx`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  ...`)),`\n`))))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"auditlogs\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-server-auditlogs\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-server-auditlogs\",\"aria-label\":\"auditlogs permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`auditLogs`)),` - `,mdx(EnterpriseAlert,{inline:true,mdxType:\"EnterpriseAlert\"}),` Added in Consul 1.8, the audit object allow users to enable auditing\nand configure a sink and filters for their audit logs. Please refer to\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/monitor/log/audit\"},`audit logs`),` documentation\nfor further information.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enabled-17\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-server-auditlogs-enabled\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-server-auditlogs-enabled\",\"aria-label\":\"enabled permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enabled`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: false`),`) - Controls whether Consul logs out each time a user performs an operation.\nglobal.acls.manageSystemACLs must be enabled to use this feature.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"sinks\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-server-auditlogs-sinks\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-server-auditlogs-sinks\",\"aria-label\":\"sinks permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`sinks`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`array\u003cmap\u003e`),`) - A single entry of the sink object provides configuration for the destination to which Consul\nwill log auditing events.`),mdx(\"p\",{parentName:\"li\"},`Example:`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`sinks`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  - `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`name`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` My Sink`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`    type`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` file`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`    format`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` json`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`    path`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` /tmp/audit.json`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`    delivery_guarantee`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` best-effort`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`    rotate_duration`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` 24h`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`    rotate_max_files`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},` 15`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`    rotate_bytes`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},` 25165824`)),`\n`,`\n`)),mdx(\"p\",{parentName:\"li\"},`The sink object supports the following keys:`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"name-3\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#name-3\",\"aria-label\":\"name permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`name`)),` - Name of the sink.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"type-2\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#type-2\",\"aria-label\":\"type permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`type`)),` - Type specifies what kind of sink this is. Currently only file sinks are available`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"format\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#format\",\"aria-label\":\"format permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`format`)),` - Format specifies what format the events will be emitted with. Currently only `,mdx(\"inlineCode\",{parentName:\"p\"},`json`),`\nevents are emitted.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"path\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#path\",\"aria-label\":\"path permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`path`)),` - The directory and filename to write audit events to.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"delivery_guarantee\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#delivery_guarantee\",\"aria-label\":\"delivery_guarantee permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`delivery_guarantee`)),` - Specifies the rules governing how audit events are written. Consul\nonly supports `,mdx(\"inlineCode\",{parentName:\"p\"},`best-effort`),` event delivery.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"mode\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#mode\",\"aria-label\":\"mode permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`mode`)),` - The permissions to set on the audit log files.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"rotate_duration\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#rotate_duration\",\"aria-label\":\"rotate_duration permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`rotate_duration`)),` - Specifies the interval by which the system rotates to a new log file.\nAt least one of `,mdx(\"inlineCode\",{parentName:\"p\"},`rotate_duration`),` or `,mdx(\"inlineCode\",{parentName:\"p\"},`rotate_bytes`),` must be configured to enable audit logging.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"rotate_bytes\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#rotate_bytes\",\"aria-label\":\"rotate_bytes permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`rotate_bytes`)),` -  Specifies how large an individual log file can grow before Consul rotates to a new file.\nAt least one of rotate_bytes or rotate_duration must be configured to enable audit logging.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"rotate_max_files\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#rotate_max_files\",\"aria-label\":\"rotate_max_files permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`rotate_max_files`)),` - Defines the limit that Consul should follow before it deletes old log files.`)))))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"limits\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-server-limits\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-server-limits\",\"aria-label\":\"limits permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`limits`)),` - Settings for potentially limiting timeouts, rate limiting on clients as well\nas servers, and other settings to limit exposure too many requests, requests\nwaiting for too long, and other runtime considerations.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"requestlimits\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-server-limits-requestlimits\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-server-limits-requestlimits\",\"aria-label\":\"requestlimits permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`requestLimits`)),` - This object specifies configurations that limit the rate of RPC and gRPC\nrequests on the Consul server. Limiting the rate of gRPC and RPC requests\nalso limits HTTP requests to the Consul server. Refer to `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/reference/agent/configuration-file/general#request_limits\"},`Consul agent\nconfiguration `,mdx(\"inlineCode\",{parentName:\"a\"},`request_limits`))),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"mode-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-server-limits-requestlimits-mode\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-server-limits-requestlimits-mode\",\"aria-label\":\"mode permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`mode`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: disabled`),`) - Setting for disabling or enabling rate limiting.  If not disabled, it\nenforces the action that will occur when RequestLimitsReadRate\nor RequestLimitsWriteRate is exceeded.  The default value of \"disabled\" will\nprevent any rate limiting from occuring.  A value of \"enforce\" will block\nthe request from processings by returning an error.  A value of\n\"permissive\" will not block the request and will allow the request to\ncontinue processing.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"readrate\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-server-limits-requestlimits-readrate\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-server-limits-requestlimits-readrate\",\"aria-label\":\"readrate permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`readRate`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`integer: -1`),`) - Setting that controls how frequently RPC, gRPC, and HTTP\nqueries are allowed to happen. In any large enough time interval, rate\nlimiter limits the rate to RequestLimitsReadRate tokens per second.`),mdx(\"p\",{parentName:\"li\"},`See `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://en.wikipedia.org/wiki/Token_bucket\"},`https://en.wikipedia.org/wiki/Token_bucket`),` for more about token\nbuckets.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"writerate\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-server-limits-requestlimits-writerate\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-server-limits-requestlimits-writerate\",\"aria-label\":\"writerate permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`writeRate`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`integer: -1`),`) - Setting that controls how frequently RPC, gRPC, and HTTP\nwrites are allowed to happen. In any large enough time interval, rate\nlimiter limits the rate to RequestLimitsWriteRate tokens per second.`),mdx(\"p\",{parentName:\"li\"},`See `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://en.wikipedia.org/wiki/Token_bucket\"},`https://en.wikipedia.org/wiki/Token_bucket`),` for more about token\nbuckets.`))))))))),mdx(\"h3\",{\"id\":\"externalservers\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#h-externalservers\",\"aria-label\":\"externalservers permalink\"},`\\xbb`),mdx(\"a\",{parentName:\"h3\",\"className\":\"__target-h __compat\",\"id\":\"h-externalservers\",\"aria-hidden\":\"true\"}),`externalServers`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"externalservers-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-externalservers\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-externalservers\",\"aria-label\":\"externalservers permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`externalServers`)),` - Configuration for Consul servers when the servers are running outside of Kubernetes.\nWhen running external servers, configuring these values is recommended\nif setting `,mdx(\"inlineCode\",{parentName:\"p\"},`global.tls.enableAutoEncrypt`),` to true\nor `,mdx(\"inlineCode\",{parentName:\"p\"},`global.acls.manageSystemACLs`),` to true.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enabled-18\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-externalservers-enabled\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-externalservers-enabled\",\"aria-label\":\"enabled permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enabled`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: false`),`) - If true, the Helm chart will be configured to talk to the external servers.\nIf setting this to true, you must also set `,mdx(\"inlineCode\",{parentName:\"p\"},`server.enabled`),` to false.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"hosts\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-externalservers-hosts\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-externalservers-hosts\",\"aria-label\":\"hosts permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`hosts`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`array\u003cstring\u003e: []`),`) - An array of external Consul server hosts that are used to make\nHTTPS connections from the components in this Helm chart.\nValid values include an IP, a DNS name, or an `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://github.com/hashicorp/go-netaddrs\"},`exec=`),` string.\nThe port must be provided separately below.\nNote: This slice can only contain a single element.\nNote: If enabling clients, `,mdx(\"inlineCode\",{parentName:\"p\"},`client.join`),` must also be set to the hosts that should be\nused to join the cluster. In most cases, the `,mdx(\"inlineCode\",{parentName:\"p\"},`client.join`),` values\nshould be the same, however, they may be different if you\nwish to use separate hosts for the HTTPS connections. `,mdx(\"inlineCode\",{parentName:\"p\"},`tlsServerName`),` is required if TLS is enabled and 'hosts' is not a DNS name.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"httpsport\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-externalservers-httpsport\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-externalservers-httpsport\",\"aria-label\":\"httpsport permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`httpsPort`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`integer: 8501`),`) - The HTTPS port of the Consul servers.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"grpcport\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-externalservers-grpcport\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-externalservers-grpcport\",\"aria-label\":\"grpcport permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`grpcPort`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`integer: 8502`),`) - The GRPC port of the Consul servers.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"tlsservername\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-externalservers-tlsservername\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-externalservers-tlsservername\",\"aria-label\":\"tlsservername permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`tlsServerName`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - The server name to use as the SNI host header when connecting with HTTPS. This name also appears as the hostname in the server certificate's subject field.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"usesystemroots\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-externalservers-usesystemroots\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-externalservers-usesystemroots\",\"aria-label\":\"usesystemroots permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`useSystemRoots`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: false`),`) - If true, consul-k8s-control-plane components will ignore the CA set in\n`,mdx(\"inlineCode\",{parentName:\"p\"},`global.tls.caCert`),` when making HTTPS calls to Consul servers and\nwill instead use the consul-k8s-control-plane image's system CAs for TLS verification.\nIf false, consul-k8s-control-plane components will use `,mdx(\"inlineCode\",{parentName:\"p\"},`global.tls.caCert`),` when\nmaking HTTPS calls to Consul servers.\n`,mdx(\"strong\",{parentName:\"p\"},`NOTE:`),` This does not affect Consul's internal RPC communication which will\nalways use `,mdx(\"inlineCode\",{parentName:\"p\"},`global.tls.caCert`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"k8sauthmethodhost-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-externalservers-k8sauthmethodhost\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-externalservers-k8sauthmethodhost\",\"aria-label\":\"k8sauthmethodhost permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`k8sAuthMethodHost`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - If you are setting `,mdx(\"inlineCode\",{parentName:\"p\"},`global.acls.manageSystemACLs`),` and\n`,mdx(\"inlineCode\",{parentName:\"p\"},`connectInject.enabled`),` to true, set `,mdx(\"inlineCode\",{parentName:\"p\"},`k8sAuthMethodHost`),` to the address of the Kubernetes API server.\nThis address must be reachable from the Consul servers.\nPlease refer to the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/secure/acl/auth-method/k8s\"},`Kubernetes Auth Method documentation`),`.`),mdx(\"p\",{parentName:\"li\"},`If `,mdx(\"inlineCode\",{parentName:\"p\"},`global.federation.enabled`),` is set to true, `,mdx(\"inlineCode\",{parentName:\"p\"},`global.federation.k8sAuthMethodHost`),` and\n`,mdx(\"inlineCode\",{parentName:\"p\"},`externalServers.k8sAuthMethodHost`),` should be set to the same value.`),mdx(\"p\",{parentName:\"li\"},`You could retrieve this value from your `,mdx(\"inlineCode\",{parentName:\"p\"},`kubeconfig`),` by running:`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"shellsession\",\"className\":\"language-shellsession\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-shellsession\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-cyan)\"}},`$`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},` kubectl config view \\\\`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  -o jsonpath=\"{.clusters[?(@.name=='\u003cyour cluster name\u003e')].cluster.server}\"`)),`\n`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"skipserverwatch\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-externalservers-skipserverwatch\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-externalservers-skipserverwatch\",\"aria-label\":\"skipserverwatch permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`skipServerWatch`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: false`),`) - If true, setting this prevents the consul-dataplane and consul-k8s components from watching the Consul servers for changes. This is\nuseful for situations where Consul servers are behind a load balancer.`))))),mdx(\"h3\",{\"id\":\"client\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#h-client\",\"aria-label\":\"client permalink\"},`\\xbb`),mdx(\"a\",{parentName:\"h3\",\"className\":\"__target-h __compat\",\"id\":\"h-client\",\"aria-hidden\":\"true\"}),`client`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"client-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-client\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-client\",\"aria-label\":\"client permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`client`)),` - Values that configure running a Consul client on Kubernetes nodes.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enabled-19\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-client-enabled\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-client-enabled\",\"aria-label\":\"enabled permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enabled`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: false`),`) - If true, the chart will install all\nthe resources necessary for a Consul client on every Kubernetes node. This `,mdx(\"em\",{parentName:\"p\"},`does not`),` require\n`,mdx(\"inlineCode\",{parentName:\"p\"},`server.enabled`),`, since the agents can be configured to join an external cluster.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"loglevel-6\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-client-loglevel\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-client-loglevel\",\"aria-label\":\"loglevel permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`logLevel`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: \"\"`),`) - Override global log verbosity level. One of \"trace\", \"debug\", \"info\", \"warn\", or \"error\".`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"image-2\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-client-image\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-client-image\",\"aria-label\":\"image permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`image`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - The name of the Docker image (including any tag) for the containers\nrunning Consul client agents.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"join\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-client-join\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-client-join\",\"aria-label\":\"join permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`join`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`array\u003cstring\u003e: null`),`) - A list of valid `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/commands/agent#_retry_join\"},mdx(\"inlineCode\",{parentName:\"a\"},`-retry-join`),` values`),`.\nIf this is `,mdx(\"inlineCode\",{parentName:\"p\"},`null`),` (default), then the clients will attempt to automatically\njoin the server cluster running within Kubernetes.\nThis means that with `,mdx(\"inlineCode\",{parentName:\"p\"},`server.enabled`),` set to true, clients will automatically\njoin that cluster. If `,mdx(\"inlineCode\",{parentName:\"p\"},`server.enabled`),` is not true, then a value must be\nspecified so the clients can join a valid cluster.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"datadirectoryhostpath\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-client-datadirectoryhostpath\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-client-datadirectoryhostpath\",\"aria-label\":\"datadirectoryhostpath permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`dataDirectoryHostPath`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - An absolute path to a directory on the host machine to use as the Consul\nclient data directory. If set to the empty string or null, the Consul agent\nwill store its data in the Pod's local filesystem (which will\nbe lost if the Pod is deleted). Security Warning: If setting this, Pod Security\nPolicies `,mdx(\"em\",{parentName:\"p\"},`must`),` be enabled on your cluster and in this Helm chart (via the\n`,mdx(\"inlineCode\",{parentName:\"p\"},`global.enablePodSecurityPolicies`),` setting) to prevent other pods from\nmounting the same host path and gaining access to all of Consul's data.\nConsul's data is not encrypted at rest.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"grpc-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-client-grpc\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-client-grpc\",\"aria-label\":\"grpc permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`grpc`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: true`),`) - If true, agents will enable their GRPC listener on\nport 8502 and expose it to the host. This will use slightly more resources, but is\nrequired for Connect.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"nodemeta\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-client-nodemeta\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-client-nodemeta\",\"aria-label\":\"nodemeta permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`nodeMeta`)),` - nodeMeta specifies an arbitrary metadata key/value pair to associate with the node\n(refer to `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/commands/agent#_node_meta\"},mdx(\"inlineCode\",{parentName:\"a\"},`-node-meta`)),`)`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"pod-name\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-client-nodemeta-pod-name\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-client-nodemeta-pod-name\",\"aria-label\":\"pod name permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`pod-name`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: \\${HOSTNAME}`),`)`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"host-ip\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-client-nodemeta-host-ip\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-client-nodemeta-host-ip\",\"aria-label\":\"host ip permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`host-ip`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: \\${HOST_IP}`),`)`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"exposegossipports\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-client-exposegossipports\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-client-exposegossipports\",\"aria-label\":\"exposegossipports permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`exposeGossipPorts`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: false`),`) - If true, the Helm chart will expose the clients' gossip ports as hostPorts.\nThis is only necessary if pod IPs in the k8s cluster are not directly routable\nand the Consul servers are outside of the k8s cluster.\nThis also changes the clients' advertised IP to the `,mdx(\"inlineCode\",{parentName:\"p\"},`hostIP`),` rather than `,mdx(\"inlineCode\",{parentName:\"p\"},`podIP`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"serviceaccount-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-client-serviceaccount\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-client-serviceaccount\",\"aria-label\":\"serviceaccount permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`serviceAccount`)),``),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"annotations-6\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-client-serviceaccount-annotations\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-client-serviceaccount-annotations\",\"aria-label\":\"annotations permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`annotations`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - This value defines additional annotations for the client service account. This should be formatted as a multi-line\nstring.`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`annotations`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` |`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  \"sample/annotation1\": \"foo\"`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  \"sample/annotation2\": \"bar\"`)),`\n`))))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"resources-3\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-client-resources\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-client-resources\",\"aria-label\":\"resources permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`resources`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`map`),`) - The resource settings for Client agents.\nNOTE: The use of a YAML string is deprecated. Instead, set directly as a\nYAML map.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"securitycontext-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-client-securitycontext\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-client-securitycontext\",\"aria-label\":\"securitycontext permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`securityContext`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`map`),`) - The security context for the client pods. This should be a YAML map corresponding to a\nKubernetes `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://kubernetes.io/docs/tasks/configure-pod-container/security-context/\"},`SecurityContext`),` object.\nBy default, servers will run as non-root, with user ID `,mdx(\"inlineCode\",{parentName:\"p\"},`100`),` and group ID `,mdx(\"inlineCode\",{parentName:\"p\"},`1000`),`,\nwhich correspond to the consul user and group created by the Consul docker image.\nNote: if running on OpenShift, this setting is ignored because the user and group are set automatically\nby the OpenShift platform.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"containersecuritycontext-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-client-containersecuritycontext\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-client-containersecuritycontext\",\"aria-label\":\"containersecuritycontext permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`containerSecurityContext`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`map`),`) - The container securityContext for each container in the client pods.  In\naddition to the Pod's SecurityContext this can\nset the capabilities of processes running in the container and ensure the\nroot file systems in the container is read-only.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"client-2\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-client-containersecuritycontext-client\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-client-containersecuritycontext-client\",\"aria-label\":\"client permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`client`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`map`),`) - The consul client agent container`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"aclinit-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-client-containersecuritycontext-aclinit\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-client-containersecuritycontext-aclinit\",\"aria-label\":\"aclinit permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`aclInit`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`map`),`) - The acl-init initContainer`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"tlsinit-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-client-containersecuritycontext-tlsinit\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-client-containersecuritycontext-tlsinit\",\"aria-label\":\"tlsinit permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`tlsInit`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`map`),`) - The tls-init initContainer`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"extraconfig-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-client-extraconfig\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-client-extraconfig\",\"aria-label\":\"extraconfig permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`extraConfig`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: {}`),`) - A raw string of extra `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/reference/agent/configuration-file\"},`JSON configuration`),` for Consul\nclients. This will be saved as-is into a ConfigMap that is read by the Consul\nclient agents. This can be used to add additional configuration that\nisn't directly exposed by the chart.`),mdx(\"p\",{parentName:\"li\"},`Example:`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`extraConfig`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` |`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  {`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`    \"log_level\": \"DEBUG\"`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  }`)),`\n`)),mdx(\"p\",{parentName:\"li\"},`This can also be set using Helm's `,mdx(\"inlineCode\",{parentName:\"p\"},`--set`),` flag using the following syntax:`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"shellsession\",\"className\":\"language-shellsession\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-shellsession\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`--set 'client.extraConfig=\"{\"log_level\": \"DEBUG\"}\"'`)),`\n`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"extravolumes-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-client-extravolumes\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-client-extravolumes\",\"aria-label\":\"extravolumes permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`extraVolumes`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`array\u003cmap\u003e`),`) - A list of extra volumes to mount for client agents. This\nis useful for bringing in extra data that can be referenced by other configurations\nat a well known path, such as TLS certificates or Gossip encryption keys. The\nvalue of this should be a list of objects.`),mdx(\"p\",{parentName:\"li\"},`Example:`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`extraVolumes`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  - `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`type`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` secret`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`    name`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` consul-certs`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`    load`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},` false`)),`\n`)),mdx(\"p\",{parentName:\"li\"},`Each object supports the following keys:`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"type-3\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#type-3\",\"aria-label\":\"type permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`type`)),` - Type of the volume, must be one of \"configMap\" or \"secret\". Case sensitive.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"name-4\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#name-4\",\"aria-label\":\"name permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`name`)),` - Name of the configMap or secret to be mounted. This also controls\nthe path that it is mounted to. The volume will be mounted to `,mdx(\"inlineCode\",{parentName:\"p\"},`/consul/userconfig/\u003cname\u003e`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"load-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#load-1\",\"aria-label\":\"load permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`load`)),` - If true, then the agent will be\nconfigured to automatically load HCL/JSON configuration files from this volume\nwith `,mdx(\"inlineCode\",{parentName:\"p\"},`-config-dir`),`. This defaults to false.`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"extracontainers-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-client-extracontainers\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-client-extracontainers\",\"aria-label\":\"extracontainers permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`extraContainers`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`array\u003cmap\u003e`),`) - A list of sidecar containers.\nExample:`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`extraContainers`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`- `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`name`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` extra-container`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  image`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` example-image:latest`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  command`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`   - `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},`...`)),`\n`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"tolerations-2\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-client-tolerations\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-client-tolerations\",\"aria-label\":\"tolerations permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`tolerations`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: \"\"`),`) - Toleration Settings for Client pods\nThis should be a multi-line string matching the Toleration array\nin a PodSpec.\nThe example below will allow Client pods to run on every node\nregardless of taints`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`tolerations`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` |`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  - operator: Exists`)),`\n`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"nodeselector-2\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-client-nodeselector\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-client-nodeselector\",\"aria-label\":\"nodeselector permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`nodeSelector`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - nodeSelector labels for client pod assignment, formatted as a multi-line string.\nref: `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#nodeselector\"},`https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#nodeselector`)),mdx(\"p\",{parentName:\"li\"},`Example:`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`nodeSelector`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` |`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  beta.kubernetes.io/arch: amd64`)),`\n`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"affinity-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-client-affinity\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-client-affinity\",\"aria-label\":\"affinity permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`affinity`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - Affinity Settings for Client pods, formatted as a multi-line YAML string.\nref: `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#affinity-and-anti-affinity\"},`https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#affinity-and-anti-affinity`)),mdx(\"p\",{parentName:\"li\"},`Example:`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`affinity`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` |`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  nodeAffinity:`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`    requiredDuringSchedulingIgnoredDuringExecution:`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`      nodeSelectorTerms:`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`      - matchExpressions:`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`        - key: node-role.kubernetes.io/master`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`          operator: DoesNotExist`)),`\n`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"priorityclassname-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-client-priorityclassname\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-client-priorityclassname\",\"aria-label\":\"priorityclassname permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`priorityClassName`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: \"\"`),`) - This value references an existing\nKubernetes `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://kubernetes.io/docs/concepts/configuration/pod-priority-preemption/#pod-priority\"},mdx(\"inlineCode\",{parentName:\"a\"},`priorityClassName`)),`\nthat can be assigned to client pods.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"annotations-7\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-client-annotations\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-client-annotations\",\"aria-label\":\"annotations permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`annotations`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - This value defines additional annotations for\nclient pods. This should be formatted as a multi-line string.`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`annotations`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` |`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  \"sample/annotation1\": \"foo\"`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  \"sample/annotation2\": \"bar\"`)),`\n`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"extralabels-2\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-client-extralabels\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-client-extralabels\",\"aria-label\":\"extralabels permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`extraLabels`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`map`),`) - Extra labels to attach to the client pods. This should be a regular YAML map.`),mdx(\"p\",{parentName:\"li\"},`Example:`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`extraLabels`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  labelKey`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` label-value`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  anotherLabelKey`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` another-label-value`)),`\n`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"extraenvironmentvars-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-client-extraenvironmentvars\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-client-extraenvironmentvars\",\"aria-label\":\"extraenvironmentvars permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`extraEnvironmentVars`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`map`),`) - A list of extra environment variables to set within the stateful set.\nThese could be used to include proxy settings required for cloud auto-join\nfeature, in case kubernetes cluster is behind egress http proxies. Additionally,\nit could be used to configure custom consul parameters.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"dnspolicy\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-client-dnspolicy\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-client-dnspolicy\",\"aria-label\":\"dnspolicy permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`dnsPolicy`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - This value defines the `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://kubernetes.io/docs/concepts/services-networking/dns-pod-service/#pod-s-dns-policy\"},`Pod DNS policy`),`\nfor client pods to use.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"hostnetwork\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-client-hostnetwork\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-client-hostnetwork\",\"aria-label\":\"hostnetwork permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`hostNetwork`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: false`),`) - hostNetwork defines whether or not we use host networking instead of hostPort in the event\nthat a CNI plugin doesn't support `,mdx(\"inlineCode\",{parentName:\"p\"},`hostPort`),`. This has security implications and is not recommended\nas doing so gives the consul client unnecessary access to all network traffic on the host.\nIn most cases, pod network and host network are on different networks so this should be\ncombined with `,mdx(\"inlineCode\",{parentName:\"p\"},`dnsPolicy: ClusterFirstWithHostNet`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"updatestrategy\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-client-updatestrategy\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-client-updatestrategy\",\"aria-label\":\"updatestrategy permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`updateStrategy`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - updateStrategy for the DaemonSet.\nRefer to the Kubernetes `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://kubernetes.io/docs/tasks/manage-daemon/update-daemon-set/#daemonset-update-strategy\"},`Daemonset upgrade strategy`),`\ndocumentation.\nThis should be a multi-line string mapping directly to the updateStrategy`),mdx(\"p\",{parentName:\"li\"},`Example:`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`updateStrategy`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` |`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  rollingUpdate:`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`    maxUnavailable: 5`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  type: RollingUpdate`)),`\n`)))))),mdx(\"h3\",{\"id\":\"dns\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#h-dns\",\"aria-label\":\"dns permalink\"},`\\xbb`),mdx(\"a\",{parentName:\"h3\",\"className\":\"__target-h __compat\",\"id\":\"h-dns\",\"aria-hidden\":\"true\"}),`dns`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"dns-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-dns\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-dns\",\"aria-label\":\"dns permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`dns`)),` - Configuration for DNS configuration within the Kubernetes cluster.\nThis creates a service that routes to all agents (client or server)\nfor serving DNS requests. This DOES NOT automatically configure kube-dns\ntoday, so you must still manually configure a `,mdx(\"inlineCode\",{parentName:\"p\"},`stubDomain`),` with kube-dns\nfor this to have any effect:\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"https://kubernetes.io/docs/tasks/administer-cluster/dns-custom-nameservers/#configure-stub-domain-and-upstream-dns-servers\"},`https://kubernetes.io/docs/tasks/administer-cluster/dns-custom-nameservers/#configure-stub-domain-and-upstream-dns-servers`)),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enabled-20\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-dns-enabled\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-dns-enabled\",\"aria-label\":\"enabled permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enabled`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: -`),`)`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enableredirection\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-dns-enableredirection\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-dns-enableredirection\",\"aria-label\":\"enableredirection permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enableRedirection`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: -`),`) - If true, services using Consul service mesh will use Consul DNS\nfor default DNS resolution. The DNS lookups fall back to the nameserver IPs\nlisted in /etc/resolv.conf if not found in Consul.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"type-4\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-dns-type\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-dns-type\",\"aria-label\":\"type permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`type`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: ClusterIP`),`) - Used to control the type of service created. For\nexample, setting this to \"LoadBalancer\" will create an external load\nbalancer (for supported K8S installations)`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"clusterip\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-dns-clusterip\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-dns-clusterip\",\"aria-label\":\"clusterip permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`clusterIP`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - Set a predefined cluster IP for the DNS service.\nUseful if you need to reference the DNS service's IP\naddress in CoreDNS config.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"annotations-8\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-dns-annotations\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-dns-annotations\",\"aria-label\":\"annotations permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`annotations`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - Extra annotations to attach to the dns service\nThis should be a multi-line string of\nannotations to apply to the dns Service`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"additionalspec\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-dns-additionalspec\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-dns-additionalspec\",\"aria-label\":\"additionalspec permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`additionalSpec`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - Additional ServiceSpec values\nThis should be a multi-line string mapping directly to a Kubernetes\nServiceSpec object.`))))),mdx(\"h3\",{\"id\":\"ui\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#h-ui\",\"aria-label\":\"ui permalink\"},`\\xbb`),mdx(\"a\",{parentName:\"h3\",\"className\":\"__target-h __compat\",\"id\":\"h-ui\",\"aria-hidden\":\"true\"}),`ui`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"ui-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-ui\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-ui\",\"aria-label\":\"ui permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`ui`)),` - Values that configure the Consul UI.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enabled-21\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-ui-enabled\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-ui-enabled\",\"aria-label\":\"enabled permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enabled`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: global.enabled`),`) - If true, the UI will be enabled. This will\nonly `,mdx(\"em\",{parentName:\"p\"},`enable`),` the UI, it doesn't automatically register any service for external\naccess. The UI will only be enabled on server agents. If `,mdx(\"inlineCode\",{parentName:\"p\"},`server.enabled`),` is\nfalse, then this setting has no effect. To expose the UI in some way, you must\nconfigure `,mdx(\"inlineCode\",{parentName:\"p\"},`ui.service`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"service-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-ui-service\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-ui-service\",\"aria-label\":\"service permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`service`)),` - Configure the service for the Consul UI.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enabled-22\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-ui-service-enabled\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-ui-service-enabled\",\"aria-label\":\"enabled permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enabled`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: true`),`) - This will enable/disable registering a\nKubernetes Service for the Consul UI. This value only takes effect if `,mdx(\"inlineCode\",{parentName:\"p\"},`ui.enabled`),` is\ntrue and taking effect.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"type-5\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-ui-service-type\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-ui-service-type\",\"aria-label\":\"type permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`type`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - The service type to register.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"port-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-ui-service-port\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-ui-service-port\",\"aria-label\":\"port permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`port`)),` - Set the port value of the UI service.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"http-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-ui-service-port-http\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-ui-service-port-http\",\"aria-label\":\"http permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`http`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`integer: 80`),`) - HTTP port.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"https-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-ui-service-port-https\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-ui-service-port-https\",\"aria-label\":\"https permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`https`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`integer: 443`),`) - HTTPS port.`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"nodeport-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-ui-service-nodeport\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-ui-service-nodeport\",\"aria-label\":\"nodeport permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`nodePort`)),` - Optionally set the nodePort value of the ui service if using a NodePort service.\nIf not set and using a NodePort service, Kubernetes will automatically assign\na port.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"http-2\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-ui-service-nodeport-http\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-ui-service-nodeport-http\",\"aria-label\":\"http permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`http`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`integer: null`),`) - HTTP node port`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"https-2\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-ui-service-nodeport-https\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-ui-service-nodeport-https\",\"aria-label\":\"https permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`https`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`integer: null`),`) - HTTPS node port`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"annotations-9\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-ui-service-annotations\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-ui-service-annotations\",\"aria-label\":\"annotations permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`annotations`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - Annotations to apply to the UI service.`),mdx(\"p\",{parentName:\"li\"},`Example:`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`annotations`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` |`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  'annotation-key': annotation-value`)),`\n`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"additionalspec-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-ui-service-additionalspec\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-ui-service-additionalspec\",\"aria-label\":\"additionalspec permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`additionalSpec`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - Additional ServiceSpec values\nThis should be a multi-line string mapping directly to a Kubernetes\nServiceSpec object.`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"ingress\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-ui-ingress\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-ui-ingress\",\"aria-label\":\"ingress permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`ingress`)),` - Configure Ingress for the Consul UI.\nIf `,mdx(\"inlineCode\",{parentName:\"p\"},`global.tls.enabled`),` is set to `,mdx(\"inlineCode\",{parentName:\"p\"},`true`),`, the Ingress will expose\nthe port 443 on the UI service. Please ensure the Ingress Controller\nsupports SSL pass-through and it is enabled to ensure traffic forwarded\nto port 443 has not been TLS terminated.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enabled-23\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-ui-ingress-enabled\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-ui-ingress-enabled\",\"aria-label\":\"enabled permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enabled`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: false`),`) - This will create an Ingress resource for the Consul UI.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"ingressclassname\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-ui-ingress-ingressclassname\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-ui-ingress-ingressclassname\",\"aria-label\":\"ingressclassname permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`ingressClassName`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: \"\"`),`) - Optionally set the ingressClassName.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"pathtype\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-ui-ingress-pathtype\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-ui-ingress-pathtype\",\"aria-label\":\"pathtype permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`pathType`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: Prefix`),`) - pathType override - refer to: `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://kubernetes.io/docs/concepts/services-networking/ingress/#path-types\"},`https://kubernetes.io/docs/concepts/services-networking/ingress/#path-types`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"hosts-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-ui-ingress-hosts\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-ui-ingress-hosts\",\"aria-label\":\"hosts permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`hosts`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`array\u003cmap\u003e`),`) - hosts is a list of host name to create Ingress rules.`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`hosts`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  - `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`host`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` foo.bar`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`    paths`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`      - `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`/example`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`      - `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`/test`)),`\n`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"tls-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-ui-ingress-tls\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-ui-ingress-tls\",\"aria-label\":\"tls permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`tls`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`array\u003cmap\u003e`),`) - tls is a list of hosts and secret name in an Ingress\nwhich tells the Ingress controller to secure the channel.`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`tls`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  - `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`hosts`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`    - `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`chart-example.local`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`    secretName`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` testsecret-tls`)),`\n`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"annotations-10\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-ui-ingress-annotations\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-ui-ingress-annotations\",\"aria-label\":\"annotations permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`annotations`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - Annotations to apply to the UI ingress.`),mdx(\"p\",{parentName:\"li\"},`Example:`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`annotations`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` |`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  'annotation-key': annotation-value`)),`\n`))))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"metrics-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-ui-metrics\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-ui-metrics\",\"aria-label\":\"metrics permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`metrics`)),` - Configurations for displaying metrics in the UI.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enabled-24\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-ui-metrics-enabled\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-ui-metrics-enabled\",\"aria-label\":\"enabled permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enabled`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: global.metrics.enabled`),`) - Enable displaying metrics in the UI. The default value of \"-\"\nwill inherit from `,mdx(\"inlineCode\",{parentName:\"p\"},`global.metrics.enabled`),` value.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"provider\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-ui-metrics-provider\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-ui-metrics-provider\",\"aria-label\":\"provider permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`provider`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: prometheus`),`) - Provider for metrics. Refer to\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/reference/agent/configuration-file/ui#ui_config_metrics_provider\"},mdx(\"inlineCode\",{parentName:\"a\"},`metrics_provider`)),`\nThis value is only used if `,mdx(\"inlineCode\",{parentName:\"p\"},`ui.enabled`),` is set to true.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"baseurl\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-ui-metrics-baseurl\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-ui-metrics-baseurl\",\"aria-label\":\"baseurl permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`baseURL`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: http://prometheus-server`),`) - baseURL is the URL of the prometheus server, usually the service URL.\nThis value is only used if `,mdx(\"inlineCode\",{parentName:\"p\"},`ui.enabled`),` is set to true.`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"dashboardurltemplates\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-ui-dashboardurltemplates\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-ui-dashboardurltemplates\",\"aria-label\":\"dashboardurltemplates permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`dashboardURLTemplates`)),` - Corresponds to `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/reference/agent/configuration-file/ui#ui_config_dashboard_url_templates\"},mdx(\"inlineCode\",{parentName:\"a\"},`dashboard_url_templates`)),`\nconfiguration.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"service-2\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-ui-dashboardurltemplates-service\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#v-ui-dashboardurltemplates-service\",\"aria-label\":\"service permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`service`)),` (`,mdx(\"inlineCode\",{parentName:\"li\"},`string: \"\"`),`) - Sets `,mdx(\"a\",{parentName:\"li\",\"href\":\"/consul/docs/reference/agent/configuration-file/ui#ui_config_dashboard_url_templates_service\"},mdx(\"inlineCode\",{parentName:\"a\"},`dashboardURLTemplates.service`)),`.`)))))),mdx(\"h3\",{\"id\":\"synccatalog\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#h-synccatalog\",\"aria-label\":\"synccatalog permalink\"},`\\xbb`),mdx(\"a\",{parentName:\"h3\",\"className\":\"__target-h __compat\",\"id\":\"h-synccatalog\",\"aria-hidden\":\"true\"}),`syncCatalog`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"synccatalog-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-synccatalog\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-synccatalog\",\"aria-label\":\"synccatalog permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`syncCatalog`)),` - Configure the catalog sync process to sync K8S with Consul\nservices. This can run bidirectional (default) or unidirectionally (Consul\nto K8S or K8S to Consul only).`),mdx(\"p\",{parentName:\"li\"},`This process assumes that a Consul agent is available on the host IP.\nThis is done automatically if clients are enabled. If clients are not\nenabled then set the node selection so that it chooses a node with a\nConsul agent.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enabled-25\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-synccatalog-enabled\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-synccatalog-enabled\",\"aria-label\":\"enabled permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enabled`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: false`),`) - True if you want to enable the catalog sync. Set to \"-\" to inherit from\nglobal.enabled.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"image-3\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-synccatalog-image\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-synccatalog-image\",\"aria-label\":\"image permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`image`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - The name of the Docker image (including any tag) for consul-k8s-control-plane\nto run the sync program.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"default\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-synccatalog-default\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-synccatalog-default\",\"aria-label\":\"default permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`default`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: true`),`) - If true, all valid services in K8S are\nsynced by default. If false, the service must be `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/k8s/service-sync#enable-and-disable-sync\"},`annotated`),`\nproperly to sync.\nIn either case an annotation can override the default.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"priorityclassname-2\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-synccatalog-priorityclassname\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-synccatalog-priorityclassname\",\"aria-label\":\"priorityclassname permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`priorityClassName`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: \"\"`),`) - Optional priorityClassName.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"toconsul\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-synccatalog-toconsul\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-synccatalog-toconsul\",\"aria-label\":\"toconsul permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`toConsul`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: true`),`) - If true, will sync Kubernetes services to Consul. This can be disabled to\nhave a one-way sync.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"tok8s\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-synccatalog-tok8s\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-synccatalog-tok8s\",\"aria-label\":\"tok8s permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`toK8S`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: true`),`) - If true, will sync Consul services to Kubernetes. This can be disabled to\nhave a one-way sync.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"k8sprefix\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-synccatalog-k8sprefix\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-synccatalog-k8sprefix\",\"aria-label\":\"k8sprefix permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`k8sPrefix`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - Service prefix to prepend to services before registering\nwith Kubernetes. For example \"consul-\" will register all services\nprepended with \"consul-\". (Consul -\u003e Kubernetes sync)`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"k8sallownamespaces\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-synccatalog-k8sallownamespaces\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-synccatalog-k8sallownamespaces\",\"aria-label\":\"k8sallownamespaces permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`k8sAllowNamespaces`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`array\u003cstring\u003e: [\"*\"]`),`) - List of k8s namespaces to sync the k8s services from.\nIf a k8s namespace is not included in this list or is listed in `,mdx(\"inlineCode\",{parentName:\"p\"},`k8sDenyNamespaces`),`,\nservices in that k8s namespace will not be synced even if they are explicitly\nannotated. Use `,mdx(\"inlineCode\",{parentName:\"p\"},`[\"*\"]`),` to automatically allow all k8s namespaces.`),mdx(\"p\",{parentName:\"li\"},`For example, `,mdx(\"inlineCode\",{parentName:\"p\"},`[\"namespace1\", \"namespace2\"]`),` will only allow services in the k8s\nnamespaces `,mdx(\"inlineCode\",{parentName:\"p\"},`namespace1`),` and `,mdx(\"inlineCode\",{parentName:\"p\"},`namespace2`),` to be synced and registered\nwith Consul. All other k8s namespaces will be ignored.`),mdx(\"p\",{parentName:\"li\"},`To deny all namespaces, set this to `,mdx(\"inlineCode\",{parentName:\"p\"},`[]`),`.`),mdx(\"p\",{parentName:\"li\"},`Note: `,mdx(\"inlineCode\",{parentName:\"p\"},`k8sDenyNamespaces`),` takes precedence over values defined here.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"k8sdenynamespaces\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-synccatalog-k8sdenynamespaces\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-synccatalog-k8sdenynamespaces\",\"aria-label\":\"k8sdenynamespaces permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`k8sDenyNamespaces`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`array\u003cstring\u003e: [\"kube-system\", \"kube-public\"]`),`) - List of k8s namespaces that should not have their\nservices synced. This list takes precedence over `,mdx(\"inlineCode\",{parentName:\"p\"},`k8sAllowNamespaces`),`.\n`,mdx(\"inlineCode\",{parentName:\"p\"},`*`),` is not supported because then nothing would be allowed to sync.`),mdx(\"p\",{parentName:\"li\"},`For example, if `,mdx(\"inlineCode\",{parentName:\"p\"},`k8sAllowNamespaces`),` is `,mdx(\"inlineCode\",{parentName:\"p\"},`[\"*\"]`),` and `,mdx(\"inlineCode\",{parentName:\"p\"},`k8sDenyNamespaces`),` is\n`,mdx(\"inlineCode\",{parentName:\"p\"},`[\"namespace1\", \"namespace2\"]`),`, then all k8s namespaces besides `,mdx(\"inlineCode\",{parentName:\"p\"},`namespace1`),`\nand `,mdx(\"inlineCode\",{parentName:\"p\"},`namespace2`),` will be synced.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"k8ssourcenamespace\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-synccatalog-k8ssourcenamespace\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-synccatalog-k8ssourcenamespace\",\"aria-label\":\"k8ssourcenamespace permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`k8sSourceNamespace`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - `,`[DEPRECATED]`,` Use k8sAllowNamespaces and k8sDenyNamespaces instead. For\nbackwards compatibility, if both this and the allow/deny lists are set,\nthe allow/deny lists will be ignored.\nk8sSourceNamespace is the Kubernetes namespace to watch for service\nchanges and sync to Consul. If this is not set then it will default\nto all namespaces.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"consulnamespaces\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-synccatalog-consulnamespaces\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-synccatalog-consulnamespaces\",\"aria-label\":\"consulnamespaces permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`consulNamespaces`)),` - `,mdx(EnterpriseAlert,{inline:true,mdxType:\"EnterpriseAlert\"}),` These settings manage the catalog sync's interaction with\nConsul namespaces (requires consul-ent v1.7+).\nAlso, `,mdx(\"inlineCode\",{parentName:\"p\"},`global.enableConsulNamespaces`),` must be true.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"consuldestinationnamespace\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-synccatalog-consulnamespaces-consuldestinationnamespace\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-synccatalog-consulnamespaces-consuldestinationnamespace\",\"aria-label\":\"consuldestinationnamespace permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`consulDestinationNamespace`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: default`),`) - Name of the Consul namespace to register all\nk8s services into. If the Consul namespace does not already exist,\nit will be created. This will be ignored if `,mdx(\"inlineCode\",{parentName:\"p\"},`mirroringK8S`),` is true.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"mirroringk8s\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-synccatalog-consulnamespaces-mirroringk8s\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-synccatalog-consulnamespaces-mirroringk8s\",\"aria-label\":\"mirroringk8s permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`mirroringK8S`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: true`),`) - If true, k8s services will be registered into a Consul namespace\nof the same name as their k8s namespace, optionally prefixed if\n`,mdx(\"inlineCode\",{parentName:\"p\"},`mirroringK8SPrefix`),` is set below. If the Consul namespace does not\nalready exist, it will be created. Turning this on overrides the\n`,mdx(\"inlineCode\",{parentName:\"p\"},`consulDestinationNamespace`),` setting.\n`,mdx(\"inlineCode\",{parentName:\"p\"},`addK8SNamespaceSuffix`),` may no longer be needed if enabling this option.\nIf mirroring is enabled, avoid creating any Consul resources in the following\nKubernetes namespaces, as Consul currently reserves these namespaces for\nsystem use: \"system\", \"universal\", \"operator\", \"root\".`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"mirroringk8sprefix\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-synccatalog-consulnamespaces-mirroringk8sprefix\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-synccatalog-consulnamespaces-mirroringk8sprefix\",\"aria-label\":\"mirroringk8sprefix permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`mirroringK8SPrefix`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: \"\"`),`) - If `,mdx(\"inlineCode\",{parentName:\"p\"},`mirroringK8S`),` is set to true, `,mdx(\"inlineCode\",{parentName:\"p\"},`mirroringK8SPrefix`),` allows each Consul namespace\nto be given a prefix. For example, if `,mdx(\"inlineCode\",{parentName:\"p\"},`mirroringK8SPrefix`),` is set to \"k8s-\", a\nservice in the k8s `,mdx(\"inlineCode\",{parentName:\"p\"},`staging`),` namespace will be registered into the\n`,mdx(\"inlineCode\",{parentName:\"p\"},`k8s-staging`),` Consul namespace.`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"addk8snamespacesuffix\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-synccatalog-addk8snamespacesuffix\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-synccatalog-addk8snamespacesuffix\",\"aria-label\":\"addk8snamespacesuffix permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`addK8SNamespaceSuffix`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: true`),`) - Appends Kubernetes namespace suffix to\neach service name synced to Consul, separated by a dash.\nFor example, for a service 'foo' in the default namespace,\nthe sync process will create a Consul service named 'foo-default'.\nSet this flag to true to avoid registering services with the same name\nbut in different namespaces as instances for the same Consul service.\nNamespace suffix is not added if 'annotationServiceName' is provided.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"consulprefix\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-synccatalog-consulprefix\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-synccatalog-consulprefix\",\"aria-label\":\"consulprefix permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`consulPrefix`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - Service prefix which prepends itself\nto Kubernetes services registered within Consul\nFor example, \"k8s-\" will register all services prepended with \"k8s-\".\n(Kubernetes -\u003e Consul sync)\nconsulPrefix is ignored when 'annotationServiceName' is provided.\nNOTE: Updating this property to a non-null value for an existing installation will result in deregistering\nof existing services in Consul and registering them with a new name.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"k8stag\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-synccatalog-k8stag\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-synccatalog-k8stag\",\"aria-label\":\"k8stag permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`k8sTag`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - Optional tag that is applied to all of the Kubernetes services\nthat are synced into Consul. If nothing is set, defaults to \"k8s\".\n(Kubernetes -\u003e Consul sync)`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"consulnodename\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-synccatalog-consulnodename\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-synccatalog-consulnodename\",\"aria-label\":\"consulnodename permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`consulNodeName`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: k8s-sync`),`) - Defines the Consul synthetic node that all services\nwill be registered to.\nNOTE: Changing the node name and upgrading the Helm chart will leave\nall of the previously sync'd services registered with Consul and\nregister them again under the new Consul node name. The out-of-date\nregistrations will need to be explicitly removed.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"syncclusteripservices\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-synccatalog-syncclusteripservices\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-synccatalog-syncclusteripservices\",\"aria-label\":\"syncclusteripservices permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`syncClusterIPServices`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: true`),`) - Syncs services of the ClusterIP type, which may\nor may not be broadly accessible depending on your Kubernetes cluster.\nSet this to false to skip syncing ClusterIP services.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"syncloadbalancerendpoints\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-synccatalog-syncloadbalancerendpoints\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-synccatalog-syncloadbalancerendpoints\",\"aria-label\":\"syncloadbalancerendpoints permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`syncLoadBalancerEndpoints`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: false`),`) - If true, LoadBalancer service endpoints instead of ingress addresses will be synced to Consul.\nIf false, LoadBalancer endpoints are not synced to Consul.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"ingress-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-synccatalog-ingress\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-synccatalog-ingress\",\"aria-label\":\"ingress permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`ingress`)),``),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enabled-26\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-synccatalog-ingress-enabled\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-synccatalog-ingress-enabled\",\"aria-label\":\"enabled permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enabled`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: false`),`) - Syncs the hostname from a Kubernetes Ingress resource to service registrations\nwhen a rule matched a service. Currently only supports host based routing and\nnot path based routing. The only supported path on an ingress rule is \"/\".\nSet this to false to skip syncing Ingress services.`),mdx(\"p\",{parentName:\"li\"},`Currently, port 80 is synced if there is not TLS entry for the hostname. Syncs the port\n443 if there is a TLS entry that matches the hostname.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"loadbalancerips\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-synccatalog-ingress-loadbalancerips\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-synccatalog-ingress-loadbalancerips\",\"aria-label\":\"loadbalancerips permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`loadBalancerIPs`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: false`),`) - Requires syncIngress to be `,mdx(\"inlineCode\",{parentName:\"p\"},`true`),`. syncs the LoadBalancer IP from a Kubernetes Ingress\nresource instead of the hostname to service registrations when a rule matched a service.`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"nodeportsynctype\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-synccatalog-nodeportsynctype\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-synccatalog-nodeportsynctype\",\"aria-label\":\"nodeportsynctype permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`nodePortSyncType`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: ExternalFirst`),`) - Configures the type of syncing that happens for NodePort\nservices. The valid options are: ExternalOnly, InternalOnly, ExternalFirst.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},`ExternalOnly will only use a node's ExternalIP address for the sync`),mdx(\"li\",{parentName:\"ul\"},`InternalOnly use's the node's InternalIP address`),mdx(\"li\",{parentName:\"ul\"},`ExternalFirst will preferentially use the node's ExternalIP address, but\nif it doesn't exist, it will use the node's InternalIP address instead.`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"aclsynctoken\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-synccatalog-aclsynctoken\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-synccatalog-aclsynctoken\",\"aria-label\":\"aclsynctoken permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`aclSyncToken`)),` - Refers to a Kubernetes secret that you have created that contains\nan ACL token for your Consul cluster which allows the sync process the correct\npermissions. This is only needed if ACLs are managed manually within the Consul cluster, i.e. `,mdx(\"inlineCode\",{parentName:\"p\"},`global.acls.manageSystemACLs`),` is `,mdx(\"inlineCode\",{parentName:\"p\"},`false`),`.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"secretname-12\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-synccatalog-aclsynctoken-secretname\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-synccatalog-aclsynctoken-secretname\",\"aria-label\":\"secretname permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`secretName`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - The name of the Kubernetes secret that holds the acl sync token.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"secretkey-9\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-synccatalog-aclsynctoken-secretkey\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-synccatalog-aclsynctoken-secretkey\",\"aria-label\":\"secretkey permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`secretKey`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - The key within the Kubernetes secret that holds the acl sync token.`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"nodeselector-3\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-synccatalog-nodeselector\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-synccatalog-nodeselector\",\"aria-label\":\"nodeselector permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`nodeSelector`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - This value defines `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#nodeselector\"},mdx(\"inlineCode\",{parentName:\"a\"},`nodeSelector`)),`\nlabels for catalog sync pod assignment, formatted as a multi-line string.`),mdx(\"p\",{parentName:\"li\"},`Example:`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`nodeSelector`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` |`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  beta.kubernetes.io/arch: amd64`)),`\n`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"affinity-2\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-synccatalog-affinity\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-synccatalog-affinity\",\"aria-label\":\"affinity permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`affinity`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - Affinity Settings\nThis should be a multi-line string matching the affinity object`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"tolerations-3\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-synccatalog-tolerations\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-synccatalog-tolerations\",\"aria-label\":\"tolerations permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`tolerations`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - Toleration Settings\nThis should be a multi-line string matching the Toleration array\nin a PodSpec.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"serviceaccount-2\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-synccatalog-serviceaccount\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-synccatalog-serviceaccount\",\"aria-label\":\"serviceaccount permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`serviceAccount`)),``),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"annotations-11\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-synccatalog-serviceaccount-annotations\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-synccatalog-serviceaccount-annotations\",\"aria-label\":\"annotations permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`annotations`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - This value defines additional annotations for the mesh gateways' service account. This should be formatted as a\nmulti-line string.`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`annotations`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` |`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  \"sample/annotation1\": \"foo\"`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  \"sample/annotation2\": \"bar\"`)),`\n`))))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"resources-4\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-synccatalog-resources\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-synccatalog-resources\",\"aria-label\":\"resources permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`resources`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`map`),`) - The resource settings for sync catalog pods.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"loglevel-7\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-synccatalog-loglevel\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-synccatalog-loglevel\",\"aria-label\":\"loglevel permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`logLevel`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: \"\"`),`) - Override global log verbosity level. One of \"debug\", \"info\", \"warn\", or \"error\".`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"consulwriteinterval\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-synccatalog-consulwriteinterval\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-synccatalog-consulwriteinterval\",\"aria-label\":\"consulwriteinterval permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`consulWriteInterval`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - Override the default interval to perform syncing operations creating Consul services.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"extralabels-3\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-synccatalog-extralabels\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-synccatalog-extralabels\",\"aria-label\":\"extralabels permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`extraLabels`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`map`),`) - Extra labels to attach to the sync catalog pods. This should be a YAML map.`),mdx(\"p\",{parentName:\"li\"},`Example:`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`extraLabels`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  labelKey`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` label-value`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  anotherLabelKey`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` another-label-value`)),`\n`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"annotations-12\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-synccatalog-annotations\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-synccatalog-annotations\",\"aria-label\":\"annotations permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`annotations`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - This value defines additional annotations for\nthe catalog sync pods. This should be formatted as a multi-line string.`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`annotations`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` |`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  \"sample/annotation1\": \"foo\"`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  \"sample/annotation2\": \"bar\"`)),`\n`)))))),mdx(\"h3\",{\"id\":\"connectinject-1\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#h-connectinject\",\"aria-label\":\"connectinject permalink\"},`\\xbb`),mdx(\"a\",{parentName:\"h3\",\"className\":\"__target-h __compat\",\"id\":\"h-connectinject\",\"aria-hidden\":\"true\"}),`connectInject`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"connectinject-2\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject\",\"aria-label\":\"connectinject permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`connectInject`)),` - Configures the automatic Connect sidecar injector.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enabled-27\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-enabled\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-enabled\",\"aria-label\":\"enabled permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enabled`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: true`),`) - True if you want to enable connect injection. Set to \"-\" to inherit from\nglobal.enabled.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"replicas-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-replicas\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-replicas\",\"aria-label\":\"replicas permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`replicas`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`integer: 1`),`) - The number of deployment replicas.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"image-4\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-image\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-image\",\"aria-label\":\"image permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`image`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - Image for consul-k8s-control-plane that contains the injector.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"default-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-default\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-default\",\"aria-label\":\"default permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`default`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: false`),`) - If true, the injector will inject the\nConnect sidecar into all pods by default. Otherwise, pods must specify the\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/k8s/connect#consul-hashicorp-com-connect-inject\"},`injection annotation`),`\nto opt-in to Connect injection. If this is true, pods can use the same annotation\nto explicitly opt-out of injection.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"transparentproxy\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-transparentproxy\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-transparentproxy\",\"aria-label\":\"transparentproxy permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`transparentProxy`)),` - Configures Transparent Proxy for Consul Service mesh services.\nUsing this feature requires Consul 1.10.0-beta1+.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"defaultenabled\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-transparentproxy-defaultenabled\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-transparentproxy-defaultenabled\",\"aria-label\":\"defaultenabled permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`defaultEnabled`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: true`),`) - If true, then all Consul Service mesh will run with transparent proxy enabled by default,\ni.e. we enforce that all traffic within the pod will go through the proxy.\nThis value is overridable via the \"consul.hashicorp.com/transparent-proxy\" pod annotation.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"defaultoverwriteprobes\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-transparentproxy-defaultoverwriteprobes\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-transparentproxy-defaultoverwriteprobes\",\"aria-label\":\"defaultoverwriteprobes permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`defaultOverwriteProbes`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: true`),`) - If true, we will overwrite Kubernetes HTTP probes of the pod to point to the Envoy proxy instead.\nThis setting is recommended because with traffic being enforced to go through the Envoy proxy,\nthe probes on the pod will fail because kube-proxy doesn't have the right certificates\nto talk to Envoy.\nThis value is also overridable via the \"consul.hashicorp.com/transparent-proxy-overwrite-probes\" annotation.\nNote: This value has no effect if transparent proxy is disabled on the pod.`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"disruptionbudget-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-disruptionbudget\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-disruptionbudget\",\"aria-label\":\"disruptionbudget permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`disruptionBudget`)),` - This configures the `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://kubernetes.io/docs/tasks/run-application/configure-pdb/\"},mdx(\"inlineCode\",{parentName:\"a\"},`PodDisruptionBudget`)),`\nfor the service mesh sidecar injector.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enabled-28\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-disruptionbudget-enabled\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-disruptionbudget-enabled\",\"aria-label\":\"enabled permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enabled`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: true`),`) - This will enable/disable registering a PodDisruptionBudget for the\nservice mesh sidecar injector. If this is enabled, it will only register the budget so long as\nthe service mesh is enabled.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"maxunavailable-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-disruptionbudget-maxunavailable\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-disruptionbudget-maxunavailable\",\"aria-label\":\"maxunavailable permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`maxUnavailable`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`integer: null`),`) - The maximum number of unavailable pods. By default, this will be\nautomatically computed based on the `,mdx(\"inlineCode\",{parentName:\"p\"},`connectInject.replicas`),` value to be `,mdx(\"inlineCode\",{parentName:\"p\"},`(n/2)-1`),`.\nIf you need to set this to `,mdx(\"inlineCode\",{parentName:\"p\"},`0`),`, you will need to add a\n--set 'connectInject.disruptionBudget.maxUnavailable=0'\\` flag to the helm chart installation\ncommand because of a limitation in the Helm templating language.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"minavailable\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-disruptionbudget-minavailable\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-disruptionbudget-minavailable\",\"aria-label\":\"minavailable permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`minAvailable`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`integer: null`),`) - The minimum number of available pods.\nTakes precedence over maxUnavailable if set.`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"apigateway\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-apigateway\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-apigateway\",\"aria-label\":\"apigateway permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`apiGateway`)),` - Configuration settings for the Consul API Gateway integration.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"manageexternalcrds\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-apigateway-manageexternalcrds\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-apigateway-manageexternalcrds\",\"aria-label\":\"manageexternalcrds permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`manageExternalCRDs`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: true`),`) - Enables Consul on Kubernetes to manage the CRDs used for Gateway API.\nSetting this to true will install the CRDs used for the Gateway API when Consul on Kubernetes is installed.\nThese CRDs can clash with existing Gateway API CRDs if they are already installed in your cluster.\nIf this setting is false, you will need to install the Gateway API CRDs manually.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"managenonstandardcrds\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-apigateway-managenonstandardcrds\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-apigateway-managenonstandardcrds\",\"aria-label\":\"managenonstandardcrds permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`manageNonStandardCRDs`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: false`),`) - Enables Consul on Kubernets to manage only the non-standard CRDs used for Gateway API. If manageExternalCRDs is true\nthen all CRDs will be installed; otherwise, if manageNonStandardCRDs is true then only TCPRoute, GatewayClassConfig and MeshService\nwill be installed.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"managedgatewayclass\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-apigateway-managedgatewayclass\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-apigateway-managedgatewayclass\",\"aria-label\":\"managedgatewayclass permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`managedGatewayClass`)),` - Configuration settings for the GatewayClass installed by Consul on Kubernetes.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"nodeselector-4\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-apigateway-managedgatewayclass-nodeselector\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-apigateway-managedgatewayclass-nodeselector\",\"aria-label\":\"nodeselector permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`nodeSelector`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - This value defines `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#nodeselector\"},mdx(\"inlineCode\",{parentName:\"a\"},`nodeSelector`)),`\nlabels for gateway pod assignment, formatted as a multi-line string.`),mdx(\"p\",{parentName:\"li\"},`Example:`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`nodeSelector`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` |`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  beta.kubernetes.io/arch: amd64`)),`\n`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"tolerations-4\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-apigateway-managedgatewayclass-tolerations\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-apigateway-managedgatewayclass-tolerations\",\"aria-label\":\"tolerations permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`tolerations`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - Toleration settings for gateway pods created with the managed gateway class.\nThis should be a multi-line string matching the\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/\"},`Tolerations`),` array in a Pod spec.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"servicetype\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-apigateway-managedgatewayclass-servicetype\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-apigateway-managedgatewayclass-servicetype\",\"aria-label\":\"servicetype permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`serviceType`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: LoadBalancer`),`) - This value defines the type of Service created for gateways (e.g. LoadBalancer, ClusterIP)`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"copyannotations\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-apigateway-managedgatewayclass-copyannotations\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-apigateway-managedgatewayclass-copyannotations\",\"aria-label\":\"copyannotations permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`copyAnnotations`)),` - Configuration settings for annotations to be copied from the Gateway to other child resources.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"service-3\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-apigateway-managedgatewayclass-copyannotations-service\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-apigateway-managedgatewayclass-copyannotations-service\",\"aria-label\":\"service permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`service`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - This value defines a list of annotations to be copied from the Gateway to the Service created, formatted as a multi-line string.`),mdx(\"p\",{parentName:\"li\"},`Example:`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`service`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  annotations`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` |`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`    - external-dns.alpha.kubernetes.io/hostname`)),`\n`))))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"metrics-2\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-apigateway-managedgatewayclass-metrics\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-apigateway-managedgatewayclass-metrics\",\"aria-label\":\"metrics permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`metrics`)),` - Metrics settings for gateways created with this gateway class configuration.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enabled-29\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-apigateway-managedgatewayclass-metrics-enabled\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-apigateway-managedgatewayclass-metrics-enabled\",\"aria-label\":\"enabled permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enabled`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: -`),`) - This value enables or disables metrics collection on a gateway, overriding the global gateway metrics collection settings.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"port-2\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-apigateway-managedgatewayclass-metrics-port\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-apigateway-managedgatewayclass-metrics-port\",\"aria-label\":\"port permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`port`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`int: null`),`) - This value sets the port to use for scraping gateway metrics via prometheus, defaults to 20200 if not set. Must be in the port\nrange of 1024-65535.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"path-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-apigateway-managedgatewayclass-metrics-path\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-apigateway-managedgatewayclass-metrics-path\",\"aria-label\":\"path permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`path`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - This value sets the path to use for scraping gateway metrics via prometheus, defaults to /metrics if not set.`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"resources-5\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-apigateway-managedgatewayclass-resources\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-apigateway-managedgatewayclass-resources\",\"aria-label\":\"resources permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`resources`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`map`),`) - The resource settings for Pods handling traffic for Gateway API.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"deployment\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-apigateway-managedgatewayclass-deployment\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-apigateway-managedgatewayclass-deployment\",\"aria-label\":\"deployment permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`deployment`)),` - This value defines the number of pods to deploy for each Gateway as well as a min and max number of pods for all Gateways`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"defaultinstances\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-apigateway-managedgatewayclass-deployment-defaultinstances\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-apigateway-managedgatewayclass-deployment-defaultinstances\",\"aria-label\":\"defaultinstances permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`defaultInstances`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`integer: 1`),`)`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"maxinstances\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-apigateway-managedgatewayclass-deployment-maxinstances\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-apigateway-managedgatewayclass-deployment-maxinstances\",\"aria-label\":\"maxinstances permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`maxInstances`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`integer: 1`),`)`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"mininstances\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-apigateway-managedgatewayclass-deployment-mininstances\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-apigateway-managedgatewayclass-deployment-mininstances\",\"aria-label\":\"mininstances permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`minInstances`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`integer: 1`),`)`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"openshiftsccname\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-apigateway-managedgatewayclass-openshiftsccname\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-apigateway-managedgatewayclass-openshiftsccname\",\"aria-label\":\"openshiftsccname permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`openshiftSCCName`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: restricted-v2`),`) - The name of the OpenShift SecurityContextConstraints resource to use for Gateways.\nOnly applicable if `,mdx(\"inlineCode\",{parentName:\"p\"},`global.openshift.enabled`),` is true.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"mapprivilegedcontainerports\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-apigateway-managedgatewayclass-mapprivilegedcontainerports\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-apigateway-managedgatewayclass-mapprivilegedcontainerports\",\"aria-label\":\"mapprivilegedcontainerports permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`mapPrivilegedContainerPorts`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`integer: 0`),`) - This value defines the amount we will add to privileged container ports on gateways that use this class.\nThis is useful if you don't want to give your containers extra permissions to run privileged ports.\nExample: The gateway listener is defined on port 80, but the underlying value of the port on the container\nwill be the 80 + the number defined below.`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"serviceaccount-3\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-apigateway-serviceaccount\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-apigateway-serviceaccount\",\"aria-label\":\"serviceaccount permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`serviceAccount`)),` - Configuration for the ServiceAccount created for the api-gateway component`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"annotations-13\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-apigateway-serviceaccount-annotations\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-apigateway-serviceaccount-annotations\",\"aria-label\":\"annotations permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`annotations`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - This value defines additional annotations for the client service account. This should be formatted as a multi-line\nstring.`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`annotations`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` |`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  \"sample/annotation1\": \"foo\"`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  \"sample/annotation2\": \"bar\"`)),`\n`))))))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"cni\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-cni\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-cni\",\"aria-label\":\"cni permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`cni`)),` - Configures consul-cni plugin for Consul Service mesh services`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enabled-30\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-cni-enabled\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-cni-enabled\",\"aria-label\":\"enabled permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enabled`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: false`),`) - If true, then all traffic redirection setup uses the consul-cni plugin.\nRequires connectInject.enabled to also be true.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"loglevel-8\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-cni-loglevel\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-cni-loglevel\",\"aria-label\":\"loglevel permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`logLevel`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - Log level for the installer and plugin. Overrides global.logLevel`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"namespace-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-cni-namespace\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-cni-namespace\",\"aria-label\":\"namespace permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`namespace`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - Set the namespace to install the CNI plugin into. Overrides global namespace settings for CNI resources.\nEx: \"kube-system\"`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"cnibindir\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-cni-cnibindir\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-cni-cnibindir\",\"aria-label\":\"cnibindir permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`cniBinDir`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: /opt/cni/bin`),`) - Location on the kubernetes node where the CNI plugin is installed. Shoud be the absolute path and start with a '/'\nExample on GKE:`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`cniBinDir`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` \"/home/kubernetes/bin\"`)),`\n`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"cninetdir\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-cni-cninetdir\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-cni-cninetdir\",\"aria-label\":\"cninetdir permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`cniNetDir`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: /etc/cni/net.d`),`) - Location on the kubernetes node of all CNI configuration. Should be the absolute path and start with a '/'`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"multus\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-cni-multus\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-cni-multus\",\"aria-label\":\"multus permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`multus`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: false`),`) - If multus CNI plugin is enabled with consul-cni. When enabled, consul-cni will not be installed as a chained\nCNI plugin. Instead, a NetworkAttachementDefinition CustomResourceDefinition (CRD) will be created in the helm\nrelease namespace. Following multus plugin standards, an annotation is required in order for the consul-cni plugin\nto be executed and for your service to be added to the Consul Service Mesh.`),mdx(\"p\",{parentName:\"li\"},`Add the annotation `,mdx(\"inlineCode\",{parentName:\"p\"},`'k8s.v1.cni.cncf.io/networks': '[{ \"name\":\"consul-cni\",\"namespace\": \"consul\" }]'`),` to your pod\nto use the default installed NetworkAttachementDefinition CRD.`),mdx(\"p\",{parentName:\"li\"},`Please refer to the `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://github.com/k8snetworkplumbingwg/multus-cni/blob/master/docs/quickstart.md\"},`Multus Quickstart Guide`),`\nfor more information about using multus.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"resources-6\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-cni-resources\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-cni-resources\",\"aria-label\":\"resources permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`resources`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`map`),`) - The resource settings for CNI installer daemonset.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"resourcequota\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-cni-resourcequota\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-cni-resourcequota\",\"aria-label\":\"resourcequota permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`resourceQuota`)),` - Resource quotas for running the daemonset as system critical pods`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"pods\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-cni-resourcequota-pods\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#v-connectinject-cni-resourcequota-pods\",\"aria-label\":\"pods permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`pods`)),` (`,mdx(\"inlineCode\",{parentName:\"li\"},`integer: 5000`),`)`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"securitycontext-2\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-cni-securitycontext\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-cni-securitycontext\",\"aria-label\":\"securitycontext permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`securityContext`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`map`),`) - The security context for the CNI installer daemonset. This should be a YAML map corresponding to a\nKubernetes `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://kubernetes.io/docs/tasks/configure-pod-container/security-context/\"},`SecurityContext`),` object.\nBy default, servers will run as root, with user ID `,mdx(\"inlineCode\",{parentName:\"p\"},`0`),` and group ID `,mdx(\"inlineCode\",{parentName:\"p\"},`0`),`.\nNote: if running on OpenShift, this setting is ignored because the user and group are set automatically\nby the OpenShift platform.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"updatestrategy-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-cni-updatestrategy\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-cni-updatestrategy\",\"aria-label\":\"updatestrategy permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`updateStrategy`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - updateStrategy for the CNI installer DaemonSet.\nRefer to the Kubernetes `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://kubernetes.io/docs/tasks/manage-daemon/update-daemon-set/#daemonset-update-strategy\"},`Daemonset upgrade strategy`),`\ndocumentation.\nThis should be a multi-line string mapping directly to the updateStrategy`),mdx(\"p\",{parentName:\"li\"},`Example:`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`updateStrategy`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` |`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  rollingUpdate:`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`    maxUnavailable: 5`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  type: RollingUpdate`)),`\n`))))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"consulnode\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-consulnode\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-consulnode\",\"aria-label\":\"consulnode permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`consulNode`)),``),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"meta\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-consulnode-meta\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-consulnode-meta\",\"aria-label\":\"meta permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`meta`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`map`),`) - meta specifies an arbitrary metadata key/value pair to associate with the node.`),mdx(\"p\",{parentName:\"li\"},`Example:`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`meta`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  cluster`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` test-cluster`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  persistent`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},` true`)),`\n`))))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"metrics-3\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-metrics\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-metrics\",\"aria-label\":\"metrics permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`metrics`)),` - Configures metrics for Consul service mesh services. All values are overridable\nvia annotations on a per-pod basis.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"defaultenabled-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-metrics-defaultenabled\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-metrics-defaultenabled\",\"aria-label\":\"defaultenabled permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`defaultEnabled`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: -`),`) - If true, the connect-injector will automatically\nadd prometheus annotations to connect-injected pods. It will also\nadd a listener on the Envoy sidecar to expose metrics. The exposed\nmetrics will depend on whether metrics merging is enabled:`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},`If metrics merging is enabled:\nthe consul-dataplane will run a merged metrics server\ncombining Envoy sidecar and Connect service metrics,\ni.e. if your service exposes its own Prometheus metrics.`),mdx(\"li\",{parentName:\"ul\"},`If metrics merging is disabled:\nthe listener will just expose Envoy sidecar metrics.\nThis will inherit from `,mdx(\"inlineCode\",{parentName:\"li\"},`global.metrics.enabled`),`.`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"defaultenablemerging\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-metrics-defaultenablemerging\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-metrics-defaultenablemerging\",\"aria-label\":\"defaultenablemerging permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`defaultEnableMerging`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: false`),`) - Configures the consul-dataplane to run a merged metrics server\nto combine and serve both Envoy and Connect service metrics.\nThis feature is available only in Consul v1.10.0 or greater.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"defaultmergedmetricsport\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-metrics-defaultmergedmetricsport\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-metrics-defaultmergedmetricsport\",\"aria-label\":\"defaultmergedmetricsport permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`defaultMergedMetricsPort`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`integer: 20100`),`) - Configures the port at which the consul-dataplane will listen on to return\ncombined metrics. This port only needs to be changed if it conflicts with\nthe application's ports.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"defaultprometheusscrapeport\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-metrics-defaultprometheusscrapeport\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-metrics-defaultprometheusscrapeport\",\"aria-label\":\"defaultprometheusscrapeport permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`defaultPrometheusScrapePort`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`integer: 20200`),`) - Configures the port Prometheus will scrape metrics from, by configuring\nthe Pod annotation `,mdx(\"inlineCode\",{parentName:\"p\"},`prometheus.io/port`),` and the corresponding listener in\nthe Envoy sidecar.\nNOTE: This is `,mdx(\"em\",{parentName:\"p\"},`not`),` the port that your application exposes metrics on.\nThat can be configured with the\n`,mdx(\"inlineCode\",{parentName:\"p\"},`consul.hashicorp.com/service-metrics-port`),` annotation.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"defaultprometheusscrapepath\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-metrics-defaultprometheusscrapepath\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-metrics-defaultprometheusscrapepath\",\"aria-label\":\"defaultprometheusscrapepath permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`defaultPrometheusScrapePath`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: /metrics`),`) - Configures the path Prometheus will scrape metrics from, by configuring the pod\nannotation `,mdx(\"inlineCode\",{parentName:\"p\"},`prometheus.io/path`),` and the corresponding handler in the Envoy\nsidecar.\nNOTE: This is `,mdx(\"em\",{parentName:\"p\"},`not`),` the path that your application exposes metrics on.\nThat can be configured with the\n`,mdx(\"inlineCode\",{parentName:\"p\"},`consul.hashicorp.com/service-metrics-path`),` annotation.`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"envoyextraargs\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-envoyextraargs\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-envoyextraargs\",\"aria-label\":\"envoyextraargs permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`envoyExtraArgs`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - Used to pass arguments to the injected envoy sidecar.\nValid arguments to pass to envoy can be found here: `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://www.envoyproxy.io/docs/envoy/latest/operations/cli\"},`https://www.envoyproxy.io/docs/envoy/latest/operations/cli`),`\ne.g \"--log-level debug --disable-hot-restart\"`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"priorityclassname-3\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-priorityclassname\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-priorityclassname\",\"aria-label\":\"priorityclassname permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`priorityClassName`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: \"\"`),`) - Optional priorityClassName.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"extralabels-4\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-extralabels\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-extralabels\",\"aria-label\":\"extralabels permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`extraLabels`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`map`),`) - Extra labels to attach to the connect inject pods. This should be a YAML map.`),mdx(\"p\",{parentName:\"li\"},`Example:`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`extraLabels`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  labelKey`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` label-value`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  anotherLabelKey`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` another-label-value`)),`\n`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"annotations-14\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-annotations\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-annotations\",\"aria-label\":\"annotations permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`annotations`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - This value defines additional annotations for\nconnect inject pods. This should be formatted as a multi-line string.`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`annotations`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` |`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  \"sample/annotation1\": \"foo\"`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  \"sample/annotation2\": \"bar\"`)),`\n`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"imageconsul\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-imageconsul\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-imageconsul\",\"aria-label\":\"imageconsul permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`imageConsul`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - The Docker image for Consul to use when performing Connect injection.\nDefaults to global.image.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"loglevel-9\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-loglevel\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-loglevel\",\"aria-label\":\"loglevel permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`logLevel`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: \"\"`),`) - Sets the `,mdx(\"inlineCode\",{parentName:\"p\"},`logLevel`),` for the `,mdx(\"inlineCode\",{parentName:\"p\"},`consul-dataplane`),` sidecar and the `,mdx(\"inlineCode\",{parentName:\"p\"},`consul-connect-inject-init`),` container. When set, this value overrides the global log verbosity level. One of \"debug\", \"info\", \"warn\", or \"error\".`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"serviceaccount-4\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-serviceaccount\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-serviceaccount\",\"aria-label\":\"serviceaccount permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`serviceAccount`)),``),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"annotations-15\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-serviceaccount-annotations\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-serviceaccount-annotations\",\"aria-label\":\"annotations permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`annotations`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - This value defines additional annotations for the injector service account. This should be formatted as a\nmulti-line string.`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`annotations`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` |`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  \"sample/annotation1\": \"foo\"`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  \"sample/annotation2\": \"bar\"`)),`\n`))))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"resources-7\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-resources\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-resources\",\"aria-label\":\"resources permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`resources`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`map`),`) - The resource settings for connect inject pods. The defaults, are optimized for getting started worklows on developer deployments. The settings should be tweaked for production deployments.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"requests\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-resources-requests\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-resources-requests\",\"aria-label\":\"requests permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`requests`)),``),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"memory\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-resources-requests-memory\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-resources-requests-memory\",\"aria-label\":\"memory permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`memory`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: 200Mi`),`) - Recommended production default: 500Mi`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"cpu\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-resources-requests-cpu\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-resources-requests-cpu\",\"aria-label\":\"cpu permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`cpu`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: 50m`),`) - Recommended production default: 250m`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"limits-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-resources-limits\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-resources-limits\",\"aria-label\":\"limits permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`limits`)),``),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"memory-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-resources-limits-memory\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-resources-limits-memory\",\"aria-label\":\"memory permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`memory`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: 200Mi`),`) - Recommended production default: 500Mi`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"cpu-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-resources-limits-cpu\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-resources-limits-cpu\",\"aria-label\":\"cpu permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`cpu`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: 50m`),`) - Recommended production default: 250m`)))))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"failurepolicy\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-failurepolicy\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-failurepolicy\",\"aria-label\":\"failurepolicy permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`failurePolicy`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: Fail`),`) - Sets the failurePolicy for the mutating webhook. By default this will cause pods not part of the consul installation to fail scheduling while the webhook\nis offline. This prevents a pod from skipping mutation if the webhook were to be momentarily offline.\nOnce the webhook is back online the pod will be scheduled.\nIn some environments such as Kind this may have an undesirable effect as it may prevent volume provisioner pods from running\nwhich can lead to hangs. In these environments it is recommend to use \"Ignore\" instead.\nThis setting can be safely disabled by setting to \"Ignore\".`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"namespaceselector\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-namespaceselector\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-namespaceselector\",\"aria-label\":\"namespaceselector permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`namespaceSelector`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string`),`) - Selector for restricting the webhook to only specific namespaces.\nUse with `,mdx(\"inlineCode\",{parentName:\"p\"},`connectInject.default: true`),` to automatically inject all pods in namespaces that match the selector. This should be set to a multiline string.\nRefer to `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://kubernetes.io/docs/reference/access-authn-authz/extensible-admission-controllers/#matching-requests-namespaceselector\"},`https://kubernetes.io/docs/reference/access-authn-authz/extensible-admission-controllers/#matching-requests-namespaceselector`),`\nfor more details.`),mdx(\"p\",{parentName:\"li\"},`By default, we exclude kube-system since usually users won't\nwant those pods injected and local-path-storage and openebs so that\nKind (Kubernetes In Docker) and `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://openebs.io/\"},`OpenEBS`),` respectively can provision Pods used to create PVCs.\nNote that this exclusion is only supported in Kubernetes v1.21.1+.`),mdx(\"p\",{parentName:\"li\"},`Example:`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`namespaceSelector`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` |`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  matchLabels:`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`    namespace-label: label-value`)),`\n`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"k8sallownamespaces-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-k8sallownamespaces\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-k8sallownamespaces\",\"aria-label\":\"k8sallownamespaces permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`k8sAllowNamespaces`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`array\u003cstring\u003e: [\"*\"]`),`) - List of k8s namespaces to allow Connect sidecar\ninjection in. If a k8s namespace is not included or is listed in `,mdx(\"inlineCode\",{parentName:\"p\"},`k8sDenyNamespaces`),`,\npods in that k8s namespace will not be injected even if they are explicitly\nannotated. Use `,mdx(\"inlineCode\",{parentName:\"p\"},`[\"*\"]`),` to automatically allow all k8s namespaces.`),mdx(\"p\",{parentName:\"li\"},`For example, `,mdx(\"inlineCode\",{parentName:\"p\"},`[\"namespace1\", \"namespace2\"]`),` will only allow pods in the k8s\nnamespaces `,mdx(\"inlineCode\",{parentName:\"p\"},`namespace1`),` and `,mdx(\"inlineCode\",{parentName:\"p\"},`namespace2`),` to have Consul service mesh sidecars injected\nand registered with Consul. All other k8s namespaces will be ignored.`),mdx(\"p\",{parentName:\"li\"},`To deny all namespaces, set this to `,mdx(\"inlineCode\",{parentName:\"p\"},`[]`),`.`),mdx(\"p\",{parentName:\"li\"},`Note: `,mdx(\"inlineCode\",{parentName:\"p\"},`k8sDenyNamespaces`),` takes precedence over values defined here and\n`,mdx(\"inlineCode\",{parentName:\"p\"},`namespaceSelector`),` takes precedence over both since it is applied first.\n`,mdx(\"inlineCode\",{parentName:\"p\"},`kube-system`),` and `,mdx(\"inlineCode\",{parentName:\"p\"},`kube-public`),` are never injected, even if included here.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"k8sdenynamespaces-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-k8sdenynamespaces\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-k8sdenynamespaces\",\"aria-label\":\"k8sdenynamespaces permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`k8sDenyNamespaces`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`array\u003cstring\u003e: []`),`) - List of k8s namespaces that should not allow Connect\nsidecar injection. This list takes precedence over `,mdx(\"inlineCode\",{parentName:\"p\"},`k8sAllowNamespaces`),`.\n`,mdx(\"inlineCode\",{parentName:\"p\"},`*`),` is not supported because then nothing would be allowed to be injected.`),mdx(\"p\",{parentName:\"li\"},`For example, if `,mdx(\"inlineCode\",{parentName:\"p\"},`k8sAllowNamespaces`),` is `,mdx(\"inlineCode\",{parentName:\"p\"},`[\"*\"]`),` and k8sDenyNamespaces is\n`,mdx(\"inlineCode\",{parentName:\"p\"},`[\"namespace1\", \"namespace2\"]`),`, then all k8s namespaces besides \"namespace1\"\nand \"namespace2\" will be available for injection.`),mdx(\"p\",{parentName:\"li\"},`Note: `,mdx(\"inlineCode\",{parentName:\"p\"},`namespaceSelector`),` takes precedence over this since it is applied first.\n`,mdx(\"inlineCode\",{parentName:\"p\"},`kube-system`),` and `,mdx(\"inlineCode\",{parentName:\"p\"},`kube-public`),` are never injected.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"consulnamespaces-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-consulnamespaces\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-consulnamespaces\",\"aria-label\":\"consulnamespaces permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`consulNamespaces`)),` - `,mdx(EnterpriseAlert,{inline:true,mdxType:\"EnterpriseAlert\"}),` These settings manage the connect injector's interaction with\nConsul namespaces (requires consul-ent v1.7+).\nAlso, `,mdx(\"inlineCode\",{parentName:\"p\"},`global.enableConsulNamespaces`),` must be true.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"consuldestinationnamespace-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-consulnamespaces-consuldestinationnamespace\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-consulnamespaces-consuldestinationnamespace\",\"aria-label\":\"consuldestinationnamespace permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`consulDestinationNamespace`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: default`),`) - Name of the Consul namespace to register all\nk8s pods into. If the Consul namespace does not already exist,\nit will be created. This will be ignored if `,mdx(\"inlineCode\",{parentName:\"p\"},`mirroringK8S`),` is true.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"mirroringk8s-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-consulnamespaces-mirroringk8s\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-consulnamespaces-mirroringk8s\",\"aria-label\":\"mirroringk8s permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`mirroringK8S`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: true`),`) - Causes k8s pods to be registered into a Consul namespace\nof the same name as their k8s namespace, optionally prefixed if\n`,mdx(\"inlineCode\",{parentName:\"p\"},`mirroringK8SPrefix`),` is set below. If the Consul namespace does not\nalready exist, it will be created. Turning this on overrides the\n`,mdx(\"inlineCode\",{parentName:\"p\"},`consulDestinationNamespace`),` setting. If mirroring is enabled, avoid creating any Consul\nresources in the following Kubernetes namespaces, as Consul currently reserves these\nnamespaces for system use: \"system\", \"universal\", \"operator\", \"root\".`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"mirroringk8sprefix-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-consulnamespaces-mirroringk8sprefix\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-consulnamespaces-mirroringk8sprefix\",\"aria-label\":\"mirroringk8sprefix permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`mirroringK8SPrefix`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: \"\"`),`) - If `,mdx(\"inlineCode\",{parentName:\"p\"},`mirroringK8S`),` is set to true, `,mdx(\"inlineCode\",{parentName:\"p\"},`mirroringK8SPrefix`),` allows each Consul namespace\nto be given a prefix. For example, if `,mdx(\"inlineCode\",{parentName:\"p\"},`mirroringK8SPrefix`),` is set to \"k8s-\", a\npod in the k8s `,mdx(\"inlineCode\",{parentName:\"p\"},`staging`),` namespace will be registered into the\n`,mdx(\"inlineCode\",{parentName:\"p\"},`k8s-staging`),` Consul namespace.`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"nodeselector-5\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-nodeselector\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-nodeselector\",\"aria-label\":\"nodeselector permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`nodeSelector`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - Selector labels for connectInject pod assignment, formatted as a multi-line string.\nref: `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#nodeselector\"},`https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#nodeselector`)),mdx(\"p\",{parentName:\"li\"},`Example:`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`nodeSelector`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` |`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  beta.kubernetes.io/arch: amd64`)),`\n`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"affinity-3\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-affinity\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-affinity\",\"aria-label\":\"affinity permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`affinity`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - Affinity Settings\nThis should be a multi-line string matching the affinity object`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"tolerations-5\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-tolerations\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-tolerations\",\"aria-label\":\"tolerations permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`tolerations`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - Toleration Settings\nThis should be a multi-line string matching the Toleration array\nin a PodSpec.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"aclbindingruleselector\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-aclbindingruleselector\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-aclbindingruleselector\",\"aria-label\":\"aclbindingruleselector permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`aclBindingRuleSelector`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: serviceaccount.name!=default`),`) - Query that defines which Service Accounts\ncan authenticate to Consul and receive an ACL token during Connect injection.\nThe default setting, i.e. serviceaccount.name!=default, prevents the\n'default' Service Account from logging in.\nIf set to an empty string all service accounts can log in.\nThis only has effect if ACLs are enabled.`),mdx(\"p\",{parentName:\"li\"},`Refer to Auth methods `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/security/acl/auth-methods#binding-rules\"},`Binding rules`),`\nand `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/security/acl/auth-methods/kubernetes#trusted-identity-attributes\"},`Trusted identiy attributes`),`\nfor more details.\nRequires Consul \u003e= v1.5.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"overrideauthmethodname\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-overrideauthmethodname\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-overrideauthmethodname\",\"aria-label\":\"overrideauthmethodname permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`overrideAuthMethodName`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: \"\"`),`) - If you are not using global.acls.manageSystemACLs and instead manually setting up an\nauth method for Connect inject, set this to the name of your auth method.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"aclinjecttoken\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-aclinjecttoken\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-aclinjecttoken\",\"aria-label\":\"aclinjecttoken permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`aclInjectToken`)),` - Refers to a Kubernetes secret that you have created that contains\nan ACL token for your Consul cluster which allows the Connect injector the correct\npermissions. This is only needed if Consul namespaces `,mdx(EnterpriseAlert,{inline:true,mdxType:\"EnterpriseAlert\"}),` and ACLs\nare enabled on the Consul cluster and you are not setting\n`,mdx(\"inlineCode\",{parentName:\"p\"},`global.acls.manageSystemACLs`),` to `,mdx(\"inlineCode\",{parentName:\"p\"},`true`),`.\nThis token needs to have `,mdx(\"inlineCode\",{parentName:\"p\"},`operator = \"write\"`),` privileges to be able to\ncreate Consul namespaces.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"secretname-13\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-aclinjecttoken-secretname\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-aclinjecttoken-secretname\",\"aria-label\":\"secretname permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`secretName`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - The name of the Vault secret that holds the ACL inject token.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"secretkey-10\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-aclinjecttoken-secretkey\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-aclinjecttoken-secretkey\",\"aria-label\":\"secretkey permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`secretKey`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - The key within the Vault secret that holds the ACL inject token.`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"sidecarproxy\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-sidecarproxy\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-sidecarproxy\",\"aria-label\":\"sidecarproxy permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`sidecarProxy`)),``),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"concurrency\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-sidecarproxy-concurrency\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-sidecarproxy-concurrency\",\"aria-label\":\"concurrency permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`concurrency`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: 2`),`) - The number of worker threads to be used by the Envoy proxy.\nBy default the threading model of Envoy will use one thread per CPU core per envoy proxy. This\nleads to unnecessary thread and memory usage and leaves unnecessary idle connections open. It is\nadvised to keep this number low for sidecars and high for edge proxies.\nThis will control the `,mdx(\"inlineCode\",{parentName:\"p\"},`--concurrency`),` flag to Envoy.\nFor additional information, refer to `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://blog.envoyproxy.io/envoy-threading-model-a8d44b922310\"},`https://blog.envoyproxy.io/envoy-threading-model-a8d44b922310`)),mdx(\"p\",{parentName:\"li\"},`This setting can be overridden on a per-pod basis via this annotation:`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"consul-hashicorp-com-consul-envoy-proxy-concurrency\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#consul-hashicorp-com-consul-envoy-proxy-concurrency\",\"aria-label\":\"consul hashicorp com consul envoy proxy concurrency permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`consul.hashicorp.com/consul-envoy-proxy-concurrency`))))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"resources-8\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-sidecarproxy-resources\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-sidecarproxy-resources\",\"aria-label\":\"resources permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`resources`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`map`),`) - Set default resources for sidecar proxy. If null, that resource won't\nbe set.\nThese settings can be overridden on a per-pod basis via these annotations:`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"consul-hashicorp-com-sidecar-proxy-cpu-limit\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#consul-hashicorp-com-sidecar-proxy-cpu-limit\",\"aria-label\":\"consul hashicorp com sidecar proxy cpu limit permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`consul.hashicorp.com/sidecar-proxy-cpu-limit`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"consul-hashicorp-com-sidecar-proxy-cpu-request\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#consul-hashicorp-com-sidecar-proxy-cpu-request\",\"aria-label\":\"consul hashicorp com sidecar proxy cpu request permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`consul.hashicorp.com/sidecar-proxy-cpu-request`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"consul-hashicorp-com-sidecar-proxy-memory-limit\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#consul-hashicorp-com-sidecar-proxy-memory-limit\",\"aria-label\":\"consul hashicorp com sidecar proxy memory limit permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`consul.hashicorp.com/sidecar-proxy-memory-limit`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"consul-hashicorp-com-sidecar-proxy-memory-request\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#consul-hashicorp-com-sidecar-proxy-memory-request\",\"aria-label\":\"consul hashicorp com sidecar proxy memory request permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`consul.hashicorp.com/sidecar-proxy-memory-request`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"requests-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-sidecarproxy-resources-requests\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-sidecarproxy-resources-requests\",\"aria-label\":\"requests permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`requests`)),``),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"memory-2\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-sidecarproxy-resources-requests-memory\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-sidecarproxy-resources-requests-memory\",\"aria-label\":\"memory permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`memory`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - Recommended production default: 100Mi`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"cpu-2\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-sidecarproxy-resources-requests-cpu\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-sidecarproxy-resources-requests-cpu\",\"aria-label\":\"cpu permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`cpu`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - Recommended production default: 100m`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"limits-2\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-sidecarproxy-resources-limits\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-sidecarproxy-resources-limits\",\"aria-label\":\"limits permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`limits`)),``),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"memory-3\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-sidecarproxy-resources-limits-memory\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-sidecarproxy-resources-limits-memory\",\"aria-label\":\"memory permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`memory`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - Recommended production default: 100Mi`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"cpu-3\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-sidecarproxy-resources-limits-cpu\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-sidecarproxy-resources-limits-cpu\",\"aria-label\":\"cpu permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`cpu`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - Recommended production default: 100m`)))))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"lifecycle\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-sidecarproxy-lifecycle\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-sidecarproxy-lifecycle\",\"aria-label\":\"lifecycle permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`lifecycle`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`map`),`) - Set default lifecycle management configuration for sidecar proxy.\nThese settings can be overridden on a per-pod basis via these annotations:`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"consul-hashicorp-com-enable-sidecar-proxy-lifecycle\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#consul-hashicorp-com-enable-sidecar-proxy-lifecycle\",\"aria-label\":\"consul hashicorp com enable sidecar proxy lifecycle permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`consul.hashicorp.com/enable-sidecar-proxy-lifecycle`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"consul-hashicorp-com-enable-sidecar-proxy-shutdown-drain-listeners\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#consul-hashicorp-com-enable-sidecar-proxy-shutdown-drain-listeners\",\"aria-label\":\"consul hashicorp com enable sidecar proxy shutdown drain listeners permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`consul.hashicorp.com/enable-sidecar-proxy-shutdown-drain-listeners`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"consul-hashicorp-com-sidecar-proxy-lifecycle-shutdown-grace-period-seconds\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#consul-hashicorp-com-sidecar-proxy-lifecycle-shutdown-grace-period-seconds\",\"aria-label\":\"consul hashicorp com sidecar proxy lifecycle shutdown grace period seconds permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`consul.hashicorp.com/sidecar-proxy-lifecycle-shutdown-grace-period-seconds`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"consul-hashicorp-com-sidecar-proxy-lifecycle-startup-grace-period-seconds\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#consul-hashicorp-com-sidecar-proxy-lifecycle-startup-grace-period-seconds\",\"aria-label\":\"consul hashicorp com sidecar proxy lifecycle startup grace period seconds permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`consul.hashicorp.com/sidecar-proxy-lifecycle-startup-grace-period-seconds`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"consul-hashicorp-com-sidecar-proxy-lifecycle-graceful-port\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#consul-hashicorp-com-sidecar-proxy-lifecycle-graceful-port\",\"aria-label\":\"consul hashicorp com sidecar proxy lifecycle graceful port permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`consul.hashicorp.com/sidecar-proxy-lifecycle-graceful-port`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"consul-hashicorp-com-sidecar-proxy-lifecycle-graceful-shutdown-path\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#consul-hashicorp-com-sidecar-proxy-lifecycle-graceful-shutdown-path\",\"aria-label\":\"consul hashicorp com sidecar proxy lifecycle graceful shutdown path permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`consul.hashicorp.com/sidecar-proxy-lifecycle-graceful-shutdown-path`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"consul-hashicorp-com-sidecar-proxy-lifecycle-graceful-startup-path\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#consul-hashicorp-com-sidecar-proxy-lifecycle-graceful-startup-path\",\"aria-label\":\"consul hashicorp com sidecar proxy lifecycle graceful startup path permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`consul.hashicorp.com/sidecar-proxy-lifecycle-graceful-startup-path`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"defaultenabled-2\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-sidecarproxy-lifecycle-defaultenabled\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-sidecarproxy-lifecycle-defaultenabled\",\"aria-label\":\"defaultenabled permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`defaultEnabled`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: true`),`)`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"defaultenableshutdowndrainlisteners\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-sidecarproxy-lifecycle-defaultenableshutdowndrainlisteners\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-sidecarproxy-lifecycle-defaultenableshutdowndrainlisteners\",\"aria-label\":\"defaultenableshutdowndrainlisteners permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`defaultEnableShutdownDrainListeners`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: true`),`)`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"defaultshutdowngraceperiodseconds\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-sidecarproxy-lifecycle-defaultshutdowngraceperiodseconds\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-sidecarproxy-lifecycle-defaultshutdowngraceperiodseconds\",\"aria-label\":\"defaultshutdowngraceperiodseconds permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`defaultShutdownGracePeriodSeconds`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`integer: 30`),`)`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"defaultstartupgraceperiodseconds\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-sidecarproxy-lifecycle-defaultstartupgraceperiodseconds\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-sidecarproxy-lifecycle-defaultstartupgraceperiodseconds\",\"aria-label\":\"defaultstartupgraceperiodseconds permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`defaultStartupGracePeriodSeconds`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`integer: 0`),`)`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"defaultgracefulport\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-sidecarproxy-lifecycle-defaultgracefulport\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-sidecarproxy-lifecycle-defaultgracefulport\",\"aria-label\":\"defaultgracefulport permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`defaultGracefulPort`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`integer: 20600`),`)`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"defaultgracefulshutdownpath\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-sidecarproxy-lifecycle-defaultgracefulshutdownpath\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-sidecarproxy-lifecycle-defaultgracefulshutdownpath\",\"aria-label\":\"defaultgracefulshutdownpath permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`defaultGracefulShutdownPath`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: /graceful_shutdown`),`)`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"defaultgracefulstartuppath\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-sidecarproxy-lifecycle-defaultgracefulstartuppath\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-sidecarproxy-lifecycle-defaultgracefulstartuppath\",\"aria-label\":\"defaultgracefulstartuppath permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`defaultGracefulStartupPath`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: /graceful_startup`),`)`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"defaultstartupfailureseconds\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-sidecarproxy-defaultstartupfailureseconds\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-sidecarproxy-defaultstartupfailureseconds\",\"aria-label\":\"defaultstartupfailureseconds permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`defaultStartupFailureSeconds`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`integer: 0`),`) - Configures how long the k8s startup probe will wait before the proxy is considered to be unhealthy and the container is restarted.\nA value of zero disables the probe.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"defaultlivenessfailureseconds\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-sidecarproxy-defaultlivenessfailureseconds\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-sidecarproxy-defaultlivenessfailureseconds\",\"aria-label\":\"defaultlivenessfailureseconds permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`defaultLivenessFailureSeconds`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`integer: 0`),`) - Configures how long the k8s liveness probe will wait before the proxy is considered to be unhealthy and the container is restarted.\nA value of zero disables the probe.`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"initcontainer\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-initcontainer\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-initcontainer\",\"aria-label\":\"initcontainer permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`initContainer`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`map`),`) - The resource settings for the Connect injected init container. If null, the resources\nwon't be set for the initContainer. The defaults are optimized for developer instances of\nKubernetes, however they should be tweaked with the recommended defaults as shown below to speed up service registration times.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"resources-9\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-initcontainer-resources\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-initcontainer-resources\",\"aria-label\":\"resources permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`resources`)),``),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"requests-2\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-initcontainer-resources-requests\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-initcontainer-resources-requests\",\"aria-label\":\"requests permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`requests`)),``),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"memory-4\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-initcontainer-resources-requests-memory\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-initcontainer-resources-requests-memory\",\"aria-label\":\"memory permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`memory`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: 25Mi`),`) - Recommended production default: 150Mi`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"cpu-4\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-initcontainer-resources-requests-cpu\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-initcontainer-resources-requests-cpu\",\"aria-label\":\"cpu permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`cpu`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: 50m`),`) - Recommended production default: 250m`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"limits-3\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-initcontainer-resources-limits\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-initcontainer-resources-limits\",\"aria-label\":\"limits permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`limits`)),``),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"memory-5\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-initcontainer-resources-limits-memory\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-initcontainer-resources-limits-memory\",\"aria-label\":\"memory permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`memory`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: 150Mi`),`) - Recommended production default: 150Mi`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"cpu-5\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-connectinject-initcontainer-resources-limits-cpu\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-connectinject-initcontainer-resources-limits-cpu\",\"aria-label\":\"cpu permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`cpu`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - Recommended production default: 500m`))))))))))),mdx(\"h3\",{\"id\":\"meshgateway\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#h-meshgateway\",\"aria-label\":\"meshgateway permalink\"},`\\xbb`),mdx(\"a\",{parentName:\"h3\",\"className\":\"__target-h __compat\",\"id\":\"h-meshgateway\",\"aria-hidden\":\"true\"}),`meshGateway`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"meshgateway-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-meshgateway\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-meshgateway\",\"aria-label\":\"meshgateway permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`meshGateway`)),` - `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/east-west/mesh-gateway\"},`Mesh Gateways`),` enable Consul Connect to work across Consul datacenters.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enabled-31\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-meshgateway-enabled\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-meshgateway-enabled\",\"aria-label\":\"enabled permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enabled`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: false`),`) - If `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/east-west/mesh-gateway\"},`mesh gateways`),` are enabled, a Deployment will be created that runs\ngateways and Consul service mesh will be configured to use gateways.\nThis setting is required for `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/connect/cluster-peering/k8s\"},`Cluster Peering`),`.\nRequirements: consul 1.6.0+ if using \\`global.acls.manageSystemACLs\\`\\`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"loglevel-10\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-meshgateway-loglevel\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-meshgateway-loglevel\",\"aria-label\":\"loglevel permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`logLevel`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: \"\"`),`) - Override global log verbosity level for mesh-gateway-deployment pods. One of \"trace\", \"debug\", \"info\", \"warn\", or \"error\".`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"replicas-2\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-meshgateway-replicas\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-meshgateway-replicas\",\"aria-label\":\"replicas permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`replicas`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`integer: 1`),`) - Number of replicas for the Deployment.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"wanaddress\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-meshgateway-wanaddress\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-meshgateway-wanaddress\",\"aria-label\":\"wanaddress permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`wanAddress`)),` - What gets registered as WAN address for the gateway.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"source\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-meshgateway-wanaddress-source\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-meshgateway-wanaddress-source\",\"aria-label\":\"source permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`source`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: Service`),`) - source configures where to retrieve the WAN address (and possibly port)\nfor the mesh gateway from.\nCan be set to either: `,mdx(\"inlineCode\",{parentName:\"p\"},`Service`),`, `,mdx(\"inlineCode\",{parentName:\"p\"},`NodeIP`),`, `,mdx(\"inlineCode\",{parentName:\"p\"},`NodeName`),` or `,mdx(\"inlineCode\",{parentName:\"p\"},`Static`),`.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"service-4\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#service-4\",\"aria-label\":\"service permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`Service`)),` - Determine the address based on the service type.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\"},`If `,mdx(\"inlineCode\",{parentName:\"p\"},`service.type=LoadBalancer`),` use the external IP or hostname of\nthe service. Use the port set by `,mdx(\"inlineCode\",{parentName:\"p\"},`service.port`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\"},`If `,mdx(\"inlineCode\",{parentName:\"p\"},`service.type=NodePort`),` use the Node IP. The port will be set to\n`,mdx(\"inlineCode\",{parentName:\"p\"},`service.nodePort`),` so `,mdx(\"inlineCode\",{parentName:\"p\"},`service.nodePort`),` cannot be null.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\"},`If `,mdx(\"inlineCode\",{parentName:\"p\"},`service.type=ClusterIP`),` use the `,mdx(\"inlineCode\",{parentName:\"p\"},`ClusterIP`),`. The port will be set to\n`,mdx(\"inlineCode\",{parentName:\"p\"},`service.port`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"service-type-externalname\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#service-type-externalname\",\"aria-label\":\"service type externalname permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`service.type=ExternalName`)),` is not supported.`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"nodeip\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#nodeip\",\"aria-label\":\"nodeip permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`NodeIP`)),` - The node IP as provided by the Kubernetes downward API.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"nodename\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#nodename\",\"aria-label\":\"nodename permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`NodeName`)),` - The name of the node as provided by the Kubernetes downward\nAPI. This is useful if the node names are DNS entries that\nare routable from other datacenters.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"static\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#static\",\"aria-label\":\"static permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`Static`)),` - Use the address hardcoded in `,mdx(\"inlineCode\",{parentName:\"p\"},`meshGateway.wanAddress.static`),`.`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"port-3\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-meshgateway-wanaddress-port\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-meshgateway-wanaddress-port\",\"aria-label\":\"port permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`port`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`integer: 443`),`) - Port that gets registered for WAN traffic.\nIf source is set to \"Service\" then this setting will have no effect.\nRefer to the documentation for source as to which port will be used in that\ncase.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"static-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-meshgateway-wanaddress-static\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-meshgateway-wanaddress-static\",\"aria-label\":\"static permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`static`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: \"\"`),`) - If source is set to \"Static\" then this value will be used as the WAN\naddress of the mesh gateways. This is useful if you've configured a\nDNS entry to point to your mesh gateways.`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"service-5\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-meshgateway-service\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-meshgateway-service\",\"aria-label\":\"service permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`service`)),` - The service option configures the Service that fronts the Gateway Deployment.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"type-6\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-meshgateway-service-type\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-meshgateway-service-type\",\"aria-label\":\"type permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`type`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: LoadBalancer`),`) - Type of service, ex. LoadBalancer, ClusterIP.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"port-4\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-meshgateway-service-port\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-meshgateway-service-port\",\"aria-label\":\"port permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`port`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`integer: 443`),`) - Port that the service will be exposed on.\nThe targetPort will be set to meshGateway.containerPort.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"nodeport-2\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-meshgateway-service-nodeport\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-meshgateway-service-nodeport\",\"aria-label\":\"nodeport permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`nodePort`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`integer: null`),`) - Optionally set the nodePort value of the service if using a NodePort service.\nIf not set and using a NodePort service, Kubernetes will automatically assign\na port.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"annotations-16\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-meshgateway-service-annotations\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-meshgateway-service-annotations\",\"aria-label\":\"annotations permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`annotations`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - Annotations to apply to the mesh gateway service.`),mdx(\"p\",{parentName:\"li\"},`Example:`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`annotations`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` |`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  'annotation-key': annotation-value`)),`\n`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"additionalspec-2\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-meshgateway-service-additionalspec\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-meshgateway-service-additionalspec\",\"aria-label\":\"additionalspec permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`additionalSpec`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - Optional YAML string that will be appended to the Service spec.`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"hostnetwork-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-meshgateway-hostnetwork\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-meshgateway-hostnetwork\",\"aria-label\":\"hostnetwork permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`hostNetwork`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: false`),`) - If set to true, gateway Pods will run on the host network.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"dnspolicy-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-meshgateway-dnspolicy\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-meshgateway-dnspolicy\",\"aria-label\":\"dnspolicy permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`dnsPolicy`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - dnsPolicy to use.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"consulservicename\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-meshgateway-consulservicename\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-meshgateway-consulservicename\",\"aria-label\":\"consulservicename permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`consulServiceName`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: mesh-gateway`),`) - Consul service name for the mesh gateways.\nCannot be set to anything other than \"mesh-gateway\" if\nglobal.acls.manageSystemACLs is true since the ACL token\ngenerated is only for the name 'mesh-gateway'.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"containerport\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-meshgateway-containerport\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-meshgateway-containerport\",\"aria-label\":\"containerport permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`containerPort`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`integer: 8443`),`) - Port that the gateway will run on inside the container.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"hostport\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-meshgateway-hostport\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-meshgateway-hostport\",\"aria-label\":\"hostport permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`hostPort`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`integer: null`),`) - Optional hostPort for the gateway to be exposed on.\nThis can be used with wanAddress.port and wanAddress.useNodeIP\nto expose the gateways directly from the node.\nIf hostNetwork is true, this must be null or set to the same port as\ncontainerPort.\nNOTE: Cannot set to 8500 or 8502 because those are reserved for the Consul\nagent.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"serviceaccount-5\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-meshgateway-serviceaccount\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-meshgateway-serviceaccount\",\"aria-label\":\"serviceaccount permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`serviceAccount`)),``),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"annotations-17\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-meshgateway-serviceaccount-annotations\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-meshgateway-serviceaccount-annotations\",\"aria-label\":\"annotations permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`annotations`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - This value defines additional annotations for the mesh gateways' service account. This should be formatted as a\nmulti-line string.`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`annotations`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` |`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  \"sample/annotation1\": \"foo\"`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  \"sample/annotation2\": \"bar\"`)),`\n`))))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"resources-10\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-meshgateway-resources\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-meshgateway-resources\",\"aria-label\":\"resources permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`resources`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`map`),`) - The resource settings for mesh gateway pods.\nNOTE: The use of a YAML string is deprecated. Instead, set directly as a\nYAML map.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"initserviceinitcontainer\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-meshgateway-initserviceinitcontainer\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-meshgateway-initserviceinitcontainer\",\"aria-label\":\"initserviceinitcontainer permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`initServiceInitContainer`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`map`),`) - The resource settings for the `,mdx(\"inlineCode\",{parentName:\"p\"},`service-init`),` init container.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"affinity-4\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-meshgateway-affinity\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-meshgateway-affinity\",\"aria-label\":\"affinity permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`affinity`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - This value defines the `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#affinity-and-anti-affinity\"},`affinity`),`\nfor mesh gateway pods. It defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`null`),` thereby allowing multiple gateway pods on each node. But if one would prefer\na mode which minimizes risk of the cluster becoming unusable if a node is lost, set this value\nto the value in the example below.`),mdx(\"p\",{parentName:\"li\"},`Example:`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` affinity`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` |`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`   podAntiAffinity:`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`     requiredDuringSchedulingIgnoredDuringExecution:`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`       - labelSelector:`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`           matchLabels:`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`             app: {{ template \"consul.name\" . }}`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`             release: \"{{ .Release.Name }}\"`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`             component: mesh-gateway`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`         topologyKey: kubernetes.io/hostname`)),`\n`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"tolerations-6\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-meshgateway-tolerations\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-meshgateway-tolerations\",\"aria-label\":\"tolerations permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`tolerations`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - Optional YAML string to specify tolerations.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"topologyspreadconstraints-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-meshgateway-topologyspreadconstraints\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-meshgateway-topologyspreadconstraints\",\"aria-label\":\"topologyspreadconstraints permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`topologySpreadConstraints`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: \"\"`),`) - Pod topology spread constraints for mesh gateway pods.\nThis should be a multi-line YAML string matching the\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"https://kubernetes.io/docs/concepts/workloads/pods/pod-topology-spread-constraints/\"},mdx(\"inlineCode\",{parentName:\"a\"},`topologySpreadConstraints`)),`\narray in a Pod Spec.`),mdx(\"p\",{parentName:\"li\"},`This requires K8S \u003e= 1.18 (beta) or 1.19 (stable).`),mdx(\"p\",{parentName:\"li\"},`Example:`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`topologySpreadConstraints`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` |`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  - maxSkew: 1`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`    topologyKey: topology.kubernetes.io/zone`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`    whenUnsatisfiable: DoNotSchedule`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`    labelSelector:`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`      matchLabels:`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`        app: {{ template \"consul.name\" . }}`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`        release: \"{{ .Release.Name }}\"`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`        component: mesh-gateway`)),`\n`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"nodeselector-6\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-meshgateway-nodeselector\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-meshgateway-nodeselector\",\"aria-label\":\"nodeselector permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`nodeSelector`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - Optional YAML string to specify a nodeSelector config.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"priorityclassname-4\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-meshgateway-priorityclassname\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-meshgateway-priorityclassname\",\"aria-label\":\"priorityclassname permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`priorityClassName`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: \"\"`),`) - Optional priorityClassName.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"annotations-18\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-meshgateway-annotations\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-meshgateway-annotations\",\"aria-label\":\"annotations permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`annotations`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - Annotations to apply to the mesh gateway deployment.`),mdx(\"p\",{parentName:\"li\"},`Example:`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`annotations`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` |`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  'annotation-key': annotation-value`)),`\n`)))))),mdx(\"h3\",{\"id\":\"ingressgateways\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#h-ingressgateways\",\"aria-label\":\"ingressgateways permalink\"},`\\xbb`),mdx(\"a\",{parentName:\"h3\",\"className\":\"__target-h __compat\",\"id\":\"h-ingressgateways\",\"aria-hidden\":\"true\"}),`ingressGateways`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"ingressgateways-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-ingressgateways\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-ingressgateways\",\"aria-label\":\"ingressgateways permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`ingressGateways`)),` - Configuration options for ingress gateways. Default values for all\ningress gateways are defined in `,mdx(\"inlineCode\",{parentName:\"p\"},`ingressGateways.defaults`),`. Any of\nthese values may be overridden in `,mdx(\"inlineCode\",{parentName:\"p\"},`ingressGateways.gateways`),` for a\nspecific gateway with the exception of annotations. Annotations will\ninclude both the default annotations and any additional ones defined\nfor a specific gateway.\nRequirements: consul \u003e= 1.8.0`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enabled-32\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-ingressgateways-enabled\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-ingressgateways-enabled\",\"aria-label\":\"enabled permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enabled`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: false`),`) - Enable ingress gateway deployment. Requires `,mdx(\"inlineCode\",{parentName:\"p\"},`connectInject.enabled=true`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"loglevel-11\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-ingressgateways-loglevel\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-ingressgateways-loglevel\",\"aria-label\":\"loglevel permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`logLevel`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: \"\"`),`) - Override global log verbosity level for ingress-gateways-deployment pods. One of \"trace\", \"debug\", \"info\", \"warn\", or \"error\".`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"defaults\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-ingressgateways-defaults\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-ingressgateways-defaults\",\"aria-label\":\"defaults permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`defaults`)),` - Defaults sets default values for all gateway fields. With the exception\nof annotations, defining any of these values in the `,mdx(\"inlineCode\",{parentName:\"p\"},`gateways`),` list\nwill override the default values provided here. Annotations will\ninclude both the default annotations and any additional ones defined\nfor a specific gateway.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"replicas-3\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-ingressgateways-defaults-replicas\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-ingressgateways-defaults-replicas\",\"aria-label\":\"replicas permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`replicas`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`integer: 1`),`) - Number of replicas for each ingress gateway defined.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"service-6\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-ingressgateways-defaults-service\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-ingressgateways-defaults-service\",\"aria-label\":\"service permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`service`)),` - The service options configure the Service that fronts the gateway Deployment.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"type-7\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-ingressgateways-defaults-service-type\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-ingressgateways-defaults-service-type\",\"aria-label\":\"type permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`type`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: ClusterIP`),`) - Type of service: LoadBalancer, ClusterIP or NodePort. If using NodePort service\ntype, you must set the desired nodePorts in the `,mdx(\"inlineCode\",{parentName:\"p\"},`ports`),` setting below.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"ports-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-ingressgateways-defaults-service-ports\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-ingressgateways-defaults-service-ports\",\"aria-label\":\"ports permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`ports`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`array\u003cmap\u003e: [{port: 8080, port: 8443}]`),`) - Ports that will be exposed on the service and gateway container. Any\nports defined as ingress listeners on the gateway's Consul configuration\nentry should be included here. The first port will be used as part of\nthe Consul service registration for the gateway and be listed in its\nSRV record. If using a NodePort service type, you must specify the\ndesired nodePort for each exposed port.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"annotations-19\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-ingressgateways-defaults-service-annotations\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-ingressgateways-defaults-service-annotations\",\"aria-label\":\"annotations permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`annotations`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - Annotations to apply to the ingress gateway service. Annotations defined\nhere will be applied to all ingress gateway services in addition to any\nservice annotations defined for a specific gateway in `,mdx(\"inlineCode\",{parentName:\"p\"},`ingressGateways.gateways`),`.`),mdx(\"p\",{parentName:\"li\"},`Example:`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`annotations`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` |`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  'annotation-key': annotation-value`)),`\n`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"additionalspec-3\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-ingressgateways-defaults-service-additionalspec\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-ingressgateways-defaults-service-additionalspec\",\"aria-label\":\"additionalspec permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`additionalSpec`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - Optional YAML string that will be appended to the Service spec.`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"serviceaccount-6\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-ingressgateways-defaults-serviceaccount\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-ingressgateways-defaults-serviceaccount\",\"aria-label\":\"serviceaccount permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`serviceAccount`)),``),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"annotations-20\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-ingressgateways-defaults-serviceaccount-annotations\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-ingressgateways-defaults-serviceaccount-annotations\",\"aria-label\":\"annotations permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`annotations`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - This value defines additional annotations for the ingress gateways' service account. This should be formatted\nas a multi-line string.`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`annotations`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` |`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  \"sample/annotation1\": \"foo\"`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  \"sample/annotation2\": \"bar\"`)),`\n`))))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"resources-11\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-ingressgateways-defaults-resources\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-ingressgateways-defaults-resources\",\"aria-label\":\"resources permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`resources`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`map`),`) - Resource limits for all ingress gateway pods`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"affinity-5\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-ingressgateways-defaults-affinity\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-ingressgateways-defaults-affinity\",\"aria-label\":\"affinity permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`affinity`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - This value defines the `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#affinity-and-anti-affinity\"},`affinity`),`\nfor ingress gateway pods. It defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`null`),` thereby allowing multiple gateway pods on each node. But if one would prefer\na mode which minimizes risk of the cluster becoming unusable if a node is lost, set this value\nto the value in the example below.`),mdx(\"p\",{parentName:\"li\"},`Example:`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` affinity`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` |`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`   podAntiAffinity:`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`     requiredDuringSchedulingIgnoredDuringExecution:`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`       - labelSelector:`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`           matchLabels:`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`             app: {{ template \"consul.name\" . }}`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`             release: \"{{ .Release.Name }}\"`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`             component: ingress-gateway`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`         topologyKey: kubernetes.io/hostname`)),`\n`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"tolerations-7\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-ingressgateways-defaults-tolerations\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-ingressgateways-defaults-tolerations\",\"aria-label\":\"tolerations permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`tolerations`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - Optional YAML string to specify tolerations.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"topologyspreadconstraints-2\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-ingressgateways-defaults-topologyspreadconstraints\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-ingressgateways-defaults-topologyspreadconstraints\",\"aria-label\":\"topologyspreadconstraints permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`topologySpreadConstraints`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: \"\"`),`) - Pod topology spread constraints for ingress gateway pods.\nThis should be a multi-line YAML string matching the\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"https://kubernetes.io/docs/concepts/workloads/pods/pod-topology-spread-constraints/\"},mdx(\"inlineCode\",{parentName:\"a\"},`topologySpreadConstraints`)),`\narray in a Pod Spec.`),mdx(\"p\",{parentName:\"li\"},`This requires K8S \u003e= 1.18 (beta) or 1.19 (stable).`),mdx(\"p\",{parentName:\"li\"},`Example:`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`topologySpreadConstraints`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` |`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  - maxSkew: 1`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`    topologyKey: topology.kubernetes.io/zone`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`    whenUnsatisfiable: DoNotSchedule`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`    labelSelector:`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`      matchLabels:`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`        app: {{ template \"consul.name\" . }}`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`        release: \"{{ .Release.Name }}\"`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`        component: ingress-gateway`)),`\n`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"nodeselector-7\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-ingressgateways-defaults-nodeselector\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-ingressgateways-defaults-nodeselector\",\"aria-label\":\"nodeselector permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`nodeSelector`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - Optional YAML string to specify a nodeSelector config.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"priorityclassname-5\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-ingressgateways-defaults-priorityclassname\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-ingressgateways-defaults-priorityclassname\",\"aria-label\":\"priorityclassname permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`priorityClassName`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: \"\"`),`) - Optional priorityClassName.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"terminationgraceperiodseconds\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-ingressgateways-defaults-terminationgraceperiodseconds\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-ingressgateways-defaults-terminationgraceperiodseconds\",\"aria-label\":\"terminationgraceperiodseconds permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`terminationGracePeriodSeconds`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`integer: 10`),`) - Amount of seconds to wait for graceful termination before killing the pod.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"annotations-21\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-ingressgateways-defaults-annotations\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-ingressgateways-defaults-annotations\",\"aria-label\":\"annotations permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`annotations`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - Annotations to apply to the ingress gateway deployment. Annotations defined\nhere will be applied to all ingress gateway deployments in addition to any\nannotations defined for a specific gateway in `,mdx(\"inlineCode\",{parentName:\"p\"},`ingressGateways.gateways`),`.`),mdx(\"p\",{parentName:\"li\"},`Example:`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`annotations`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` |`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  \"annotation-key\": 'annotation-value'`)),`\n`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"consulnamespace\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-ingressgateways-defaults-consulnamespace\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-ingressgateways-defaults-consulnamespace\",\"aria-label\":\"consulnamespace permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`consulNamespace`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: default`),`) - `,mdx(EnterpriseAlert,{inline:true,mdxType:\"EnterpriseAlert\"}),` `,mdx(\"inlineCode\",{parentName:\"p\"},`consulNamespace`),` defines the Consul namespace to register\nthe gateway into. Requires `,mdx(\"inlineCode\",{parentName:\"p\"},`global.enableConsulNamespaces`),` to be true and\nConsul Enterprise v1.7+ with a valid Consul Enterprise license.\nNote: The Consul namespace MUST exist before the gateway is deployed.`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"gateways\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-ingressgateways-gateways\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-ingressgateways-gateways\",\"aria-label\":\"gateways permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`gateways`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`array\u003cmap\u003e`),`) - Gateways is a list of gateway objects. The only required field for\neach is `,mdx(\"inlineCode\",{parentName:\"p\"},`name`),`, though they can also contain any of the fields in\n`,mdx(\"inlineCode\",{parentName:\"p\"},`defaults`),`. You must provide a unique name for each ingress gateway. These names\nmust be unique across different namespaces.\nValues defined here override the defaults, except in the case of annotations where both will be applied.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"name-5\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-ingressgateways-gateways-name\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#v-ingressgateways-gateways-name\",\"aria-label\":\"name permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`name`)),` (`,mdx(\"inlineCode\",{parentName:\"li\"},`string: ingress-gateway`),`)`)))))),mdx(\"h3\",{\"id\":\"terminatinggateways\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#h-terminatinggateways\",\"aria-label\":\"terminatinggateways permalink\"},`\\xbb`),mdx(\"a\",{parentName:\"h3\",\"className\":\"__target-h __compat\",\"id\":\"h-terminatinggateways\",\"aria-hidden\":\"true\"}),`terminatingGateways`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"terminatinggateways-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-terminatinggateways\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-terminatinggateways\",\"aria-label\":\"terminatinggateways permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`terminatingGateways`)),` - Configuration options for terminating gateways. Default values for all\nterminating gateways are defined in `,mdx(\"inlineCode\",{parentName:\"p\"},`terminatingGateways.defaults`),`. Any of\nthese values may be overridden in `,mdx(\"inlineCode\",{parentName:\"p\"},`terminatingGateways.gateways`),` for a\nspecific gateway with the exception of annotations. Annotations will\ninclude both the default annotations and any additional ones defined\nfor a specific gateway.\nRequirements: consul \u003e= 1.8.0`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enabled-33\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-terminatinggateways-enabled\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-terminatinggateways-enabled\",\"aria-label\":\"enabled permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enabled`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: false`),`) - Enable terminating gateway deployment. Requires `,mdx(\"inlineCode\",{parentName:\"p\"},`connectInject.enabled=true`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"loglevel-12\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-terminatinggateways-loglevel\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-terminatinggateways-loglevel\",\"aria-label\":\"loglevel permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`logLevel`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: \"\"`),`) - Override global log verbosity level. One of \"trace\", \"debug\", \"info\", \"warn\", or \"error\".`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"defaults-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-terminatinggateways-defaults\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-terminatinggateways-defaults\",\"aria-label\":\"defaults permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`defaults`)),` - Defaults sets default values for all gateway fields. With the exception\nof annotations, defining any of these values in the `,mdx(\"inlineCode\",{parentName:\"p\"},`gateways`),` list\nwill override the default values provided here. Annotations will\ninclude both the default annotations and any additional ones defined\nfor a specific gateway.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"replicas-4\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-terminatinggateways-defaults-replicas\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-terminatinggateways-defaults-replicas\",\"aria-label\":\"replicas permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`replicas`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`integer: 1`),`) - Number of replicas for each terminating gateway defined.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"extravolumes-2\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-terminatinggateways-defaults-extravolumes\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-terminatinggateways-defaults-extravolumes\",\"aria-label\":\"extravolumes permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`extraVolumes`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`array\u003cmap\u003e`),`) - A list of extra volumes to mount. These will be exposed to Consul in the path `,mdx(\"inlineCode\",{parentName:\"p\"},`/consul/userconfig/\u003cname\u003e/`),`.`),mdx(\"p\",{parentName:\"li\"},`Example:`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`extraVolumes`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`  - `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`type`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` secret`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`    name`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` my-secret`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`    items`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-comment)\"}},` # optional items array`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-token)\"}},`      - `),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`key`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` key`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`        path`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` path`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-comment)\"}},` # secret will now mount to /consul/userconfig/my-secret/path`)),`\n`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"resources-12\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-terminatinggateways-defaults-resources\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-terminatinggateways-defaults-resources\",\"aria-label\":\"resources permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`resources`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`map`),`) - Resource limits for all terminating gateway pods`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"affinity-6\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-terminatinggateways-defaults-affinity\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-terminatinggateways-defaults-affinity\",\"aria-label\":\"affinity permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`affinity`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - This value defines the `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#affinity-and-anti-affinity\"},`affinity`),`\nfor terminating gateway pods. It defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`null`),` thereby allowing multiple gateway pods on each node. But if one would prefer\na mode which minimizes risk of the cluster becoming unusable if a node is lost, set this value\nto the value in the example below.`),mdx(\"p\",{parentName:\"li\"},`Example:`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` affinity`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` |`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`   podAntiAffinity:`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`     requiredDuringSchedulingIgnoredDuringExecution:`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`       - labelSelector:`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`           matchLabels:`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`             app: {{ template \"consul.name\" . }}`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`             release: \"{{ .Release.Name }}\"`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`             component: terminating-gateway`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`         topologyKey: kubernetes.io/hostname`)),`\n`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"tolerations-8\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-terminatinggateways-defaults-tolerations\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-terminatinggateways-defaults-tolerations\",\"aria-label\":\"tolerations permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`tolerations`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - Optional YAML string to specify tolerations.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"topologyspreadconstraints-3\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-terminatinggateways-defaults-topologyspreadconstraints\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-terminatinggateways-defaults-topologyspreadconstraints\",\"aria-label\":\"topologyspreadconstraints permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`topologySpreadConstraints`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: \"\"`),`) - Pod topology spread constraints for terminating gateway pods.\nThis should be a multi-line YAML string matching the\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"https://kubernetes.io/docs/concepts/workloads/pods/pod-topology-spread-constraints/\"},mdx(\"inlineCode\",{parentName:\"a\"},`topologySpreadConstraints`)),`\narray in a Pod Spec.`),mdx(\"p\",{parentName:\"li\"},`This requires K8S \u003e= 1.18 (beta) or 1.19 (stable).`),mdx(\"p\",{parentName:\"li\"},`Example:`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`topologySpreadConstraints`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` |`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  - maxSkew: 1`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`    topologyKey: topology.kubernetes.io/zone`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`    whenUnsatisfiable: DoNotSchedule`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`    labelSelector:`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`      matchLabels:`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`        app: {{ template \"consul.name\" . }}`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`        release: \"{{ .Release.Name }}\"`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`        component: terminating-gateway`)),`\n`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"nodeselector-8\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-terminatinggateways-defaults-nodeselector\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-terminatinggateways-defaults-nodeselector\",\"aria-label\":\"nodeselector permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`nodeSelector`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - Optional YAML string to specify a nodeSelector config.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"priorityclassname-6\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-terminatinggateways-defaults-priorityclassname\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-terminatinggateways-defaults-priorityclassname\",\"aria-label\":\"priorityclassname permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`priorityClassName`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: \"\"`),`) - Optional priorityClassName.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"annotations-22\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-terminatinggateways-defaults-annotations\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-terminatinggateways-defaults-annotations\",\"aria-label\":\"annotations permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`annotations`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - Annotations to apply to the terminating gateway deployment. Annotations defined\nhere will be applied to all terminating gateway deployments in addition to any\nannotations defined for a specific gateway in `,mdx(\"inlineCode\",{parentName:\"p\"},`terminatingGateways.gateways`),`.`),mdx(\"p\",{parentName:\"li\"},`Example:`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`annotations`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` |`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  'annotation-key': annotation-value`)),`\n`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"serviceaccount-7\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-terminatinggateways-defaults-serviceaccount\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-terminatinggateways-defaults-serviceaccount\",\"aria-label\":\"serviceaccount permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`serviceAccount`)),``),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"annotations-23\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-terminatinggateways-defaults-serviceaccount-annotations\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-terminatinggateways-defaults-serviceaccount-annotations\",\"aria-label\":\"annotations permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`annotations`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - This value defines additional annotations for the terminating gateways' service account. This should be\nformatted as a multi-line string.`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`annotations`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` |`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  \"sample/annotation1\": \"foo\"`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  \"sample/annotation2\": \"bar\"`)),`\n`))))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"consulnamespace-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-terminatinggateways-defaults-consulnamespace\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-terminatinggateways-defaults-consulnamespace\",\"aria-label\":\"consulnamespace permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`consulNamespace`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: default`),`) - `,mdx(EnterpriseAlert,{inline:true,mdxType:\"EnterpriseAlert\"}),` `,mdx(\"inlineCode\",{parentName:\"p\"},`consulNamespace`),` defines the Consul namespace to register\nthe gateway into. Requires `,mdx(\"inlineCode\",{parentName:\"p\"},`global.enableConsulNamespaces`),` to be true and\nConsul Enterprise v1.7+ with a valid Consul Enterprise license.\nNote: The Consul namespace MUST exist before the gateway is deployed.`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"gateways-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-terminatinggateways-gateways\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-terminatinggateways-gateways\",\"aria-label\":\"gateways permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`gateways`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`array\u003cmap\u003e`),`) - Gateways is a list of gateway objects. The only required field for\neach is `,mdx(\"inlineCode\",{parentName:\"p\"},`name`),`, though they can also contain any of the fields in\n`,mdx(\"inlineCode\",{parentName:\"p\"},`defaults`),`. Values defined here override the defaults except in the\ncase of annotations where both will be applied.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"name-6\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-terminatinggateways-gateways-name\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#v-terminatinggateways-gateways-name\",\"aria-label\":\"name permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`name`)),` (`,mdx(\"inlineCode\",{parentName:\"li\"},`string: terminating-gateway`),`)`)))))),mdx(\"h3\",{\"id\":\"webhookcertmanager\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#h-webhookcertmanager\",\"aria-label\":\"webhookcertmanager permalink\"},`\\xbb`),mdx(\"a\",{parentName:\"h3\",\"className\":\"__target-h __compat\",\"id\":\"h-webhookcertmanager\",\"aria-hidden\":\"true\"}),`webhookCertManager`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"webhookcertmanager-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-webhookcertmanager\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-webhookcertmanager\",\"aria-label\":\"webhookcertmanager permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`webhookCertManager`)),` - Configuration settings for the webhook-cert-manager\n`,mdx(\"inlineCode\",{parentName:\"p\"},`webhook-cert-manager`),` ensures that cert bundles are up to date for the mutating webhook.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"tolerations-9\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-webhookcertmanager-tolerations\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-webhookcertmanager-tolerations\",\"aria-label\":\"tolerations permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`tolerations`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - Toleration Settings\nThis should be a multi-line string matching the Toleration array\nin a PodSpec.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"nodeselector-9\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-webhookcertmanager-nodeselector\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-webhookcertmanager-nodeselector\",\"aria-label\":\"nodeselector permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`nodeSelector`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - This value defines `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#nodeselector\"},mdx(\"inlineCode\",{parentName:\"a\"},`nodeSelector`)),`\nlabels for the webhook-cert-manager pod assignment, formatted as a multi-line string.`),mdx(\"p\",{parentName:\"li\"},`Example:`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`nodeSelector`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` |`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  beta.kubernetes.io/arch: amd64`)),`\n`)))))),mdx(\"h3\",{\"id\":\"prometheus\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#h-prometheus\",\"aria-label\":\"prometheus permalink\"},`\\xbb`),mdx(\"a\",{parentName:\"h3\",\"className\":\"__target-h __compat\",\"id\":\"h-prometheus\",\"aria-hidden\":\"true\"}),`prometheus`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"prometheus-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-prometheus\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-prometheus\",\"aria-label\":\"prometheus permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`prometheus`)),` - Configures a demo Prometheus installation.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enabled-34\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-prometheus-enabled\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#v-prometheus-enabled\",\"aria-label\":\"enabled permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enabled`)),` (`,mdx(\"inlineCode\",{parentName:\"li\"},`boolean: false`),`) - When true, the Helm chart will install a demo Prometheus server instance\nalongside Consul.`)))),mdx(\"h3\",{\"id\":\"tests\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#h-tests\",\"aria-label\":\"tests permalink\"},`\\xbb`),mdx(\"a\",{parentName:\"h3\",\"className\":\"__target-h __compat\",\"id\":\"h-tests\",\"aria-hidden\":\"true\"}),`tests`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"tests-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-tests\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-tests\",\"aria-label\":\"tests permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`tests`)),` - Control whether a test Pod manifest is generated when running helm template.\nWhen using helm install, the test Pod is not submitted to the cluster so this\nis only useful when running helm template.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enabled-35\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-tests-enabled\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#v-tests-enabled\",\"aria-label\":\"enabled permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enabled`)),` (`,mdx(\"inlineCode\",{parentName:\"li\"},`boolean: true`),`)`)))),mdx(\"h3\",{\"id\":\"telemetrycollector\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#h-telemetrycollector\",\"aria-label\":\"telemetrycollector permalink\"},`\\xbb`),mdx(\"a\",{parentName:\"h3\",\"className\":\"__target-h __compat\",\"id\":\"h-telemetrycollector\",\"aria-hidden\":\"true\"}),`telemetryCollector`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"telemetrycollector-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-telemetrycollector\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-telemetrycollector\",\"aria-label\":\"telemetrycollector permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`telemetryCollector`)),``),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enabled-36\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-telemetrycollector-enabled\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-telemetrycollector-enabled\",\"aria-label\":\"enabled permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enabled`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`boolean: false`),`) - Enables the consul-telemetry-collector deployment`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"loglevel-13\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-telemetrycollector-loglevel\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-telemetrycollector-loglevel\",\"aria-label\":\"loglevel permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`logLevel`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: \"\"`),`) - Override global log verbosity level. One of \"trace\", \"debug\", \"info\", \"warn\", or \"error\".`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"image-5\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-telemetrycollector-image\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-telemetrycollector-image\",\"aria-label\":\"image permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`image`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: hashicorp/consul-telemetry-collector:0.0.2`),`) - The name of the Docker image (including any tag) for the containers running\nthe consul-telemetry-collector`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"resources-13\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-telemetrycollector-resources\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-telemetrycollector-resources\",\"aria-label\":\"resources permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`resources`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`map`),`) - The resource settings for consul-telemetry-collector pods.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"replicas-5\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-telemetrycollector-replicas\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-telemetrycollector-replicas\",\"aria-label\":\"replicas permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`replicas`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`integer: 1`),`) - This value sets the number of consul-telemetry-collector replicas to deploy.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"customexporterconfig\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-telemetrycollector-customexporterconfig\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-telemetrycollector-customexporterconfig\",\"aria-label\":\"customexporterconfig permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`customExporterConfig`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - This value defines additional configuration for the telemetry collector. It should be formatted as a multi-line\njson blob string`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`customExporterConfig`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` |`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  {\"http_collector_endpoint\": \"other-otel-collector\"}`)),`\n`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"service-7\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-telemetrycollector-service\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-telemetrycollector-service\",\"aria-label\":\"service permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`service`)),``),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"annotations-24\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-telemetrycollector-service-annotations\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-telemetrycollector-service-annotations\",\"aria-label\":\"annotations permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`annotations`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - This value defines additional annotations for the telemetry-collector's service account. This should be formatted as a multi-line\nstring.`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`annotations`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` |`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  \"sample/annotation1\": \"foo\"`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  \"sample/annotation2\": \"bar\"`)),`\n`))))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"serviceaccount-8\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-telemetrycollector-serviceaccount\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-telemetrycollector-serviceaccount\",\"aria-label\":\"serviceaccount permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`serviceAccount`)),``),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"annotations-25\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-telemetrycollector-serviceaccount-annotations\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-telemetrycollector-serviceaccount-annotations\",\"aria-label\":\"annotations permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`annotations`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - This value defines additional annotations for the telemetry-collector's service account. This should be formatted\nas a multi-line string.`),mdx(\"pre\",{parentName:\"li\",\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`annotations`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},` |`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  \"sample/annotation1\": \"foo\"`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},`  \"sample/annotation2\": \"bar\"`)),`\n`))))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"initcontainer-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-telemetrycollector-initcontainer\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-telemetrycollector-initcontainer\",\"aria-label\":\"initcontainer permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`initContainer`)),``),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"resources-14\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-telemetrycollector-initcontainer-resources\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#v-telemetrycollector-initcontainer-resources\",\"aria-label\":\"resources permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`resources`)),` (`,mdx(\"inlineCode\",{parentName:\"li\"},`map`),`) - The resource settings for consul-telemetry-collector initContainer.`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"nodeselector-10\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-telemetrycollector-nodeselector\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-telemetrycollector-nodeselector\",\"aria-label\":\"nodeselector permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`nodeSelector`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: null`),`) - Optional YAML string to specify a nodeSelector config.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"priorityclassname-7\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-telemetrycollector-priorityclassname\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-telemetrycollector-priorityclassname\",\"aria-label\":\"priorityclassname permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`priorityClassName`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`string: \"\"`),`) - Optional priorityClassName.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"extraenvironmentvars-2\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"v-telemetrycollector-extraenvironmentvars\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#v-telemetrycollector-extraenvironmentvars\",\"aria-label\":\"extraenvironmentvars permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`extraEnvironmentVars`)),` (`,mdx(\"inlineCode\",{parentName:\"p\"},`map`),`) - A list of extra environment variables to set within the deployment.\nThese could be used to include proxy settings required for cloud auto-join\nfeature, in case kubernetes cluster is behind egress http proxies. Additionally,\nit could be used to configure custom consul parameters.`))))),mdx(\"h2\",{\"id\":\"helm-chart-examples\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#helm-chart-examples\",\"aria-label\":\"helm chart examples permalink\"},`\\xbb`),`Helm Chart Examples`),mdx(\"p\",null,`The below `,mdx(\"inlineCode\",{parentName:\"p\"},`values.yaml`),` results in a single server Consul cluster with a `,mdx(\"inlineCode\",{parentName:\"p\"},`LoadBalancer`),` to allow external access to the UI and API.`),mdx(\"pre\",{\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-comment)\"}},`# values.yaml`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`server`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  replicas`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},` 1`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  bootstrapExpect`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},` 1`)),`\n`,`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`ui`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  service`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`    type`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` LoadBalancer`)),`\n`)),mdx(\"p\",null,`The below `,mdx(\"inlineCode\",{parentName:\"p\"},`values.yaml`),` results in a three server Consul Enterprise cluster with 100GB of storage and automatic connect injection.`),mdx(\"p\",null,`Note, this would require a secret that contains the enterprise license key.`),mdx(\"pre\",{\"style\":{\"backgroundColor\":\"var(--hds-code-block-color-surface-primary)\",\"color\":\"var(--hds-code-block-color-token)\"},\"tabindex\":\"0\",\"language\":\"yaml\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-comment)\"}},`# values.yaml`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`global`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  image`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` 'hashicorp/consul-enterprise:1.4.2-ent'`)),`\n`,`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`server`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  replicas`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},` 3`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  bootstrapExpect`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},` 3`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  enterpriseLicense`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`    secretName`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` 'consul-license'`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`    secretKey`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` 'key'`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  storage`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-string)\"}},` 100Gi`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  connect`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},` true`)),`\n`,`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`client`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  grpc`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},` true`)),`\n`,`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`connectInject`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  enabled`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},` true`)),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"line\"},mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`  default`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-keyword)\"}},`:`),mdx(\"span\",{parentName:\"span\",\"style\":{\"color\":\"var(--hds-code-block-color-constant)\"}},` false`)),`\n`)),mdx(\"h2\",{\"id\":\"customizing-the-helm-chart\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#customizing-the-helm-chart\",\"aria-label\":\"customizing the helm chart permalink\"},`\\xbb`),`Customizing the Helm Chart`),mdx(\"p\",null,`Consul within Kubernetes is highly configurable and the Helm chart contains dozens\nof the most commonly used configuration options.\nIf you need to extend the Helm chart with additional options, we recommend using a third-party tool,\nsuch as `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://github.com/kubernetes-sigs/kustomize\"},`kustomize`),` or `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://github.com/replicatedhq/ship\"},`ship`),`.\nNote that the Helm chart heavily relies on Helm lifecycle hooks, and so features like bootstrapping ACLs or TLS\nwill not work as expected. Additionally, we can make changes to the internal implementation (e.g., renaming template files) that\nmay be backward incompatible with such customizations.`))};MDXContent.isMDXComponent=true;","scope":{"product":"consul","version":"latest"}},"product":{"name":"Consul","slug":"consul","algoliaConfig":{"indexName":"product_CONSUL","searchOnlyApiKey":"fbd5dc1f0078d41509fcc560386fd534"},"analyticsConfig":{"includedDomains":"consul.io www.consul.io","segmentWriteKey":"IyzLrqXkox5KJ8XL4fo8vTYNGfiKlTCm"},"datoToken":"88b4984480dad56295a8aadae6caad","metadata":{"title":"Consul by HashiCorp","description":"Consul is a service networking solution to automate network configurations, discover services, and enable secure connectivity across any cloud or runtime.","image":"https://www.consulproject.io/consul-public/img/og-image.png","icon":[{"href":"/consul-public/_favicon.ico"}]},"alertBannerActive":true,"alertBanner":{"tag":"HashiDays","url":"https://hashicorp.com/conferences/hashidays","text":"One conference. Three cities.","linkText":"Find a city near you","expirationDate":"2024-06-14T00:00:00-08:00"},"version":"1.11.3","subnavItems":[],"basePaths":["docs","api-docs","commands","downloads"],"rootDocsPaths":[{"iconName":"docs","name":"Documentation","path":"docs"},{"iconName":"api","name":"API","path":"api-docs"},{"iconName":"terminal-screen","name":"CLI","path":"commands"}],"currentRootDocsPath":{"iconName":"docs","name":"Documentation","path":"docs"}},"projectName":null,"versions":null},"__N_SSG":true},"page":"/consul/docs/[...page]","query":{"page":["reference","k8s","helm"]},"buildId":"DOOiXiPQSEZ8vUMVgThie","isFallback":false,"gsp":true,"scriptLoader":[]}</script><script nomodule="">window.MSInputMethodContext && document.documentMode && document.write('<script src="/ie-warning.js"><\x2fscript>');</script></body></html>