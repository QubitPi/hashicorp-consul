<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><title>Agents - Configuration File Reference | Consul | HashiCorp Developer</title><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta property="og:locale" content="en_US"/><meta property="og:type" content="website"/><meta property="article:publisher" content="https://www.facebook.com/HashiCorp/"/><meta name="twitter:site" content="@HashiCorp"/><meta name="twitter:card" content="summary_large_image"/><meta name="theme-color" content="#000"/><meta name="description" property="og:description" content="Use agent configuration files to assign attributes to agents and configure multiple agents at once. Learn about agent configuration file parameters and formatting with this reference page and sample code."/><meta name="twitter:description" content="Use agent configuration files to assign attributes to agents and configure multiple agents at once. Learn about agent configuration file parameters and formatting with this reference page and sample code."/><meta property="og:site_name" content="Agents - Configuration File Reference | Consul | HashiCorp Developer"/><meta property="og:title" content="Agents - Configuration File Reference | Consul | HashiCorp Developer"/><meta property="og:image" content="https://developer.hashicorp.com/og-image/consul.jpg"/><link rel="canonical" href="https://developer.hashicorp.com/consul/docs/agent/config/config-files"/><link rel="icon" href="/favicon.ico" sizes="any"/><link rel="icon" href="/icon.svg" type="image/svg+xml"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="google-site-verification" content="zRQZqfAsOX-ypXfU0mzAIzb5rUvj5fA4Zw2jWJRN-JI"/><meta name="zd-site-verification" content="xnvnvv1i0wl4tf0pzaymb" data-product="hcp"/><meta name="zd-site-verification" content="36fp2i1pj67d8cjtzf4fi9" data-product="terraform"/><meta name="zd-site-verification" content="nbe87kfyp1sck7b13vj1i" data-product="packer"/><meta name="zd-site-verification" content="wvsmmqa1cfb9am9zlwfj" data-product="consul"/><meta name="zd-site-verification" content="cw22oopfwr68ujj0n5pn9i" data-product="boundary"/><meta name="zd-site-verification" content="lkslvganwfgfqfwpdeicgh" data-product="vault"/><meta name="zd-site-verification" content="jl2wp2hoej9rz6c8rmqdns" data-product="nomad"/><meta name="zd-site-verification" content="2eb0cu6xceo73t0038m0tb" data-product="waypoint"/><meta name="zd-site-verification" content="n52xisxdf3higs2q9kuogd" data-product="vagrant"/><meta name="twitter:image" content="https://developer.hashicorp.com/og-image/consul.jpg"/><link rel="prefetch" href="https://www.datadoghq-browser-agent.com/datadog-rum-v4.js"/><script type="application/ld+json">[{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Developer","item":"https://developer.hashicorp.com/"},{"@type":"ListItem","position":2,"name":"Consul","item":"https://developer.hashicorp.com/consul"},{"@type":"ListItem","position":3,"name":"Documentation","item":"https://developer.hashicorp.com/consul/docs"},{"@type":"ListItem","position":4,"name":"Agent","item":"https://developer.hashicorp.com/consul/docs/agent"},{"@type":"ListItem","position":5,"name":"Configuration","item":"https://developer.hashicorp.com/consul/docs/agent/config"},{"@type":"ListItem","position":6,"name":"Configuration Reference","item":"https://developer.hashicorp.com/consul/docs/agent/config/config-files"}]}]</script><meta name="next-head-count" content="31"/><link data-next-font="" rel="preconnect" href="/" crossorigin="anonymous"/><link rel="preload" href="/_next/static/css/62f3294bfc989add.css" as="style"/><link rel="stylesheet" href="/_next/static/css/62f3294bfc989add.css" data-n-g=""/><link rel="preload" href="/_next/static/css/dcb6e784b5764eb2.css" as="style"/><link rel="stylesheet" href="/_next/static/css/dcb6e784b5764eb2.css" data-n-p=""/><link rel="preload" href="/_next/static/css/18ed324149c36ad6.css" as="style"/><link rel="stylesheet" href="/_next/static/css/18ed324149c36ad6.css" data-n-p=""/><link rel="preload" href="/_next/static/css/fc1808d4a21f9a59.css" as="style"/><link rel="stylesheet" href="/_next/static/css/fc1808d4a21f9a59.css" data-n-p=""/><link rel="preload" href="/_next/static/css/d84fe9967a765e18.css" as="style"/><link rel="stylesheet" href="/_next/static/css/d84fe9967a765e18.css" data-n-p=""/><link rel="preload" href="/_next/static/css/5fa2b4dd18e20c37.css" as="style"/><link rel="stylesheet" href="/_next/static/css/5fa2b4dd18e20c37.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js"></script><script src="/_next/static/chunks/webpack-f861fd4ab584f5dc.js" defer=""></script><script src="/_next/static/chunks/framework-56eb74ff06128874.js" defer=""></script><script src="/_next/static/chunks/main-0785f91db64576b8.js" defer=""></script><script src="/_next/static/chunks/pages/_app-49535d849d7ff472.js" defer=""></script><script src="/_next/static/chunks/832-1733acefac904547.js" defer=""></script><script src="/_next/static/chunks/1122-3f2be94f653ef8d7.js" defer=""></script><script src="/_next/static/chunks/5973-f4f8c1167cd72fd3.js" defer=""></script><script src="/_next/static/chunks/1306-699e21fe04afb846.js" defer=""></script><script src="/_next/static/chunks/5888-731e387770363bca.js" defer=""></script><script src="/_next/static/chunks/6010-8790d8642bb38cba.js" defer=""></script><script src="/_next/static/chunks/7963-cdf3ff11e5b4f7ec.js" defer=""></script><script src="/_next/static/chunks/9325-e0903af1b37d2118.js" defer=""></script><script src="/_next/static/chunks/2291-52f1771184c676af.js" defer=""></script><script src="/_next/static/chunks/1825-58a66b9e99dc9bcd.js" defer=""></script><script src="/_next/static/chunks/7775-e851d12df43ee2d5.js" defer=""></script><script src="/_next/static/chunks/6075-8fa8c2611ee20dbb.js" defer=""></script><script src="/_next/static/chunks/7709-8138af14dcab3e76.js" defer=""></script><script src="/_next/static/chunks/pages/consul/docs/%5B...page%5D-8d1a4f03ffbee897.js" defer=""></script><script src="/_next/static/f5wdX0EOZ27fkDNaP1WJh/_buildManifest.js" defer=""></script><script src="/_next/static/f5wdX0EOZ27fkDNaP1WJh/_ssgManifest.js" defer=""></script></head><body><script>!function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t,e){var n=document.createElement("script");n.type="text/javascript";n.async=!0;n.src="https://artemis.hashicorp.com/script/"+t;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(n,a);analytics._loadOptions=e};analytics._cdn="https://artemis.hashicorp.com";analytics.SNIPPET_VERSION="4.1.0";}}();</script><div id="__next"><div class="style_root__dZhZu style_vagrant__u39kD style_isShown__D4mb6"><a href="https://www.hashicorp.com/blog/hashicorp-joins-ibm" class="style_linkElem__hCESK"><span class="style_textContainer__6CuI7 g-grid-container"><span class="style_tag__jbHGz g-type-body-small-x-strong">News<!-- --> </span><span class="style_text__rwS0u g-type-body-small">HashiCorp to join IBM to accelerate multi-cloud automation.<span class="style_linkText__E8GJf g-type-body-small-x-strong"> <!-- -->Read the blog â†’</span></span></span></a><button class="style_closeButton__57J9w"><div><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 20 20"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M15 5 5 15M5 5l10 10"/></svg></div><span style="position:absolute;border:0;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;word-wrap:normal">Dismiss alert</span></button></div><script type="text/javascript">
(function checkDismissAlertBanner() {
  try {
    if (document.cookie.includes('banner_hashicorp-to-join-ibm-to-accelerate-multi-cloud-automation.=1')) {
      const element = document.querySelector('.style_root__dZhZu')
      element.classList.remove('style_isShown__D4mb6')
    }
  } catch (_) {
    // do nothing
  }
})()
</script><script>!function(){try{var d=document.documentElement,n='data-theme',s='setAttribute';var e=localStorage.getItem('theme');if('system'===e||(!e&&true)){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){d.style.colorScheme = 'dark';d[s](n,'dark')}else{d.style.colorScheme = 'light';d[s](n,'light')}}else if(e){d[s](n,e|| '')}if(e==='light'||e==='dark')d.style.colorScheme=e}catch(e){}}()</script><div class="core-dev-dot-layout_root__MT1PZ"><div class="base-layout_root___qiZs" data-layout="base-new"><div class="base-layout_header__XhkxS"><header class="navigation-header_root__oE_HT"><div class="navigation-header_leftSide__V0xlc"><div class="product-page-content_productsDropdown__haUyw"><div class="dropdown-menu_root__Hwy5S"><div class="dropdown-menu_activatorWrapper__LxPRt"><button aria-controls="navigation-header-menu-react-aria-1" aria-expanded="false" aria-label="Main menu" class="dropdown-menu_activator__xXb00 g-focus-ring-from-box-shadow-dark product-page-content_productsDropdownButton__bnKKs" data-heap-track="navigation-header-dropdown-menu-activator"><span class="dropdown-menu_activatorLeadingIcon__YQQlH"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" aria-hidden="true" class="product-page-content_productsDropdownIcon__gXtly"><g fill="currentColor"><path d="M10.336 1.5L2 6.268v11.456l3.131 1.793V8.061l5.205-2.979V1.5z"></path><path d="M13.664 1.5v9.123h-3.328V7.219L7.203 9.012V20.7l3.133 1.796V13.4h3.328v3.381l3.131-1.793V3.293L13.664 1.5z"></path><path d="M22 17.732L13.664 22.5v-3.582l5.203-2.98V4.484L22 6.276v11.456z"></path></g></svg></span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="dropdown-menu_activatorTrailingIcon__r_cCd"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></button></div><div class="dropdown-menu_dropdownContainer__AZWxN product-page-content_productsDropdownPane__bcdWz" id="navigation-header-menu-react-aria-1" style="display:none"><ul class="dropdown-menu_itemGroup__GEq4r"><li><a class="dropdown-menu_itemLink__92M_R g-focus-ring-from-box-shadow" data-heap-track="navigation-header-dropdown-menu-link" aria-describedby="" href="/"><div class="dropdown-menu_itemLinkContent__PATCl"><div class="dropdown-menu_leftAlignedItemLinkContent__d9pe_"><span class="dropdown-menu_leftAlignedItemLinkContentIcon__Im2L5"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path d="M7.846 2.574a.25.25 0 01.308 0l5.25 4.12a.25.25 0 01.096.196v7.36a.75.75 0 001.5 0V6.89a1.75 1.75 0 00-.67-1.377L9.08 1.394a1.75 1.75 0 00-2.16 0l-5.25 4.12A1.75 1.75 0 001 6.89v7.36a.75.75 0 001.5 0V6.89a.25.25 0 01.096-.196l5.25-4.12z"></path><path d="M6.5 14.25V10.5h3v3.75a.75.75 0 001.5 0v-4C11 9.56 10.44 9 9.75 9h-3.5C5.56 9 5 9.56 5 10.25v4a.75.75 0 001.5 0z"></path></g></svg></span><span class="text_root__r0DFB hds-typography-body-100 hds-font-weight-regular dropdown-menu_itemText__Ba9wg">HashiCorp Developer</span></div></div></a></li></ul><hr class="dropdown-menu_itemGroupDivider__X38aR"/><ul class="dropdown-menu_itemGroup__GEq4r"><li><a class="dropdown-menu_itemLink__92M_R g-focus-ring-from-box-shadow" data-heap-track="navigation-header-dropdown-menu-link" aria-describedby="" href="/hcp"><div class="dropdown-menu_itemLinkContent__PATCl"><div class="dropdown-menu_leftAlignedItemLinkContent__d9pe_"><span class="dropdown-menu_leftAlignedItemLinkContentIcon__Im2L5"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path d="M6.835.6L1 3.96v8.074l2.192 1.264V5.224l3.643-2.1V.6z"></path><path d="M9.165.6v6.43h-2.33v-2.4L4.642 5.894v8.237l2.193 1.266v-6.41h2.33v2.383l2.192-1.264V1.864L9.165.6z"></path><path d="M15 12.04L9.165 15.4v-2.525l3.642-2.1V2.703L15 3.966v8.073z"></path></g></svg></span><span class="text_root__r0DFB hds-typography-body-100 hds-font-weight-regular dropdown-menu_itemText__Ba9wg">HashiCorp Cloud Platform</span></div></div></a></li><li><a class="dropdown-menu_itemLink__92M_R g-focus-ring-from-box-shadow" data-heap-track="navigation-header-dropdown-menu-link" aria-describedby="" href="/terraform"><div class="dropdown-menu_itemLinkContent__PATCl"><div class="dropdown-menu_leftAlignedItemLinkContent__d9pe_"><span class="dropdown-menu_leftAlignedItemLinkContentIcon__Im2L5"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="var(--token-color-terraform-brand)"><path d="M1 0v5.05l4.349 2.527V2.526L1 0zM10.175 5.344l-4.35-2.525v5.05l4.35 2.527V5.344zM10.651 10.396V5.344L15 2.819v5.05l-4.349 2.527zM10.174 16l-4.349-2.526v-5.05l4.349 2.525V16z"></path></g></svg></span><span class="text_root__r0DFB hds-typography-body-100 hds-font-weight-regular dropdown-menu_itemText__Ba9wg">Terraform</span></div></div></a></li><li><a class="dropdown-menu_itemLink__92M_R g-focus-ring-from-box-shadow" data-heap-track="navigation-header-dropdown-menu-link" aria-describedby="" href="/packer"><div class="dropdown-menu_itemLinkContent__PATCl"><div class="dropdown-menu_leftAlignedItemLinkContent__d9pe_"><span class="dropdown-menu_leftAlignedItemLinkContentIcon__Im2L5"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="var(--token-color-packer-brand)"><path d="M5.163 0l5.762 3.247c1.138.646 2.074 2.085 2.075 3.2v4.963c0 1.123-.933 1.502-2.074.858L9.083 11.23V4.469l-3.92-2.216V0z"></path><path d="M8.3 4.953L3 1.956v11.047L8.3 16V4.953z"></path></g></svg></span><span class="text_root__r0DFB hds-typography-body-100 hds-font-weight-regular dropdown-menu_itemText__Ba9wg">Packer</span></div></div></a></li><li><a class="dropdown-menu_itemLink__92M_R g-focus-ring-from-box-shadow" data-heap-track="navigation-header-dropdown-menu-link" aria-describedby="" href="/consul"><div class="dropdown-menu_itemLinkContent__PATCl"><div class="dropdown-menu_leftAlignedItemLinkContent__d9pe_"><span class="dropdown-menu_leftAlignedItemLinkContentIcon__Im2L5"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="var(--token-color-consul-brand)"><path d="M4.737 14.193A7 7 0 008.006 15a6.98 6.98 0 004.735-1.847l-1.66-1.737a4.6 4.6 0 110-6.828l1.66-1.738a7 7 0 10-8.004 11.343zM13.32 11.402a.573.573 0 10.637-.953.573.573 0 00-.637.953z"></path><path d="M7.96 9.517a1.517 1.517 0 11-.012-3.034 1.517 1.517 0 01.013 3.034zM13.978 9.447a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 9.472a.574.574 0 110-1.148.574.574 0 010 1.148zM13.978 7.514a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 7.675a.574.574 0 110-1.148.574.574 0 010 1.148zM13.353 5.585a.574.574 0 10.635-.956.574.574 0 00-.635.956z"></path></g></svg></span><span class="text_root__r0DFB hds-typography-body-100 hds-font-weight-regular dropdown-menu_itemText__Ba9wg">Consul</span></div></div></a></li><li><a class="dropdown-menu_itemLink__92M_R g-focus-ring-from-box-shadow" data-heap-track="navigation-header-dropdown-menu-link" aria-describedby="" href="/vault"><div class="dropdown-menu_itemLinkContent__PATCl"><div class="dropdown-menu_leftAlignedItemLinkContent__d9pe_"><span class="dropdown-menu_leftAlignedItemLinkContentIcon__Im2L5"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="var(--token-color-vault-brand)" d="M0 0l7.971 15.516L16 0H0zm6.732 6.16h-1.27V4.89h1.27v1.27zm0-1.906h-1.27V2.985h1.27v1.269zm1.904 3.81h-1.27v-1.27h1.27v1.27zm0-1.905h-1.27V4.89h1.27v1.27zm0-1.905h-1.27V2.985h1.27v1.269zm1.894 1.905H9.26V4.89h1.27v1.27zM9.26 4.254V2.985h1.27v1.269H9.26z"></path></svg></span><span class="text_root__r0DFB hds-typography-body-100 hds-font-weight-regular dropdown-menu_itemText__Ba9wg">Vault</span></div></div></a></li><li><a class="dropdown-menu_itemLink__92M_R g-focus-ring-from-box-shadow" data-heap-track="navigation-header-dropdown-menu-link" aria-describedby="" href="/boundary"><div class="dropdown-menu_itemLinkContent__PATCl"><div class="dropdown-menu_leftAlignedItemLinkContent__d9pe_"><span class="dropdown-menu_leftAlignedItemLinkContentIcon__Im2L5"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="var(--token-color-boundary-brand)"><path d="M4.81 15v-1.085h2.25v-.67H5.968v-1.093h5.149L8.726 8l2.392-4.154H5.84v5.76H3V1h9.775l1.631 2.832L12.006 8l2.448 4.252L12.872 15H4.81z"></path><path d="M5.248 12.152h-1.09v1.092h1.09v-1.092zM3 13.907h1.09v1.092H3v-1.092z"></path></g></svg></span><span class="text_root__r0DFB hds-typography-body-100 hds-font-weight-regular dropdown-menu_itemText__Ba9wg">Boundary</span></div></div></a></li><li><a class="dropdown-menu_itemLink__92M_R g-focus-ring-from-box-shadow" data-heap-track="navigation-header-dropdown-menu-link" aria-describedby="" href="/nomad"><div class="dropdown-menu_itemLinkContent__PATCl"><div class="dropdown-menu_leftAlignedItemLinkContent__d9pe_"><span class="dropdown-menu_leftAlignedItemLinkContentIcon__Im2L5"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="var(--token-color-nomad-brand)" d="M8 0L1 4v8l7 4 7-4V4L8 0zm3.119 8.797L9.254 9.863 7.001 8.65v2.549l-2.118 1.33v-5.33l1.68-1.018 2.332 1.216V4.794l2.23-1.322-.006 5.325z"></path></svg></span><span class="text_root__r0DFB hds-typography-body-100 hds-font-weight-regular dropdown-menu_itemText__Ba9wg">Nomad</span></div></div></a></li><li><a class="dropdown-menu_itemLink__92M_R g-focus-ring-from-box-shadow" data-heap-track="navigation-header-dropdown-menu-link" aria-describedby="" href="/waypoint"><div class="dropdown-menu_itemLinkContent__PATCl"><div class="dropdown-menu_leftAlignedItemLinkContent__d9pe_"><span class="dropdown-menu_leftAlignedItemLinkContentIcon__Im2L5"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="var(--token-color-waypoint-brand)"><path d="M4 5.312h1.334L10 13.4l3.334-5.777L10.666 3H8l2.666 4.623L10 8.778 6.667 3H0l6 10.4 1.333-2.31L4 5.311zM14.002 6.463L16 3h-3.996l1.998 3.463z"></path></g></svg></span><span class="text_root__r0DFB hds-typography-body-100 hds-font-weight-regular dropdown-menu_itemText__Ba9wg">Waypoint</span></div></div></a></li><li><a class="dropdown-menu_itemLink__92M_R g-focus-ring-from-box-shadow" data-heap-track="navigation-header-dropdown-menu-link" aria-describedby="" href="/vagrant"><div class="dropdown-menu_itemLinkContent__PATCl"><div class="dropdown-menu_leftAlignedItemLinkContent__d9pe_"><span class="dropdown-menu_leftAlignedItemLinkContentIcon__Im2L5"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="#1868F2" d="M13.08.75L9.924 2.58v1.123L8 8.245 6.076 3.703V2.58L2.92.75 1 1.864v1.293l4.276 10.514L8 15.25l2.724-1.579L15 3.157V1.864L13.08.75z"></path><path fill="#0850C5" d="M15 1.865l-3.157 1.829v1.124L9.28 10.57 8 11.312v3.939l2.724-1.579L15 3.158V1.865zM6.076 3.703V2.58l-1.92 1.113v1.125l2.564 5.751L8 9.827V8.245L6.076 3.703z"></path></svg></span><span class="text_root__r0DFB hds-typography-body-100 hds-font-weight-regular dropdown-menu_itemText__Ba9wg">Vagrant</span></div></div></a></li></ul></div></div></div><div class="product-page-content_productLinkAndNav__YTzcr"><a aria-label="Consul home" class="product-icon-text-link_root__bNTSz g-focus-ring-from-box-shadow-dark" data-heap-track="navigation-header-product-logo-link" aria-describedby="" href="/consul"><div class="product-icon-text-lockup_root__358wV"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="product-icon-text-lockup_icon__Zp_5o"><g fill="var(--token-color-consul-brand)"><path d="M4.737 14.193A7 7 0 008.006 15a6.98 6.98 0 004.735-1.847l-1.66-1.737a4.6 4.6 0 110-6.828l1.66-1.738a7 7 0 10-8.004 11.343zM13.32 11.402a.573.573 0 10.637-.953.573.573 0 00-.637.953z"></path><path d="M7.96 9.517a1.517 1.517 0 11-.012-3.034 1.517 1.517 0 01.013 3.034zM13.978 9.447a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 9.472a.574.574 0 110-1.148.574.574 0 010 1.148zM13.978 7.514a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 7.675a.574.574 0 110-1.148.574.574 0 010 1.148zM13.353 5.585a.574.574 0 10.635-.956.574.574 0 00-.635.956z"></path></g></svg><span class="product-icon-text-lockup_text__nHTL7 hds-typography-body-200">Consul</span></div></a><nav class="nav-bar-list-container_nav__C_i0_"><ul class="nav-bar-list-container_ul___04HI"><li><a aria-label="Consul Install" class="primary-nav-link_root__RXZIC g-focus-ring-from-box-shadow-dark" data-heap-track="navigation-header-primary-nav-link" aria-describedby="" href="/consul/install"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__58O0C">Install</span></a></li><li><a aria-label="Consul Tutorials" class="primary-nav-link_root__RXZIC g-focus-ring-from-box-shadow-dark" data-heap-track="navigation-header-primary-nav-link" aria-describedby="" href="/consul/tutorials"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__58O0C">Tutorials</span></a></li><li><a aria-label="Consul Documentation" class="primary-nav-link_root__RXZIC g-focus-ring-from-box-shadow-dark" data-heap-track="navigation-header-primary-nav-link" aria-describedby="" href="/consul/docs"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__58O0C">Documentation</span></a></li><li><a aria-label="Consul API" class="primary-nav-link_root__RXZIC g-focus-ring-from-box-shadow-dark" data-heap-track="navigation-header-primary-nav-link" aria-describedby="" href="/consul/api-docs"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__58O0C">API</span></a></li><li><a aria-label="Consul CLI" class="primary-nav-link_root__RXZIC g-focus-ring-from-box-shadow-dark" data-heap-track="navigation-header-primary-nav-link" aria-describedby="" href="/consul/commands"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__58O0C">CLI</span></a></li><li><a aria-label="Consul Try Cloud" class="primary-nav-link_root__RXZIC g-focus-ring-from-box-shadow-dark" data-heap-track="navigation-header-primary-nav-link" aria-describedby="opens-in-new-tab-label-react-aria-18" target="_blank" href="https://portal.cloud.hashicorp.com/sign-up"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium primary-nav-link_linkText__58O0C">Try Cloud</span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path d="M9 .75A.75.75 0 019.75 0h4.5c.206 0 .393.083.529.218l.001.002.002.001A.748.748 0 0115 .75v4.5a.75.75 0 01-1.5 0V2.56L7.28 8.78a.75.75 0 01-1.06-1.06l6.22-6.22H9.75A.75.75 0 019 .75z"></path><path d="M3.25 3.5a.75.75 0 00-.75.75v7.5c0 .414.336.75.75.75h7.5a.75.75 0 00.75-.75v-4a.75.75 0 011.5 0v4A2.25 2.25 0 0110.75 14h-7.5A2.25 2.25 0 011 11.75v-7.5A2.25 2.25 0 013.25 2h4a.75.75 0 010 1.5h-4z"></path></g></svg></a><span class="g-screen-reader-only" id="opens-in-new-tab-label-react-aria-18">(opens in new tab)</span></li></ul></nav></div></div><div class="navigation-header_rightSide___Vvh_"><button aria-label="Search" class="command-bar-activator_root__qgVMy g-focus-ring-from-box-shadow-dark"><span class="command-bar-activator_left__ATQTg"><span class="command-bar-activator_leadingIcon__jECP5"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M7.25 2a5.25 5.25 0 103.144 9.455l2.326 2.325a.75.75 0 101.06-1.06l-2.325-2.326A5.25 5.25 0 007.25 2zM3.5 7.25a3.75 3.75 0 117.5 0 3.75 3.75 0 01-7.5 0z" clip-rule="evenodd"></path></svg></span><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular command-bar-activator_text__pTZN_">Search</span></span><span class="command-bar-activator_right__XejfJ"><span class="g-screen-reader-only">Command or control key</span><span aria-hidden="true" class="badge_root___Z7Nt badge_small__GI0Zk badge_filled-neutral-dark-mode__VC3Ba command-bar-activator_keyBadge__xnKpi"><div class="cmd-ctrl-icon_root___TToz"><svg xmlns="http://www.w3.org/2000/svg" width="41" height="11" fill="none" viewBox="0 0 41 11"><path fill="#fff" fill-rule="evenodd" d="M4.125 2.063V3h2.25v-.937a2.062 2.062 0 1 1 2.063 2.062H7.5v2.25h.938a2.062 2.062 0 1 1-2.063 2.063V7.5h-2.25v.938a2.062 2.062 0 1 1-2.062-2.063H3v-2.25h-.937a2.062 2.062 0 1 1 2.062-2.062m-2.062-.938a.937.937 0 1 0 0 1.875H3v-.937a.937.937 0 0 0-.937-.938M7.5 7.5v.938a.937.937 0 1 0 .938-.938zM6.375 6.375v-2.25h-2.25v2.25zM2.063 7.5H3v.938a.937.937 0 1 1-.937-.938M7.5 3h.938a.937.937 0 1 0-.938-.937z" clip-rule="evenodd"/><path fill="#fff" d="M15.09 10.5 18.085 0h-1.097L14 10.5zM26.387 5.308c-.183-1.445-1.263-2.534-3.05-2.534C21.264 2.774 20 4.247 20 6.61c0 2.41 1.27 3.89 3.344 3.89 1.76 0 2.86-1.034 3.043-2.5H25.02c-.184.808-.792 1.247-1.682 1.247-1.172 0-1.898-.994-1.898-2.637 0-1.61.72-2.583 1.898-2.583.942 0 1.518.555 1.681 1.281zM28.6 1.041v1.897h-1.133v1.178H28.6v4.281c0 1.432.622 2.007 2.186 2.007.275 0 .537-.034.766-.075V9.158c-.196.02-.32.034-.537.034-.7 0-1.008-.35-1.008-1.15V4.115h1.545V2.938h-1.545V1.041zM33.207 10.356h1.407V5.911c0-1.048.752-1.767 1.819-1.767.249 0 .667.048.785.082V2.842a3.372 3.372 0 0 0-.628-.054c-.93 0-1.721.527-1.924 1.26h-.105v-1.13h-1.354zM38.638 10.356h1.407V0h-1.407z"/></svg></div></span><span class="g-screen-reader-only">K key</span><span aria-hidden="true" class="badge_root___Z7Nt badge_small__GI0Zk badge_filled-neutral-dark-mode__VC3Ba command-bar-activator_keyBadge__xnKpi"><div class="k-icon_root__a_5pR"><svg xmlns="http://www.w3.org/2000/svg" width="8" height="10" fill="none" viewBox="0 0 8 10"><path fill="#fff" d="M1.512 9.84v-3l.986-1.147L5.445 9.84h1.704L3.46 4.745 6.857.84H5.244L1.61 5.094h-.098V.84H.15v9z"/></svg></div></span></span></button><div class="navigation-header_authenticationControls__EP1LY"><div class="disclosure_root__rcBaW dropdown-disclosure_root__pzZlN dropdown-disclosure_list-position--right__WP_Kj"><button aria-controls="disclosure-react-aria-19-content" aria-expanded="false" aria-label="User menu" class="disclosure_activator__pORI0 activator_root__pOfAQ dropdown-disclosure_activator__nGgNo navigation-header_userDropdownDisclosureActivator__RayIV g-focus-ring-from-box-shadow-dark activator_hasIcon__5HO6W g-focus-ring-from-box-shadow"><span class="activator_childrenWrapper__kaK0w"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" aria-hidden="true"><g fill="currentColor"><path fill-rule="evenodd" d="M12 3a5 5 0 100 10 5 5 0 000-10zM8.5 8a3.5 3.5 0 117 0 3.5 3.5 0 01-7 0z" clip-rule="evenodd"></path><path d="M7.75 14.5A4.75 4.75 0 003 19.25v1a.75.75 0 001.5 0v-1A3.25 3.25 0 017.75 16h8.5a3.25 3.25 0 013.25 3.25v1a.75.75 0 001.5 0v-1a4.75 4.75 0 00-4.75-4.75h-8.5z"></path></g></svg></span><span class="activator_chevronWrapper__4_AVG"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></span></button><div class="disclosure_contentContainer__QQ4kt dropdown-disclosure_content__ZZRPG undefined" id="disclosure-react-aria-19-content"><ul class="dropdown-disclosure_list__urBXU"><li class="list-item_root__ZdUej"><button class="list-item_button__nXy5K g-focus-ring-from-box-shadow"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">Sign in</span></button></li><li class="list-item_root__ZdUej"><a class="list-item_link__l6lDd g-focus-ring-from-box-shadow" aria-describedby="" href="/sign-up"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-medium">Sign up</span></a></li><li class="list-item_root__ZdUej"><hr class="list-item_separator__cBVLs"/></li><li class="list-item_root__ZdUej user-dropdown-switcher_listItem__Q_GIj hds-font-weight-medium"><label class="theme-switcher_label__7Boh2 hds-typography-body-200" for="react-aria-21">Theme</label></li></ul></div></div></div><button aria-label="Open navigation menu" class="navigation-header_mobileMenuButton__74S4w"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" aria-hidden="true"><g fill="currentColor"><path d="M2 5.75A.75.75 0 012.75 5h18.5a.75.75 0 010 1.5H2.75A.75.75 0 012 5.75zM2 11.75a.75.75 0 01.75-.75h18.5a.75.75 0 010 1.5H2.75a.75.75 0 01-.75-.75zM2.75 17a.75.75 0 000 1.5h18.5a.75.75 0 000-1.5H2.75z"></path></g></svg></button></div></header></div><div class="base-layout_contentArea__BMvQn"><div class="sidebar-sidecar-layout_root__h5rD8 sidebar-sidecar-layout_mainWidth-narrow__FhCbs"><div class="mobile-menu-container_root__fPUFu sidebar-sidecar-layout_sidebarContainer__4fcF8"><div class="sidebar-sidecar-layout_sidebarContentWrapper__ftn5q"><div class="sidebar_sidebar___fTlC"><div class="sidebar_backToLinkWrapper__F6iLs"><div class="sidebar-back-to-link_root__z_Hj1"><a class="standalone-link_standaloneLink__ahuej g-focus-ring-from-box-shadow standalone-link_primary__ESNCA" data-heap-track="standalone-link sidebar-back-to-link" aria-describedby="" href="/consul"><div class="standalone-link_standaloneLinkContents__4I2XN standalone-link_medium__J2yVM"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M10.795 3.235a.75.75 0 01-.03 1.06L6.842 8l3.923 3.705a.75.75 0 01-1.03 1.09l-4.5-4.25a.75.75 0 010-1.09l4.5-4.25a.75.75 0 011.06.03z" clip-rule="evenodd"></path></svg><span class="standalone-link_text__7GEyG">Consul Home</span></div></a></div></div><div class="sidebar_filterInputWrapper__0_l_Y"><div class="filter-input_filterInputContainer__thZt3"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="filter-input_filterIcon__UET0p filter-input_sharedIconColorAndPositioning__hXPit"><g fill="currentColor"><path d="M1 3.75A.75.75 0 011.75 3h12.5a.75.75 0 010 1.5H1.75A.75.75 0 011 3.75zM3.5 7.75A.75.75 0 014.25 7h7.5a.75.75 0 010 1.5h-7.5a.75.75 0 01-.75-.75zM6.75 11a.75.75 0 000 1.5h2.5a.75.75 0 000-1.5h-2.5z"></path></g></svg><input class="filter-input_filterInput__hga4N g-focus-ring-from-box-shadow" placeholder="Filter sidebar" autoComplete="off" autoCorrect="off" autoCapitalize="none" spellcheck="false" value=""/></div></div><nav aria-labelledby="sidebar-label" class="sidebar_nav__IworY" id="sidebar-nav"><div class="g-screen-reader-only"><h2 class="sidebar-headings_root__tGfxC" id="sidebar-label">Documentation</h2></div><ul class="sidebar_navList__4Rg4g"><li><a class="sidebar-nav-highlight-item_root___pPhp g-focus-ring-from-box-shadow sidebar-nav-highlight-item_theme-consul__NA90N" aria-describedby="" href="/consul/docs"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="sidebar-nav-highlight-item_icon__G8JxG"><g fill="var(--token-color-consul-brand)"><path d="M4.737 14.193A7 7 0 008.006 15a6.98 6.98 0 004.735-1.847l-1.66-1.737a4.6 4.6 0 110-6.828l1.66-1.738a7 7 0 10-8.004 11.343zM13.32 11.402a.573.573 0 10.637-.953.573.573 0 00-.637.953z"></path><path d="M7.96 9.517a1.517 1.517 0 11-.012-3.034 1.517 1.517 0 01.013 3.034zM13.978 9.447a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 9.472a.574.574 0 110-1.148.574.574 0 010 1.148zM13.978 7.514a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 7.675a.574.574 0 110-1.148.574.574 0 010 1.148zM13.353 5.585a.574.574 0 10.635-.956.574.574 0 00-.635.956z"></path></g></svg><span class="sidebar-nav-highlight-item_text__VORFJ hds-typography-body-200">Documentation</span></a></li><li id="sidebar-nav-item-0"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" data-heap-track="sidebar-nav-link-item" aria-describedby="" href="/consul/docs/intro"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">What is Consul?</span></a></li><li id="sidebar-nav-item-1"><button aria-controls="sidebar-nav-item-1-list" class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-1-button" data-heap-track="sidebar-nav-submenu-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Why Choose Consul?</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-7"><button aria-controls="sidebar-nav-item-7-list" class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-7-button" data-heap-track="sidebar-nav-submenu-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Core Concepts</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-10"><button aria-controls="sidebar-nav-item-10-list" class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-10-button" data-heap-track="sidebar-nav-submenu-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Get Started</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-22"><button aria-controls="sidebar-nav-item-22-list" class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-22-button" data-heap-track="sidebar-nav-submenu-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Architecture</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-36"><hr class="sidebar-horizontal-rule_root__UY7oh"/></li><li id="sidebar-nav-item-37"><button aria-controls="sidebar-nav-item-37-list" class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-37-button" data-heap-track="sidebar-nav-submenu-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Release Notes</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-75"><button aria-controls="sidebar-nav-item-75-list" class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-75-button" data-heap-track="sidebar-nav-submenu-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Upgrade</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-86"><hr class="sidebar-horizontal-rule_root__UY7oh"/></li><li id="sidebar-nav-item-87"><button aria-controls="sidebar-nav-item-87-list" class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-87-button" data-heap-track="sidebar-nav-submenu-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Services</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-104"><button aria-controls="sidebar-nav-item-104-list" class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-104-button" data-heap-track="sidebar-nav-submenu-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Service Mesh</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-244"><button aria-controls="sidebar-nav-item-244-list" class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-244-button" data-heap-track="sidebar-nav-submenu-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Dynamic App Configuration</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-250"><button aria-controls="sidebar-nav-item-250-list" class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-250-button" data-heap-track="sidebar-nav-submenu-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Security</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-283"><button aria-controls="sidebar-nav-item-283-list" aria-expanded="true" class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-283-button" data-heap-track="sidebar-nav-submenu-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Agent</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button><ul id="sidebar-nav-item-283-list"><li id="sidebar-nav-item-284"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" data-heap-track="sidebar-nav-link-item" aria-describedby="" href="/consul/docs/agent"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Overview</span></a></li><li id="sidebar-nav-item-285"><button aria-controls="sidebar-nav-item-285-list" aria-expanded="true" class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-285-button" data-heap-track="sidebar-nav-submenu-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Configuration</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button><ul id="sidebar-nav-item-285-list"><li id="sidebar-nav-item-286"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" data-heap-track="sidebar-nav-link-item" aria-describedby="" href="/consul/docs/agent/config"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">General</span></a></li><li id="sidebar-nav-item-287"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" data-heap-track="sidebar-nav-link-item" aria-describedby="" href="/consul/docs/agent/config/cli-flags"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">CLI Reference</span></a></li><li id="sidebar-nav-item-288"><a aria-current="page" class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" data-heap-track="sidebar-nav-link-item" aria-describedby="" href="/consul/docs/agent/config/config-files"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Configuration Reference</span></a></li></ul></li><li id="sidebar-nav-item-289"><button aria-controls="sidebar-nav-item-289-list" class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-289-button" data-heap-track="sidebar-nav-submenu-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Limit traffic rates</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-297"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" data-heap-track="sidebar-nav-link-item" aria-describedby="" href="/consul/docs/agent/config-entries"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Configuration Entries</span></a></li><li id="sidebar-nav-item-298"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" data-heap-track="sidebar-nav-link-item" aria-describedby="" href="/consul/docs/agent/telemetry"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Telemetry</span></a></li><li id="sidebar-nav-item-299"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" data-heap-track="sidebar-nav-link-item" aria-describedby="" href="/consul/docs/agent/sentinel"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Sentinel</span></a></li><li id="sidebar-nav-item-300"><button aria-controls="sidebar-nav-item-300-list" class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-300-button" data-heap-track="sidebar-nav-submenu-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Experimental WAL LogStore</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li></ul></li><li id="sidebar-nav-item-305"><button aria-controls="sidebar-nav-item-305-list" class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-305-button" data-heap-track="sidebar-nav-submenu-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Integrations</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-311"><button aria-controls="sidebar-nav-item-311-list" class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-311-button" data-heap-track="sidebar-nav-submenu-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Troubleshoot</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-315"><hr class="sidebar-horizontal-rule_root__UY7oh"/></li><li id="sidebar-nav-item-316"><button aria-controls="sidebar-nav-item-316-list" class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-316-button" data-heap-track="sidebar-nav-submenu-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Kubernetes</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-414"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" data-heap-track="sidebar-nav-link-item" aria-describedby="" href="/consul/docs/nomad"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Nomad</span></a></li><li id="sidebar-nav-item-415"><button aria-controls="sidebar-nav-item-415-list" class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-415-button" data-heap-track="sidebar-nav-submenu-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">AWS ECS</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-431"><button aria-controls="sidebar-nav-item-431-list" class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-431-button" data-heap-track="sidebar-nav-submenu-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">AWS Lambda</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-439"><hr class="sidebar-horizontal-rule_root__UY7oh"/></li><li id="sidebar-nav-item-440"><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" data-heap-track="sidebar-nav-link-item" aria-describedby="" href="/hcp/docs/consul"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">HCP Consul</span></a></li><li id="sidebar-nav-item-441"><button aria-controls="sidebar-nav-item-441-list" class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-441-button" data-heap-track="sidebar-nav-submenu-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Consul Enterprise</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li><li id="sidebar-nav-item-464"><hr class="sidebar-horizontal-rule_root__UY7oh"/></li><li id="sidebar-nav-item-465"><button aria-controls="sidebar-nav-item-465-list" class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" id="sidebar-nav-item-465-button" data-heap-track="sidebar-nav-submenu-button"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Network Infrastructure Automation</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M3.235 5.205a.75.75 0 011.06.03L8 9.158l3.705-3.923a.75.75 0 011.09 1.03l-4.25 4.5a.75.75 0 01-1.09 0l-4.25-4.5a.75.75 0 01.03-1.06z" clip-rule="evenodd"></path></svg></div></button></li></ul><hr class="sidebar-horizontal-rule_root__UY7oh"/><ul class="sidebar_navList__4Rg4g"><li><h3 class="sidebar-headings_root__tGfxC">Resources</h3></li><li><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" data-heap-track="sidebar-nav-link-item" aria-describedby="" href="/tutorials/library?product=consul"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Tutorial Library</span></a></li><li><a class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" data-heap-track="sidebar-nav-link-item" aria-describedby="" href="/certifications/networking-automation"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Certifications</span></a></li><li><a aria-label="Community Forum. Opens in a new tab." class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" data-heap-track="sidebar-nav-link-item" rel="noreferrer noopener" aria-describedby="opens-in-new-tab-label-react-aria-36" target="_blank" href="https://discuss.hashicorp.com/c/consul/29"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Community Forum</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path d="M9 .75A.75.75 0 019.75 0h4.5c.206 0 .393.083.529.218l.001.002.002.001A.748.748 0 0115 .75v4.5a.75.75 0 01-1.5 0V2.56L7.28 8.78a.75.75 0 01-1.06-1.06l6.22-6.22H9.75A.75.75 0 019 .75z"></path><path d="M3.25 3.5a.75.75 0 00-.75.75v7.5c0 .414.336.75.75.75h7.5a.75.75 0 00.75-.75v-4a.75.75 0 011.5 0v4A2.25 2.25 0 0110.75 14h-7.5A2.25 2.25 0 011 11.75v-7.5A2.25 2.25 0 013.25 2h4a.75.75 0 010 1.5h-4z"></path></g></svg></div></a><span class="g-screen-reader-only" id="opens-in-new-tab-label-react-aria-36">(opens in new tab)</span></li><li><a aria-label="Support. Opens in a new tab." class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" data-heap-track="sidebar-nav-link-item" rel="noreferrer noopener" aria-describedby="opens-in-new-tab-label-react-aria-37" target="_blank" href="https://www.hashicorp.com/customer-success"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">Support</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path d="M9 .75A.75.75 0 019.75 0h4.5c.206 0 .393.083.529.218l.001.002.002.001A.748.748 0 0115 .75v4.5a.75.75 0 01-1.5 0V2.56L7.28 8.78a.75.75 0 01-1.06-1.06l6.22-6.22H9.75A.75.75 0 019 .75z"></path><path d="M3.25 3.5a.75.75 0 00-.75.75v7.5c0 .414.336.75.75.75h7.5a.75.75 0 00.75-.75v-4a.75.75 0 011.5 0v4A2.25 2.25 0 0110.75 14h-7.5A2.25 2.25 0 011 11.75v-7.5A2.25 2.25 0 013.25 2h4a.75.75 0 010 1.5h-4z"></path></g></svg></div></a><span class="g-screen-reader-only" id="opens-in-new-tab-label-react-aria-37">(opens in new tab)</span></li><li><a aria-label="GitHub. Opens in a new tab." class="sidebar-nav-menu-item_sidebarNavMenuItem__PiyI8 g-focus-ring-from-box-shadow" data-heap-track="sidebar-nav-link-item" rel="noreferrer noopener" aria-describedby="opens-in-new-tab-label-react-aria-38" target="_blank" href="https://github.com/hashicorp/consul"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular sidebar-nav-menu-item_navMenuItemLabel__tJHwX">GitHub</span><div class="sidebar-nav-menu-item_rightIconsContainer__hynke"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path d="M9 .75A.75.75 0 019.75 0h4.5c.206 0 .393.083.529.218l.001.002.002.001A.748.748 0 0115 .75v4.5a.75.75 0 01-1.5 0V2.56L7.28 8.78a.75.75 0 01-1.06-1.06l6.22-6.22H9.75A.75.75 0 019 .75z"></path><path d="M3.25 3.5a.75.75 0 00-.75.75v7.5c0 .414.336.75.75.75h7.5a.75.75 0 00.75-.75v-4a.75.75 0 011.5 0v4A2.25 2.25 0 0110.75 14h-7.5A2.25 2.25 0 011 11.75v-7.5A2.25 2.25 0 013.25 2h4a.75.75 0 010 1.5h-4z"></path></g></svg></div></a><span class="g-screen-reader-only" id="opens-in-new-tab-label-react-aria-38">(opens in new tab)</span></li></ul></nav></div></div></div><div class="sidebar-sidecar-layout_contentWrapper__Z5BK4"><div class="sidebar-sidecar-layout_paddedAreaWrapper___S_Ff"><div class="sidebar-sidecar-layout_breadcrumbContainer__3uz7P"><div class="sidebar-sidecar-layout_breadcrumbMaxWidth__coOcu"><nav aria-label="Breadcrumb" class="breadcrumb-bar_root__wd_C5"><ol class="breadcrumb-bar_listRoot__8eupO"><li class="text_root__r0DFB hds-typography-body-100 hds-font-weight-medium breadcrumb-bar_listItem__2sevd"><a class="breadcrumb-bar_breadcrumbText__JvOrd g-focus-ring-from-box-shadow" data-heap-track="breadcrumb-bar-item" aria-describedby="" href="/">Developer</a></li><li class="text_root__r0DFB hds-typography-body-100 hds-font-weight-medium breadcrumb-bar_listItem__2sevd"><a class="breadcrumb-bar_breadcrumbText__JvOrd g-focus-ring-from-box-shadow" data-heap-track="breadcrumb-bar-item" aria-describedby="" href="/consul">Consul</a></li><li class="text_root__r0DFB hds-typography-body-100 hds-font-weight-medium breadcrumb-bar_listItem__2sevd"><a class="breadcrumb-bar_breadcrumbText__JvOrd g-focus-ring-from-box-shadow" data-heap-track="breadcrumb-bar-item" aria-describedby="" href="/consul/docs">Documentation</a></li><li class="text_root__r0DFB hds-typography-body-100 hds-font-weight-medium breadcrumb-bar_listItem__2sevd"><a class="breadcrumb-bar_breadcrumbText__JvOrd g-focus-ring-from-box-shadow" data-heap-track="breadcrumb-bar-item" aria-describedby="" href="/consul/docs/agent">Agent</a></li><li class="text_root__r0DFB hds-typography-body-100 hds-font-weight-medium breadcrumb-bar_listItem__2sevd"><a class="breadcrumb-bar_breadcrumbText__JvOrd g-focus-ring-from-box-shadow" data-heap-track="breadcrumb-bar-item" aria-describedby="" href="/consul/docs/agent/config">Configuration</a></li><li class="text_root__r0DFB hds-typography-body-100 hds-font-weight-medium breadcrumb-bar_listItem__2sevd"><span class="breadcrumb-bar_breadcrumbText__JvOrd g-focus-ring-from-box-shadow" aria-current="page" data-heap-track="breadcrumb-bar-item">Configuration Reference</span></li></ol></nav></div></div><div class="sidebar-sidecar-layout_mainAndSidecar__UDm3Z"><main id="main" class="sidebar-sidecar-layout_main__0SN51"><div class="docs-page-heading_root__QuBg_ docs-view_docsPageHeading___xkrK"><div class="docs-page-heading_pageHeadingWrapper__LEMQ7"><h1 class="hds-typography-display-600 hds-font-weight-bold docs-plain-page-heading_root__HzRuX g-offset-scroll-margin-top" id="agents-configuration-file-reference">Agents Configuration File Reference</h1></div></div><div class="dev-dot-content_root__UJDct hds-typography-body-300"><div class="docs-view_mdxContent___uMnx"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">This topic describes the parameters for configuring Consul agents. For information about how to start Consul agents, refer to <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent#starting-the-consul-agent">Starting the Consul Agent</a>.</p><h2 id="overview" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="overview permalink" href="/consul/docs/agent/config/config-files#overview"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Overview</h2><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">You can create one or more files to configure the Consul agent on startup. We recommend
grouping similar configurations into separate files, such as ACL parameters, to make it
easier to manage configuration changes. Using external files may be easier than
configuring agents on the command-line when Consul is
being configured using a configuration management system.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The configuration files are formatted as HCL or JSON. JSON formatted configs are
easily readable and editable by both humans and computers. JSON formatted
configuration consists of a single JSON object with multiple configuration keys
specified within it.</p><div class="mdx-code-blocks_codeTabsMargin__XyBTZ style_root__Ib9Qn theme-dark_base__RNsat"><div style="height:0px;overflow:hidden;visibility:hidden" role="presentation" aria-hidden="true"><div class="style_topBar__0pZ_b"><div class="style_heading__2_7Zj g-type-body-small-strong">Example Configuration File</div><div class="style_tabsAsTabs__lZ0ce style_hasHeading__tsJPr"><button class="style_tabControl__A5k2n g-type-body-small-strong style_isActive__AmKFP style_hasHeading__tsJPr">HCL</button><button class="style_tabControl__A5k2n g-type-body-small-strong style_hasHeading__tsJPr">JSON</button></div></div></div><div class="style_topBar__0pZ_b"><div class="style_heading__2_7Zj g-type-body-small-strong">Example Configuration File</div><div class="style_tabsAsTabs__lZ0ce style_hasHeading__tsJPr"><button class="style_tabControl__A5k2n g-type-body-small-strong style_isActive__AmKFP style_hasHeading__tsJPr">HCL</button><button class="style_tabControl__A5k2n g-type-body-small-strong style_hasHeading__tsJPr">JSON</button></div></div><div><div style="display:block"><div class="g-code-block style_root__i1k0c language-hcl theme-dark_base__RNsat theme-dark_syntax__QCDzs style_hasBarAbove__gZA5T" data-heap-track="code-block"><div class="style_linesContainer__4N_nq"><pre class="code-lines_pre__t8gY5 language-hcl"><code class="code-lines_code__luWmT language-hcl"><span class="code-lines_linesColumn__M9Wn1 code-lines_styledScrollbars__37_Kl"><span class="code-lines_linesScrollableContent__UNs3H"><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ"><span class="token property">datacenter</span> <span class="token punctuation">=</span> <span class="token string">&quot;east-aws&quot;</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ"><span class="token property">data_dir</span> <span class="token punctuation">=</span> <span class="token string">&quot;/opt/consul&quot;</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ"><span class="token property">log_level</span> <span class="token punctuation">=</span> <span class="token string">&quot;INFO&quot;</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ"><span class="token property">node_name</span> <span class="token punctuation">=</span> <span class="token string">&quot;foobar&quot;</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ"><span class="token property">server</span> <span class="token punctuation">=</span> <span class="token boolean">true</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ"><span class="token property">watches</span> <span class="token punctuation">=</span> <span class="token punctuation">[</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">  <span class="token punctuation">{</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">    <span class="token property">type</span> <span class="token punctuation">=</span> <span class="token string">&quot;checks&quot;</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">    <span class="token property">handler</span> <span class="token punctuation">=</span> <span class="token string">&quot;/usr/bin/health-check-handler.sh&quot;</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">  <span class="token punctuation">}</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ"><span class="token punctuation">]</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ"><span class="token keyword">telemetry</span> <span class="token punctuation">{</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">  <span class="token property">statsite_address</span> <span class="token punctuation">=</span> <span class="token string">&quot;127.0.0.1:2180&quot;</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ"><span class="token punctuation">}</span>
</span></span></span></code></pre><div class="style_copyButtonContainer__yxcuf"><button class="style_button__8j_Rk" data-heap-track="code-block-clipboard-icon" type="button">Copy<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="style_svg__gtvGZ"><g fill="currentColor"><path d="M2.25 0A2.25 2.25 0 000 2.25v7.5A2.25 2.25 0 002.25 12h.25a.75.75 0 000-1.5h-.25a.75.75 0 01-.75-.75v-7.5a.75.75 0 01.75-.75h7.5a.75.75 0 01.75.75v.25a.75.75 0 001.5 0v-.25A2.25 2.25 0 009.75 0h-7.5z"></path><path fill-rule="evenodd" d="M6.25 4A2.25 2.25 0 004 6.25v7.5A2.25 2.25 0 006.25 16h7.5A2.25 2.25 0 0016 13.75v-7.5A2.25 2.25 0 0013.75 4h-7.5zM5.5 6.25a.75.75 0 01.75-.75h7.5a.75.75 0 01.75.75v7.5a.75.75 0 01-.75.75h-7.5a.75.75 0 01-.75-.75v-7.5z" clip-rule="evenodd"></path></g></svg></button></div></div></div></div><div style="display:none"><div class="g-code-block style_root__i1k0c language-json theme-dark_base__RNsat theme-dark_syntax__QCDzs style_hasBarAbove__gZA5T" data-heap-track="code-block"><div class="style_linesContainer__4N_nq"><pre class="code-lines_pre__t8gY5 language-json"><code class="code-lines_code__luWmT language-json"><span class="code-lines_linesColumn__M9Wn1 code-lines_styledScrollbars__37_Kl"><span class="code-lines_linesScrollableContent__UNs3H"><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ"><span class="token punctuation">{</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">  <span class="token property">&quot;datacenter&quot;</span><span class="token operator">:</span> <span class="token string">&quot;east-aws&quot;</span><span class="token punctuation">,</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">  <span class="token property">&quot;data_dir&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/opt/consul&quot;</span><span class="token punctuation">,</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">  <span class="token property">&quot;log_level&quot;</span><span class="token operator">:</span> <span class="token string">&quot;INFO&quot;</span><span class="token punctuation">,</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">  <span class="token property">&quot;node_name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;foobar&quot;</span><span class="token punctuation">,</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">  <span class="token property">&quot;server&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">  <span class="token property">&quot;watches&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">    <span class="token punctuation">{</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">      <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;checks&quot;</span><span class="token punctuation">,</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">      <span class="token property">&quot;handler&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/usr/bin/health-check-handler.sh&quot;</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">    <span class="token punctuation">}</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">  <span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">  <span class="token property">&quot;telemetry&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">    <span class="token property">&quot;statsite_address&quot;</span><span class="token operator">:</span> <span class="token string">&quot;127.0.0.1:2180&quot;</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">  <span class="token punctuation">}</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ"><span class="token punctuation">}</span>
</span></span></span></code></pre><div class="style_copyButtonContainer__yxcuf"><button class="style_button__8j_Rk" data-heap-track="code-block-clipboard-icon" type="button">Copy<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="style_svg__gtvGZ"><g fill="currentColor"><path d="M2.25 0A2.25 2.25 0 000 2.25v7.5A2.25 2.25 0 002.25 12h.25a.75.75 0 000-1.5h-.25a.75.75 0 01-.75-.75v-7.5a.75.75 0 01.75-.75h7.5a.75.75 0 01.75.75v.25a.75.75 0 001.5 0v-.25A2.25 2.25 0 009.75 0h-7.5z"></path><path fill-rule="evenodd" d="M6.25 4A2.25 2.25 0 004 6.25v7.5A2.25 2.25 0 006.25 16h7.5A2.25 2.25 0 0016 13.75v-7.5A2.25 2.25 0 0013.75 4h-7.5zM5.5 6.25a.75.75 0 01.75-.75h7.5a.75.75 0 01.75.75v7.5a.75.75 0 01-.75.75h-7.5a.75.75 0 01-.75-.75v-7.5z" clip-rule="evenodd"></path></g></svg></button></div></div></div></div></div></div><h3 id="time-to-live-values" class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="time to live values permalink" href="/consul/docs/agent/config/config-files#time-to-live-values"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Time-to-live values</h3><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Consul uses the Go <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">time</code> package to parse all time-to-live (TTL) values used in Consul agent configuration files. Specify integer and float values as a string and include one or more of the following units of time:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="ns" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="ns permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#ns"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ns</code></a></li><li class="mdx-lists_listItem__nkqhg"><a id="us" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="us permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#us"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">us</code></a></li><li class="mdx-lists_listItem__nkqhg"><a id="s" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="s permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#s"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">Âµs</code></a></li><li class="mdx-lists_listItem__nkqhg"><a id="ms" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="ms permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#ms"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ms</code></a></li><li class="mdx-lists_listItem__nkqhg"><a id="s-1" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="s permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#s-1"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">s</code></a></li><li class="mdx-lists_listItem__nkqhg"><a id="m" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="m permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#m"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">m</code></a></li><li class="mdx-lists_listItem__nkqhg"><a id="h" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="h permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#h"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">h</code></a></li></ul><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Examples:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="300ms" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="300ms permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#300ms"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">&#x27;300ms&#x27;</code></a></li><li class="mdx-lists_listItem__nkqhg"><a id="1-5h" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="1 5h permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#1-5h"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">&#x27;1.5h&#x27;</code></a></li><li class="mdx-lists_listItem__nkqhg"><a id="2h45m" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="2h45m permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#2h45m"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">&#x27;2h45m&#x27;</code></a></li></ul><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Refer to the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="https://golang.org/pkg/time/#ParseDuration">formatting specification</a> for additional information.</p><h2 id="general-parameters" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="general parameters permalink" href="/consul/docs/agent/config/config-files#general-parameters"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>General parameters</h2><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="addresses" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="addresses permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#addresses"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">addresses</code></a> - This is a nested object that allows setting
bind addresses. In Consul 1.0 and later these can be set to a space-separated list
of addresses to bind to, or a <!-- -->[go-sockaddr]<!-- --> template that can potentially resolve to multiple addresses.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">http</code>, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">https</code> and <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">grpc</code> all support binding to a Unix domain socket. A
socket can be specified in the form <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">unix:///path/to/socket</code>. A new domain
socket will be created at the given path. If the specified file path already
exists, Consul will attempt to clear the file and create the domain socket
in its place. The permissions of the socket file are tunable via the
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#unix_sockets"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">unix_sockets</code> config construct</a>.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">When running Consul agent commands against Unix socket interfaces, use the
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-http-addr</code> argument to specify the path to the socket. You can also place
the desired values in the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">CONSUL_HTTP_ADDR</code> environment variable.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">For TCP addresses, the environment variable value should be an IP address
<em>with the port</em>. For example: <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">10.0.0.1:8500</code> and not <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">10.0.0.1</code>. However,
ports are set separately in the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#ports"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ports</code></a> structure when
defining them in a configuration file.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The following keys are valid:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="dns" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="dns permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#dns"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">dns</code></a> - The DNS server. Defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">client_addr</code></li><li class="mdx-lists_listItem__nkqhg"><a id="http" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="http permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#http"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">http</code></a> - The HTTP API. Defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">client_addr</code></li><li class="mdx-lists_listItem__nkqhg"><a id="https" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="https permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#https"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">https</code></a> - The HTTPS API. Defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">client_addr</code></li><li class="mdx-lists_listItem__nkqhg"><a id="grpc" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="grpc permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#grpc"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">grpc</code></a> - The gRPC API. Defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">client_addr</code></li><li class="mdx-lists_listItem__nkqhg"><a id="grpc_tls" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="grpc_tls permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#grpc_tls"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">grpc_tls</code></a> - The gRPC API with TLS. Defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">client_addr</code></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="alt_domain" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="alt_domain permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#alt_domain"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">alt_domain</code></a> Equivalent to the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/cli-flags#_alt_domain"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-alt-domain</code> command-line flag</a></p></li><li class="mdx-lists_listItem__nkqhg"><a id="audit" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="audit permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#audit"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">audit</code></a> <span class="enterprise-alert_root__mvEIF enterprise-alert_inline__IqpbC"><span class="g-screen-reader-only">Enterprise</span><span aria-hidden="true" class="badge_root___Z7Nt badge_medium__8VGoW badge_outlined-neutral__32YXY enterprise-alert_badge___N2fV"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="var(--token-color-consul-brand)"><path d="M4.737 14.193A7 7 0 008.006 15a6.98 6.98 0 004.735-1.847l-1.66-1.737a4.6 4.6 0 110-6.828l1.66-1.738a7 7 0 10-8.004 11.343zM13.32 11.402a.573.573 0 10.637-.953.573.573 0 00-.637.953z"></path><path d="M7.96 9.517a1.517 1.517 0 11-.012-3.034 1.517 1.517 0 01.013 3.034zM13.978 9.447a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 9.472a.574.574 0 110-1.148.574.574 0 010 1.148zM13.978 7.514a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 7.675a.574.574 0 110-1.148.574.574 0 010 1.148zM13.353 5.585a.574.574 0 10.635-.956.574.574 0 00-.635.956z"></path></g></svg><span>Enterprise</span></span></span> - Added in Consul 1.8, the audit object allow users to enable auditing
and configure a sink and filters for their audit logs. For more information, review the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/tutorials/datacenter-operations/audit-logging">audit log tutorial</a>.</p><div class="mdx-code-blocks_codeTabsMargin__XyBTZ style_root__Ib9Qn theme-dark_base__RNsat"><div style="height:0px;overflow:hidden;visibility:hidden" role="presentation" aria-hidden="true"><div class="style_topBar__0pZ_b"><div class="style_heading__2_7Zj g-type-body-small-strong">Example audit configuration</div><div class="style_tabsAsTabs__lZ0ce style_hasHeading__tsJPr"><button class="style_tabControl__A5k2n g-type-body-small-strong style_isActive__AmKFP style_hasHeading__tsJPr">HCL</button><button class="style_tabControl__A5k2n g-type-body-small-strong style_hasHeading__tsJPr">JSON</button></div></div></div><div class="style_topBar__0pZ_b"><div class="style_heading__2_7Zj g-type-body-small-strong">Example audit configuration</div><div class="style_tabsAsTabs__lZ0ce style_hasHeading__tsJPr"><button class="style_tabControl__A5k2n g-type-body-small-strong style_isActive__AmKFP style_hasHeading__tsJPr">HCL</button><button class="style_tabControl__A5k2n g-type-body-small-strong style_hasHeading__tsJPr">JSON</button></div></div><div><div style="display:block"><div class="g-code-block style_root__i1k0c language-hcl theme-dark_base__RNsat theme-dark_syntax__QCDzs style_hasBarAbove__gZA5T" data-heap-track="code-block"><div class="style_linesContainer__4N_nq"><pre class="code-lines_pre__t8gY5 language-hcl"><code class="code-lines_code__luWmT language-hcl"><span class="code-lines_linesColumn__M9Wn1 code-lines_styledScrollbars__37_Kl"><span class="code-lines_linesScrollableContent__UNs3H"><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ"><span class="token keyword">audit</span> <span class="token punctuation">{</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">  <span class="token property">enabled</span> <span class="token punctuation">=</span> <span class="token boolean">true</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">  sink <span class="token string">&quot;My sink&quot;</span> <span class="token punctuation">{</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">    <span class="token property">type</span>   <span class="token punctuation">=</span> <span class="token string">&quot;file&quot;</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">    <span class="token property">format</span> <span class="token punctuation">=</span> <span class="token string">&quot;json&quot;</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">    <span class="token property">path</span>   <span class="token punctuation">=</span> <span class="token string">&quot;data/audit/audit.json&quot;</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">    <span class="token property">delivery_guarantee</span> <span class="token punctuation">=</span> <span class="token string">&quot;best-effort&quot;</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">    <span class="token property">rotate_duration</span> <span class="token punctuation">=</span> <span class="token string">&quot;24h&quot;</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">    <span class="token property">rotate_max_files</span> <span class="token punctuation">=</span> <span class="token number">15</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">    <span class="token property">rotate_bytes</span> <span class="token punctuation">=</span> <span class="token number">25165824</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">  <span class="token punctuation">}</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ"><span class="token punctuation">}</span>
</span></span></span></code></pre><div class="style_copyButtonContainer__yxcuf"><button class="style_button__8j_Rk" data-heap-track="code-block-clipboard-icon" type="button">Copy<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="style_svg__gtvGZ"><g fill="currentColor"><path d="M2.25 0A2.25 2.25 0 000 2.25v7.5A2.25 2.25 0 002.25 12h.25a.75.75 0 000-1.5h-.25a.75.75 0 01-.75-.75v-7.5a.75.75 0 01.75-.75h7.5a.75.75 0 01.75.75v.25a.75.75 0 001.5 0v-.25A2.25 2.25 0 009.75 0h-7.5z"></path><path fill-rule="evenodd" d="M6.25 4A2.25 2.25 0 004 6.25v7.5A2.25 2.25 0 006.25 16h7.5A2.25 2.25 0 0016 13.75v-7.5A2.25 2.25 0 0013.75 4h-7.5zM5.5 6.25a.75.75 0 01.75-.75h7.5a.75.75 0 01.75.75v7.5a.75.75 0 01-.75.75h-7.5a.75.75 0 01-.75-.75v-7.5z" clip-rule="evenodd"></path></g></svg></button></div></div></div></div><div style="display:none"><div class="g-code-block style_root__i1k0c language-json theme-dark_base__RNsat theme-dark_syntax__QCDzs style_hasBarAbove__gZA5T" data-heap-track="code-block"><div class="style_linesContainer__4N_nq"><pre class="code-lines_pre__t8gY5 language-json"><code class="code-lines_code__luWmT language-json"><span class="code-lines_linesColumn__M9Wn1 code-lines_styledScrollbars__37_Kl"><span class="code-lines_linesScrollableContent__UNs3H"><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ"><span class="token punctuation">{</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">  <span class="token property">&quot;audit&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">    <span class="token property">&quot;enabled&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">    <span class="token property">&quot;sink&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">      <span class="token property">&quot;My sink&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">        <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;file&quot;</span><span class="token punctuation">,</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">        <span class="token property">&quot;format&quot;</span><span class="token operator">:</span> <span class="token string">&quot;json&quot;</span><span class="token punctuation">,</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">        <span class="token property">&quot;path&quot;</span><span class="token operator">:</span> <span class="token string">&quot;data/audit/audit.json&quot;</span><span class="token punctuation">,</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">        <span class="token property">&quot;delivery_guarantee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;best-effort&quot;</span><span class="token punctuation">,</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">        <span class="token property">&quot;rotate_duration&quot;</span><span class="token operator">:</span> <span class="token string">&quot;24h&quot;</span><span class="token punctuation">,</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">        <span class="token property">&quot;rotate_max_files&quot;</span><span class="token operator">:</span> <span class="token number">15</span><span class="token punctuation">,</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">        <span class="token property">&quot;rotate_bytes&quot;</span><span class="token operator">:</span> <span class="token number">25165824</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">      <span class="token punctuation">}</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">    <span class="token punctuation">}</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">  <span class="token punctuation">}</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ"><span class="token punctuation">}</span>
</span></span></span></code></pre><div class="style_copyButtonContainer__yxcuf"><button class="style_button__8j_Rk" data-heap-track="code-block-clipboard-icon" type="button">Copy<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="style_svg__gtvGZ"><g fill="currentColor"><path d="M2.25 0A2.25 2.25 0 000 2.25v7.5A2.25 2.25 0 002.25 12h.25a.75.75 0 000-1.5h-.25a.75.75 0 01-.75-.75v-7.5a.75.75 0 01.75-.75h7.5a.75.75 0 01.75.75v.25a.75.75 0 001.5 0v-.25A2.25 2.25 0 009.75 0h-7.5z"></path><path fill-rule="evenodd" d="M6.25 4A2.25 2.25 0 004 6.25v7.5A2.25 2.25 0 006.25 16h7.5A2.25 2.25 0 0016 13.75v-7.5A2.25 2.25 0 0013.75 4h-7.5zM5.5 6.25a.75.75 0 01.75-.75h7.5a.75.75 0 01.75.75v7.5a.75.75 0 01-.75.75h-7.5a.75.75 0 01-.75-.75v-7.5z" clip-rule="evenodd"></path></g></svg></button></div></div></div></div></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The following sub-keys are available:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="enabled" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="enabled permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#enabled"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enabled</code></a> - Controls whether Consul logs out each time a user
performs an operation. ACLs must be enabled to use this feature. Defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">false</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="sink" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="sink permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#sink"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">sink</code></a> - This object provides configuration for the destination to which
Consul will log auditing events. Sink is an object containing keys to sink objects, where the key is the name of the sink.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="type" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="type permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#type"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">type</code></a> - Type specifies what kind of sink this is.
The following keys are valid:<ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="file" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="file permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#file"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">file</code></a> - Currently only file sinks are available, they take the following keys.</li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="format" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="format permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#format"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">format</code></a> - Format specifies what format the events will
be emitted with.
The following keys are valid:<ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="json" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="json permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#json"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">json</code></a> - Currently only json events are offered.</li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="path" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="path permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#path"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">path</code></a> - The directory and filename to write audit events to.</li><li class="mdx-lists_listItem__nkqhg"><a id="delivery_guarantee" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="delivery_guarantee permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#delivery_guarantee"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">delivery_guarantee</code></a> - Specifies
the rules governing how audit events are written.
The following keys are valid:<ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="best-effort" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="best effort permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#best-effort"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">best-effort</code></a> - Consul only supports <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">best-effort</code> event delivery.</li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="mode" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="mode permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#mode"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">mode</code></a> - The permissions to set on the audit log files.</li><li class="mdx-lists_listItem__nkqhg"><a id="rotate_duration" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="rotate_duration permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#rotate_duration"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">rotate_duration</code></a> - Specifies the
interval by which the system rotates to a new log file. At least one of <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">rotate_duration</code> or <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">rotate_bytes</code>
must be configured to enable audit logging.</li><li class="mdx-lists_listItem__nkqhg"><a id="rotate_max_files" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="rotate_max_files permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#rotate_max_files"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">rotate_max_files</code></a> - Defines the
limit that Consul should follow before it deletes old log files.</li><li class="mdx-lists_listItem__nkqhg"><a id="rotate_bytes" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="rotate_bytes permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#rotate_bytes"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">rotate_bytes</code></a> - Specifies how large an
individual log file can grow before Consul rotates to a new file. At least one of <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">rotate_bytes</code> or
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">rotate_duration</code> must be configured to enable audit logging.</li></ul></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="autopilot" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="autopilot permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#autopilot"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">autopilot</code></a> Added in Consul 0.8, this object allows a
number of sub-keys to be set which can configure operator-friendly settings for
Consul servers. When these keys are provided as configuration, they will only be
respected on bootstrapping. If they are not provided, the defaults will be used.
In order to change the value of these options after bootstrapping, you will need
to use the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/commands/operator/autopilot">Consul Operator Autopilot</a>
command. For more information about Autopilot, review the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/tutorials/datacenter-operations/autopilot-datacenter-operations">Autopilot tutorial</a>.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The following sub-keys are available:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="cleanup_dead_servers" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="cleanup_dead_servers permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#cleanup_dead_servers"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">cleanup_dead_servers</code></a> - This controls the
automatic removal of dead server nodes periodically and whenever a new server
is added to the cluster. Defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">true</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="last_contact_threshold" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="last_contact_threshold permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#last_contact_threshold"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">last_contact_threshold</code></a> - Controls the
maximum amount of time a server can go without contact from the leader before
being considered unhealthy. Must be a duration value such as <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">10s</code>. Defaults
to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">200ms</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="max_trailing_logs" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="max_trailing_logs permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#max_trailing_logs"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">max_trailing_logs</code></a> - Controls the maximum number
of log entries that a server can trail the leader by before being considered
unhealthy. Defaults to 250.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="min_quorum" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="min_quorum permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#min_quorum"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">min_quorum</code></a> - Sets the minimum number of servers necessary
in a cluster. Autopilot will stop pruning dead servers when this minimum is reached. There is no default.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="server_stabilization_time" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="server_stabilization_time permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#server_stabilization_time"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">server_stabilization_time</code></a> - Controls
the minimum amount of time a server must be stable in the &#x27;healthy&#x27; state before
being added to the cluster. Only takes effect if all servers are running Raft
protocol version 3 or higher. Must be a duration value such as <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">30s</code>. Defaults
to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">10s</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="redundancy_zone_tag" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="redundancy_zone_tag permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#redundancy_zone_tag"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">redundancy_zone_tag</code></a> <span class="enterprise-alert_root__mvEIF enterprise-alert_inline__IqpbC"><span class="g-screen-reader-only">Enterprise</span><span aria-hidden="true" class="badge_root___Z7Nt badge_medium__8VGoW badge_outlined-neutral__32YXY enterprise-alert_badge___N2fV"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="var(--token-color-consul-brand)"><path d="M4.737 14.193A7 7 0 008.006 15a6.98 6.98 0 004.735-1.847l-1.66-1.737a4.6 4.6 0 110-6.828l1.66-1.738a7 7 0 10-8.004 11.343zM13.32 11.402a.573.573 0 10.637-.953.573.573 0 00-.637.953z"></path><path d="M7.96 9.517a1.517 1.517 0 11-.012-3.034 1.517 1.517 0 01.013 3.034zM13.978 9.447a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 9.472a.574.574 0 110-1.148.574.574 0 010 1.148zM13.978 7.514a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 7.675a.574.574 0 110-1.148.574.574 0 010 1.148zM13.353 5.585a.574.574 0 10.635-.956.574.574 0 00-.635.956z"></path></g></svg><span>Enterprise</span></span></span> -
This controls the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#node_meta"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">node_meta</code></a> key to use when Autopilot is separating
servers into zones for redundancy. Only one server in each zone can be a voting
member at one time. If left blank (the default), this feature will be disabled.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="disable_upgrade_migration" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="disable_upgrade_migration permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#disable_upgrade_migration"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">disable_upgrade_migration</code></a> <span class="enterprise-alert_root__mvEIF enterprise-alert_inline__IqpbC"><span class="g-screen-reader-only">Enterprise</span><span aria-hidden="true" class="badge_root___Z7Nt badge_medium__8VGoW badge_outlined-neutral__32YXY enterprise-alert_badge___N2fV"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="var(--token-color-consul-brand)"><path d="M4.737 14.193A7 7 0 008.006 15a6.98 6.98 0 004.735-1.847l-1.66-1.737a4.6 4.6 0 110-6.828l1.66-1.738a7 7 0 10-8.004 11.343zM13.32 11.402a.573.573 0 10.637-.953.573.573 0 00-.637.953z"></path><path d="M7.96 9.517a1.517 1.517 0 11-.012-3.034 1.517 1.517 0 01.013 3.034zM13.978 9.447a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 9.472a.574.574 0 110-1.148.574.574 0 010 1.148zM13.978 7.514a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 7.675a.574.574 0 110-1.148.574.574 0 010 1.148zM13.353 5.585a.574.574 0 10.635-.956.574.574 0 00-.635.956z"></path></g></svg><span>Enterprise</span></span></span> -
If set to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">true</code>, this setting will disable Autopilot&#x27;s upgrade migration strategy
in Consul Enterprise of waiting until enough newer-versioned servers have been
added to the cluster before promoting any of them to voters. Defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">false</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="upgrade_version_tag" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="upgrade_version_tag permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#upgrade_version_tag"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">upgrade_version_tag</code></a> <span class="enterprise-alert_root__mvEIF enterprise-alert_inline__IqpbC"><span class="g-screen-reader-only">Enterprise</span><span aria-hidden="true" class="badge_root___Z7Nt badge_medium__8VGoW badge_outlined-neutral__32YXY enterprise-alert_badge___N2fV"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="var(--token-color-consul-brand)"><path d="M4.737 14.193A7 7 0 008.006 15a6.98 6.98 0 004.735-1.847l-1.66-1.737a4.6 4.6 0 110-6.828l1.66-1.738a7 7 0 10-8.004 11.343zM13.32 11.402a.573.573 0 10.637-.953.573.573 0 00-.637.953z"></path><path d="M7.96 9.517a1.517 1.517 0 11-.012-3.034 1.517 1.517 0 01.013 3.034zM13.978 9.447a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 9.472a.574.574 0 110-1.148.574.574 0 010 1.148zM13.978 7.514a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 7.675a.574.574 0 110-1.148.574.574 0 010 1.148zM13.353 5.585a.574.574 0 10.635-.956.574.574 0 00-.635.956z"></path></g></svg><span>Enterprise</span></span></span> -
The node_meta tag to use for version info when performing upgrade migrations.
If this is not set, the Consul version will be used.</p></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="auto_config" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="auto_config permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#auto_config"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">auto_config</code></a> This object allows setting options for the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">auto_config</code> feature.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The following sub-keys are available:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="enabled-1" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="enabled permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#enabled-1"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enabled</code></a> (Defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">false</code>) This option enables <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">auto_config</code> on a client
agent. When starting up but before joining the cluster, the client agent will
make an RPC to the configured server addresses to request configuration settings,
such as its <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">agent</code> ACL token, TLS certificates, Gossip encryption key as well
as other configuration settings. These configurations get merged in as defaults
with any user-supplied configuration on the client agent able to override them.
The initial RPC uses a JWT specified with either <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">intro_token</code>,
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">intro_token_file</code> or the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">CONSUL_INTRO_TOKEN</code> environment variable to authorize
the request. How the JWT token is verified is controlled by the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">auto_config.authorizer</code>
object available for use on Consul servers. Enabling this option also enables
service mesh because it is vital for <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">auto_config</code>, more specifically the service mesh CA
and certificates infrastructure.</p><div class="alert alert-warning g-type-body"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><strong>Warning:</strong> Enabling <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">auto_config</code> conflicts with the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#tls"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">auto_encrypt.tls</code></a> feature.
Only one option may be specified.</p></div></li><li class="mdx-lists_listItem__nkqhg"><a id="intro_token" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="intro_token permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#intro_token"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">intro_token</code></a> (Defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">&quot;&quot;</code>) This specifies the JWT to use for the initial
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">auto_config</code> RPC to the Consul servers. This can be overridden with the
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">CONSUL_INTRO_TOKEN</code> environment variable</p></li><li class="mdx-lists_listItem__nkqhg"><a id="intro_token_file" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="intro_token_file permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#intro_token_file"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">intro_token_file</code></a> (Defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">&quot;&quot;</code>) This specifies a file containing the JWT
to use for the initial <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">auto_config</code> RPC to the Consul servers. This token
from this file is only loaded if the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">intro_token</code> configuration is unset as
well as the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">CONSUL_INTRO_TOKEN</code> environment variable</p></li><li class="mdx-lists_listItem__nkqhg"><a id="server_addresses" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="server_addresses permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#server_addresses"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">server_addresses</code></a> (Defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">[]</code>) This specifies the addresses of servers in
the local datacenter to use for the initial RPC. These addresses support
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/cli-flags#cloud-auto-joining">Cloud Auto-Joining</a> and can optionally include a port to
use when making the outbound connection. If no port is provided, the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">server_port</code>
will be used.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="dns_sans" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="dns_sans permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#dns_sans"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">dns_sans</code></a> (Defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">[]</code>) This is a list of extra DNS SANs to request in the
client agent&#x27;s TLS certificate. The <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">localhost</code> DNS SAN is always requested.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="ip_sans" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="ip_sans permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#ip_sans"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ip_sans</code></a> (Defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">[]</code>) This is a list of extra IP SANs to request in the
client agent&#x27;s TLS certificate. The <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">::1</code> and <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">127.0.0.1</code> IP SANs are always requested.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="authorization" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="authorization permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#authorization"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">authorization</code></a> This object controls how a Consul server will authorize <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">auto_config</code>
requests and in particular how to verify the JWT intro token.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="enabled-2" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="enabled permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#enabled-2"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enabled</code></a> (Defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">false</code>) This option enables <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">auto_config</code> authorization
capabilities on the server.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="static" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="static permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#static"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">static</code></a> This object controls configuring the static authorizer setup in the Consul
configuration file. Almost all sub-keys are identical to those provided by the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/security/acl/auth-methods/jwt">JWT
Auth Method</a>.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="jwt_validation_pub_keys" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="jwt_validation_pub_keys permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#jwt_validation_pub_keys"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">jwt_validation_pub_keys</code></a> (Defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">[]</code>) A list of PEM-encoded public keys
to use to authenticate signatures locally.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Exactly one of <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">jwks_url</code> <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">jwt_validation_pub_keys</code>, or <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">oidc_discovery_url</code> is required.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="oidc_discovery_url" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="oidc_discovery_url permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#oidc_discovery_url"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">oidc_discovery_url</code></a> (Defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">&quot;&quot;</code>) The OIDC Discovery URL, without any
.well-known component (base path).</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Exactly one of <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">jwks_url</code> <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">jwt_validation_pub_keys</code>, or <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">oidc_discovery_url</code> is required.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="oidc_discovery_ca_cert" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="oidc_discovery_ca_cert permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#oidc_discovery_ca_cert"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">oidc_discovery_ca_cert</code></a> (Defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">&quot;&quot;</code>) PEM encoded CA cert for use by the TLS
client used to talk with the OIDC Discovery URL. NOTE: Every line must end
with a newline (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">\n</code>). If not set, system certificates are used.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="jwks_url" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="jwks_url permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#jwks_url"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">jwks_url</code></a> (Defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">&quot;&quot;</code>) The JWKS URL to use to authenticate signatures.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Exactly one of <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">jwks_url</code> <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">jwt_validation_pub_keys</code>, or <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">oidc_discovery_url</code> is required.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="jwks_ca_cert" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="jwks_ca_cert permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#jwks_ca_cert"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">jwks_ca_cert</code></a> (Defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">&quot;&quot;</code>) PEM encoded CA cert for use by the TLS client
used to talk with the JWKS URL. NOTE: Every line must end with a newline
(<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">\n</code>). If not set, system certificates are used.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="claim_mappings" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="claim_mappings permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#claim_mappings"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">claim_mappings</code></a> (Defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">(map[string]string)</code> Mappings of claims (key) that
will be copied to a metadata field (value). Use this if the claim you are capturing
is singular (such as an attribute).</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">When mapped, the values can be any of a number, string, or boolean and will
all be stringified when returned.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="list_claim_mappings" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="list_claim_mappings permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#list_claim_mappings"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">list_claim_mappings</code></a> (Defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">(map[string]string)</code>) Mappings of claims (key)
will be copied to a metadata field (value). Use this if the claim you are capturing
is list-like (such as groups).</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">When mapped, the values in each list can be any of a number, string, or
boolean and will all be stringified when returned.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="jwt_supported_algs" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="jwt_supported_algs permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#jwt_supported_algs"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">jwt_supported_algs</code></a> (Defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">[&quot;RS256&quot;]</code>) JWTSupportedAlgs is a list of
supported signing algorithms.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="bound_audiences" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="bound_audiences permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#bound_audiences"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">bound_audiences</code></a> (Defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">[]</code>) List of <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">aud</code> claims that are valid for
login; any match is sufficient.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="bound_issuer" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="bound_issuer permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#bound_issuer"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">bound_issuer</code></a> (Defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">&quot;&quot;</code>) The value against which to match the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">iss</code>
claim in a JWT.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="expiration_leeway" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="expiration_leeway permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#expiration_leeway"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">expiration_leeway</code></a> (Defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">&quot;0s&quot;</code>) Duration of leeway when
validating expiration of a token to account for clock skew. Defaults to 150s
(2.5 minutes) if set to 0s and can be disabled if set to -1ns.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="not_before_leeway" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="not_before_leeway permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#not_before_leeway"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">not_before_leeway</code></a> (Defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">&quot;0s&quot;</code>) Duration of leeway when
validating not before values of a token to account for clock skew. Defaults
to 150s (2.5 minutes) if set to 0s and can be disabled if set to -1.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="clock_skew_leeway" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="clock_skew_leeway permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#clock_skew_leeway"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">clock_skew_leeway</code></a> (Defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">&quot;0s&quot;</code>) Duration of leeway when
validating all claims to account for clock skew. Defaults to 60s (1 minute)
if set to 0s and can be disabled if set to -1ns.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="claim_assertions" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="claim_assertions permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#claim_assertions"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">claim_assertions</code></a> (Defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">[]</code>) List of assertions about the mapped
claims required to authorize the incoming RPC request. The syntax uses
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="https://github.com/hashicorp/go-bexpr">github.com/hashicorp/go-bexpr</a> which is shared with the
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/api-docs/features/filtering">API filtering feature</a>. For example, the following
configurations when combined will ensure that the JWT <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">sub</code> matches the node
name requested by the client.</p><div class="mdx-code-blocks_codeTabsMargin__XyBTZ style_root__Ib9Qn theme-dark_base__RNsat"><div style="height:0px;overflow:hidden;visibility:hidden" role="presentation" aria-hidden="true"><div class="style_topBar__0pZ_b"><div class="style_heading__2_7Zj g-type-body-small-strong">Ensure that the JWT sub matches the node name requested by the client</div><div class="style_tabsAsTabs__lZ0ce style_hasHeading__tsJPr"><button class="style_tabControl__A5k2n g-type-body-small-strong style_isActive__AmKFP style_hasHeading__tsJPr">HCL</button><button class="style_tabControl__A5k2n g-type-body-small-strong style_hasHeading__tsJPr">JSON</button></div></div></div><div class="style_topBar__0pZ_b"><div class="style_heading__2_7Zj g-type-body-small-strong">Ensure that the JWT sub matches the node name requested by the client</div><div class="style_tabsAsTabs__lZ0ce style_hasHeading__tsJPr"><button class="style_tabControl__A5k2n g-type-body-small-strong style_isActive__AmKFP style_hasHeading__tsJPr">HCL</button><button class="style_tabControl__A5k2n g-type-body-small-strong style_hasHeading__tsJPr">JSON</button></div></div><div><div style="display:block"><div class="g-code-block style_root__i1k0c language-hcl theme-dark_base__RNsat theme-dark_syntax__QCDzs style_hasBarAbove__gZA5T" data-heap-track="code-block"><div class="style_linesContainer__4N_nq"><pre class="code-lines_pre__t8gY5 language-hcl"><code class="code-lines_code__luWmT language-hcl"><span class="code-lines_linesColumn__M9Wn1 code-lines_styledScrollbars__37_Kl"><span class="code-lines_linesScrollableContent__UNs3H"><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ"><span class="token keyword">claim_mappings</span> <span class="token punctuation">{</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">  <span class="token property">sub</span> <span class="token punctuation">=</span> <span class="token string">&quot;node_name&quot;</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ"><span class="token punctuation">}</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ"><span class="token property">claim_assertions</span> <span class="token punctuation">=</span> <span class="token punctuation">[</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">  <span class="token string">&quot;value.node_name == \&quot;<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span>node<span class="token punctuation">}</span></span>\&quot;&quot;</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ"><span class="token punctuation">]</span>
</span></span></span></code></pre><div class="style_copyButtonContainer__yxcuf"><button class="style_button__8j_Rk" data-heap-track="code-block-clipboard-icon" type="button">Copy<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="style_svg__gtvGZ"><g fill="currentColor"><path d="M2.25 0A2.25 2.25 0 000 2.25v7.5A2.25 2.25 0 002.25 12h.25a.75.75 0 000-1.5h-.25a.75.75 0 01-.75-.75v-7.5a.75.75 0 01.75-.75h7.5a.75.75 0 01.75.75v.25a.75.75 0 001.5 0v-.25A2.25 2.25 0 009.75 0h-7.5z"></path><path fill-rule="evenodd" d="M6.25 4A2.25 2.25 0 004 6.25v7.5A2.25 2.25 0 006.25 16h7.5A2.25 2.25 0 0016 13.75v-7.5A2.25 2.25 0 0013.75 4h-7.5zM5.5 6.25a.75.75 0 01.75-.75h7.5a.75.75 0 01.75.75v7.5a.75.75 0 01-.75.75h-7.5a.75.75 0 01-.75-.75v-7.5z" clip-rule="evenodd"></path></g></svg></button></div></div></div></div><div style="display:none"><div class="g-code-block style_root__i1k0c language-json theme-dark_base__RNsat theme-dark_syntax__QCDzs style_hasBarAbove__gZA5T" data-heap-track="code-block"><div class="style_linesContainer__4N_nq"><pre class="code-lines_pre__t8gY5 language-json"><code class="code-lines_code__luWmT language-json"><span class="code-lines_linesColumn__M9Wn1 code-lines_styledScrollbars__37_Kl"><span class="code-lines_linesScrollableContent__UNs3H"><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ"><span class="token punctuation">{</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">  <span class="token property">&quot;claim_mappings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">    <span class="token property">&quot;sub&quot;</span><span class="token operator">:</span> <span class="token string">&quot;node_name&quot;</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">  <span class="token property">&quot;claim_assertions&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;value.node_name == \&quot;${node}\&quot;&quot;</span><span class="token punctuation">]</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ"><span class="token punctuation">}</span>
</span></span></span></code></pre><div class="style_copyButtonContainer__yxcuf"><button class="style_button__8j_Rk" data-heap-track="code-block-clipboard-icon" type="button">Copy<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="style_svg__gtvGZ"><g fill="currentColor"><path d="M2.25 0A2.25 2.25 0 000 2.25v7.5A2.25 2.25 0 002.25 12h.25a.75.75 0 000-1.5h-.25a.75.75 0 01-.75-.75v-7.5a.75.75 0 01.75-.75h7.5a.75.75 0 01.75.75v.25a.75.75 0 001.5 0v-.25A2.25 2.25 0 009.75 0h-7.5z"></path><path fill-rule="evenodd" d="M6.25 4A2.25 2.25 0 004 6.25v7.5A2.25 2.25 0 006.25 16h7.5A2.25 2.25 0 0016 13.75v-7.5A2.25 2.25 0 0013.75 4h-7.5zM5.5 6.25a.75.75 0 01.75-.75h7.5a.75.75 0 01.75.75v7.5a.75.75 0 01-.75.75h-7.5a.75.75 0 01-.75-.75v-7.5z" clip-rule="evenodd"></path></g></svg></button></div></div></div></div></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The assertions are lightly templated using <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="https://github.com/hashicorp/hil">HIL syntax</a>
to interpolate some values from the RPC request. The list of variables that can be interpolated
are:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="node" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="node permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#node"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">node</code></a> - The node name the client agent is requesting.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="segment" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="segment permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#segment"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">segment</code></a> <span class="enterprise-alert_root__mvEIF enterprise-alert_inline__IqpbC"><span class="g-screen-reader-only">Enterprise</span><span aria-hidden="true" class="badge_root___Z7Nt badge_medium__8VGoW badge_outlined-neutral__32YXY enterprise-alert_badge___N2fV"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="var(--token-color-consul-brand)"><path d="M4.737 14.193A7 7 0 008.006 15a6.98 6.98 0 004.735-1.847l-1.66-1.737a4.6 4.6 0 110-6.828l1.66-1.738a7 7 0 10-8.004 11.343zM13.32 11.402a.573.573 0 10.637-.953.573.573 0 00-.637.953z"></path><path d="M7.96 9.517a1.517 1.517 0 11-.012-3.034 1.517 1.517 0 01.013 3.034zM13.978 9.447a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 9.472a.574.574 0 110-1.148.574.574 0 010 1.148zM13.978 7.514a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 7.675a.574.574 0 110-1.148.574.574 0 010 1.148zM13.353 5.585a.574.574 0 10.635-.956.574.574 0 00-.635.956z"></path></g></svg><span>Enterprise</span></span></span> - The network segment name the client is requesting.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="partition" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="partition permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#partition"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">partition</code></a> <span class="enterprise-alert_root__mvEIF enterprise-alert_inline__IqpbC"><span class="g-screen-reader-only">Enterprise</span><span aria-hidden="true" class="badge_root___Z7Nt badge_medium__8VGoW badge_outlined-neutral__32YXY enterprise-alert_badge___N2fV"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="var(--token-color-consul-brand)"><path d="M4.737 14.193A7 7 0 008.006 15a6.98 6.98 0 004.735-1.847l-1.66-1.737a4.6 4.6 0 110-6.828l1.66-1.738a7 7 0 10-8.004 11.343zM13.32 11.402a.573.573 0 10.637-.953.573.573 0 00-.637.953z"></path><path d="M7.96 9.517a1.517 1.517 0 11-.012-3.034 1.517 1.517 0 01.013 3.034zM13.978 9.447a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 9.472a.574.574 0 110-1.148.574.574 0 010 1.148zM13.978 7.514a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 7.675a.574.574 0 110-1.148.574.574 0 010 1.148zM13.353 5.585a.574.574 0 10.635-.956.574.574 0 00-.635.956z"></path></g></svg><span>Enterprise</span></span></span> - The admin partition name the client is requesting.</p></li></ul></li></ul></li></ul></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="auto_reload_config" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="auto_reload_config permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#auto_reload_config"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">auto_reload_config</code></a> Equivalent to the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/cli-flags#_auto_reload_config"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-auto-reload-config</code> command-line flag</a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="bind_addr" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="bind_addr permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#bind_addr"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">bind_addr</code></a> Equivalent to the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/cli-flags#_bind"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-bind</code> command-line flag</a>.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">This parameter can be set to a go-sockaddr template that resolves to a single
address. Special characters such as backslashes <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">\</code> or double quotes <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">&quot;</code>
within a double quoted string value must be escaped with a backslash <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">\</code>.
Some example templates:</p><div class="mdx-code-blocks_codeTabsMargin__XyBTZ style_root__Ib9Qn theme-dark_base__RNsat"><div style="height:0px;overflow:hidden;visibility:hidden" role="presentation" aria-hidden="true"><div class="style_topBar__0pZ_b"><div class="style_tabsAsTabs__lZ0ce"><button class="style_tabControl__A5k2n g-type-body-small-strong style_isActive__AmKFP">HCL</button><button class="style_tabControl__A5k2n g-type-body-small-strong">JSON</button></div></div></div><div class="style_topBar__0pZ_b"><div class="style_tabsAsTabs__lZ0ce"><button class="style_tabControl__A5k2n g-type-body-small-strong style_isActive__AmKFP">HCL</button><button class="style_tabControl__A5k2n g-type-body-small-strong">JSON</button></div></div><div><div style="display:block"><div class="g-code-block style_root__i1k0c language-hcl theme-dark_base__RNsat theme-dark_syntax__QCDzs style_hasBarAbove__gZA5T" data-heap-track="code-block"><div class="style_linesContainer__4N_nq"><pre class="code-lines_pre__t8gY5 language-hcl"><code class="code-lines_code__luWmT language-hcl"><span class="code-lines_linesColumn__M9Wn1 code-lines_styledScrollbars__37_Kl"><span class="code-lines_linesScrollableContent__UNs3H"><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ"><span class="token property">bind_addr</span> <span class="token punctuation">=</span> <span class="token string">&quot;{{ GetPrivateInterfaces | include \&quot;network\&quot; \&quot;10.0.0.0/8\&quot; | attr \&quot;address\&quot; }}&quot;</span>
</span></span></span></code></pre><div class="style_copyButtonContainer__yxcuf"><button class="style_button__8j_Rk" data-heap-track="code-block-clipboard-icon" type="button">Copy<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="style_svg__gtvGZ"><g fill="currentColor"><path d="M2.25 0A2.25 2.25 0 000 2.25v7.5A2.25 2.25 0 002.25 12h.25a.75.75 0 000-1.5h-.25a.75.75 0 01-.75-.75v-7.5a.75.75 0 01.75-.75h7.5a.75.75 0 01.75.75v.25a.75.75 0 001.5 0v-.25A2.25 2.25 0 009.75 0h-7.5z"></path><path fill-rule="evenodd" d="M6.25 4A2.25 2.25 0 004 6.25v7.5A2.25 2.25 0 006.25 16h7.5A2.25 2.25 0 0016 13.75v-7.5A2.25 2.25 0 0013.75 4h-7.5zM5.5 6.25a.75.75 0 01.75-.75h7.5a.75.75 0 01.75.75v7.5a.75.75 0 01-.75.75h-7.5a.75.75 0 01-.75-.75v-7.5z" clip-rule="evenodd"></path></g></svg></button></div></div></div></div><div style="display:none"><div class="g-code-block style_root__i1k0c language-json theme-dark_base__RNsat theme-dark_syntax__QCDzs style_hasBarAbove__gZA5T" data-heap-track="code-block"><div class="style_linesContainer__4N_nq"><pre class="code-lines_pre__t8gY5 language-json"><code class="code-lines_code__luWmT language-json"><span class="code-lines_linesColumn__M9Wn1 code-lines_styledScrollbars__37_Kl"><span class="code-lines_linesScrollableContent__UNs3H"><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ"><span class="token punctuation">{</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">  <span class="token property">&quot;bind_addr&quot;</span><span class="token operator">:</span> <span class="token string">&quot;{{ GetPrivateInterfaces | include \&quot;network\&quot; \&quot;10.0.0.0/8\&quot; | attr \&quot;address\&quot; }}&quot;</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ"><span class="token punctuation">}</span>
</span></span></span></code></pre><div class="style_copyButtonContainer__yxcuf"><button class="style_button__8j_Rk" data-heap-track="code-block-clipboard-icon" type="button">Copy<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="style_svg__gtvGZ"><g fill="currentColor"><path d="M2.25 0A2.25 2.25 0 000 2.25v7.5A2.25 2.25 0 002.25 12h.25a.75.75 0 000-1.5h-.25a.75.75 0 01-.75-.75v-7.5a.75.75 0 01.75-.75h7.5a.75.75 0 01.75.75v.25a.75.75 0 001.5 0v-.25A2.25 2.25 0 009.75 0h-7.5z"></path><path fill-rule="evenodd" d="M6.25 4A2.25 2.25 0 004 6.25v7.5A2.25 2.25 0 006.25 16h7.5A2.25 2.25 0 0016 13.75v-7.5A2.25 2.25 0 0013.75 4h-7.5zM5.5 6.25a.75.75 0 01.75-.75h7.5a.75.75 0 01.75.75v7.5a.75.75 0 01-.75.75h-7.5a.75.75 0 01-.75-.75v-7.5z" clip-rule="evenodd"></path></g></svg></button></div></div></div></div></div></div></li><li class="mdx-lists_listItem__nkqhg"><a id="cache" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="cache permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#cache"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">cache</code></a> configuration for client agents. When an <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">?index</code> query parameter is specified but &#x27;?cached&#x27; is not appended in a <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/api-docs/features/blocking#streaming-backend">streaming backend call</a>, Consul bypasses these configuration values. The configurable values are the following:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="entry_fetch_max_burst" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="entry_fetch_max_burst permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#entry_fetch_max_burst"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">entry_fetch_max_burst</code></a> The size of the token bucket used to recharge the rate-limit per
cache entry. The default value is 2 and means that when cache has not been updated
for a long time, 2 successive queries can be made as long as the rate-limit is not
reached.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="entry_fetch_rate" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="entry_fetch_rate permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#entry_fetch_rate"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">entry_fetch_rate</code></a> configures the rate-limit at which the cache may refresh a single
entry. On a cluster with many changes/s, watching changes in the cache might put high
pressure on the servers. This ensures the number of requests for a single cache entry
will never go beyond this limit, even when a given service changes every 1/100s.
Since this is a per cache entry limit, having a highly unstable service will only rate
limit the watched on this service, but not the other services/entries.
The value is strictly positive, expressed in queries per second as a float,
1 means 1 query per second, 0.1 mean 1 request every 10s maximum.
The default value is &quot;No limit&quot; and should be tuned on large
clusters to avoid performing too many RPCs on entries changing a lot.</p></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="check_update_interval" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="check_update_interval" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="check_update_interval permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#check_update_interval"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">check_update_interval</code></a>
This interval controls how often check output from checks in a steady state is
synchronized with the server. By default, this is set to 5 minutes (&quot;5m&quot;). Many
checks which are in a steady state produce slightly different output per run (timestamps,
etc) which cause constant writes. This configuration allows deferring the sync
of check output for a given interval to reduce write pressure. If a check ever
changes state, the new state and associated output is synchronized immediately.
To disable this behavior, set the value to &quot;0s&quot;.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="client_addr" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="client_addr permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#client_addr"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">client_addr</code></a> Equivalent to the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/cli-flags#_client"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-client</code> command-line flag</a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="config_entries" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="config_entries permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#config_entries"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">config_entries</code></a> This object allows setting options for centralized config entries.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The following sub-keys are available:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="bootstrap" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="config_entries_bootstrap" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="bootstrap permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#config_entries_bootstrap"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">bootstrap</code></a>
This is a list of inlined config entries to insert into the state store when
the Consul server gains leadership. This option is only applicable to server
nodes. Each bootstrap entry will be created only if it does not exist. When reloading,
any new entries that have been added to the configuration will be processed.
See the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config-entries">configuration entry docs</a> for more
details about the contents of each entry.</li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="datacenter" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="datacenter permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#datacenter"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">datacenter</code></a> Equivalent to the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/cli-flags#_datacenter"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-datacenter</code> command-line flag</a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="data_dir" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="data_dir permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#data_dir"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">data_dir</code></a> Equivalent to the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/cli-flags#_data_dir"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-data-dir</code> command-line flag</a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="default_intention_policy" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="default_intention_policy permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#default_intention_policy"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">default_intention_policy</code></a> Controls how service-to-service traffic is authorized
in the absence of specific intentions.
Can be set to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">allow</code>, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">deny</code>, or left empty to default to <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#acl_default_policy"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">acl.default_policy</code></a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="disable_anonymous_signature" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="disable_anonymous_signature permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#disable_anonymous_signature"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">disable_anonymous_signature</code></a> Disables providing an anonymous
signature for de-duplication with the update check. See <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#disable_update_check"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">disable_update_check</code></a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="disable_http_unprintable_char_filter" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="disable_http_unprintable_char_filter permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#disable_http_unprintable_char_filter"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">disable_http_unprintable_char_filter</code></a> Defaults to false. Consul 1.0.3 fixed a potential security vulnerability where malicious users could craft KV keys with unprintable chars that would confuse operators using the CLI or UI into taking wrong actions. Users who had data written in older versions of Consul that did not have this restriction will be unable to delete those values by default in 1.0.3 or later. This setting enables those users to <strong>temporarily</strong> disable the filter such that delete operations can work on those keys again to get back to a healthy state. It is strongly recommended that this filter is not disabled permanently as it exposes the original security vulnerability.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="disable_remote_exec" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="disable_remote_exec permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#disable_remote_exec"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">disable_remote_exec</code></a> Disables support for remote execution. When set to true, the agent will ignore
any incoming remote exec requests. In versions of Consul prior to 0.8, this defaulted
to false. In Consul 0.8 the default was changed to true, to make remote exec opt-in
instead of opt-out.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="disable_update_check" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="disable_update_check permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#disable_update_check"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">disable_update_check</code></a> Disables automatic checking for security bulletins and new version releases. This is disabled in Consul Enterprise.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="discard_check_output" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="discard_check_output permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#discard_check_output"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">discard_check_output</code></a> Discards the output of health checks before storing them. This reduces the number of writes to the Consul raft log in environments where health checks have volatile output like timestamps, process ids, ...</p></li><li class="mdx-lists_listItem__nkqhg"><a id="discovery_max_stale" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="discovery_max_stale permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#discovery_max_stale"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">discovery_max_stale</code></a> - Enables stale requests for all service discovery HTTP endpoints. This is
equivalent to the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#max_stale"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">max_stale</code></a> configuration for DNS requests. If this value is zero (default), all service discovery HTTP endpoints are forwarded to the leader. If this value is greater than zero, any Consul server can handle the service discovery request. If a Consul server is behind the leader by more than <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">discovery_max_stale</code>, the query will be re-evaluated on the leader to get more up-to-date results. Consul agents also add a new <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">X-Consul-Effective-Consistency</code> response header which indicates if the agent did a stale read. <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">discover-max-stale</code> was introduced in Consul 1.0.7 as a way for Consul operators to force stale requests from clients at the agent level, and defaults to zero which matches default consistency behavior in earlier Consul versions.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="enable_agent_tls_for_checks" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="enable_agent_tls_for_checks permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#enable_agent_tls_for_checks"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enable_agent_tls_for_checks</code></a> When set, uses a subset of the agent&#x27;s TLS configuration (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">key_file</code>,
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">cert_file</code>, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ca_file</code>, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ca_path</code>, and <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">server_name</code>) to set up the client for HTTP or gRPC health checks. This allows services requiring 2-way TLS to be checked using the agent&#x27;s credentials. This was added in Consul 1.0.1 and defaults to false.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="enable_central_service_config" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="enable_central_service_config permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#enable_central_service_config"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enable_central_service_config</code></a> When set, the Consul agent will look for any
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config-entries">centralized service configuration</a>
that match a registering service instance. If it finds any, the agent will merge the centralized defaults with the service instance configuration. This allows for things like service protocol or proxy configuration to be defined centrally and inherited by any affected service registrations.
This defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">false</code> in versions of Consul prior to 1.9.0, and defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">true</code> in Consul 1.9.0 and later.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="enable_debug" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="enable_debug permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#enable_debug"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enable_debug</code></a> (boolean, default is <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">false</code>): When set to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">true</code>, enables Consul to report additional debugging information, including runtime profiling (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">pprof</code>) data. This setting is only required for clusters without ACL <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#acl_enabled">enabled</a>. If you change this setting, you must restart the agent for the change to take effect.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="enable_script_checks" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="enable_script_checks permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#enable_script_checks"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enable_script_checks</code></a> Equivalent to the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/cli-flags#_enable_script_checks"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-enable-script-checks</code> command-line flag</a>.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">ACLs must be enabled for agents and the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enable_script_checks</code> option must be set to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">true</code> to enable script checks in Consul 0.9.0 and later. See <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/security/acl/acl-rules#registering-and-querying-node-information">Registering and Querying Node Information</a> for related information.</p><div class="alert alert-warning g-type-body"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><strong>Security Warning:</strong> Enabling script checks in some configurations may introduce a known remote execution vulnerability targeted by malware. We strongly recommend <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enable_local_script_checks</code> instead. Refer to the following article for additional guidance: <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="https://www.hashicorp.com/blog/protecting-consul-from-rce-risk-in-specific-configurations"><em>Protecting Consul from RCE Risk in Specific Configurations</em></a>
for more details.</p></div></li><li class="mdx-lists_listItem__nkqhg"><a id="enable_local_script_checks" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="enable_local_script_checks permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#enable_local_script_checks"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enable_local_script_checks</code></a> Equivalent to the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/cli-flags#_enable_local_script_checks"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-enable-local-script-checks</code> command-line flag</a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="disable_keyring_file" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="disable_keyring_file permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#disable_keyring_file"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">disable_keyring_file</code></a> - Equivalent to the
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/cli-flags#_disable_keyring_file"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-disable-keyring-file</code> command-line flag</a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="disable_coordinates" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="disable_coordinates permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#disable_coordinates"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">disable_coordinates</code></a> - Disables sending of <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/architecture/coordinates">network coordinates</a>.
When network coordinates are disabled the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">near</code> query param will not work to sort the nodes,
and the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/commands/rtt"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">consul rtt</code></a> command will not be able to provide round trip time between nodes.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="http_config" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="http_config permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#http_config"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">http_config</code></a> This object allows setting options for the HTTP API and UI.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The following sub-keys are available:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="block_endpoints" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="block_endpoints permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#block_endpoints"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">block_endpoints</code></a>
This object is a list of HTTP API endpoint prefixes to block on the agent, and
defaults to an empty list, meaning all endpoints are enabled. Any endpoint that
has a common prefix with one of the entries on this list will be blocked and
will return a 403 response code when accessed. For example, to block all of the
V1 ACL endpoints, set this to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">[&quot;/v1/acl&quot;]</code>, which will block <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/v1/acl/create</code>,
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/v1/acl/update</code>, and the other ACL endpoints that begin with <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/v1/acl</code>. This
only works with API endpoints, not <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/ui</code> or <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/debug</code>, those must be disabled
with their respective configuration options. Any CLI commands that use disabled
endpoints will no longer function as well. For more general access control, Consul&#x27;s
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/tutorials/security/access-control-setup-production">ACL system</a>
should be used, but this option is useful for removing access to HTTP API endpoints
completely, or on specific agents. This is available in Consul 0.9.0 and later.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="response_headers" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="response_headers permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#response_headers"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">response_headers</code></a> This object allows adding headers to the HTTP API and UI responses. For example, the following config can be used to enable <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="https://en.wikipedia.org/wiki/Cross-origin_resource_sharing">CORS</a> on the HTTP API endpoints:</p><div class="mdx-code-blocks_codeTabsMargin__XyBTZ style_root__Ib9Qn theme-dark_base__RNsat"><div style="height:0px;overflow:hidden;visibility:hidden" role="presentation" aria-hidden="true"><div class="style_topBar__0pZ_b"><div class="style_heading__2_7Zj g-type-body-small-strong">Enable CORS on the HTTP API endpoints</div><div class="style_tabsAsTabs__lZ0ce style_hasHeading__tsJPr"><button class="style_tabControl__A5k2n g-type-body-small-strong style_isActive__AmKFP style_hasHeading__tsJPr">HCL</button><button class="style_tabControl__A5k2n g-type-body-small-strong style_hasHeading__tsJPr">JSON</button></div></div></div><div class="style_topBar__0pZ_b"><div class="style_heading__2_7Zj g-type-body-small-strong">Enable CORS on the HTTP API endpoints</div><div class="style_tabsAsTabs__lZ0ce style_hasHeading__tsJPr"><button class="style_tabControl__A5k2n g-type-body-small-strong style_isActive__AmKFP style_hasHeading__tsJPr">HCL</button><button class="style_tabControl__A5k2n g-type-body-small-strong style_hasHeading__tsJPr">JSON</button></div></div><div><div style="display:block"><div class="g-code-block style_root__i1k0c language-hcl theme-dark_base__RNsat theme-dark_syntax__QCDzs style_hasBarAbove__gZA5T" data-heap-track="code-block"><div class="style_linesContainer__4N_nq"><pre class="code-lines_pre__t8gY5 language-hcl"><code class="code-lines_code__luWmT language-hcl"><span class="code-lines_linesColumn__M9Wn1 code-lines_styledScrollbars__37_Kl"><span class="code-lines_linesScrollableContent__UNs3H"><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ"><span class="token keyword">http_config</span> <span class="token punctuation">{</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">  <span class="token keyword">response_headers</span> <span class="token punctuation">{</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">    <span class="token property">Access-Control-Allow-Origin</span> <span class="token punctuation">=</span> <span class="token string">&quot;*&quot;</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">  <span class="token punctuation">}</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ"><span class="token punctuation">}</span>
</span></span></span></code></pre><div class="style_copyButtonContainer__yxcuf"><button class="style_button__8j_Rk" data-heap-track="code-block-clipboard-icon" type="button">Copy<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="style_svg__gtvGZ"><g fill="currentColor"><path d="M2.25 0A2.25 2.25 0 000 2.25v7.5A2.25 2.25 0 002.25 12h.25a.75.75 0 000-1.5h-.25a.75.75 0 01-.75-.75v-7.5a.75.75 0 01.75-.75h7.5a.75.75 0 01.75.75v.25a.75.75 0 001.5 0v-.25A2.25 2.25 0 009.75 0h-7.5z"></path><path fill-rule="evenodd" d="M6.25 4A2.25 2.25 0 004 6.25v7.5A2.25 2.25 0 006.25 16h7.5A2.25 2.25 0 0016 13.75v-7.5A2.25 2.25 0 0013.75 4h-7.5zM5.5 6.25a.75.75 0 01.75-.75h7.5a.75.75 0 01.75.75v7.5a.75.75 0 01-.75.75h-7.5a.75.75 0 01-.75-.75v-7.5z" clip-rule="evenodd"></path></g></svg></button></div></div></div></div><div style="display:none"><div class="g-code-block style_root__i1k0c language-json theme-dark_base__RNsat theme-dark_syntax__QCDzs style_hasBarAbove__gZA5T" data-heap-track="code-block"><div class="style_linesContainer__4N_nq"><pre class="code-lines_pre__t8gY5 language-json"><code class="code-lines_code__luWmT language-json"><span class="code-lines_linesColumn__M9Wn1 code-lines_styledScrollbars__37_Kl"><span class="code-lines_linesScrollableContent__UNs3H"><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ"><span class="token punctuation">{</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">  <span class="token property">&quot;http_config&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">    <span class="token property">&quot;response_headers&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">      <span class="token property">&quot;Access-Control-Allow-Origin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;*&quot;</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">    <span class="token punctuation">}</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">  <span class="token punctuation">}</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ"><span class="token punctuation">}</span>
</span></span></span></code></pre><div class="style_copyButtonContainer__yxcuf"><button class="style_button__8j_Rk" data-heap-track="code-block-clipboard-icon" type="button">Copy<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="style_svg__gtvGZ"><g fill="currentColor"><path d="M2.25 0A2.25 2.25 0 000 2.25v7.5A2.25 2.25 0 002.25 12h.25a.75.75 0 000-1.5h-.25a.75.75 0 01-.75-.75v-7.5a.75.75 0 01.75-.75h7.5a.75.75 0 01.75.75v.25a.75.75 0 001.5 0v-.25A2.25 2.25 0 009.75 0h-7.5z"></path><path fill-rule="evenodd" d="M6.25 4A2.25 2.25 0 004 6.25v7.5A2.25 2.25 0 006.25 16h7.5A2.25 2.25 0 0016 13.75v-7.5A2.25 2.25 0 0013.75 4h-7.5zM5.5 6.25a.75.75 0 01.75-.75h7.5a.75.75 0 01.75.75v7.5a.75.75 0 01-.75.75h-7.5a.75.75 0 01-.75-.75v-7.5z" clip-rule="evenodd"></path></g></svg></button></div></div></div></div></div></div></li><li class="mdx-lists_listItem__nkqhg"><a id="allow_write_http_from" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="allow_write_http_from permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#allow_write_http_from"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">allow_write_http_from</code></a> This object is a list of networks in CIDR notation (eg &quot;127.0.0.0/8&quot;) that are allowed to call the agent write endpoints. It defaults to an empty list, which means all networks are allowed. This is used to make the agent read-only, except for select ip ranges. - To block write calls from anywhere, use <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">[ &quot;255.255.255.255/32&quot; ]</code>. - To only allow write calls from localhost, use <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">[ &quot;127.0.0.0/8&quot; ]</code> - To only allow specific IPs, use <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">[ &quot;10.0.0.1/32&quot;, &quot;10.0.0.2/32&quot; ]</code></p></li><li class="mdx-lists_listItem__nkqhg"><a id="use_cache" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="http_config_use_cache" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="use_cache permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#http_config_use_cache"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">use_cache</code></a> Defaults to true. If disabled, the agent won&#x27;t be using <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/api-docs/features/caching">agent caching</a> to answer the request. Even when the url parameter is provided.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="max_header_bytes" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="max_header_bytes permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#max_header_bytes"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">max_header_bytes</code></a> This setting controls the maximum number of bytes the consul http server will read parsing the request header&#x27;s keys and values, including the request line. It does not limit the size of the request body. If zero, or negative, http.DefaultMaxHeaderBytes is used, which equates to 1 Megabyte.</p></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="leave_on_terminate" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="leave_on_terminate permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#leave_on_terminate"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">leave_on_terminate</code></a> If enabled, when the agent receives a TERM signal, it will send a <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">Leave</code> message to the rest of the cluster and gracefully leave. The default behavior for this feature varies based on whether or not the agent is running as a client or a server (prior to Consul 0.7 the default value was unconditionally set to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">false</code>). On agents in client-mode, this defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">true</code> and for agents in server-mode, this defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">false</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="license_path" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="license_path permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#license_path"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">license_path</code></a> <span class="enterprise-alert_root__mvEIF enterprise-alert_inline__IqpbC"><span class="g-screen-reader-only">Enterprise</span><span aria-hidden="true" class="badge_root___Z7Nt badge_medium__8VGoW badge_outlined-neutral__32YXY enterprise-alert_badge___N2fV"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="var(--token-color-consul-brand)"><path d="M4.737 14.193A7 7 0 008.006 15a6.98 6.98 0 004.735-1.847l-1.66-1.737a4.6 4.6 0 110-6.828l1.66-1.738a7 7 0 10-8.004 11.343zM13.32 11.402a.573.573 0 10.637-.953.573.573 0 00-.637.953z"></path><path d="M7.96 9.517a1.517 1.517 0 11-.012-3.034 1.517 1.517 0 01.013 3.034zM13.978 9.447a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 9.472a.574.574 0 110-1.148.574.574 0 010 1.148zM13.978 7.514a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 7.675a.574.574 0 110-1.148.574.574 0 010 1.148zM13.353 5.585a.574.574 0 10.635-.956.574.574 0 00-.635.956z"></path></g></svg><span>Enterprise</span></span></span> This specifies the path to a file that contains the Consul Enterprise license. Alternatively the license may also be specified in either the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">CONSUL_LICENSE</code> or <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">CONSUL_LICENSE_PATH</code> environment variables. See the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/enterprise/license/overview">licensing documentation</a> for more information about Consul Enterprise license management. Added in versions 1.10.0, 1.9.7 and 1.8.13. Prior to version 1.10.0 the value may be set for all agents to facilitate forwards compatibility with 1.10 but will only actually be used by client agents.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="limits" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="limits permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#limits"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">limits</code></a>: This block specifies various types of limits that the Consul server agent enforces.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="http_max_conns_per_client" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="http_max_conns_per_client permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#http_max_conns_per_client"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">http_max_conns_per_client</code></a> - Configures a limit of how many concurrent TCP connections a single client IP address is allowed to open to the agent&#x27;s HTTP(S) server. This affects the HTTP(S) servers in both client and server agents. Default value is <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">200</code>.</li><li class="mdx-lists_listItem__nkqhg"><a id="https_handshake_timeout" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="https_handshake_timeout permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#https_handshake_timeout"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">https_handshake_timeout</code></a> - Configures the limit for how long the HTTPS server in both client and server agents will wait for a client to complete a TLS handshake. This should be kept conservative as it limits how many connections an unauthenticated attacker can open if <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">verify_incoming</code> is being using to authenticate clients (strongly recommended in production). Default value is <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">5s</code>.</li><li class="mdx-lists_listItem__nkqhg"><a id="request_limits" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="request_limits permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#request_limits"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">request_limits</code></a> - This object specifies configurations that limit the rate of RPC and gRPC requests on the Consul server. Limiting the rate of gRPC and RPC requests also limits HTTP requests to the Consul server.<ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="mode-1" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="mode permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#mode-1"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">mode</code></a> - String value that specifies an action to take if the rate of requests exceeds the limit. You can specify the following values:<ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="permissive" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="permissive permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#permissive"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">permissive</code></a>: The server continues to allow requests and records an error in the logs.</li><li class="mdx-lists_listItem__nkqhg"><a id="enforcing" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="enforcing permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#enforcing"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enforcing</code></a>: The server stops accepting requests and records an error in the logs.</li><li class="mdx-lists_listItem__nkqhg"><a id="disabled" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="disabled permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#disabled"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">disabled</code></a>: Limits are not enforced or tracked. This is the default value for <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">mode</code>.</li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="read_rate" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="read_rate permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#read_rate"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">read_rate</code></a> - Integer value that specifies the number of read requests per second. Default is <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-1</code> which represents infinity.</li><li class="mdx-lists_listItem__nkqhg"><a id="write_rate" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="write_rate permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#write_rate"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">write_rate</code></a> - Integer value that specifies the number of write requests per second. Default is <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-1</code> which represents infinity.</li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="rpc_handshake_timeout" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="rpc_handshake_timeout permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#rpc_handshake_timeout"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">rpc_handshake_timeout</code></a> - Configures the limit for how long servers will wait after a client TCP connection is established before they complete the connection handshake. When TLS is used, the same timeout applies to the TLS handshake separately from the initial protocol negotiation. All Consul clients should perform this immediately on establishing a new connection. This should be kept conservative as it limits how many connections an unauthenticated attacker can open if <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">verify_incoming</code> is being using to authenticate clients (strongly recommended in production). When <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">verify_incoming</code> is true on servers, this limits how long the connection socket and associated goroutines will be held open before the client successfully authenticates. Default value is <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">5s</code>.</li><li class="mdx-lists_listItem__nkqhg"><a id="rpc_client_timeout" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="rpc_client_timeout permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#rpc_client_timeout"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">rpc_client_timeout</code></a> - Configures the limit for how long a client is allowed to read from an RPC connection. This is used to set an upper bound for calls to eventually terminate so that RPC connections are not held indefinitely. Blocking queries can override this timeout. Default is <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">60s</code>.</li><li class="mdx-lists_listItem__nkqhg"><a id="rpc_max_conns_per_client" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="rpc_max_conns_per_client permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#rpc_max_conns_per_client"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">rpc_max_conns_per_client</code></a> - Configures a limit of how many concurrent TCP connections a single source IP address is allowed to open to a single server. It affects both clients connections and other server connections. In general Consul clients multiplex many RPC calls over a single TCP connection so this can typically be kept low. It needs to be more than one though since servers open at least one additional connection for raft RPC, possibly more for WAN federation when using network areas, and snapshot requests from clients run over a separate TCP conn. A reasonably low limit significantly reduces the ability of an unauthenticated attacker to consume unbounded resources by holding open many connections. You may need to increase this if WAN federated servers connect via proxies or NAT gateways or similar causing many legitimate connections from a single source IP. Default value is <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">100</code> which is designed to be extremely conservative to limit issues with certain deployment patterns. Most deployments can probably reduce this safely. 100 connections on modern server hardware should not cause a significant impact on resource usage from an unauthenticated attacker though.</li><li class="mdx-lists_listItem__nkqhg"><a id="rpc_rate" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="rpc_rate permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#rpc_rate"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">rpc_rate</code></a> - Configures the RPC rate limiter on Consul <em>clients</em> by setting the maximum request rate that this agent is allowed to make for RPC requests to Consul servers, in requests per second. Defaults to infinite, which disables rate limiting.</li><li class="mdx-lists_listItem__nkqhg"><a id="rpc_max_burst" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="rpc_max_burst permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#rpc_max_burst"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">rpc_max_burst</code></a> - The size of the token bucket used to recharge the RPC rate limiter on Consul <em>clients</em>. Defaults to 1000 tokens, and each token is good for a single RPC call to a Consul server. See <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="https://en.wikipedia.org/wiki/Token_bucket">https://en.wikipedia.org/wiki/Token_bucket</a> for more details about how token bucket rate limiters operate.</li><li class="mdx-lists_listItem__nkqhg"><a id="kv_max_value_size" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="kv_max_value_size permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#kv_max_value_size"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">kv_max_value_size</code></a> - <strong>(Advanced)</strong> Configures the maximum number of bytes for a kv request body to the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/api-docs/kv"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/v1/kv</code></a> endpoint. This limit defaults to <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="https://github.com/hashicorp/raft">raft&#x27;s</a> suggested max size (512KB). <strong>Note that tuning these improperly can cause Consul to fail in unexpected ways</strong>, it may potentially affect leadership stability and prevent timely heartbeat signals by increasing RPC IO duration. This option affects the txn endpoint too, but Consul 1.7.2 introduced <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">txn_max_req_len</code> which is the preferred way to set the limit for the txn endpoint. If both limits are set, the higher one takes precedence.</li><li class="mdx-lists_listItem__nkqhg"><a id="txn_max_req_len" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="txn_max_req_len permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#txn_max_req_len"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">txn_max_req_len</code></a> - <strong>(Advanced)</strong> Configures the maximum number of bytes for a transaction request body to the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/api-docs/txn"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/v1/txn</code></a> endpoint. This limit defaults to <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="https://github.com/hashicorp/raft">raft&#x27;s</a> suggested max size (512KB). <strong>Note that tuning these improperly can cause Consul to fail in unexpected ways</strong>, it may potentially affect leadership stability and prevent timely heartbeat signals by increasing RPC IO duration.</li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="default_query_time" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="default_query_time permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#default_query_time"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">default_query_time</code></a> Equivalent to the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/cli-flags#_default_query_time"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-default-query-time</code> command-line flag</a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="max_query_time" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="max_query_time permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#max_query_time"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">max_query_time</code></a> Equivalent to the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/cli-flags#_max_query_time"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-max-query-time</code> command-line flag</a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="peering" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="peering permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#peering"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">peering</code></a> This object allows setting options for cluster peering.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The following sub-keys are available:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="enabled-3" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="peering_enabled" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="enabled permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#peering_enabled"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enabled</code></a> (Defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">true</code>) Controls whether cluster peering is enabled.
When disabled, the UI won&#x27;t show peering, all peering APIs will return
an error, any peerings stored in Consul already will be ignored (but they will not be deleted),
and all peering connections from other clusters will be rejected. This was added in Consul 1.13.0.</li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="partition-1" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="partition permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#partition-1"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">partition</code></a> <span class="enterprise-alert_root__mvEIF enterprise-alert_inline__IqpbC"><span class="g-screen-reader-only">Enterprise</span><span aria-hidden="true" class="badge_root___Z7Nt badge_medium__8VGoW badge_outlined-neutral__32YXY enterprise-alert_badge___N2fV"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="var(--token-color-consul-brand)"><path d="M4.737 14.193A7 7 0 008.006 15a6.98 6.98 0 004.735-1.847l-1.66-1.737a4.6 4.6 0 110-6.828l1.66-1.738a7 7 0 10-8.004 11.343zM13.32 11.402a.573.573 0 10.637-.953.573.573 0 00-.637.953z"></path><path d="M7.96 9.517a1.517 1.517 0 11-.012-3.034 1.517 1.517 0 01.013 3.034zM13.978 9.447a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 9.472a.574.574 0 110-1.148.574.574 0 010 1.148zM13.978 7.514a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 7.675a.574.574 0 110-1.148.574.574 0 010 1.148zM13.353 5.585a.574.574 0 10.635-.956.574.574 0 00-.635.956z"></path></g></svg><span>Enterprise</span></span></span> - This flag is used to set
the name of the admin partition the agent belongs to. An agent can only join
and communicate with other agents within its admin partition. Review the
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/enterprise/admin-partitions">Admin Partitions documentation</a> for more
details. By default, this is an empty string, which is the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">default</code> admin
partition. This cannot be set on a server agent.</p><div class="alert alert-warning g-type-body"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><strong>Warning:</strong> The <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">partition</code> option cannot be used either the
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#segment-2"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">segment</code></a> option or <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/cli-flags#_segment"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-segment</code></a> flag.</p></div></li><li class="mdx-lists_listItem__nkqhg"><a id="performance" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="performance permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#performance"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">performance</code></a> Available in Consul 0.7 and later, this is a nested object that allows tuning the performance of different subsystems in Consul. See the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/install/performance">Server Performance</a> documentation for more details. The following parameters are available:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="leave_drain_time" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="leave_drain_time permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#leave_drain_time"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">leave_drain_time</code></a> - A duration that a server will dwell during a graceful leave in order to allow requests to be retried against other Consul servers. Under normal circumstances, this can prevent clients from experiencing &quot;no leader&quot; errors when performing a rolling update of the Consul servers. This was added in Consul 1.0. Must be a duration value such as 10s. Defaults to 5s.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="raft_multiplier" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="raft_multiplier permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#raft_multiplier"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">raft_multiplier</code></a> - An integer multiplier used by Consul servers to scale key Raft timing parameters. Omitting this value or setting it to 0 uses default timing described below. Lower values are used to tighten timing and increase sensitivity while higher values relax timings and reduce sensitivity. Tuning this affects the time it takes Consul to detect leader failures and to perform leader elections, at the expense of requiring more network and CPU resources for better performance.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">By default, Consul will use a lower-performance timing that&#x27;s suitable
for <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/install/performance#minimum">minimal Consul servers</a>, currently equivalent
to setting this to a value of 5 (this default may be changed in future versions of Consul,
depending if the target minimum server profile changes). Setting this to a value of 1 will
configure Raft to its highest-performance mode, equivalent to the default timing of Consul
prior to 0.7, and is recommended for <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/install/performance#production">production Consul servers</a>.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">See the note on <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/install/performance#production-server-requirements">last contact</a> timing for more
details on tuning this parameter. The maximum allowed value is 10.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="rpc_hold_timeout" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="rpc_hold_timeout permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#rpc_hold_timeout"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">rpc_hold_timeout</code></a> - A duration that a client
or server will retry internal RPC requests during leader elections. Under normal
circumstances, this can prevent clients from experiencing &quot;no leader&quot; errors.
This was added in Consul 1.0. Must be a duration value such as 10s. Defaults
to 7s.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="grpc_keepalive_interval" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="grpc_keepalive_interval permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#grpc_keepalive_interval"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">grpc_keepalive_interval</code></a> - A duration that determines the frequency that Consul servers send keep-alive messages to inactive gRPC clients. Configure this setting to modify how quickly Consul detects and removes improperly closed xDS or peering connections. Default is <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">30s</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="grpc_keepalive_timeout" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="grpc_keepalive_timeout permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#grpc_keepalive_timeout"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">grpc_keepalive_timeout</code></a> - A duration that determines how long a Consul server waits for a reply to a keep-alive message. If the server does not receive a reply before the end of the duration, Consul flags the gRPC connection as unhealthy and forcibly removes it. Defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">20s</code>.</p></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="pid_file" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="pid_file permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#pid_file"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">pid_file</code></a> Equivalent to the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/cli-flags#_pid_file"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-pid-file</code> command line flag</a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="ports" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="ports permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#ports"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ports</code></a> This is a nested object that allows setting the bind ports for the following keys:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="dns-1" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="dns_port" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="dns permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#dns_port"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">dns</code></a> - The DNS server, -1 to disable. Default 8600.
TCP and UDP.</li><li class="mdx-lists_listItem__nkqhg"><a id="http-1" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="http_port" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="http permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#http_port"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">http</code></a> - The HTTP API, -1 to disable. Default 8500.
TCP only.</li><li class="mdx-lists_listItem__nkqhg"><a id="https-1" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="https_port" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="https permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#https_port"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">https</code></a> - The HTTPS API, -1 to disable. Default -1
(disabled). <strong>We recommend using <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">8501</code></strong> for <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">https</code> by convention as some tooling
will work automatically with this.</li><li class="mdx-lists_listItem__nkqhg"><a id="grpc-1" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="grpc_port" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="grpc permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#grpc_port"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">grpc</code></a> - The gRPC API, -1 to disable. Default -1 (disabled).
<strong>We recommend using <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">8502</code> for <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">grpc</code></strong> as your conventional gRPC port number, as it allows some
tools to work automatically. This parameter is set to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">8502</code> by default when the agent runs
in <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-dev</code> mode. The <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">grpc</code> port only supports plaintext traffic starting in Consul 1.14.
Refer to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">grpc_tls</code> for more information on configuring a TLS-enabled port.</li><li class="mdx-lists_listItem__nkqhg"><a id="grpc_tls-1" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="grpc_tls_port" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="grpc_tls permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#grpc_tls_port"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">grpc_tls</code></a> - The gRPC API with TLS connections, -1 to disable. gRPC_TLS is enabled by default on port 8503 for Consul servers.
<strong>We recommend using <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">8503</code> for <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">grpc_tls</code></strong> as your conventional gRPC port number, as it allows some
tools to work automatically. <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">grpc_tls</code> is always guaranteed to be encrypted. Both <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">grpc</code> and <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">grpc_tls</code>
can be configured at the same time, but they may not utilize the same port number. This field was added in Consul 1.14.</li><li class="mdx-lists_listItem__nkqhg"><a id="serf_lan" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="serf_lan_port" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="serf_lan permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#serf_lan_port"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">serf_lan</code></a> - The Serf LAN port. Default 8301. TCP
and UDP. Equivalent to the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/cli-flags#_serf_lan_port"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-serf-lan-port</code> command line flag</a>.</li><li class="mdx-lists_listItem__nkqhg"><a id="serf_wan" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="serf_wan_port" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="serf_wan permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#serf_wan_port"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">serf_wan</code></a> - The Serf WAN port. Default 8302.
Equivalent to the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/cli-flags#_serf_wan_port"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-serf-wan-port</code> command line flag</a>. Set
to -1 to disable. <strong>Note</strong>: this will disable WAN federation which is not recommended.
Various catalog and WAN related endpoints will return errors or empty results.
TCP and UDP.</li><li class="mdx-lists_listItem__nkqhg"><a id="server" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="server_rpc_port" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="server permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#server_rpc_port"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">server</code></a> - Server RPC address. Default 8300. TCP
only.</li><li class="mdx-lists_listItem__nkqhg"><a id="sidecar_min_port" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="sidecar_min_port" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="sidecar_min_port permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#sidecar_min_port"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">sidecar_min_port</code></a> - Inclusive minimum port number
to use for automatically assigned <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/connect/proxies/deploy-sidecar-services">sidecar service registrations</a>.
Default 21000. Set to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">0</code> to disable automatic port assignment.</li><li class="mdx-lists_listItem__nkqhg"><a id="sidecar_max_port" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="sidecar_max_port" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="sidecar_max_port permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#sidecar_max_port"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">sidecar_max_port</code></a> - Inclusive maximum port number
to use for automatically assigned <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/connect/proxies/deploy-sidecar-services">sidecar service registrations</a>.
Default 21255. Set to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">0</code> to disable automatic port assignment.</li><li class="mdx-lists_listItem__nkqhg"><a id="expose_min_port" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="expose_min_port" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="expose_min_port permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#expose_min_port"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">expose_min_port</code></a> - Inclusive minimum port number
to use for automatically assigned <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/connect/proxies/proxy-config-reference#expose-paths-configuration-reference">exposed check listeners</a>.
Default 21500. Set to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">0</code> to disable automatic port assignment.</li><li class="mdx-lists_listItem__nkqhg"><a id="expose_max_port" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="expose_max_port" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="expose_max_port permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#expose_max_port"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">expose_max_port</code></a> - Inclusive maximum port number
to use for automatically assigned <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/connect/proxies/proxy-config-reference#expose-paths-configuration-reference">exposed check listeners</a>.
Default 21755. Set to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">0</code> to disable automatic port assignment.</li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="primary_datacenter" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="primary_datacenter permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#primary_datacenter"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">primary_datacenter</code></a> - This designates the datacenter
which is authoritative for ACL information, intentions and is the root Certificate
Authority for service mesh. It must be provided to enable ACLs. All servers and datacenters
must agree on the primary datacenter. Setting it on the servers is all you need
for cluster-level enforcement, but for the APIs to forward properly from the clients,
it must be set on them too. In Consul 0.8 and later, this also enables agent-level
enforcement of ACLs.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="primary_gateways" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="primary_gateways permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#primary_gateways"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">primary_gateways</code></a> Equivalent to the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/cli-flags#_primary_gateway"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-primary-gateway</code>
command-line flag</a>. Takes a list of addresses to use as the
mesh gateways for the primary datacenter when authoritative replicated catalog
data is not present. Discovery happens every <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#primary_gateways_interval"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">primary_gateways_interval</code></a>
until at least one primary mesh gateway is discovered. This was added in Consul
1.8.0.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="primary_gateways_interval" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="primary_gateways_interval permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#primary_gateways_interval"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">primary_gateways_interval</code></a> Time to wait
between <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#primary_gateways"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">primary_gateways</code></a> discovery attempts. Defaults to
30s. This was added in Consul 1.8.0.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="protocol" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="protocol" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="protocol permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#protocol"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">protocol</code></a> Equivalent to the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/cli-flags#_protocol"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-protocol</code> command-line
flag</a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="reap" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="reap permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#reap"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">reap</code></a> This controls Consul&#x27;s automatic reaping of child processes,
which is useful if Consul is running as PID 1 in a Docker container. If this isn&#x27;t
specified, then Consul will automatically reap child processes if it detects it
is running as PID 1. If this is set to true or false, then it controls reaping
regardless of Consul&#x27;s PID (forces reaping on or off, respectively). This option
was removed in Consul 0.7.1. For later versions of Consul, you will need to reap
processes using a wrapper, please see the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="https://github.com/hashicorp/docker-consul/blob/master/0.X/docker-entrypoint.sh">Consul Docker image entry point script</a>
for an example. If you are using Docker 1.13.0 or later, you can use the new <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">--init</code>
option of the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">docker run</code> command and docker will enable an init process with
PID 1 that reaps child processes for the container. More info on <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="https://docs.docker.com/engine/reference/commandline/run/#options">Docker docs</a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="reconnect_timeout" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="reconnect_timeout permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#reconnect_timeout"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">reconnect_timeout</code></a> This controls how long it
takes for a failed node to be completely removed from the cluster. This defaults
to 72 hours and it is recommended that this is set to at least double the maximum
expected recoverable outage time for a node or network partition. WARNING: Setting
this time too low could cause Consul servers to be removed from quorum during an
extended node failure or partition, which could complicate recovery of the cluster.
The value is a time with a unit suffix, which can be &quot;s&quot;, &quot;m&quot;, &quot;h&quot; for seconds,
minutes, or hours. The value must be &gt;= 8 hours.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="reconnect_timeout_wan" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="reconnect_timeout_wan permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#reconnect_timeout_wan"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">reconnect_timeout_wan</code></a> This is the WAN equivalent
of the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#reconnect_timeout"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">reconnect_timeout</code></a> parameter, which controls
how long it takes for a failed server to be completely removed from the WAN pool.
This also defaults to 72 hours, and must be &gt;= 8 hours.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="recursors" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="recursors permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#recursors"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">recursors</code></a> This flag provides addresses of upstream DNS
servers that are used to recursively resolve queries if they are not inside the
service domain for Consul. For example, a node can use Consul directly as a DNS
server, and if the record is outside of the &quot;consul.&quot; domain, the query will be
resolved upstream. As of Consul 1.0.1 recursors can be provided as IP addresses
or as go-sockaddr templates. IP addresses are resolved in order, and duplicates
are ignored.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="rpc" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="rpc permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#rpc"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">rpc</code></a> configuration for Consul servers.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="enable_streaming" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="rpc_enable_streaming" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="enable_streaming permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#rpc_enable_streaming"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enable_streaming</code></a> defaults to true. If set to false it will disable
the gRPC subscribe endpoint on a Consul Server. All
servers in all federated datacenters must have this enabled before any client can use
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#use_streaming_backend"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">use_streaming_backend</code></a>.</li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="reporting" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="reporting permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#reporting"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">reporting</code></a><span class="enterprise-alert_root__mvEIF enterprise-alert_inline__IqpbC"><span class="g-screen-reader-only">Enterprise</span><span aria-hidden="true" class="badge_root___Z7Nt badge_medium__8VGoW badge_outlined-neutral__32YXY enterprise-alert_badge___N2fV"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="var(--token-color-consul-brand)"><path d="M4.737 14.193A7 7 0 008.006 15a6.98 6.98 0 004.735-1.847l-1.66-1.737a4.6 4.6 0 110-6.828l1.66-1.738a7 7 0 10-8.004 11.343zM13.32 11.402a.573.573 0 10.637-.953.573.573 0 00-.637.953z"></path><path d="M7.96 9.517a1.517 1.517 0 11-.012-3.034 1.517 1.517 0 01.013 3.034zM13.978 9.447a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 9.472a.574.574 0 110-1.148.574.574 0 010 1.148zM13.978 7.514a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 7.675a.574.574 0 110-1.148.574.574 0 010 1.148zM13.353 5.585a.574.574 0 10.635-.956.574.574 0 00-.635.956z"></path></g></svg><span>Enterprise</span></span></span> - This option allows options for HashiCorp reporting.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="license" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="license permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#license"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">license</code></a> - The license object allows users to control automatic reporting of license utilization metrics to HashiCorp.<ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="enabled-4" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="enabled permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#enabled-4"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enabled</code></a>: (Defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">true</code>) Enables automatic license utilization reporting.</li></ul></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="segment-1" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="segment permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#segment-1"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">segment</code></a> <span class="enterprise-alert_root__mvEIF enterprise-alert_inline__IqpbC"><span class="g-screen-reader-only">Enterprise</span><span aria-hidden="true" class="badge_root___Z7Nt badge_medium__8VGoW badge_outlined-neutral__32YXY enterprise-alert_badge___N2fV"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="var(--token-color-consul-brand)"><path d="M4.737 14.193A7 7 0 008.006 15a6.98 6.98 0 004.735-1.847l-1.66-1.737a4.6 4.6 0 110-6.828l1.66-1.738a7 7 0 10-8.004 11.343zM13.32 11.402a.573.573 0 10.637-.953.573.573 0 00-.637.953z"></path><path d="M7.96 9.517a1.517 1.517 0 11-.012-3.034 1.517 1.517 0 01.013 3.034zM13.978 9.447a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 9.472a.574.574 0 110-1.148.574.574 0 010 1.148zM13.978 7.514a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 7.675a.574.574 0 110-1.148.574.574 0 010 1.148zM13.353 5.585a.574.574 0 10.635-.956.574.574 0 00-.635.956z"></path></g></svg><span>Enterprise</span></span></span> - Equivalent to the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/cli-flags#_segment"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-segment</code> command-line flag</a>.</p><div class="alert alert-warning g-type-body"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><strong>Warning:</strong> The <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">segment</code> option cannot be used with the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#partition-1"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">partition</code></a> option.</p></div></li><li class="mdx-lists_listItem__nkqhg"><a id="segments" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="segments permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#segments"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">segments</code></a> <span class="enterprise-alert_root__mvEIF enterprise-alert_inline__IqpbC"><span class="g-screen-reader-only">Enterprise</span><span aria-hidden="true" class="badge_root___Z7Nt badge_medium__8VGoW badge_outlined-neutral__32YXY enterprise-alert_badge___N2fV"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="var(--token-color-consul-brand)"><path d="M4.737 14.193A7 7 0 008.006 15a6.98 6.98 0 004.735-1.847l-1.66-1.737a4.6 4.6 0 110-6.828l1.66-1.738a7 7 0 10-8.004 11.343zM13.32 11.402a.573.573 0 10.637-.953.573.573 0 00-.637.953z"></path><path d="M7.96 9.517a1.517 1.517 0 11-.012-3.034 1.517 1.517 0 01.013 3.034zM13.978 9.447a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 9.472a.574.574 0 110-1.148.574.574 0 010 1.148zM13.978 7.514a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 7.675a.574.574 0 110-1.148.574.574 0 010 1.148zM13.353 5.585a.574.574 0 10.635-.956.574.574 0 00-.635.956z"></path></g></svg><span>Enterprise</span></span></span> - (Server agents only) This is a list of nested objects
that specifies user-defined network segments, not including the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">&lt;default&gt;</code> segment, which is
created automatically. Refer to the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/enterprise/network-segments/create-network-segment">network segments documentation</a>for additional information.
for more details.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="name" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="segment_name" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="name permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#segment_name"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">name</code></a> - The name of the segment. Must be a string
between 1 and 64 characters in length.</li><li class="mdx-lists_listItem__nkqhg"><a id="bind" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="segment_bind" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="bind permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#segment_bind"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">bind</code></a> - The bind address to use for the segment&#x27;s
gossip layer. Defaults to the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#_bind"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-bind</code></a> value if not provided.</li><li class="mdx-lists_listItem__nkqhg"><a id="port" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="segment_port" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="port permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#segment_port"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">port</code></a> - The port to use for the segment&#x27;s gossip
layer (required).</li><li class="mdx-lists_listItem__nkqhg"><a id="advertise" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="segment_advertise" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="advertise permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#segment_advertise"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">advertise</code></a> - The advertise address to use for
the segment&#x27;s gossip layer. Defaults to the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/cli-flags#_advertise"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-advertise</code></a> value
if not provided.</li><li class="mdx-lists_listItem__nkqhg"><a id="rpc_listener" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="segment_rpc_listener" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="rpc_listener permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#segment_rpc_listener"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">rpc_listener</code></a> - If true, a separate RPC
listener will be started on this segment&#x27;s <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/cli-flags#_bind"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-bind</code></a> address on the rpc
port. Only valid if the segment&#x27;s bind address differs from the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/cli-flags#_bind"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-bind</code></a>
address. Defaults to false.</li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="server-1" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="server permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#server-1"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">server</code></a> Equivalent to the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/cli-flags#_server"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-server</code> command-line flag</a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="server_rejoin_age_max" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="server_rejoin_age_max permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#server_rejoin_age_max"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">server_rejoin_age_max</code></a> - controls the allowed maximum age of a stale server attempting to rejoin a cluster.
If the server has not ran during this period, it will refuse to start up again until an operator intervenes by manually deleting the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">server_metadata.json</code>
file located in the data dir.
This is to protect clusters from instability caused by decommissioned servers accidentally being started again.
Note: the default value is 168h (equal to 7d) and the minimum value is 6h.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="non_voting_server" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="non_voting_server permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#non_voting_server"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">non_voting_server</code></a> - <strong>This field is deprecated in Consul 1.9.1. See the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#read_replica"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">read_replica</code></a> field instead.</strong></p></li><li class="mdx-lists_listItem__nkqhg"><a id="read_replica" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="read_replica permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#read_replica"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">read_replica</code></a> - Equivalent to the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/cli-flags#_read_replica"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-read-replica</code> command-line flag</a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="session_ttl_min" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="session_ttl_min permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#session_ttl_min"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">session_ttl_min</code></a> The minimum allowed session TTL. This ensures sessions are not created with TTLs
shorter than the specified limit. It is recommended to keep this limit at or above
the default to encourage clients to send infrequent heartbeats. Defaults to 10s.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="skip_leave_on_interrupt" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="skip_leave_on_interrupt permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#skip_leave_on_interrupt"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">skip_leave_on_interrupt</code></a> This is similar
to <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#leave_on_terminate"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">leave_on_terminate</code></a> but only affects interrupt handling.
When Consul receives an interrupt signal (such as hitting Control-C in a terminal),
Consul will gracefully leave the cluster. Setting this to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">true</code> disables that
behavior. The default behavior for this feature varies based on whether or not
the agent is running as a client or a server (prior to Consul 0.7 the default value
was unconditionally set to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">false</code>). On agents in client-mode, this defaults to
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">false</code> and for agents in server-mode, this defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">true</code> (i.e. Ctrl-C on
a server will keep the server in the cluster and therefore quorum, and Ctrl-C on
a client will gracefully leave).</p></li><li class="mdx-lists_listItem__nkqhg"><a id="translate_wan_addrs" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="translate_wan_addrs permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#translate_wan_addrs"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">translate_wan_addrs</code></a> If set to true, Consul
will prefer a node&#x27;s configured <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/cli-flags#_advertise-wan">WAN address</a>
when servicing DNS and HTTP requests for a node in a remote datacenter. This allows
the node to be reached within its own datacenter using its local address, and reached
from other datacenters using its WAN address, which is useful in hybrid setups
with mixed networks. This is disabled by default.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Starting in Consul 0.7 and later, node addresses in responses to HTTP requests will also prefer a
node&#x27;s configured <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/cli-flags#_advertise-wan">WAN address</a> when querying for a node in a remote
datacenter. An <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/api-docs/api-structure#translated-addresses"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">X-Consul-Translate-Addresses</code></a> header
will be present on all responses when translation is enabled to help clients know that the addresses
may be translated. The <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">TaggedAddresses</code> field in responses also have a <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">lan</code> address for clients that
need knowledge of that address, regardless of translation.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The following endpoints translate addresses:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/api-docs/catalog#list-nodes"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/v1/catalog/nodes</code></a></li><li class="mdx-lists_listItem__nkqhg"><a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/api-docs/catalog#retrieve-map-of-services-for-a-node"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/v1/catalog/node/&lt;node&gt;</code></a></li><li class="mdx-lists_listItem__nkqhg"><a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/api-docs/catalog#list-nodes-for-service"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/v1/catalog/service/&lt;service&gt;</code></a></li><li class="mdx-lists_listItem__nkqhg"><a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/api-docs/health#list-nodes-for-service"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/v1/health/service/&lt;service&gt;</code></a></li><li class="mdx-lists_listItem__nkqhg"><a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/api-docs/query#execute-prepared-query"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/v1/query/&lt;query or name&gt;/execute</code></a></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="unix_sockets" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="unix_sockets permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#unix_sockets"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">unix_sockets</code></a> - This allows tuning the ownership and
permissions of the Unix domain socket files created by Consul. Domain sockets are
only used if the HTTP address is configured with the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">unix://</code> prefix.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">It is important to note that this option may have different effects on
different operating systems. Linux generally observes socket file permissions
while many BSD variants ignore permissions on the socket file itself. It is
important to test this feature on your specific distribution. This feature is
currently not functional on Windows hosts.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The following options are valid within this construct and apply globally to all
sockets created by Consul:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="user" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="user permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#user"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">user</code></a> - The name or ID of the user who will own the socket file.</li><li class="mdx-lists_listItem__nkqhg"><a id="group" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="group permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#group"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">group</code></a> - The group ID ownership of the socket file. This option
currently only supports numeric IDs.</li><li class="mdx-lists_listItem__nkqhg"><a id="mode-2" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="mode permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#mode-2"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">mode</code></a> - The permission bits to set on the file.</li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="use_streaming_backend" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="use_streaming_backend permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#use_streaming_backend"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">use_streaming_backend</code></a> defaults to true. When enabled Consul client agents will use
streaming rpc, instead of the traditional blocking queries, for endpoints which support
streaming. All servers must have <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#rpc_enable_streaming"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">rpc.enable_streaming</code></a>
enabled before any client can enable <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">use_streaming_backend</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="watches" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="watches permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#watches"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">watches</code></a> - Watches is a list of watch specifications which
allow an external process to be automatically invoked when a particular data view
is updated. See the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/dynamic-app-config/watches">watch documentation</a> for more detail.
Watches can be modified when the configuration is reloaded.</p></li></ul><h2 id="acl-parameters" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="acl parameters permalink" href="/consul/docs/agent/config/config-files#acl-parameters"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>ACL Parameters</h2><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="acl" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="acl" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="acl permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#acl"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">acl</code></a> - This object allows a number of sub-keys to be set which
controls the ACL system. Configuring the ACL system within the ACL stanza was added
in Consul 1.4.0</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The following sub-keys are available:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="enabled-5" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="acl_enabled" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="enabled permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#acl_enabled"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enabled</code></a> - Enables ACLs.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="policy_ttl" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="acl_policy_ttl" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="policy_ttl permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#acl_policy_ttl"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">policy_ttl</code></a> - Used to control Time-To-Live caching
of ACL policies. By default, this is 30 seconds. This setting has a major performance
impact: reducing it will cause more frequent refreshes while increasing it reduces
the number of refreshes. However, because the caches are not actively invalidated,
ACL policy may be stale up to the TTL value.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="role_ttl" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="acl_role_ttl" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="role_ttl permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#acl_role_ttl"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">role_ttl</code></a> - Used to control Time-To-Live caching
of ACL roles. By default, this is 30 seconds. This setting has a major performance
impact: reducing it will cause more frequent refreshes while increasing it reduces
the number of refreshes. However, because the caches are not actively invalidated,
ACL role may be stale up to the TTL value.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="token_ttl" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="acl_token_ttl" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="token_ttl permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#acl_token_ttl"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">token_ttl</code></a> - Used to control Time-To-Live caching
of ACL tokens. By default, this is 30 seconds. This setting has a major performance
impact: reducing it will cause more frequent refreshes while increasing it reduces
the number of refreshes. However, because the caches are not actively invalidated,
ACL token may be stale up to the TTL value.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="down_policy" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="acl_down_policy" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="down_policy permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#acl_down_policy"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">down_policy</code></a> - Either &quot;allow&quot;, &quot;deny&quot;, &quot;extend-cache&quot;
or &quot;async-cache&quot;; &quot;extend-cache&quot; is the default. In the case that a policy or
token cannot be read from the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#primary_datacenter"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">primary_datacenter</code></a> or
leader node, the down policy is applied. In &quot;allow&quot; mode, all actions are permitted,
&quot;deny&quot; restricts all operations, and &quot;extend-cache&quot; allows any cached objects
to be used, ignoring the expiry time of the cached entry. If the request uses an
ACL that is not in the cache, &quot;extend-cache&quot; falls back to the behavior of
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">default_policy</code>.
The value &quot;async-cache&quot; acts the same way as &quot;extend-cache&quot;
but performs updates asynchronously when ACL is present but its TTL is expired,
thus, if latency is bad between the primary and secondary datacenters, latency
of operations is not impacted.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="default_policy" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="acl_default_policy" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="default_policy permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#acl_default_policy"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">default_policy</code></a> - Either &quot;allow&quot; or &quot;deny&quot;;
defaults to &quot;allow&quot; but this will be changed in a future major release. The default
policy controls the behavior of a token when there is no matching rule. In &quot;allow&quot;
mode, ACLs are a denylist: any operation not specifically prohibited is allowed.
In &quot;deny&quot; mode, ACLs are an allowlist: any operation not specifically
allowed is blocked. <strong>Note</strong>: this will not take effect until you&#x27;ve enabled ACLs.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="enable_key_list_policy" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="acl_enable_key_list_policy" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="enable_key_list_policy permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#acl_enable_key_list_policy"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enable_key_list_policy</code></a> - Boolean value, defaults to false.
When true, the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">list</code> permission will be required on the prefix being recursively read from the KV store.
Regardless of being enabled, the full set of KV entries under the prefix will be filtered
to remove any entries that the request&#x27;s ACL token does not grant at least read
permissions. This option is only available in Consul 1.0 and newer.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="enable_token_replication" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="acl_enable_token_replication" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="enable_token_replication permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#acl_enable_token_replication"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enable_token_replication</code></a> - By default
secondary Consul datacenters will perform replication of only ACL policies and
roles. Setting this configuration will will enable ACL token replication and
allow for the creation of both <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/api-docs/acl/tokens#local">local tokens</a> and
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/security/acl/auth-methods">auth methods</a> in connected secondary datacenters.</p><div class="alert alert-warning g-type-body"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><strong>Warning:</strong> When enabling ACL token replication on the secondary datacenter,
global tokens already present in the secondary datacenter will be lost. For
production environments, consider configuring ACL replication in your initial
datacenter bootstrapping process.</p></div></li><li class="mdx-lists_listItem__nkqhg"><a id="enable_token_persistence" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="acl_enable_token_persistence" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="enable_token_persistence permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#acl_enable_token_persistence"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enable_token_persistence</code></a> - Either
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">true</code> or <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">false</code>. When <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">true</code> tokens set using the API will be persisted to
disk and reloaded when an agent restarts.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="tokens" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="acl_tokens" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="tokens permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#acl_tokens"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tokens</code></a> - This object holds all of the configured
ACL tokens for the agents usage.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="initial_management" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="acl_tokens_initial_management" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="initial_management permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#acl_tokens_initial_management"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">initial_management</code></a> - This is available in
Consul 1.11 and later. In prior versions, use <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#acl_tokens_master"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">acl.tokens.master</code></a>.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Only used for servers in the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#primary_datacenter"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">primary_datacenter</code></a>.
This token will be created with management-level permissions if it does not exist.
It allows operators to bootstrap the ACL system with a token Secret ID that is
well-known.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">initial_management</code> token is only installed when a server acquires cluster
leadership. If you would like to install or change it, set the new value for
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">initial_management</code> in the configuration for all servers. Once this is done,
restart the current leader to force a leader election. If the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">initial_management</code>
token is not supplied, then the servers do not create an initial management token.
When you provide a value, it should be a UUID. To maintain backwards compatibility
and an upgrade path this restriction is not currently enforced but will be in a
future major Consul release.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="master" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="acl_tokens_master" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="master permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#acl_tokens_master"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">master</code></a> <strong>Renamed in Consul 1.11 to
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#acl_tokens_initial_management"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">acl.tokens.initial_management</code></a>.</strong></p></li><li class="mdx-lists_listItem__nkqhg"><a id="default" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="acl_tokens_default" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="default permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#acl_tokens_default"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">default</code></a> - When provided, this agent will
use this token by default when making requests to the Consul servers
instead of the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/security/acl/tokens#anonymous-token">anonymous token</a>.
Consul HTTP API requests can provide an alternate token in their authorization header
to override the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">default</code> or anonymous token on a per-request basis,
as described in <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/api-docs/api-structure#authentication">HTTP API Authentication</a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="agent" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="acl_tokens_agent" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="agent permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#acl_tokens_agent"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">agent</code></a> - Used for clients and servers to perform
internal operations. If this isn&#x27;t specified, then the
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#acl_tokens_default"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">default</code></a> will be used.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">This token must at least have write access to the node name it will
register as in order to set any of the node-level information in the
catalog such as metadata, or the node&#x27;s tagged addresses.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="agent_recovery" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="acl_tokens_agent_recovery" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="agent_recovery permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#acl_tokens_agent_recovery"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">agent_recovery</code></a> - This is available in Consul 1.11
and later. In prior versions, use <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#acl_tokens_agent_master"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">acl.tokens.agent_master</code></a>.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Used to access <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/api-docs/agent">agent endpoints</a> that require agent read or write privileges,
or node read privileges, even if Consul servers aren&#x27;t present to validate any tokens.
This should only be used by operators during outages, regular ACL tokens should normally
be used by applications.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="agent_master" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="acl_tokens_agent_master" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="agent_master permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#acl_tokens_agent_master"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">agent_master</code></a> <strong>Renamed in Consul 1.11 to
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#acl_tokens_agent_recovery"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">acl.tokens.agent_recovery</code></a>.</strong></p></li><li class="mdx-lists_listItem__nkqhg"><a id="config_file_service_registration" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="acl_tokens_config_file_service_registration" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="config_file_service_registration permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#acl_tokens_config_file_service_registration"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">config_file_service_registration</code></a> - Specifies the ACL
token the agent uses to register services and checks from <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/services/usage/define-services">service</a> and <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/services/usage/checks">check</a> definitions
specified in configuration files or fragments passed to the agent using the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-hcl</code>
flag.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">If the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">token</code> field is defined in the service or check definition, then that token is used to
register the service or check instead. If the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">config_file_service_registration</code> token is not
defined and if the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">token</code> field is not defined in the service or check definition, then the
agent uses the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#acl_tokens_default"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">default</code></a> token to register the service or check.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">This token needs write permission to register all services and checks defined in this agent&#x27;s
configuration. For example, if there are two service definitions in the agent&#x27;s configuration
files for services &quot;A&quot; and &quot;B&quot;, then the token needs <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">service:write</code> permissions for both
services &quot;A&quot; and &quot;B&quot; in order to successfully register both services. If the token is missing
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">service:write</code> permissions for service &quot;B&quot;, the agent will successfully register service &quot;A&quot;
and fail to register service &quot;B&quot;. Failed registration requests are eventually retried as part
of <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/architecture/anti-entropy">anti-entropy enforcement</a>. If a registration request is
failing due to missing permissions, the token for this agent can be updated with
additional policy rules or the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">config_file_service_registration</code> token can be replaced using
the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/commands/acl/set-agent-token">Set Agent Token</a> CLI command.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="dns-2" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="acl_tokens_dns" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="dns permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#acl_tokens_dns"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">dns</code></a> - Specifies the token that agents use to request information needed to respond to DNS queries.
If the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">dns</code> token is not set, the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">default</code> token is used instead.
Because the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">default</code> token allows unauthenticated HTTP API access to list nodes and services, we
strongly recommend using the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">dns</code> token. Create DNS tokens using the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/security/acl/tokens/create/create-a-dns-token#create_a_dns_token">templated policy</a>
option to ensure that the token has the permissions needed to respond to all DNS queries.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="replication" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="acl_tokens_replication" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="replication permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#acl_tokens_replication"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">replication</code></a> - Specifies the token that the agent uses to
authorize secondary datacenters with the primary datacenter for replication
operations. This token is required for servers outside the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#primary_datacenter"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">primary_datacenter</code></a> when ACLs are enabled. This token may be provided later using the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/api-docs/agent#update-acl-tokens">agent token API</a> on each server. This token must have at least &quot;read&quot; permissions on ACL data but if ACL token replication is enabled then it must have &quot;write&quot; permissions. This also enables service mesh data replication, for which the token will require both operator &quot;write&quot; and intention &quot;read&quot; permissions for replicating CA and Intention data.</p><div class="alert alert-warning g-type-body"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><strong>Warning:</strong> When enabling ACL token replication on the secondary datacenter,
policies and roles already present in the secondary datacenter will be lost. For
production environments, consider configuring ACL replication in your initial
datacenter bootstrapping process.</p></div></li><li class="mdx-lists_listItem__nkqhg"><a id="managed_service_provider" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="acl_tokens_managed_service_provider" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="managed_service_provider permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#acl_tokens_managed_service_provider"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">managed_service_provider</code></a> <span class="enterprise-alert_root__mvEIF enterprise-alert_inline__IqpbC"><span class="g-screen-reader-only">Enterprise</span><span aria-hidden="true" class="badge_root___Z7Nt badge_medium__8VGoW badge_outlined-neutral__32YXY enterprise-alert_badge___N2fV"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="var(--token-color-consul-brand)"><path d="M4.737 14.193A7 7 0 008.006 15a6.98 6.98 0 004.735-1.847l-1.66-1.737a4.6 4.6 0 110-6.828l1.66-1.738a7 7 0 10-8.004 11.343zM13.32 11.402a.573.573 0 10.637-.953.573.573 0 00-.637.953z"></path><path d="M7.96 9.517a1.517 1.517 0 11-.012-3.034 1.517 1.517 0 01.013 3.034zM13.978 9.447a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 9.472a.574.574 0 110-1.148.574.574 0 010 1.148zM13.978 7.514a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 7.675a.574.574 0 110-1.148.574.574 0 010 1.148zM13.353 5.585a.574.574 0 10.635-.956.574.574 0 00-.635.956z"></path></g></svg><span>Enterprise</span></span></span> - An
array of ACL tokens used by Consul managed service providers for cluster operations.</p><div class="mdx-code-blocks_codeTabsMargin__XyBTZ style_root__Ib9Qn theme-dark_base__RNsat"><div style="height:0px;overflow:hidden;visibility:hidden" role="presentation" aria-hidden="true"><div class="style_topBar__0pZ_b"><div class="style_heading__2_7Zj g-type-body-small-strong">Example managed_service_provider configuration</div><div class="style_tabsAsTabs__lZ0ce style_hasHeading__tsJPr"><button class="style_tabControl__A5k2n g-type-body-small-strong style_isActive__AmKFP style_hasHeading__tsJPr">HCL</button><button class="style_tabControl__A5k2n g-type-body-small-strong style_hasHeading__tsJPr">JSON</button></div></div></div><div class="style_topBar__0pZ_b"><div class="style_heading__2_7Zj g-type-body-small-strong">Example managed_service_provider configuration</div><div class="style_tabsAsTabs__lZ0ce style_hasHeading__tsJPr"><button class="style_tabControl__A5k2n g-type-body-small-strong style_isActive__AmKFP style_hasHeading__tsJPr">HCL</button><button class="style_tabControl__A5k2n g-type-body-small-strong style_hasHeading__tsJPr">JSON</button></div></div><div><div style="display:block"><div class="g-code-block style_root__i1k0c language-hcl theme-dark_base__RNsat theme-dark_syntax__QCDzs style_hasBarAbove__gZA5T" data-heap-track="code-block"><div class="style_linesContainer__4N_nq"><pre class="code-lines_pre__t8gY5 language-hcl"><code class="code-lines_code__luWmT language-hcl"><span class="code-lines_linesColumn__M9Wn1 code-lines_styledScrollbars__37_Kl"><span class="code-lines_linesScrollableContent__UNs3H"><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ"><span class="token keyword">managed_service_provider</span> <span class="token punctuation">{</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">  <span class="token property">accessor_id</span> <span class="token punctuation">=</span> <span class="token string">&quot;ed22003b-0832-4e48-ac65-31de64e5c2ff&quot;</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">  <span class="token property">secret_id</span> <span class="token punctuation">=</span> <span class="token string">&quot;cb6be010-bba8-4f30-a9ed-d347128dde17&quot;</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ"><span class="token punctuation">}</span>
</span></span></span></code></pre><div class="style_copyButtonContainer__yxcuf"><button class="style_button__8j_Rk" data-heap-track="code-block-clipboard-icon" type="button">Copy<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="style_svg__gtvGZ"><g fill="currentColor"><path d="M2.25 0A2.25 2.25 0 000 2.25v7.5A2.25 2.25 0 002.25 12h.25a.75.75 0 000-1.5h-.25a.75.75 0 01-.75-.75v-7.5a.75.75 0 01.75-.75h7.5a.75.75 0 01.75.75v.25a.75.75 0 001.5 0v-.25A2.25 2.25 0 009.75 0h-7.5z"></path><path fill-rule="evenodd" d="M6.25 4A2.25 2.25 0 004 6.25v7.5A2.25 2.25 0 006.25 16h7.5A2.25 2.25 0 0016 13.75v-7.5A2.25 2.25 0 0013.75 4h-7.5zM5.5 6.25a.75.75 0 01.75-.75h7.5a.75.75 0 01.75.75v7.5a.75.75 0 01-.75.75h-7.5a.75.75 0 01-.75-.75v-7.5z" clip-rule="evenodd"></path></g></svg></button></div></div></div></div><div style="display:none"><div class="g-code-block style_root__i1k0c language-json theme-dark_base__RNsat theme-dark_syntax__QCDzs style_hasBarAbove__gZA5T" data-heap-track="code-block"><div class="style_linesContainer__4N_nq"><pre class="code-lines_pre__t8gY5 language-json"><code class="code-lines_code__luWmT language-json"><span class="code-lines_linesColumn__M9Wn1 code-lines_styledScrollbars__37_Kl"><span class="code-lines_linesScrollableContent__UNs3H"><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ"><span class="token property">&quot;managed_service_provider&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">  <span class="token punctuation">{</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">    <span class="token property">&quot;accessor_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ed22003b-0832-4e48-ac65-31de64e5c2ff&quot;</span><span class="token punctuation">,</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">    <span class="token property">&quot;secret_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cb6be010-bba8-4f30-a9ed-d347128dde17&quot;</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">  <span class="token punctuation">}</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ"><span class="token punctuation">]</span>
</span></span></span></code></pre><div class="style_copyButtonContainer__yxcuf"><button class="style_button__8j_Rk" data-heap-track="code-block-clipboard-icon" type="button">Copy<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="style_svg__gtvGZ"><g fill="currentColor"><path d="M2.25 0A2.25 2.25 0 000 2.25v7.5A2.25 2.25 0 002.25 12h.25a.75.75 0 000-1.5h-.25a.75.75 0 01-.75-.75v-7.5a.75.75 0 01.75-.75h7.5a.75.75 0 01.75.75v.25a.75.75 0 001.5 0v-.25A2.25 2.25 0 009.75 0h-7.5z"></path><path fill-rule="evenodd" d="M6.25 4A2.25 2.25 0 004 6.25v7.5A2.25 2.25 0 006.25 16h7.5A2.25 2.25 0 0016 13.75v-7.5A2.25 2.25 0 0013.75 4h-7.5zM5.5 6.25a.75.75 0 01.75-.75h7.5a.75.75 0 01.75.75v7.5a.75.75 0 01-.75.75h-7.5a.75.75 0 01-.75-.75v-7.5z" clip-rule="evenodd"></path></g></svg></button></div></div></div></div></div></div></li></ul></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="acl_datacenter" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="acl_datacenter permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#acl_datacenter"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">acl_datacenter</code></a> - <strong>This field is deprecated in Consul 1.4.0. See the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#primary_datacenter"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">primary_datacenter</code></a> field instead.</strong></p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">This designates the datacenter which is authoritative for ACL information. It must be provided to enable ACLs. All servers and datacenters must agree on the ACL datacenter. Setting it on the servers is all you need for cluster-level enforcement, but for the APIs to forward properly from the clients,
it must be set on them too. In Consul 0.8 and later, this also enables agent-level enforcement
of ACLs. Please review the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/tutorials/security/access-control-setup-production">ACL tutorial</a> for more details.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="acl_default_policy" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="acl_default_policy_legacy" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="acl_default_policy permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#acl_default_policy_legacy"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">acl_default_policy</code></a> - <strong>Deprecated in Consul 1.4.0. See the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#acl_default_policy"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">acl.default_policy</code></a> field instead.</strong>
Either &quot;allow&quot; or &quot;deny&quot;; defaults to &quot;allow&quot;. The default policy controls the
behavior of a token when there is no matching rule. In &quot;allow&quot; mode, ACLs are a
denylist: any operation not specifically prohibited is allowed. In &quot;deny&quot; mode,
ACLs are an allowlist: any operation not specifically allowed is blocked. <strong>Note</strong>:
this will not take effect until you&#x27;ve set <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">primary_datacenter</code> to enable ACL support.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="acl_down_policy" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="acl_down_policy_legacy" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="acl_down_policy permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#acl_down_policy_legacy"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">acl_down_policy</code></a> - <strong>Deprecated in Consul
1.4.0. See the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#acl_down_policy"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">acl.down_policy</code></a> field instead.</strong> Either &quot;allow&quot;,
&quot;deny&quot;, &quot;extend-cache&quot; or &quot;async-cache&quot;; &quot;extend-cache&quot; is the default. In the
case that the policy for a token cannot be read from the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#primary_datacenter"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">primary_datacenter</code></a>
or leader node, the down policy is applied. In &quot;allow&quot; mode, all actions are permitted,
&quot;deny&quot; restricts all operations, and &quot;extend-cache&quot; allows any cached ACLs to be
used, ignoring their TTL values. If a non-cached ACL is used, &quot;extend-cache&quot; acts
like &quot;deny&quot;. The value &quot;async-cache&quot; acts the same way as &quot;extend-cache&quot; but performs
updates asynchronously when ACL is present but its TTL is expired, thus, if latency
is bad between ACL authoritative and other datacenters, latency of operations is
not impacted.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="acl_agent_master_token" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="acl_agent_master_token_legacy" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="acl_agent_master_token permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#acl_agent_master_token_legacy"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">acl_agent_master_token</code></a> - <strong>Deprecated
in Consul 1.4.0. See the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#acl_tokens_agent_master"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">acl.tokens.agent_master</code></a>
field instead.</strong> Used to access <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/api-docs/agent">agent endpoints</a> that
require agent read or write privileges, or node read privileges, even if Consul
servers aren&#x27;t present to validate any tokens. This should only be used by operators
during outages, regular ACL tokens should normally be used by applications. This
was added in Consul 0.7.2 and is only used when <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#acl_enforce_version_8"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">acl_enforce_version_8</code></a> is set to true.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="acl_agent_token" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="acl_agent_token_legacy" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="acl_agent_token permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#acl_agent_token_legacy"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">acl_agent_token</code></a> - <strong>Deprecated in Consul
1.4.0. See the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#acl_tokens_agent"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">acl.tokens.agent</code></a> field instead.</strong> Used for
clients and servers to perform internal operations. If this isn&#x27;t specified, then
the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#acl_token"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">acl_token</code></a> will be used. This was added in Consul 0.7.2.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">This token must at least have write access to the node name it will register as in order to set any
of the node-level information in the catalog such as metadata, or the node&#x27;s tagged addresses.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="acl_enforce_version_8" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="acl_enforce_version_8 permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#acl_enforce_version_8"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">acl_enforce_version_8</code></a> - <strong>Deprecated in
Consul 1.4.0 and removed in 1.8.0.</strong> Used for clients and servers to determine if enforcement should
occur for new ACL policies being previewed before Consul 0.8. Added in Consul 0.7.2,
this defaults to false in versions of Consul prior to 0.8, and defaults to true
in Consul 0.8 and later. This helps ease the transition to the new ACL features
by allowing policies to be in place before enforcement begins.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="acl_master_token" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="acl_master_token_legacy" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="acl_master_token permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#acl_master_token_legacy"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">acl_master_token</code></a> - <strong>Deprecated in Consul
1.4.0. See the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#acl_tokens_master"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">acl.tokens.master</code></a> field instead.</strong></p></li><li class="mdx-lists_listItem__nkqhg"><a id="acl_replication_token" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="acl_replication_token_legacy" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="acl_replication_token permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#acl_replication_token_legacy"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">acl_replication_token</code></a> - <strong>Deprecated
in Consul 1.4.0. See the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#acl_tokens_replication"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">acl.tokens.replication</code></a> field
instead.</strong> Only used for servers outside the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#primary_datacenter"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">primary_datacenter</code></a>
running Consul 0.7 or later. When provided, this will enable <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/tutorials/security-operations/access-control-replication-multiple-datacenters">ACL replication</a>
using this ACL replication using this token to retrieve and replicate the ACLs
to the non-authoritative local datacenter. In Consul 0.9.1 and later you can enable
ACL replication using <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#acl_enable_token_replication"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">acl.enable_token_replication</code></a> and then
set the token later using the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/api-docs/agent#update-acl-tokens">agent token API</a>
on each server. If the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">acl_replication_token</code> is set in the config, it will automatically
set <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#acl_enable_token_replication"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">acl.enable_token_replication</code></a> to true for backward compatibility.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">If there&#x27;s a partition or other outage affecting the authoritative datacenter, and the
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#acl_down_policy"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">acl_down_policy</code></a> is set to &quot;extend-cache&quot;, tokens not
in the cache can be resolved during the outage using the replicated set of ACLs.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="acl_token" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="acl_token_legacy" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="acl_token permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#acl_token_legacy"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">acl_token</code></a> - <strong>Deprecated in Consul 1.4.0. See
the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#acl_tokens_default"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">acl.tokens.default</code></a> field instead.</strong></p></li><li class="mdx-lists_listItem__nkqhg"><a id="acl_ttl" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="acl_ttl_legacy" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="acl_ttl permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#acl_ttl_legacy"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">acl_ttl</code></a> - <strong>Deprecated in Consul 1.4.0. See the
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#acl_token_ttl"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">acl.token_ttl</code></a> field instead.</strong>Used to control Time-To-Live
caching of ACLs. By default, this is 30 seconds. This setting has a major performance
impact: reducing it will cause more frequent refreshes while increasing it reduces
the number of refreshes. However, because the caches are not actively invalidated,
ACL policy may be stale up to the TTL value.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="enable_acl_replication" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="enable_acl_replication permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#enable_acl_replication"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enable_acl_replication</code></a> <strong>Deprecated in Consul 1.11. Use the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#acl_enable_token_replication"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">acl.enable_token_replication</code></a> field instead.</strong>
When set on a Consul server, enables ACL replication without having to set
the replication token via <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#acl_replication_token"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">acl_replication_token</code></a>. Instead, enable ACL replication
and then introduce the token using the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/api-docs/agent#update-acl-tokens">agent token API</a> on each server.
See <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#acl_replication_token"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">acl_replication_token</code></a> for more details.</p><div class="alert alert-warning g-type-body"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><strong>Warning:</strong> When enabling ACL token replication on the secondary datacenter,
policies and roles already present in the secondary datacenter will be lost. For
production environments, consider configuring ACL replication in your initial
datacenter bootstrapping process.</p></div></li></ul><h2 id="advertise-address-parameters" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="advertise address parameters permalink" href="/consul/docs/agent/config/config-files#advertise-address-parameters"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Advertise Address Parameters</h2><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="advertise_addr" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="advertise_addr permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#advertise_addr"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">advertise_addr</code></a> Equivalent to the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/cli-flags#_advertise"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-advertise</code> command-line flag</a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="advertise_addr_ipv4" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="advertise_addr_ipv4 permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#advertise_addr_ipv4"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">advertise_addr_ipv4</code></a> This was added together with <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#advertise_addr_ipv6"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">advertise_addr_ipv6</code></a> to support dual stack IPv4/IPv6 environments. Using this, both IPv4 and IPv6 addresses can be specified and requested during eg service discovery.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="advertise_addr_ipv6" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="advertise_addr_ipv6 permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#advertise_addr_ipv6"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">advertise_addr_ipv6</code></a> This was added together with <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#advertise_addr_ipv4"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">advertise_addr_ipv4</code></a> to support dual stack IPv4/IPv6 environments. Using this, both IPv4 and IPv6 addresses can be specified and requested during eg service discovery.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="advertise_addr_wan" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="advertise_addr_wan permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#advertise_addr_wan"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">advertise_addr_wan</code></a> Equivalent to the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/cli-flags#_advertise-wan"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-advertise-wan</code> command-line flag</a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="advertise_addr_wan_ipv4" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="advertise_addr_wan_ipv4 permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#advertise_addr_wan_ipv4"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">advertise_addr_wan_ipv4</code></a> This was added together with <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#advertise_addr_wan_ipv6"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">advertise_addr_wan_ipv6</code></a> to support dual stack IPv4/IPv6 environments. Using this, both IPv4 and IPv6 addresses can be specified and requested during eg service discovery.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="advertise_addr_wan_ipv6" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="advertise_addr_wan_ipv6 permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#advertise_addr_wan_ipv6"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">advertise_addr_wan_ipv6</code></a> This was added together with <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#advertise_addr_wan_ipv4"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">advertise_addr_wan_ipv4</code></a> to support dual stack IPv4/IPv6 environments. Using this, both IPv4 and IPv6 addresses can be specified and requested during eg service discovery.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="advertise_reconnect_timeout" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="advertise_reconnect_timeout permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#advertise_reconnect_timeout"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">advertise_reconnect_timeout</code></a> This is a per-agent setting of the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#reconnect_timeout"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">reconnect_timeout</code></a> parameter.
This agent will advertise to all other nodes in the cluster that after this timeout, the node may be completely
removed from the cluster. This may only be set on client agents and if unset then other nodes will use the main
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">reconnect_timeout</code> setting when determining when this node may be removed from the cluster.</p></li></ul><h2 id="bootstrap-parameters" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="bootstrap parameters permalink" href="/consul/docs/agent/config/config-files#bootstrap-parameters"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Bootstrap Parameters</h2><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="bootstrap-1" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="bootstrap permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#bootstrap-1"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">bootstrap</code></a> Equivalent to the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/cli-flags#_bootstrap"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-bootstrap</code> command-line flag</a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="bootstrap_expect" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="bootstrap_expect permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#bootstrap_expect"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">bootstrap_expect</code></a> Equivalent to the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/cli-flags#_bootstrap_expect"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-bootstrap-expect</code> command-line flag</a>.</p></li></ul><h2 id="self-managed-hcp-parameters" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="self managed hcp parameters permalink" href="/consul/docs/agent/config/config-files#self-managed-hcp-parameters"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Self-managed HCP Parameters</h2><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="cloud" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="cloud permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#cloud"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">cloud</code></a> This object specifies settings for connecting self-managed clusters to HCP. This was added in Consul 1.14</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="client_id" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="client_id permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#client_id"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">client_id</code></a> The OAuth2 client ID for authentication with HCP. This can be overridden using the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">HCP_CLIENT_ID</code> environment variable.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="client_secret" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="client_secret permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#client_secret"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">client_secret</code></a> The OAuth2 client secret for authentication with HCP. This can be overridden using the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">HCP_CLIENT_SECRET</code> environment variable.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="resource_id" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="resource_id permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#resource_id"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">resource_id</code></a> The HCP resource identifier. This can be overridden using the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">HCP_RESOURCE_ID</code> environment variable.</p></li></ul></li></ul><h2 id="service-mesh-parameters" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="service mesh parameters permalink" href="/consul/docs/agent/config/config-files#service-mesh-parameters"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a><a id="connect-parameters" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-h __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a>Service Mesh Parameters</h2><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The noun <em>connect</em> is used throughout this documentation to refer to the connect
subsystem that provides Consul&#x27;s service mesh capabilities.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="connect" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="connect permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#connect"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">connect</code></a> This object allows setting options for the Connect feature.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The following sub-keys are available:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="enabled-6" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="connect_enabled" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="enabled permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#connect_enabled"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enabled</code></a> (Defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">true</code>) Controls whether Connect features are
enabled on this agent. Should be enabled on all servers in the cluster
in order for service mesh to function properly.
Will be set to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">true</code> automatically if <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">auto_config.enabled</code> or <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">auto_encrypt.allow_tls</code> is <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">true</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="enable_mesh_gateway_wan_federation" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="connect_enable_mesh_gateway_wan_federation" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="enable_mesh_gateway_wan_federation permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#connect_enable_mesh_gateway_wan_federation"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enable_mesh_gateway_wan_federation</code></a> (Defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">false</code>) Controls whether cross-datacenter federation traffic between servers is funneled
through mesh gateways. This was added in Consul 1.8.0.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="ca_provider" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="connect_ca_provider" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="ca_provider permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#connect_ca_provider"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ca_provider</code></a> Controls which CA provider to
use for the service mesh&#x27;s CA. Currently only the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">aws-pca</code>, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">consul</code>, and <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">vault</code> providers are supported.
This is only used when initially bootstrapping the cluster. For an existing cluster,
use the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/api-docs/connect/ca#update-ca-configuration">Update CA Configuration Endpoint</a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="ca_config" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="connect_ca_config" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="ca_config permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#connect_ca_config"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ca_config</code></a> An object which allows setting different
config options based on the CA provider chosen. This is only used when initially
bootstrapping the cluster. For an existing cluster, use the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/api-docs/connect/ca#update-ca-configuration">Update CA Configuration
Endpoint</a>.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The following providers are supported:</p><h4 id="aws-acm-private-ca-provider-ca_provider-aws-pca" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="aws acm private ca provider ca_provider aws pca permalink" href="/consul/docs/agent/config/config-files#aws-acm-private-ca-provider-ca_provider-aws-pca"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>AWS ACM Private CA Provider (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ca_provider = &quot;aws-pca&quot;</code>)</h4><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="existing_arn" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="aws_ca_existing_arn" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="existing_arn permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#aws_ca_existing_arn"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">existing_arn</code></a> The Amazon Resource Name (ARN) of
an existing private CA in your ACM account. If specified, Consul will
attempt to use the existing CA to issue certificates.</li></ul><h4 id="consul-ca-provider-ca_provider-consul" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="consul ca provider ca_provider consul permalink" href="/consul/docs/agent/config/config-files#consul-ca-provider-ca_provider-consul"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Consul CA Provider (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ca_provider = &quot;consul&quot;</code>)</h4><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="private_key" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="consul_ca_private_key" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="private_key permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#consul_ca_private_key"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">private_key</code></a> The PEM contents of the
private key to use for the CA.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="root_cert" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="consul_ca_root_cert" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="root_cert permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#consul_ca_root_cert"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">root_cert</code></a> The PEM contents of the root
certificate to use for the CA.</p></li></ul><h4 id="vault-ca-provider-ca_provider-vault" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="vault ca provider ca_provider vault permalink" href="/consul/docs/agent/config/config-files#vault-ca-provider-ca_provider-vault"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Vault CA Provider (<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ca_provider = &quot;vault&quot;</code>)</h4><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="address" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="vault_ca_address" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="address permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#vault_ca_address"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">address</code></a> The address of the Vault server to
connect to.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="token" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="vault_ca_token" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="token permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#vault_ca_token"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">token</code></a> The Vault token to use. In Consul 1.8.5 and later, if
the token has the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/vault/api-docs/auth/token#renewable">renewable</a>
flag set, Consul will attempt to renew its lease periodically after half the
duration has expired.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="root_pki_path" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="vault_ca_root_pki" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="root_pki_path permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#vault_ca_root_pki"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">root_pki_path</code></a> The path to use for the root
CA pki backend in Vault. This can be an existing backend with a CA already
configured, or a blank/unmounted backend in which case Consul will automatically
mount/generate the CA. The Vault token given above must have <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">sudo</code> access
to this backend, as well as permission to mount the backend at this path if
it is not already mounted.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="intermediate_pki_path" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="vault_ca_intermediate_pki" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="intermediate_pki_path permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#vault_ca_intermediate_pki"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">intermediate_pki_path</code></a>
The path to use for the temporary intermediate CA pki backend in Vault. <strong>Consul
will overwrite any data at this path in order to generate a temporary intermediate
CA</strong>. The Vault token given above must have <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">write</code> access to this backend,
as well as permission to mount the backend at this path if it is not already
mounted.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="auth_method" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="vault_ca_auth_method" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="auth_method permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#vault_ca_auth_method"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">auth_method</code></a>
Vault auth method to use for logging in to Vault.
Please see <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/vault/docs/auth">Vault Auth Methods</a> for more information
on how to configure individual auth methods. If auth method is provided, Consul will obtain a
new token from Vault when the token can no longer be renewed.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="type-1" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="type permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#type-1"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">type</code></a> The type of Vault auth method.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="mount_path" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="mount_path permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#mount_path"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">mount_path</code></a> The mount path of the auth method.
If not provided the auth method type will be used as the mount path.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="params" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="params permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#params"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">params</code></a> The parameters to configure the auth method.
Please see <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/vault/docs/auth">Vault Auth Methods</a> for information on how
to configure the auth method you wish to use. If using the Kubernetes auth method, Consul will
read the service account token from the default mount path <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/var/run/secrets/kubernetes.io/serviceaccount/token</code>
if the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">jwt</code> parameter is not provided.</p></li></ul></li></ul><h4 id="common-ca-config-options" class="hds-typography-display-300 hds-font-weight-semibold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h4__v7716"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow" aria-label="common ca config options permalink" href="/consul/docs/agent/config/config-files#common-ca-config-options"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Common CA Config Options</h4><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">There are also a number of common configuration options supported by all providers:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="csr_max_concurrent" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="ca_csr_max_concurrent" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="csr_max_concurrent permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#ca_csr_max_concurrent"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">csr_max_concurrent</code></a> Sets a limit on the number
of Certificate Signing Requests that can be processed concurrently. Defaults
to 0 (disabled). This is useful when you want to limit the number of CPU cores
available to the server for certificate signing operations. For example, on an
8 core server, setting this to 1 will ensure that no more than one CPU core
will be consumed when generating or rotating certificates. Setting this is
recommended <strong>instead</strong> of <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">csr_max_per_second</code> when you want to limit the
number of cores consumed since it is simpler to reason about limiting CSR
resources this way without artificially slowing down rotations. Added in 1.4.1.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="csr_max_per_second" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="ca_csr_max_per_second" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="csr_max_per_second permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#ca_csr_max_per_second"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">csr_max_per_second</code></a> Sets a rate limit
on the maximum number of Certificate Signing Requests (CSRs) the servers will
accept. This is used to prevent CA rotation from causing unbounded CPU usage
on servers. It defaults to 50 which is conservative â€“ a 2017 Macbook can process
about 100 per second using only ~40% of one CPU core â€“ but sufficient for deployments
up to ~1500 service instances before the time it takes to rotate is impacted.
For larger deployments we recommend increasing this based on the expected number
of server instances and server resources, or use <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">csr_max_concurrent</code> instead
if servers have more than one CPU core. Setting this to zero disables rate limiting.
Added in 1.4.1.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="leaf_cert_ttl" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="ca_leaf_cert_ttl" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="leaf_cert_ttl permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#ca_leaf_cert_ttl"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">leaf_cert_ttl</code></a> Specifies the upper bound on the expiry
of a leaf certificate issued for a service. In most cases a new leaf
certificate will be requested by a proxy before this limit is reached. This
is also the effective limit on how long a server outage can last (with no leader)
before network connections will start being rejected. Defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">72h</code>.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">You can specify a range from one hour (minimum) up to one year (maximum) using
the following units: <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">h</code>, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">m</code>, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">s</code>, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ms</code>, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">us</code> (or <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">Âµs</code>), <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ns</code>, or a combination
of those units, e.g. <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">1h5m</code>.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">This value is also used when rotating out old root certificates from
the cluster. When a root certificate has been inactive (rotated out)
for more than twice the <em>current</em> <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">leaf_cert_ttl</code>, it will be removed
from the trusted list.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="intermediate_cert_ttl" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="ca_intermediate_cert_ttl" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="intermediate_cert_ttl permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#ca_intermediate_cert_ttl"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">intermediate_cert_ttl</code></a> Specifies the expiry for the
intermediate certificates. Defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">8760h</code> (1 year). Must be at least 3 times <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">leaf_cert_ttl</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="root_cert_ttl" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="ca_root_cert_ttl" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="root_cert_ttl permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#ca_root_cert_ttl"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">root_cert_ttl</code></a> Specifies the expiry for a root certificate.
Defaults to 10 years as <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">87600h</code>. This value, if provided, needs to be higher than the
intermediate certificate TTL.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">This setting applies to all Consul CA providers.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">For the Vault provider, this value is only used if the backend is not initialized at first.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">This value is also applied on the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ca set-config</code> command.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="private_key_type" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="ca_private_key_type" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="private_key_type permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#ca_private_key_type"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">private_key_type</code></a> The type of key to generate
for this CA. This is only used when the provider is generating a new key. If
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">private_key</code> is set for the Consul provider, or existing root or intermediate
PKI paths given for Vault then this will be ignored. Currently supported options
are <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ec</code> or <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">rsa</code>. Default is <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ec</code>.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">It is required that all servers in a datacenter have
the same config for the CA. It is recommended that servers in
different datacenters use the same key type and size,
although the built-in CA and Vault provider will both allow mixed CA
key types.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Some CA providers (currently Vault) will not allow cross-signing a
new CA certificate with a different key type. This means that if you
migrate from an RSA-keyed Vault CA to an EC-keyed CA from any
provider, you may have to proceed without cross-signing which risks
temporary connection issues for workloads during the new certificate
rollout. We highly recommend testing this outside of production to
understand the impact and suggest sticking to same key type where
possible.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Note that this only affects <em>CA</em> keys generated by the provider.
Leaf certificate keys are always EC 256 regardless of the CA
configuration.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="private_key_bits" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="ca_private_key_bits" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="private_key_bits permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#ca_private_key_bits"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">private_key_bits</code></a> The length of key to
generate for this CA. This is only used when the provider is generating a new
key. If <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">private_key</code> is set for the Consul provider, or existing root or intermediate
PKI paths given for Vault then this will be ignored.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Currently supported values are:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="private_key_type-ec" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="private_key_type ec permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#private_key_type-ec"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">private_key_type = ec</code></a> (default): <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">224, 256, 384, 521</code>
corresponding to the NIST P-<!-- -->*<!-- --> curves of the same name.</li><li class="mdx-lists_listItem__nkqhg"><a id="private_key_type-rsa" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="private_key_type rsa permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#private_key_type-rsa"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">private_key_type = rsa</code></a>: <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">2048, 4096</code></li></ul></li></ul></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="locality" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="locality permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#locality"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">locality</code></a> <span class="enterprise-alert_root__mvEIF enterprise-alert_inline__IqpbC"><span class="g-screen-reader-only">Enterprise</span><span aria-hidden="true" class="badge_root___Z7Nt badge_medium__8VGoW badge_outlined-neutral__32YXY enterprise-alert_badge___N2fV"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="var(--token-color-consul-brand)"><path d="M4.737 14.193A7 7 0 008.006 15a6.98 6.98 0 004.735-1.847l-1.66-1.737a4.6 4.6 0 110-6.828l1.66-1.738a7 7 0 10-8.004 11.343zM13.32 11.402a.573.573 0 10.637-.953.573.573 0 00-.637.953z"></path><path d="M7.96 9.517a1.517 1.517 0 11-.012-3.034 1.517 1.517 0 01.013 3.034zM13.978 9.447a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 9.472a.574.574 0 110-1.148.574.574 0 010 1.148zM13.978 7.514a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 7.675a.574.574 0 110-1.148.574.574 0 010 1.148zM13.353 5.585a.574.574 0 10.635-.956.574.574 0 00-.635.956z"></path></g></svg><span>Enterprise</span></span></span>: Specifies a map of configurations that set the region and zone of the Consul agent. When specified on server agents, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">locality</code> applies to all partitions on the server. When specified on clients, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">locality</code> applies to all services registered to the client. Configure this field to enable Consul to route traffic to the nearest physical service instance. This field is intended for use primarily with VM and Nomad workloads. Refer to <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/connect/manage-traffic/route-to-local-upstreams">Route traffic to local upstreams</a> for additional information.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="region" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="region permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#region"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">region</code></a>:  String value that specifies the region where the Consul agent is running. Consul assigns this value to services registered to that agent. When service proxy regions match, Consul is able to prioritize routes between service instances in the same region over instances in other regions. You must specify values that are consistent with how regions are defined in your network, for example <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">us-west-1</code> for networks in AWS.</li><li class="mdx-lists_listItem__nkqhg"><a id="zone" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="zone permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#zone"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">zone</code></a>: String value that specifies the availability zone where the Consul agent is running. Consul assigns this value to services registered to that agent. When service proxy regions match, Consul is able to prioritize routes between service instances in the same region and zone over instances in other regions and zones. When healthy service instances are available in multiple zones within the most-local region, Consul prioritizes instances that also match the downstream proxy&#x27;s <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">zone</code>. You must specify values that are consistent with how zones are defined in your network, for example <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">us-west-1a</code> for networks in AWS.</li></ul></li></ul><h2 id="dns-and-domain-parameters" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="dns and domain parameters permalink" href="/consul/docs/agent/config/config-files#dns-and-domain-parameters"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>DNS and Domain Parameters</h2><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="dns_config" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="dns_config permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#dns_config"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">dns_config</code></a> This object allows a number of sub-keys
to be set which can tune how DNS queries are serviced. Refer to <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/services/discovery/dns-cache">DNS caching</a> for more information.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The following sub-keys are available:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="allow_stale" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="allow_stale permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#allow_stale"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">allow_stale</code></a> - Enables a stale query for DNS information.
This allows any Consul server, rather than only the leader, to service the request.
The advantage of this is you get linear read scalability with Consul servers.
In versions of Consul prior to 0.7, this defaulted to false, meaning all requests
are serviced by the leader, providing stronger consistency but less throughput
and higher latency. In Consul 0.7 and later, this defaults to true for better
utilization of available servers.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="max_stale" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="max_stale permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#max_stale"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">max_stale</code></a> - When <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#allow_stale"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">allow_stale</code></a> is
specified, this is used to limit how stale results are allowed to be. If a Consul
server is behind the leader by more than <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">max_stale</code>, the query will be re-evaluated
on the leader to get more up-to-date results. Prior to Consul 0.7.1 this defaulted
to 5 seconds; in Consul 0.7.1 and later this defaults to 10 years (&quot;87600h&quot;)
which effectively allows DNS queries to be answered by any server, no matter
how stale. In practice, servers are usually only milliseconds behind the leader,
so this lets Consul continue serving requests in long outage scenarios where
no leader can be elected.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="node_ttl" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="node_ttl permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#node_ttl"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">node_ttl</code></a> - By default, this is &quot;0s&quot;, so all node lookups
are served with a 0 TTL value. DNS caching for node lookups can be enabled by
setting this value. This should be specified with the &quot;s&quot; suffix for second or
&quot;m&quot; for minute.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="service_ttl" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="service_ttl permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#service_ttl"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">service_ttl</code></a> - This is a sub-object which allows
for setting a TTL on service lookups with a per-service policy. The &quot;<!-- -->*<!-- -->&quot; wildcard
service can be used when there is no specific policy available for a service.
By default, all services are served with a 0 TTL value. DNS caching for service
lookups can be enabled by setting this value.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="enable_truncate" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="enable_truncate permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#enable_truncate"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enable_truncate</code></a> - If set to true, a UDP DNS
query that would return more than 3 records, or more than would fit into a valid
UDP response, will set the truncated flag, indicating to clients that they should
re-query using TCP to get the full set of records.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="only_passing" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="only_passing permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#only_passing"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">only_passing</code></a> - If set to true, any nodes whose
health checks are warning or critical will be excluded from DNS results. If false,
the default, only nodes whose health checks are failing as critical will be excluded.
For service lookups, the health checks of the node itself, as well as the service-specific
checks are considered. For example, if a node has a health check that is critical
then all services on that node will be excluded because they are also considered
critical.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="recursor_strategy" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="recursor_strategy permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#recursor_strategy"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">recursor_strategy</code></a> - If set to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">sequential</code>, Consul will query recursors in the
order listed in the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#recursors"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">recursors</code></a> option. If set to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">random</code>,
Consul will query an upstream DNS resolvers in a random order. Defaults to
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">sequential</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="recursor_timeout" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="recursor_timeout permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#recursor_timeout"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">recursor_timeout</code></a> - Timeout used by Consul when
recursively querying an upstream DNS server. See <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#recursors"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">recursors</code></a> for more details. Default is 2s. This is available in Consul 0.7 and later.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="disable_compression" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="disable_compression permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#disable_compression"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">disable_compression</code></a> - If set to true, DNS
responses will not be compressed. Compression was added and enabled by default
in Consul 0.7.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="udp_answer_limit" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="udp_answer_limit permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#udp_answer_limit"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">udp_answer_limit</code></a> - Limit the number of resource
records contained in the answer section of a UDP-based DNS response. This parameter
applies only to UDP DNS queries that are less than 512 bytes. This setting is
deprecated and replaced in Consul 1.0.7 by <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#a_record_limit"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">a_record_limit</code></a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="a_record_limit" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="a_record_limit permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#a_record_limit"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">a_record_limit</code></a> - Limit the number of resource
records contained in the answer section of a A, AAAA or ANY DNS response (both
TCP and UDP). When answering a question, Consul will use the complete list of
matching hosts, shuffle the list randomly, and then limit the number of answers
to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">a_record_limit</code> (default: no limit). This limit does not apply to SRV records.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">In environments where <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="https://tools.ietf.org/html/rfc3484#section-6">RFC 3484 Section 6</a> Rule 9
is implemented and enforced (i.e. DNS answers are always sorted and
therefore never random), clients may need to set this value to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">1</code> to
preserve the expected randomized distribution behavior (note:
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="https://tools.ietf.org/html/rfc3484">RFC 3484</a> has been obsoleted by
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="https://tools.ietf.org/html/rfc6724">RFC 6724</a> and as a result it should
be increasingly uncommon to need to change this value with modern
resolvers).</p></li><li class="mdx-lists_listItem__nkqhg"><a id="enable_additional_node_meta_txt" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="enable_additional_node_meta_txt permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#enable_additional_node_meta_txt"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enable_additional_node_meta_txt</code></a> - When set to true, Consul
will add TXT records for Node metadata into the Additional section of the DNS responses for several query types such as SRV queries. When set to false those records are not emitted. This does not impact the behavior of those same TXT records when they would be added to the Answer section of the response like when querying with type TXT or ANY. This defaults to true.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="soa" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="soa permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#soa"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">soa</code></a> Allow to tune the setting set up in SOA. Non specified
values fallback to their default values, all values are integers and expressed
as seconds.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The following settings are available:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="expire" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="soa_expire" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="expire permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#soa_expire"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">expire</code></a> - Configure SOA Expire duration in seconds,
default value is 86400, ie: 24 hours.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="min_ttl" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="soa_min_ttl" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="min_ttl permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#soa_min_ttl"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">min_ttl</code></a> - Configure SOA DNS minimum TTL. As explained
in <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="https://tools.ietf.org/html/rfc2308">RFC-2308</a> this also controls negative
cache TTL in most implementations. Default value is 0, ie: no minimum delay
or negative TTL.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="refresh" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="soa_refresh" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="refresh permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#soa_refresh"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">refresh</code></a> - Configure SOA Refresh duration in seconds,
default value is <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">3600</code>, ie: 1 hour.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="retry" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="soa_retry" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="retry permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#soa_retry"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">retry</code></a> - Configures the Retry duration expressed
in seconds, default value is 600, ie: 10 minutes.</p></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="use_cache-1" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="dns_use_cache" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="use_cache permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#dns_use_cache"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">use_cache</code></a> - When set to true, DNS resolution will
use the agent cache described in <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/api-docs/features/caching">agent caching</a>.
This setting affects all service and prepared queries DNS requests. Implies <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#allow_stale"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">allow_stale</code></a></p></li><li class="mdx-lists_listItem__nkqhg"><a id="cache_max_age" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="dns_cache_max_age" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="cache_max_age permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#dns_cache_max_age"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">cache_max_age</code></a> - When <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#dns_use_cache">use_cache</a>
is enabled, the agent will attempt to re-fetch the result from the servers if
the cached value is older than this duration. See: <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/api-docs/features/caching">agent caching</a>.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><strong>Note</strong> that unlike the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">max-age</code> HTTP header, a value of 0 for this field is
equivalent to &quot;no max age&quot;. To get a fresh value from the cache use a very small value
of <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">1ns</code> instead of 0.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="prefer_namespace" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="dns_prefer_namespace" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="prefer_namespace permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#dns_prefer_namespace"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">prefer_namespace</code></a> <span class="enterprise-alert_root__mvEIF enterprise-alert_inline__IqpbC"><span class="g-screen-reader-only">Enterprise</span><span aria-hidden="true" class="badge_root___Z7Nt badge_medium__8VGoW badge_outlined-neutral__32YXY enterprise-alert_badge___N2fV"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="var(--token-color-consul-brand)"><path d="M4.737 14.193A7 7 0 008.006 15a6.98 6.98 0 004.735-1.847l-1.66-1.737a4.6 4.6 0 110-6.828l1.66-1.738a7 7 0 10-8.004 11.343zM13.32 11.402a.573.573 0 10.637-.953.573.573 0 00-.637.953z"></path><path d="M7.96 9.517a1.517 1.517 0 11-.012-3.034 1.517 1.517 0 01.013 3.034zM13.978 9.447a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 9.472a.574.574 0 110-1.148.574.574 0 010 1.148zM13.978 7.514a.574.574 0 10.637-.954.574.574 0 00-.637.954zM12.59 7.675a.574.574 0 110-1.148.574.574 0 010 1.148zM13.353 5.585a.574.574 0 10.635-.956.574.574 0 00-.635.956z"></path></g></svg><span>Enterprise</span></span></span> <strong>Deprecated in Consul 1.11.
Use the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/services/discovery/dns-static-lookups#service-lookups-for-consul-enterprise">canonical DNS format for enterprise service lookups</a> instead.</strong> -
When set to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">true</code>, in a DNS query for a service, a single label between the domain
and the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">service</code> label is treated as a namespace name instead of a datacenter.
When set to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">false</code>, the default, the behavior is the same as non-Enterprise
versions and treats the single label as the datacenter.</p></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="domain" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="domain permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#domain"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">domain</code></a> Equivalent to the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/cli-flags#_domain"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-domain</code> command-line flag</a>.</p></li></ul><h2 id="encryption-parameters" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="encryption parameters permalink" href="/consul/docs/agent/config/config-files#encryption-parameters"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Encryption Parameters</h2><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="auto_encrypt" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="auto_encrypt permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#auto_encrypt"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">auto_encrypt</code></a> This object allows setting options for the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">auto_encrypt</code> feature.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The following sub-keys are available:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="allow_tls" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="allow_tls permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#allow_tls"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">allow_tls</code></a> (Defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">false</code>) This option enables
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">auto_encrypt</code> on the servers and allows them to automatically distribute certificates
from the service mesh CA to the clients. If enabled, the server can accept incoming
connections from both the built-in CA and the service mesh CA, as well as their certificates.
Note, the server will only present the built-in CA and certificate, which the
client can verify using the CA it received from <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">auto_encrypt</code> endpoint. If disabled,
a client configured with <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">auto_encrypt.tls</code> will be unable to start.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="tls" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="tls permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#tls"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tls</code></a> (Defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">false</code>) Allows the client to request the
service mesh CA and certificates from the servers, for encrypting RPC communication.
The client will make the request to any servers listed in the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-retry-join</code>
option. This requires that every server to have <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">auto_encrypt.allow_tls</code> enabled.
When both <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">auto_encrypt</code> options are used, it allows clients to receive certificates
that are generated on the servers. If the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-server-port</code> is not the default one,
it has to be provided to the client as well. Usually this is discovered through
LAN gossip, but <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">auto_encrypt</code> provision happens before the information can be
distributed through gossip. The most secure <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">auto_encrypt</code> setup is when the
client is provided with the built-in CA, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">verify_server_hostname</code> is turned on,
and when an ACL token with <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">node.write</code> permissions is setup. It is also possible
to use <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">auto_encrypt</code> with a CA and ACL, but without <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">verify_server_hostname</code>,
or only with a ACL enabled, or only with CA and <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">verify_server_hostname</code>, or
only with a CA, or finally without a CA and without ACL enabled. In any case,
the communication to the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">auto_encrypt</code> endpoint is always TLS encrypted.</p><div class="alert alert-warning g-type-body"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><strong>Warning:</strong> Enabling <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">auto_encrypt.tls</code> conflicts with the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#auto_config"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">auto_config</code></a> feature.
Only one option may be specified.</p></div></li><li class="mdx-lists_listItem__nkqhg"><a id="dns_san" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="dns_san permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#dns_san"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">dns_san</code></a> (Defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">[]</code>) When this option is being
used, the certificates requested by <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">auto_encrypt</code> from the server have these
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">dns_san</code> set as DNS SAN.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="ip_san" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="ip_san permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#ip_san"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ip_san</code></a> (Defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">[]</code>) When this option is being used,
the certificates requested by <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">auto_encrypt</code> from the server have these <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ip_san</code>
set as IP SAN.</p></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="encrypt" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="encrypt permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#encrypt"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">encrypt</code></a> Equivalent to the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/cli-flags#_encrypt"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-encrypt</code> command-line flag</a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="encrypt_verify_incoming" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="encrypt_verify_incoming permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#encrypt_verify_incoming"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">encrypt_verify_incoming</code></a> - This is an optional
parameter that can be used to disable enforcing encryption for incoming gossip
in order to upshift from unencrypted to encrypted gossip on a running cluster.
See <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/security/encryption#configuring-gossip-encryption-on-an-existing-cluster">this section</a>
for more information. Defaults to true.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="encrypt_verify_outgoing" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="encrypt_verify_outgoing permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#encrypt_verify_outgoing"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">encrypt_verify_outgoing</code></a> - This is an optional
parameter that can be used to disable enforcing encryption for outgoing gossip
in order to upshift from unencrypted to encrypted gossip on a running cluster.
See <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/security/encryption#configuring-gossip-encryption-on-an-existing-cluster">this section</a>
for more information. Defaults to true.</p></li></ul><h2 id="gossip-parameters" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="gossip parameters permalink" href="/consul/docs/agent/config/config-files#gossip-parameters"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Gossip Parameters</h2><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="gossip_lan" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="gossip_lan permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#gossip_lan"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">gossip_lan</code></a> - <strong>(Advanced)</strong> This object contains a
number of sub-keys which can be set to tune the LAN gossip communications. These
are only provided for users running especially large clusters that need fine tuning
and are prepared to spend significant effort correctly tuning them for their environment
and workload. <strong>Tuning these improperly can cause Consul to fail in unexpected
ways</strong>. The default values are appropriate in almost all deployments.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="gossip_nodes" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="gossip_nodes permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#gossip_nodes"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">gossip_nodes</code></a> - The number of random nodes to send
gossip messages to per gossip_interval. Increasing this number causes the gossip
messages to propagate across the cluster more quickly at the expense of increased
bandwidth. The default is 3.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="gossip_interval" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="gossip_interval permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#gossip_interval"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">gossip_interval</code></a> - The interval between sending
messages that need to be gossiped that haven&#x27;t been able to piggyback on probing
messages. If this is set to zero, non-piggyback gossip is disabled. By lowering
this value (more frequent) gossip messages are propagated across the cluster
more quickly at the expense of increased bandwidth. The default is 200ms.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="probe_interval" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="probe_interval permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#probe_interval"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">probe_interval</code></a> - The interval between random
node probes. Setting this lower (more frequent) will cause the cluster to detect
failed nodes more quickly at the expense of increased bandwidth usage. The default
is 1s.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="probe_timeout" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="probe_timeout permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#probe_timeout"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">probe_timeout</code></a> - The timeout to wait for an ack
from a probed node before assuming it is unhealthy. This should be at least the
99-percentile of RTT (round-trip time) on your network. The default is 500ms
and is a conservative value suitable for almost all realistic deployments.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="retransmit_mult" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="retransmit_mult permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#retransmit_mult"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">retransmit_mult</code></a> - The multiplier for the number
of retransmissions that are attempted for messages broadcasted over gossip. The
number of retransmits is scaled using this multiplier and the cluster size. The
higher the multiplier, the more likely a failed broadcast is to converge at the
expense of increased bandwidth. The default is 4.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="suspicion_mult" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="suspicion_mult permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#suspicion_mult"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">suspicion_mult</code></a> - The multiplier for determining
the time an inaccessible node is considered suspect before declaring it dead.
The timeout is scaled with the cluster size and the probe_interval. This allows
the timeout to scale properly with expected propagation delay with a larger cluster
size. The higher the multiplier, the longer an inaccessible node is considered
part of the cluster before declaring it dead, giving that suspect node more time
to refute if it is indeed still alive. The default is 4.</p></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="gossip_wan" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="gossip_wan permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#gossip_wan"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">gossip_wan</code></a> - <strong>(Advanced)</strong> This object contains a
number of sub-keys which can be set to tune the WAN gossip communications. These
are only provided for users running especially large clusters that need fine tuning
and are prepared to spend significant effort correctly tuning them for their environment
and workload. <strong>Tuning these improperly can cause Consul to fail in unexpected
ways</strong>. The default values are appropriate in almost all deployments.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="gossip_nodes-1" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="gossip_nodes permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#gossip_nodes-1"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">gossip_nodes</code></a> - The number of random nodes to send
gossip messages to per gossip_interval. Increasing this number causes the gossip
messages to propagate across the cluster more quickly at the expense of increased
bandwidth. The default is 4.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="gossip_interval-1" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="gossip_interval permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#gossip_interval-1"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">gossip_interval</code></a> - The interval between sending
messages that need to be gossiped that haven&#x27;t been able to piggyback on probing
messages. If this is set to zero, non-piggyback gossip is disabled. By lowering
this value (more frequent) gossip messages are propagated across the cluster
more quickly at the expense of increased bandwidth. The default is 500ms.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="probe_interval-1" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="probe_interval permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#probe_interval-1"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">probe_interval</code></a> - The interval between random
node probes. Setting this lower (more frequent) will cause the cluster to detect
failed nodes more quickly at the expense of increased bandwidth usage. The default
is 5s.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="probe_timeout-1" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="probe_timeout permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#probe_timeout-1"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">probe_timeout</code></a> - The timeout to wait for an ack
from a probed node before assuming it is unhealthy. This should be at least the
99-percentile of RTT (round-trip time) on your network. The default is 3s
and is a conservative value suitable for almost all realistic deployments.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="retransmit_mult-1" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="retransmit_mult permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#retransmit_mult-1"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">retransmit_mult</code></a> - The multiplier for the number
of retransmissions that are attempted for messages broadcasted over gossip. The
number of retransmits is scaled using this multiplier and the cluster size. The
higher the multiplier, the more likely a failed broadcast is to converge at the
expense of increased bandwidth. The default is 4.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="suspicion_mult-1" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="suspicion_mult permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#suspicion_mult-1"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">suspicion_mult</code></a> - The multiplier for determining
the time an inaccessible node is considered suspect before declaring it dead.
The timeout is scaled with the cluster size and the probe_interval. This allows
the timeout to scale properly with expected propagation delay with a larger cluster
size. The higher the multiplier, the longer an inaccessible node is considered
part of the cluster before declaring it dead, giving that suspect node more time
to refute if it is indeed still alive. The default is 6.</p></li></ul></li></ul><h2 id="join-parameters" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="join parameters permalink" href="/consul/docs/agent/config/config-files#join-parameters"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Join Parameters</h2><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="rejoin_after_leave" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="rejoin_after_leave permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#rejoin_after_leave"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">rejoin_after_leave</code></a> Equivalent to the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/cli-flags#_rejoin"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-rejoin</code> command-line flag</a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="retry_join" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="retry_join permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#retry_join"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">retry_join</code></a> - Equivalent to the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/cli-flags#retry-join"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-retry-join</code></a> command-line flag.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="retry_interval" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="retry_interval permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#retry_interval"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">retry_interval</code></a> Equivalent to the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/cli-flags#_retry_interval"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-retry-interval</code> command-line flag</a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="retry_max" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="retry_max permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#retry_max"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">retry_max</code></a> - Equivalent to the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/cli-flags#_retry_max"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-retry-max</code></a> command-line flag.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="retry_join_wan" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="retry_join_wan permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#retry_join_wan"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">retry_join_wan</code></a> Equivalent to the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/cli-flags#_retry_join_wan"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-retry-join-wan</code> command-line flag</a>. Takes a list of addresses to attempt joining to WAN every <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#_retry_interval_wan"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">retry_interval_wan</code></a> until at least one join works.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="retry_interval_wan" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="retry_interval_wan permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#retry_interval_wan"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">retry_interval_wan</code></a> Equivalent to the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/cli-flags#_retry_interval_wan"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-retry-interval-wan</code> command-line flag</a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="start_join" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="start_join permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#start_join"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">start_join</code></a> <strong>Deprecated in Consul 1.15. Use the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#retry_join"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">retry_join</code></a> field instead. This field will be removed in a future version of Consul.</strong>
This field is an alias of <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">retry_join</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="start_join_wan" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="start_join_wan permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#start_join_wan"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">start_join_wan</code></a> <strong>Deprecated in Consul 1.15. Use the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#retry_join_wan"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">retry_join_wan</code></a> field instead. This field will be removed in a future version of Consul.</strong>
This field is an alias of <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">retry_join_wan</code>.</p></li></ul><h2 id="log-parameters" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="log parameters permalink" href="/consul/docs/agent/config/config-files#log-parameters"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Log Parameters</h2><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="log_file" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="log_file permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#log_file"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">log_file</code></a> Equivalent to the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/cli-flags#_log_file"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-log-file</code> command-line flag</a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="log_rotate_duration" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="log_rotate_duration permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#log_rotate_duration"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">log_rotate_duration</code></a> Equivalent to the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/cli-flags#_log_rotate_duration"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-log-rotate-duration</code> command-line flag</a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="log_rotate_bytes" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="log_rotate_bytes permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#log_rotate_bytes"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">log_rotate_bytes</code></a> Equivalent to the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/cli-flags#_log_rotate_bytes"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-log-rotate-bytes</code> command-line flag</a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="log_rotate_max_files" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="log_rotate_max_files permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#log_rotate_max_files"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">log_rotate_max_files</code></a> Equivalent to the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/cli-flags#_log_rotate_max_files"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-log-rotate-max-files</code> command-line flag</a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="log_level" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="log_level permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#log_level"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">log_level</code></a> Equivalent to the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/cli-flags#_log_level"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-log-level</code> command-line flag</a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="log_json" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="log_json permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#log_json"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">log_json</code></a> Equivalent to the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/cli-flags#_log_json"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-log-json</code> command-line flag</a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="enable_syslog" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="enable_syslog permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#enable_syslog"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enable_syslog</code></a> Equivalent to the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/cli-flags#_syslog"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-syslog</code> command-line flag</a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="syslog_facility" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="syslog_facility permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#syslog_facility"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">syslog_facility</code></a> When <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#enable_syslog"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enable_syslog</code></a>
is provided, this controls to which facility messages are sent. By default, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">LOCAL0</code>
will be used.</p></li></ul><h2 id="node-parameters" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="node parameters permalink" href="/consul/docs/agent/config/config-files#node-parameters"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Node Parameters</h2><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="node_id" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="node_id permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#node_id"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">node_id</code></a> Equivalent to the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/cli-flags#_node_id"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-node-id</code> command-line flag</a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="node_name" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="node_name permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#node_name"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">node_name</code></a> Equivalent to the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/cli-flags#_node"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-node</code> command-line flag</a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="node_meta" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="node_meta permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#node_meta"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">node_meta</code></a> Available in Consul 0.7.3 and later, This object allows associating arbitrary metadata key/value pairs with the local node, which can then be used for filtering results from certain catalog endpoints. See the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/cli-flags#_node_meta"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-node-meta</code> command-line flag</a> for more information.</p><div class="mdx-code-blocks_codeTabsMargin__XyBTZ style_root__Ib9Qn theme-dark_base__RNsat"><div style="height:0px;overflow:hidden;visibility:hidden" role="presentation" aria-hidden="true"><div class="style_topBar__0pZ_b"><div class="style_heading__2_7Zj g-type-body-small-strong">Example node_meta configuration</div><div class="style_tabsAsTabs__lZ0ce style_hasHeading__tsJPr"><button class="style_tabControl__A5k2n g-type-body-small-strong style_isActive__AmKFP style_hasHeading__tsJPr">HCL</button><button class="style_tabControl__A5k2n g-type-body-small-strong style_hasHeading__tsJPr">JSON</button></div></div></div><div class="style_topBar__0pZ_b"><div class="style_heading__2_7Zj g-type-body-small-strong">Example node_meta configuration</div><div class="style_tabsAsTabs__lZ0ce style_hasHeading__tsJPr"><button class="style_tabControl__A5k2n g-type-body-small-strong style_isActive__AmKFP style_hasHeading__tsJPr">HCL</button><button class="style_tabControl__A5k2n g-type-body-small-strong style_hasHeading__tsJPr">JSON</button></div></div><div><div style="display:block"><div class="g-code-block style_root__i1k0c language-hcl theme-dark_base__RNsat theme-dark_syntax__QCDzs style_hasBarAbove__gZA5T" data-heap-track="code-block"><div class="style_linesContainer__4N_nq"><pre class="code-lines_pre__t8gY5 language-hcl"><code class="code-lines_code__luWmT language-hcl"><span class="code-lines_linesColumn__M9Wn1 code-lines_styledScrollbars__37_Kl"><span class="code-lines_linesScrollableContent__UNs3H"><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ"><span class="token keyword">node_meta</span> <span class="token punctuation">{</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">  <span class="token property">instance_type</span> <span class="token punctuation">=</span> <span class="token string">&quot;t2.medium&quot;</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ"><span class="token punctuation">}</span>
</span></span></span></code></pre><div class="style_copyButtonContainer__yxcuf"><button class="style_button__8j_Rk" data-heap-track="code-block-clipboard-icon" type="button">Copy<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="style_svg__gtvGZ"><g fill="currentColor"><path d="M2.25 0A2.25 2.25 0 000 2.25v7.5A2.25 2.25 0 002.25 12h.25a.75.75 0 000-1.5h-.25a.75.75 0 01-.75-.75v-7.5a.75.75 0 01.75-.75h7.5a.75.75 0 01.75.75v.25a.75.75 0 001.5 0v-.25A2.25 2.25 0 009.75 0h-7.5z"></path><path fill-rule="evenodd" d="M6.25 4A2.25 2.25 0 004 6.25v7.5A2.25 2.25 0 006.25 16h7.5A2.25 2.25 0 0016 13.75v-7.5A2.25 2.25 0 0013.75 4h-7.5zM5.5 6.25a.75.75 0 01.75-.75h7.5a.75.75 0 01.75.75v7.5a.75.75 0 01-.75.75h-7.5a.75.75 0 01-.75-.75v-7.5z" clip-rule="evenodd"></path></g></svg></button></div></div></div></div><div style="display:none"><div class="g-code-block style_root__i1k0c language-json theme-dark_base__RNsat theme-dark_syntax__QCDzs style_hasBarAbove__gZA5T" data-heap-track="code-block"><div class="style_linesContainer__4N_nq"><pre class="code-lines_pre__t8gY5 language-json"><code class="code-lines_code__luWmT language-json"><span class="code-lines_linesColumn__M9Wn1 code-lines_styledScrollbars__37_Kl"><span class="code-lines_linesScrollableContent__UNs3H"><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ"><span class="token punctuation">{</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">  <span class="token property">&quot;node_meta&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">    <span class="token property">&quot;instance_type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;t2.medium&quot;</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">  <span class="token punctuation">}</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ"><span class="token punctuation">}</span>
</span></span></span></code></pre><div class="style_copyButtonContainer__yxcuf"><button class="style_button__8j_Rk" data-heap-track="code-block-clipboard-icon" type="button">Copy<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="style_svg__gtvGZ"><g fill="currentColor"><path d="M2.25 0A2.25 2.25 0 000 2.25v7.5A2.25 2.25 0 002.25 12h.25a.75.75 0 000-1.5h-.25a.75.75 0 01-.75-.75v-7.5a.75.75 0 01.75-.75h7.5a.75.75 0 01.75.75v.25a.75.75 0 001.5 0v-.25A2.25 2.25 0 009.75 0h-7.5z"></path><path fill-rule="evenodd" d="M6.25 4A2.25 2.25 0 004 6.25v7.5A2.25 2.25 0 006.25 16h7.5A2.25 2.25 0 0016 13.75v-7.5A2.25 2.25 0 0013.75 4h-7.5zM5.5 6.25a.75.75 0 01.75-.75h7.5a.75.75 0 01.75.75v7.5a.75.75 0 01-.75.75h-7.5a.75.75 0 01-.75-.75v-7.5z" clip-rule="evenodd"></path></g></svg></button></div></div></div></div></div></div></li><li class="mdx-lists_listItem__nkqhg"><a id="disable_host_node_id" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="disable_host_node_id permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#disable_host_node_id"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">disable_host_node_id</code></a> Equivalent to the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/cli-flags#_disable_host_node_id"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-disable-host-node-id</code> command-line flag</a>.</p></li></ul><h2 id="raft-parameters" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="raft parameters permalink" href="/consul/docs/agent/config/config-files#raft-parameters"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Raft Parameters</h2><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="raft_boltdb" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="raft_boltdb" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="raft_boltdb permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#raft_boltdb"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">raft_boltdb</code></a> <strong>These fields are deprecated in Consul v1.15.0.
Use <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#raft_logstore"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">raft_logstore</code></a> instead.</strong> This is a nested
object that allows configuring options for Raft&#x27;s BoltDB-based log store.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="nofreelistsync" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="nofreelistsync permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#nofreelistsync"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">NoFreelistSync</code></a> <strong>This field is deprecated in Consul v1.15.0. Use the
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#raft_logstore_boltdb_no_freelist_sync"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">raft_logstore.boltdb.no_freelist_sync</code></a> field
instead.</strong> Setting this to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">true</code> disables syncing the BoltDB freelist
to disk within the raft.db file. Not syncing the freelist to disk
reduces disk IO required for write operations at the expense of potentially
increasing start up time due to needing to scan the db to discover where the
free space resides within the file.</li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="raft_logstore" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="raft_logstore" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="raft_logstore permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#raft_logstore"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">raft_logstore</code></a> This is a nested object that allows
configuring options for Raft&#x27;s LogStore component which is used to persist
logs and crucial Raft state on disk during writes. This was added in Consul
v1.15.0.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="backend" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="raft_logstore_backend" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="backend permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#raft_logstore_backend"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">backend</code></a> Specifies which storage
engine to use to persist logs. Valid options are <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boltdb</code> or <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">wal</code>. Default
is <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boltdb</code>. The <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">wal</code> option specifies an experimental backend that
should be used with caution. Refer to
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/wal-logstore">Experimental WAL LogStore backend</a>
for more information.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="disable_log_cache" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="raft_logstore_disable_log_cache" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="disable_log_cache permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#raft_logstore_disable_log_cache"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">disable_log_cache</code></a> Disables the in-memory cache for recent logs. We recommend using it for performance testing purposes, as no significant improvement has been measured when the cache is disabled. While the in-memory log cache theoretically prevents disk reads for recent logs, recent logs are also stored in the OS page cache, which does not slow either the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boltdb</code> or <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">wal</code> backend&#x27;s ability to read them.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="verification" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="raft_logstore_verification" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="verification permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#raft_logstore_verification"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">verification</code></a> This is a nested object that
allows configuring the online verification of the LogStore. Verification
provides additional assurances that LogStore backends are correctly storing
data. It imposes low overhead on servers and is safe to run in
production. It is most useful when evaluating a new backend
implementation.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Verification must be enabled on the leader to have any effect and can be
used with any backend. When enabled, the leader periodically writes a
special &quot;checkpoint&quot; log message that includes the checksums of all log entries
written to Raft since the last checkpoint. Followers that have verification
enabled run a background task for each checkpoint that reads all logs
directly from the LogStore and then recomputes the checksum. A report is output
as an INFO level log for each checkpoint.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Checksum failure should never happen and indicate unrecoverable corruption
on that server. The only correct response is to stop the server, remove its
data directory, and restart so it can be caught back up with a correct
server again. Please report verification failures including details about
your hardware and workload via GitHub issues. Refer to
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/wal-logstore">Experimental WAL LogStore backend</a>
for more information.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="enabled-7" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="raft_logstore_verification_enabled" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="enabled permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#raft_logstore_verification_enabled"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enabled</code></a> - Set to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">true</code> to
allow this Consul server to write and verify log verification checkpoints
when elected leader.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="interval" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="raft_logstore_verification_interval" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="interval permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#raft_logstore_verification_interval"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">interval</code></a> - Specifies the time
interval between checkpoints. There is no default value. You must
configure the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">interval</code> and set <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#raft_logstore_verification_enabled"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enabled</code></a>
to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">true</code> to correctly enable intervals. We recommend using an interval
between <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">30s</code> and <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">5m</code>. The performance overhead is insignificant when the
interval is set to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">5m</code> or less.</p></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="boltdb" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="raft_logstore_boltdb" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="boltdb permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#raft_logstore_boltdb"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boltdb</code></a> - Object that configures options for
Raft&#x27;s <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boltdb</code> backend. It has no effect if the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">backend</code> is not <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">boltdb</code>.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="no_freelist_sync" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="raft_logstore_boltdb_no_freelist_sync" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="no_freelist_sync permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#raft_logstore_boltdb_no_freelist_sync"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">no_freelist_sync</code></a> - Set to
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">true</code> to disable storing BoltDB&#x27;s freelist to disk within the
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">raft.db</code> file. Disabling freelist syncs reduces the disk IO required
for write operations, but could potentially increase start up time
because Consul must scan the database to find free space
within the file.</li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="wal" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="raft_logstore_wal" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="wal permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#raft_logstore_wal"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">wal</code></a> - Object that configures the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">wal</code> backend.
Refer to <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/wal-logstore">Experimental WAL LogStore backend</a>
for more information.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="segment_size_mb" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="raft_logstore_wal_segment_size_mb" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="segment_size_mb permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#raft_logstore_wal_segment_size_mb"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">segment_size_mb</code></a> - Integer value
that represents the target size in MB for each segment file before
rolling to a new segment. The default value is <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">64</code> and is suitable for
most deployments. While a smaller value may use less disk space because you
can reclaim space by deleting old segments sooner, the smaller segment that results
may affect performance because safely rotating to a new file more
frequently can impact tail latencies. Larger values are unlikely
to improve performance significantly. We recommend using this
configuration for performance testing purposes.</li></ul></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="raft_protocol" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="raft_protocol" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="raft_protocol permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#raft_protocol"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">raft_protocol</code></a> Equivalent to the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/cli-flags#_raft_protocol"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-raft-protocol</code>
command-line flag</a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="raft_snapshot_threshold" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="_raft_snapshot_threshold" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="raft_snapshot_threshold permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#_raft_snapshot_threshold"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">raft_snapshot_threshold</code></a> This controls the
minimum number of raft commit entries between snapshots that are saved to
disk. This is a low-level parameter that should rarely need to be changed.
Very busy clusters experiencing excessive disk IO may increase this value to
reduce disk IO, and minimize the chances of all servers taking snapshots at
the same time. Increasing this trades off disk IO for disk space since the log
will grow much larger and the space in the raft.db file can&#x27;t be reclaimed
till the next snapshot. Servers may take longer to recover from crashes or
failover if this is increased significantly as more logs will need to be
replayed. In Consul 1.1.0 and later this defaults to 16384, and in prior
versions it was set to 8192.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Since Consul 1.10.0 this can be reloaded using <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">consul reload</code> or sending the
server a <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">SIGHUP</code> to allow tuning snapshot activity without a rolling restart
in emergencies.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="raft_snapshot_interval" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="_raft_snapshot_interval" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="raft_snapshot_interval permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#_raft_snapshot_interval"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">raft_snapshot_interval</code></a> This controls how often
servers check if they need to save a snapshot to disk. This is a low-level
parameter that should rarely need to be changed. Very busy clusters
experiencing excessive disk IO may increase this value to reduce disk IO, and
minimize the chances of all servers taking snapshots at the same time.
Increasing this trades off disk IO for disk space since the log will grow much
larger and the space in the raft.db file can&#x27;t be reclaimed till the next
snapshot. Servers may take longer to recover from crashes or failover if this
is increased significantly as more logs will need to be replayed. In Consul
1.1.0 and later this defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">30s</code>, and in prior versions it was set to
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">5s</code>.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Since Consul 1.10.0 this can be reloaded using <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">consul reload</code> or sending the
server a <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">SIGHUP</code> to allow tuning snapshot activity without a rolling restart
in emergencies.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="raft_trailing_logs" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="raft_trailing_logs permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#raft_trailing_logs"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">raft_trailing_logs</code></a> - This controls how many log entries are left in the log
store on disk after a snapshot is made. This should only be adjusted when
followers cannot catch up to the leader due to a very large snapshot size
and high write throughput causing log truncation before an snapshot can be
fully installed on a follower. If you need to use this to recover a cluster,
consider reducing write throughput or the amount of data stored on Consul as
it is likely under a load it is not designed to handle. The default value is
10000 which is suitable for all normal workloads. Added in Consul 1.5.3.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Since Consul 1.10.0 this can be reloaded using <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">consul reload</code> or sending the
server a <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">SIGHUP</code> to allow recovery without downtime when followers can&#x27;t keep
up.</p></li></ul><h2 id="serf-parameters" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="serf parameters permalink" href="/consul/docs/agent/config/config-files#serf-parameters"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Serf Parameters</h2><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="serf_lan-1" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="serf_lan_bind" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="serf_lan permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#serf_lan_bind"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">serf_lan</code></a> Equivalent to the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/cli-flags#_serf_lan_bind"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-serf-lan-bind</code> command-line flag</a>.
This is an IP address, not to be confused with <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#serf_lan_port"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ports.serf_lan</code></a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="serf_lan_allowed_cidrs" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="serf_lan_allowed_cidrs" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="serf_lan_allowed_cidrs permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#serf_lan_allowed_cidrs"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">serf_lan_allowed_cidrs</code></a> Equivalent to the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/cli-flags#_serf_lan_allowed_cidrs"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-serf-lan-allowed-cidrs</code> command-line flag</a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="serf_wan-1" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="serf_wan_bind" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="serf_wan permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#serf_wan_bind"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">serf_wan</code></a> Equivalent to the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/cli-flags#_serf_wan_bind"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-serf-wan-bind</code> command-line flag</a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="serf_wan_allowed_cidrs" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="serf_wan_allowed_cidrs" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="serf_wan_allowed_cidrs permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#serf_wan_allowed_cidrs"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">serf_wan_allowed_cidrs</code></a> Equivalent to the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/cli-flags#_serf_wan_allowed_cidrs"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-serf-wan-allowed-cidrs</code> command-line flag</a>.</p></li></ul><h2 id="telemetry-parameters" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="telemetry parameters permalink" href="/consul/docs/agent/config/config-files#telemetry-parameters"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Telemetry Parameters</h2><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="telemetry" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="telemetry permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#telemetry"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">telemetry</code></a> This is a nested object that configures where
Consul sends its runtime telemetry, and contains the following keys:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="circonus_api_token" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="telemetry-circonus_api_token" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="circonus_api_token permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#telemetry-circonus_api_token"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">circonus_api_token</code></a> A valid API
Token used to create/manage check. If provided, metric management is
enabled.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="circonus_api_app" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="telemetry-circonus_api_app" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="circonus_api_app permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#telemetry-circonus_api_app"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">circonus_api_app</code></a> A valid app name
associated with the API token. By default, this is set to &quot;consul&quot;.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="circonus_api_url" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="telemetry-circonus_api_url" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="circonus_api_url permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#telemetry-circonus_api_url"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">circonus_api_url</code></a>
The base URL to use for contacting the Circonus API. By default, this is set
to &quot;<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="https://api.circonus.com/v2%22">https://api.circonus.com/v2&quot;</a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="circonus_submission_interval" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="telemetry-circonus_submission_interval" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="circonus_submission_interval permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#telemetry-circonus_submission_interval"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">circonus_submission_interval</code></a> The interval at which metrics are submitted to Circonus. By default, this is set to &quot;10s&quot; (ten seconds).</p></li><li class="mdx-lists_listItem__nkqhg"><a id="circonus_submission_url" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="telemetry-circonus_submission_url" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="circonus_submission_url permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#telemetry-circonus_submission_url"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">circonus_submission_url</code></a>
The <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">check.config.submission_url</code> field, of a Check API object, from a previously
created HTTPTrap check.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="circonus_check_id" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="telemetry-circonus_check_id" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="circonus_check_id permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#telemetry-circonus_check_id"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">circonus_check_id</code></a>
The Check ID (not <strong>check bundle</strong>) from a previously created HTTPTrap check.
The numeric portion of the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">check._cid</code> field in the Check API object.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="circonus_check_force_metric_activation" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="telemetry-circonus_check_force_metric_activation" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="circonus_check_force_metric_activation permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#telemetry-circonus_check_force_metric_activation"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">circonus_check_force_metric_activation</code></a> Force activation of metrics which already exist and are not currently active.
If check management is enabled, the default behavior is to add new metrics as
they are encountered. If the metric already exists in the check, it will <strong>not</strong>
be activated. This setting overrides that behavior. By default, this is set to
false.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="circonus_check_instance_id" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="telemetry-circonus_check_instance_id" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="circonus_check_instance_id permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#telemetry-circonus_check_instance_id"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">circonus_check_instance_id</code></a> Uniquely identifies the metrics coming from this <strong>instance</strong>. It can be used to
maintain metric continuity with transient or ephemeral instances as they move
around within an infrastructure. By default, this is set to hostname:application
name (e.g. &quot;host123:consul&quot;).</p></li><li class="mdx-lists_listItem__nkqhg"><a id="circonus_check_search_tag" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="telemetry-circonus_check_search_tag" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="circonus_check_search_tag permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#telemetry-circonus_check_search_tag"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">circonus_check_search_tag</code></a> A special tag which, when coupled with the instance id, helps to narrow down
the search results when neither a Submission URL or Check ID is provided. By
default, this is set to service:application name (e.g. &quot;service:consul&quot;).</p></li><li class="mdx-lists_listItem__nkqhg"><a id="circonus_check_display_name" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="telemetry-circonus_check_display_name" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="circonus_check_display_name permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#telemetry-circonus_check_display_name"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">circonus_check_display_name</code></a> Specifies a name to give a check when it is created. This name is displayed in
the Circonus UI Checks list. Available in Consul 0.7.2 and later.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="circonus_check_tags" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="telemetry-circonus_check_tags" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="circonus_check_tags permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#telemetry-circonus_check_tags"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">circonus_check_tags</code></a>
Comma separated list of additional tags to add to a check when it is created.
Available in Consul 0.7.2 and later.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="circonus_broker_id" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="telemetry-circonus_broker_id" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="circonus_broker_id permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#telemetry-circonus_broker_id"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">circonus_broker_id</code></a>
The ID of a specific Circonus Broker to use when creating a new check. The numeric
portion of <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">broker._cid</code> field in a Broker API object. If metric management is
enabled and neither a Submission URL nor Check ID is provided, an attempt will
be made to search for an existing check using Instance ID and Search Tag. If
one is not found, a new HTTPTrap check will be created. By default, this is not
used and a random Enterprise Broker is selected, or the default Circonus Public
Broker.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="circonus_broker_select_tag" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="telemetry-circonus_broker_select_tag" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="circonus_broker_select_tag permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#telemetry-circonus_broker_select_tag"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">circonus_broker_select_tag</code></a> A special tag which will be used to select a Circonus Broker when a Broker ID
is not provided. The best use of this is to as a hint for which broker should
be used based on <strong>where</strong> this particular instance is running (e.g. a specific
geo location or datacenter, dc:sfo). By default, this is left blank and not used.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="disable_hostname" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="telemetry-disable_hostname" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="disable_hostname permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#telemetry-disable_hostname"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">disable_hostname</code></a>
Set to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">true</code> to stop prepending the machine&#x27;s hostname to gauge-type metrics. Default is <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">false</code>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="disable_per_tenancy_usage_metrics" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="telemetry-disable_per_tenancy_usage_metrics" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="disable_per_tenancy_usage_metrics permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#telemetry-disable_per_tenancy_usage_metrics"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">disable_per_tenancy_usage_metrics</code></a>
Set to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">true</code> to exclude tenancy labels from usage metrics. This significantly decreases CPU utilization in clusters with many admin partitions or namespaces.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="dogstatsd_addr" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="telemetry-dogstatsd_addr" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="dogstatsd_addr permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#telemetry-dogstatsd_addr"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">dogstatsd_addr</code></a> This provides the address
of a DogStatsD instance in the format <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">host:port</code>. DogStatsD is a protocol-compatible
flavor of statsd, with the added ability to decorate metrics with tags and event
information. If provided, Consul will send various telemetry information to that
instance for aggregation. This can be used to capture runtime information.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="dogstatsd_tags" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="telemetry-dogstatsd_tags" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="dogstatsd_tags permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#telemetry-dogstatsd_tags"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">dogstatsd_tags</code></a> This provides a list
of global tags that will be added to all telemetry packets sent to DogStatsD.
It is a list of strings, where each string looks like &quot;my_tag_name:my_tag_value&quot;.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="enable_host_metrics" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="telemetry-enable_host_metrics" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="enable_host_metrics permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#telemetry-enable_host_metrics"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enable_host_metrics</code></a>
This enables reporting of host metrics about system resources, defaults to false.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="filter_default" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="telemetry-filter_default" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="filter_default permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#telemetry-filter_default"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">filter_default</code></a>
This controls whether to allow metrics that have not been specified by the filter.
Defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">true</code>, which will allow all metrics when no filters are provided.
When set to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">false</code> with no filters, no metrics will be sent.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="metrics_prefix" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="telemetry-metrics_prefix" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="metrics_prefix permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#telemetry-metrics_prefix"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">metrics_prefix</code></a>
The prefix used while writing all telemetry data. By default, this is set to
&quot;consul&quot;. This was added in Consul 1.0. For previous versions of Consul, use
the config option <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">statsite_prefix</code> in this same structure. This was renamed
in Consul 1.0 since this prefix applied to all telemetry providers, not just
statsite.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="prefix_filter" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="telemetry-prefix_filter" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="prefix_filter permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#telemetry-prefix_filter"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">prefix_filter</code></a>
This is a list of filter rules to apply for allowing/blocking metrics by
prefix in the following format:</p><div class="mdx-code-blocks_codeTabsMargin__XyBTZ style_root__Ib9Qn theme-dark_base__RNsat"><div style="height:0px;overflow:hidden;visibility:hidden" role="presentation" aria-hidden="true"><div class="style_topBar__0pZ_b"><div class="style_heading__2_7Zj g-type-body-small-strong">Example prefix_filter configuration</div><div class="style_tabsAsTabs__lZ0ce style_hasHeading__tsJPr"><button class="style_tabControl__A5k2n g-type-body-small-strong style_isActive__AmKFP style_hasHeading__tsJPr">HCL</button><button class="style_tabControl__A5k2n g-type-body-small-strong style_hasHeading__tsJPr">JSON</button></div></div></div><div class="style_topBar__0pZ_b"><div class="style_heading__2_7Zj g-type-body-small-strong">Example prefix_filter configuration</div><div class="style_tabsAsTabs__lZ0ce style_hasHeading__tsJPr"><button class="style_tabControl__A5k2n g-type-body-small-strong style_isActive__AmKFP style_hasHeading__tsJPr">HCL</button><button class="style_tabControl__A5k2n g-type-body-small-strong style_hasHeading__tsJPr">JSON</button></div></div><div><div style="display:block"><div class="g-code-block style_root__i1k0c language-hcl theme-dark_base__RNsat theme-dark_syntax__QCDzs style_hasBarAbove__gZA5T" data-heap-track="code-block"><div class="style_linesContainer__4N_nq"><pre class="code-lines_pre__t8gY5 language-hcl"><code class="code-lines_code__luWmT language-hcl"><span class="code-lines_linesColumn__M9Wn1 code-lines_styledScrollbars__37_Kl"><span class="code-lines_linesScrollableContent__UNs3H"><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ"><span class="token keyword">telemetry</span> <span class="token punctuation">{</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">  <span class="token property">prefix_filter</span> <span class="token punctuation">=</span> <span class="token punctuation">[</span><span class="token string">&quot;+consul.raft.apply&quot;</span>, <span class="token string">&quot;-consul.http&quot;</span>, <span class="token string">&quot;+consul.http.GET&quot;</span><span class="token punctuation">]</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ"><span class="token punctuation">}</span>
</span></span></span></code></pre><div class="style_copyButtonContainer__yxcuf"><button class="style_button__8j_Rk" data-heap-track="code-block-clipboard-icon" type="button">Copy<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="style_svg__gtvGZ"><g fill="currentColor"><path d="M2.25 0A2.25 2.25 0 000 2.25v7.5A2.25 2.25 0 002.25 12h.25a.75.75 0 000-1.5h-.25a.75.75 0 01-.75-.75v-7.5a.75.75 0 01.75-.75h7.5a.75.75 0 01.75.75v.25a.75.75 0 001.5 0v-.25A2.25 2.25 0 009.75 0h-7.5z"></path><path fill-rule="evenodd" d="M6.25 4A2.25 2.25 0 004 6.25v7.5A2.25 2.25 0 006.25 16h7.5A2.25 2.25 0 0016 13.75v-7.5A2.25 2.25 0 0013.75 4h-7.5zM5.5 6.25a.75.75 0 01.75-.75h7.5a.75.75 0 01.75.75v7.5a.75.75 0 01-.75.75h-7.5a.75.75 0 01-.75-.75v-7.5z" clip-rule="evenodd"></path></g></svg></button></div></div></div></div><div style="display:none"><div class="g-code-block style_root__i1k0c language-json theme-dark_base__RNsat theme-dark_syntax__QCDzs style_hasBarAbove__gZA5T" data-heap-track="code-block"><div class="style_linesContainer__4N_nq"><pre class="code-lines_pre__t8gY5 language-json"><code class="code-lines_code__luWmT language-json"><span class="code-lines_linesColumn__M9Wn1 code-lines_styledScrollbars__37_Kl"><span class="code-lines_linesScrollableContent__UNs3H"><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ"><span class="token punctuation">{</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">  <span class="token property">&quot;telemetry&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">    <span class="token property">&quot;prefix_filter&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">      <span class="token string">&quot;+consul.raft.apply&quot;</span><span class="token punctuation">,</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">      <span class="token string">&quot;-consul.http&quot;</span><span class="token punctuation">,</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">      <span class="token string">&quot;+consul.http.GET&quot;</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">    <span class="token punctuation">]</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ">  <span class="token punctuation">}</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_padRight__5afwQ"><span class="token punctuation">}</span>
</span></span></span></code></pre><div class="style_copyButtonContainer__yxcuf"><button class="style_button__8j_Rk" data-heap-track="code-block-clipboard-icon" type="button">Copy<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="style_svg__gtvGZ"><g fill="currentColor"><path d="M2.25 0A2.25 2.25 0 000 2.25v7.5A2.25 2.25 0 002.25 12h.25a.75.75 0 000-1.5h-.25a.75.75 0 01-.75-.75v-7.5a.75.75 0 01.75-.75h7.5a.75.75 0 01.75.75v.25a.75.75 0 001.5 0v-.25A2.25 2.25 0 009.75 0h-7.5z"></path><path fill-rule="evenodd" d="M6.25 4A2.25 2.25 0 004 6.25v7.5A2.25 2.25 0 006.25 16h7.5A2.25 2.25 0 0016 13.75v-7.5A2.25 2.25 0 0013.75 4h-7.5zM5.5 6.25a.75.75 0 01.75-.75h7.5a.75.75 0 01.75.75v7.5a.75.75 0 01-.75.75h-7.5a.75.75 0 01-.75-.75v-7.5z" clip-rule="evenodd"></path></g></svg></button></div></div></div></div></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">A leading &quot;<strong>+</strong>&quot; will enable any metrics with the given prefix, and a leading &quot;<strong>-</strong>&quot; will block them. If there is overlap between two rules, the more specific rule will take precedence. Blocking will take priority if the same prefix is listed multiple times.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="prometheus_retention_time" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="telemetry-prometheus_retention_time" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="prometheus_retention_time permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#telemetry-prometheus_retention_time"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">prometheus_retention_time</code></a> If the value is greater than <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">0s</code> (the default), this enables <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="https://prometheus.io/">Prometheus</a>
export of metrics. The duration can be expressed using the duration semantics
and will aggregates all counters for the duration specified (it might have an
impact on Consul&#x27;s memory usage). A good value for this parameter is at least
2 times the interval of scrape of Prometheus, but you might also put a very high
retention time such as a few days (for instance 744h to enable retention to 31
days). Fetching the metrics using prometheus can then be performed using the
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/api-docs/agent#view-metrics"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/v1/agent/metrics?format=prometheus</code></a> endpoint.
The format is compatible natively with prometheus. When running in this mode,
it is recommended to also enable the option <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#telemetry-disable_hostname"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">disable_hostname</code></a>
to avoid having prefixed metrics with hostname. Consul does not use the default
Prometheus path, so Prometheus must be configured as follows. Note that using
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">?format=prometheus</code> in the path won&#x27;t work as <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">?</code> will be escaped, so it must be
specified as a parameter.</p><div class="g-code-block style_root__i1k0c style_codeMargin__flyZr theme-dark_base__RNsat theme-dark_syntax__QCDzs" data-heap-track="code-block"><div class="style_root___hL1f"><div class="style_leftSide__uPoap"><div class="style_heading__1_nVl g-type-body-small-strong">Example Prometheus configuration</div></div><div class="style_rightSide__tzFHY"><div class="style_copyBtnContainer__1HWoT"><button class="style_button__8j_Rk" data-heap-track="code-block-clipboard-icon" type="button">Copy<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="style_svg__gtvGZ"><g fill="currentColor"><path d="M2.25 0A2.25 2.25 0 000 2.25v7.5A2.25 2.25 0 002.25 12h.25a.75.75 0 000-1.5h-.25a.75.75 0 01-.75-.75v-7.5a.75.75 0 01.75-.75h7.5a.75.75 0 01.75.75v.25a.75.75 0 001.5 0v-.25A2.25 2.25 0 009.75 0h-7.5z"></path><path fill-rule="evenodd" d="M6.25 4A2.25 2.25 0 004 6.25v7.5A2.25 2.25 0 006.25 16h7.5A2.25 2.25 0 0016 13.75v-7.5A2.25 2.25 0 0013.75 4h-7.5zM5.5 6.25a.75.75 0 01.75-.75h7.5a.75.75 0 01.75.75v7.5a.75.75 0 01-.75.75h-7.5a.75.75 0 01-.75-.75v-7.5z" clip-rule="evenodd"></path></g></svg></button></div></div></div><div class="style_linesContainer__4N_nq"><pre class="code-lines_pre__t8gY5 language-yaml"><code class="code-lines_code__luWmT language-yaml"><span class="code-lines_linesColumn__M9Wn1 code-lines_styledScrollbars__37_Kl"><span class="code-lines_linesScrollableContent__UNs3H"><span class="code-lines_LineOfCode__6Kf_L g-type-code"><span class="token key atrule">metrics_path</span><span class="token punctuation">:</span> <span class="token string">&#x27;/v1/agent/metrics&#x27;</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code"><span class="token key atrule">params</span><span class="token punctuation">:</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code">  <span class="token key atrule">format</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;prometheus&#x27;</span><span class="token punctuation">]</span>
</span></span></span></code></pre></div></div></li><li class="mdx-lists_listItem__nkqhg"><a id="statsd_address" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="telemetry-statsd_address" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="statsd_address permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#telemetry-statsd_address"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">statsd_address</code></a> This provides the address
of a statsd instance in the format <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">host:port</code>. If provided, Consul will send
various telemetry information to that instance for aggregation. This can be used
to capture runtime information. This sends UDP packets only and can be used with
statsd or statsite.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="statsite_address" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="telemetry-statsite_address" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="statsite_address permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#telemetry-statsite_address"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">statsite_address</code></a> This provides the
address of a statsite instance in the format <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">host:port</code>. If provided, Consul
will stream various telemetry information to that instance for aggregation. This
can be used to capture runtime information. This streams via TCP and can only
be used with statsite.</p></li></ul></li></ul><h2 id="ui-parameters" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="ui parameters permalink" href="/consul/docs/agent/config/config-files#ui-parameters"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>UI Parameters</h2><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="ui" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="ui permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#ui"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ui</code></a> - <strong>This field is deprecated in Consul 1.9.0. See the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#ui_config_enabled"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ui_config.enabled</code></a> field instead.</strong>
Equivalent to the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/cli-flags#_ui"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-ui</code></a> command-line flag.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="ui_config" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="ui_config permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#ui_config"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ui_config</code></a> - This object allows a number of sub-keys to be set which controls
the display or features available in the UI. Configuring the UI with this
stanza was added in Consul 1.9.0.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The following sub-keys are available:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="enabled-8" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="ui_config_enabled" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="enabled permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#ui_config_enabled"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">enabled</code></a> - This enables the service of the web UI
from this agent. Boolean value, defaults to false. In <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-dev</code> mode this
defaults to true. Replaces <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ui</code> from before 1.9.0. Equivalent to the
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/cli-flags#_ui"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-ui</code></a> command-line flag.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="dir" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="ui_config_dir" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="dir permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#ui_config_dir"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">dir</code></a> - This specifies that the web UI should be served
from an external dir rather than the build in one. This allows for
customization or development. Replaces <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ui_dir</code> from before 1.9.0.
Equivalent to the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/cli-flags#_ui_dir"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-ui-dir</code></a> command-line flag.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="content_path" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="ui_config_content_path" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="content_path permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#ui_config_content_path"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">content_path</code></a> - This specifies the HTTP path
that the web UI should be served from. Defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">/ui/</code>. Equivalent to the
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/cli-flags#_ui_content_path"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-ui-content-path</code></a> flag.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="metrics_provider" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="ui_config_metrics_provider" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="metrics_provider permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#ui_config_metrics_provider"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">metrics_provider</code></a> - Specifies a named
metrics provider implementation the UI should use to fetch service metrics.
By default metrics are disabled. Consul 1.9.0 includes a built-in provider
named <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">prometheus</code> that can be enabled explicitly here. It also requires the
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">metrics_proxy</code> to be configured below and direct queries to a Prometheus
instance that has Envoy metrics for all services in the datacenter.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="metrics_provider_files" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="ui_config_metrics_provider_files" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="metrics_provider_files permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#ui_config_metrics_provider_files"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">metrics_provider_files</code></a> - An optional array
of absolute paths to javascript files on the Agent&#x27;s disk which will be
served as part of the UI. These files should contain metrics provider
implementations and registration enabling UI metric queries to be customized
or implemented for an alternative time-series backend.</p><div class="alert alert-warning g-type-body"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><strong>Security Note:</strong> These javascript files are included in the UI with no
further validation or sand-boxing. By configuring them here the operator is
fully trusting anyone able to write to them as well as the original authors
not to include malicious code in the UI being served.</p></div></li><li class="mdx-lists_listItem__nkqhg"><a id="metrics_provider_options_json" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="ui_config_metrics_provider_options_json" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="metrics_provider_options_json permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#ui_config_metrics_provider_options_json"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">metrics_provider_options_json</code></a> -
This is an optional raw JSON object as a string which is passed to the
provider implementation&#x27;s <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">init</code> method at startup to allow arbitrary
configuration to be passed through.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="metrics_proxy" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="ui_config_metrics_proxy" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="metrics_proxy permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#ui_config_metrics_proxy"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">metrics_proxy</code></a> - This object configures an
internal agent API endpoint that will proxy GET requests to a metrics
backend to allow querying metrics data in the UI. This simplifies deployment
where the metrics backend is not exposed externally to UI users&#x27; browsers.
It may also be used to augment requests with API credentials to allow
serving graphs to UI users without them needing individual access tokens for
the metrics backend.</p><div class="alert alert-warning g-type-body"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><strong>Security Note:</strong> Exposing your metrics backend via Consul in this way
should be carefully considered in production. As Consul doesn&#x27;t understand
the requests, it can&#x27;t limit access to only specific resources. For example
<strong>this might make it possible for a malicious user on the network to query
for arbitrary metrics about any server or workload in your infrastructure,
or overload the metrics infrastructure with queries</strong>. See <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/connect/observability/ui-visualization#metrics-proxy-security">Metrics Proxy
Security</a>
for more details.</p></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The following sub-keys are available:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="base_url" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="ui_config_metrics_provider_base_url" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="base_url permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#ui_config_metrics_provider_base_url"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">base_url</code></a> - This is required to
enable the proxy. It should be set to the base URL that the Consul agent
should proxy requests for metrics too. For example a value of
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">http://prometheus-server</code> would target a Prometheus instance with local
DNS name &quot;prometheus-server&quot; on port 80. This may include a path prefix
which will then not be necessary in provider requests to the backend and
the proxy will prevent any access to paths without that prefix on the
backend.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="path_allowlist" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="ui_config_metrics_provider_path_allowlist" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="path_allowlist permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#ui_config_metrics_provider_path_allowlist"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">path_allowlist</code></a> - This
specifies the paths that may be proxies to when appended to the
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">base_url</code>. It defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">[&quot;/api/v1/query_range&quot;, &quot;/api/v1/query&quot;]</code>
which are the endpoints required for the built-in Prometheus provider. If
a <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/connect/observability/ui-visualization#custom-metrics-providers">custom
provider</a>
is used that requires the metrics proxy, the correct allowlist must be
specified to enable proxying to necessary endpoints. See <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/connect/observability/ui-visualization#path-allowlist">Path
Allowlist</a>
for more information.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="add_headers" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="ui_config_metrics_proxy_add_headers" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="add_headers permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#ui_config_metrics_proxy_add_headers"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">add_headers</code></a> - This is an
optional list if headers to add to requests that are proxied to the
metrics backend. It may be used to inject Authorization tokens within the
agent without exposing those to UI users.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Each item in the list is an object with the following keys:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="name-1" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="ui_config_metrics_proxy_add_headers_name" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="name permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#ui_config_metrics_proxy_add_headers_name"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">name</code></a> - Specifies the
HTTP header name to inject into proxied requests.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="value" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="ui_config_metrics_proxy_add_headers_value" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="value permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#ui_config_metrics_proxy_add_headers_value"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">value</code></a> - Specifies the
value in inject into proxied requests.</p></li></ul></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="dashboard_url_templates" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="ui_config_dashboard_url_templates" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="dashboard_url_templates permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#ui_config_dashboard_url_templates"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">dashboard_url_templates</code></a> - This map
specifies URL templates that may be used to render links to external
dashboards in various contexts in the UI. It is a map with the name of the
template as a key. The value is a string URL with optional placeholders.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Each template may contain placeholders which will be substituted for the
correct values in content when rendered in the UI. The placeholders
available are listed for each template.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">For more information and examples see <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/connect/observability/ui-visualization#configuring-dashboard-urls">UI
Visualization</a></p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The following named templates are defined:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="service" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="ui_config_dashboard_url_templates_service" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="service permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#ui_config_dashboard_url_templates_service"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">service</code></a> - This is the URL
to use when linking to the dashboard for a specific service. It is shown
as part of the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/connect/observability/ui-visualization">Topology
Visualization</a>.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The placeholders available are:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="service-name" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="service name permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#service-name"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">{{Service.Name}}</code></a> - Replaced with the current service&#x27;s name.</li><li class="mdx-lists_listItem__nkqhg"><a id="service-namespace" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="service namespace permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#service-namespace"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">{{Service.Namespace}}</code></a> - Replaced with the current service&#x27;s namespace or empty if namespaces are not enabled.</li><li class="mdx-lists_listItem__nkqhg"><a id="service-partition" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="service partition permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#service-partition"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">{{Service.Partition}}</code></a> - Replaced with the current service&#x27;s admin
partition or empty if admin partitions are not enabled.</li><li class="mdx-lists_listItem__nkqhg"><a id="datacenter-1" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="datacenter permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#datacenter-1"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">{{Datacenter}}</code></a> - Replaced with the current service&#x27;s datacenter.</li></ul></li></ul></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="ui_dir" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="ui_dir permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#ui_dir"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ui_dir</code></a> - <strong>This field is deprecated in Consul 1.9.0. See the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#ui_config_dir"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ui_config.dir</code></a> field instead.</strong>
Equivalent to the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/cli-flags#_ui_dir"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">-ui-dir</code></a> command-line
flag. This configuration key is not required as of Consul version 0.7.0 and later.
Specifying this configuration key will enable the web UI. There is no need to specify
both ui-dir and ui. Specifying both will result in an error.</p></li></ul><h2 id="tls-configuration-reference" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="tls configuration reference permalink" href="/consul/docs/agent/config/config-files#tls-configuration-reference"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>TLS Configuration Reference</h2><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">This section documents all of the configuration settings that apply to Agent TLS. Agent
TLS is used by the HTTP API, internal RPC, and gRPC/xDS interfaces. Some of these settings
may also be applied automatically by <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#auto_config">auto_config</a> or <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#auto_encrypt">auto_encrypt</a>.</p><div class="alert alert-warning g-type-body"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><strong>Security Note:</strong> The Certificate Authority (CA) configured on the internal RPC interface
(either explicitly by <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tls.internal_rpc</code> or implicitly by <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tls.defaults</code>) should be a private
CA, not a public one. We recommend using a dedicated CA which should not be used with any other
systems. Any certificate signed by the CA will be allowed to communicate with the cluster and a
specially crafted certificate signed by the CA can be used to gain full access to Consul.</p></div><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="tls-1" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="tls permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#tls-1"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tls</code></a> Added in Consul 1.12, for previous versions see
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_deprecated_options">Deprecated Options</a>.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="defaults" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="tls_defaults" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="defaults permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_defaults"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">defaults</code></a> Provides default settings that will be applied
to every interface unless explicitly overridden by <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tls.grpc</code>, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tls.https</code>,
or <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tls.internal_rpc</code>.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="ca_file" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="tls_defaults_ca_file" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="ca_file permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_defaults_ca_file"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ca_file</code></a> This provides a file path to a
PEM-encoded certificate authority. The certificate authority is used to
check the authenticity of client and server connections with the
appropriate <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_defaults_verify_incoming"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">verify_incoming</code></a> or
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_defaults_verify_outgoing"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">verify_outgoing</code></a> flags.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="ca_path" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="tls_defaults_ca_path" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="ca_path permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_defaults_ca_path"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ca_path</code></a> This provides a path to a directory
of PEM-encoded certificate authority files. These certificate authorities
are used to check the authenticity of client and server connections with
the appropriate <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_defaults_verify_incoming"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">verify_incoming</code></a> or
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_defaults_verify_outgoing"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">verify_outgoing</code></a> flags.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="cert_file" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="tls_defaults_cert_file" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="cert_file permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_defaults_cert_file"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">cert_file</code></a> This provides a file path to a
PEM-encoded certificate. The certificate is provided to clients or servers
to verify the agent&#x27;s authenticity. It must be provided along with
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_defaults_key_file"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">key_file</code></a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="key_file" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="tls_defaults_key_file" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="key_file permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_defaults_key_file"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">key_file</code></a> This provides a the file path to a
PEM-encoded private key. The key is used with the certificate to verify
the agent&#x27;s authenticity. This must be provided along with
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_defaults_cert_file"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">cert_file</code></a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="tls_min_version" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="tls_defaults_tls_min_version" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="tls_min_version permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_defaults_tls_min_version"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tls_min_version</code></a> This specifies the
minimum supported version of TLS. The following values are accepted:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="tlsv1_0" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="tlsv1_0 permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#tlsv1_0"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">TLSv1_0</code></a></li><li class="mdx-lists_listItem__nkqhg"><a id="tlsv1_1" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="tlsv1_1 permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#tlsv1_1"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">TLSv1_1</code></a></li><li class="mdx-lists_listItem__nkqhg"><a id="tlsv1_2" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="tlsv1_2 permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#tlsv1_2"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">TLSv1_2</code></a> (default)</li><li class="mdx-lists_listItem__nkqhg"><a id="tlsv1_3" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="tlsv1_3 permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#tlsv1_3"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">TLSv1_3</code></a></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="verify_server_hostname" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="tls_internal_rpc_verify_server_hostname" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="verify_server_hostname permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_internal_rpc_verify_server_hostname"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">verify_server_hostname</code></a> When
set to true, Consul verifies the TLS certificate presented by the servers
match the hostname <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">server.&lt;datacenter&gt;.&lt;domain&gt;</code>. By default this is false,
and Consul does not verify the hostname of the certificate, only that it
is signed by a trusted CA.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><strong>WARNING: TLS 1.1 and lower are generally considered less secure and
should not be used if possible.</strong></p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The following values are also valid, but only when using the
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_deprecated_options">deprecated top-level <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tls_min_version</code> config</a>,
and will be removed in a future release:</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="tls10" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="tls10 permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#tls10"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tls10</code></a></li><li class="mdx-lists_listItem__nkqhg"><a id="tls11" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="tls11 permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#tls11"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tls11</code></a></li><li class="mdx-lists_listItem__nkqhg"><a id="tls12" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="tls12 permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#tls12"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tls12</code></a></li><li class="mdx-lists_listItem__nkqhg"><a id="tls13" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a aria-label="tls13 permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#tls13"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tls13</code></a></li></ul><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">A warning message will appear if a deprecated value is specified.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="tls_cipher_suites" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="tls_defaults_tls_cipher_suites" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="tls_cipher_suites permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_defaults_tls_cipher_suites"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tls_cipher_suites</code></a> This specifies
the list of supported ciphersuites as a comma-separated-list. Applicable
to TLS 1.2 and below only. The list of all ciphersuites supported by Consul is
available in <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="https://github.com/hashicorp/consul/search?q=%22var+goTLSCipherSuites%22">the TLS configuration source code</a>.</p><div class="alert alert-warning g-type-body"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><strong>Note:</strong> The ordering of cipher suites will not be guaranteed from
Consul 1.11 onwards. See this <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="https://go.dev/blog/tls-cipher-suites">post</a>
for details.</p></div></li><li class="mdx-lists_listItem__nkqhg"><a id="verify_incoming" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="tls_defaults_verify_incoming" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="verify_incoming permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_defaults_verify_incoming"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">verify_incoming</code></a> - If set to true,
Consul requires that all incoming connections make use of TLS and that
the client provides a certificate signed by a Certificate Authority from
the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_defaults_ca_file"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ca_file</code></a> or <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_defaults_ca_path"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ca_path</code></a>.
By default, this is false, and Consul will not enforce the use of TLS or
verify a client&#x27;s authenticity.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="verify_outgoing" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="tls_defaults_verify_outgoing" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="verify_outgoing permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_defaults_verify_outgoing"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">verify_outgoing</code></a> - If set to true,
Consul requires that all outgoing connections from this agent make use
of TLS and that the server provides a certificate that is signed by a
Certificate Authority from the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_defaults_ca_file"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ca_file</code></a> or
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_defaults_ca_path"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ca_path</code></a>. By default, this is false, and Consul
will not make use of TLS for outgoing connections. This applies to clients
and servers as both will make outgoing connections. This setting does not
apply to the gRPC interface as Consul makes no outgoing connections on this
interface. When set to true for the HTTPS interface, this parameter applies to <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/dynamic-app-config/watches">watches</a>, which operate by making HTTPS requests to the local agent.</p></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="grpc-2" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="tls_grpc" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="grpc permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_grpc"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">grpc</code></a> Provides settings for the gRPC/xDS interface. To enable
the gRPC interface you must define a port via <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#grpc_tls_port"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ports.grpc_tls</code></a>.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="ca_file-1" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="tls_grpc_ca_file" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="ca_file permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_grpc_ca_file"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ca_file</code></a> Overrides <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_defaults_ca_file"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tls.defaults.ca_file</code></a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="ca_path-1" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="tls_grpc_ca_path" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="ca_path permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_grpc_ca_path"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ca_path</code></a> Overrides <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_defaults_ca_path"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tls.defaults.ca_path</code></a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="cert_file-1" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="tls_grpc_cert_file" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="cert_file permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_grpc_cert_file"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">cert_file</code></a> Overrides <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_defaults_cert_file"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tls.defaults.cert_file</code></a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="key_file-1" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="tls_grpc_key_file" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="key_file permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_grpc_key_file"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">key_file</code></a> Overrides <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_defaults_key_file"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tls.defaults.key_file</code></a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="tls_min_version-1" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="tls_grpc_tls_min_version" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="tls_min_version permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_grpc_tls_min_version"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tls_min_version</code></a> Overrides <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_defaults_tls_min_version"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tls.defaults.tls_min_version</code></a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="tls_cipher_suites-1" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="tls_grpc_tls_cipher_suites" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="tls_cipher_suites permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_grpc_tls_cipher_suites"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tls_cipher_suites</code></a> Overrides <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_defaults_tls_cipher_suites"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tls.defaults.tls_cipher_suites</code></a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="verify_incoming-1" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="tls_grpc_verify_incoming" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="verify_incoming permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_grpc_verify_incoming"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">verify_incoming</code></a> - Overrides <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_defaults_verify_incoming"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tls.defaults.verify_incoming</code></a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="use_auto_cert" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="use_auto_cert permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#use_auto_cert"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">use_auto_cert</code></a> - (Defaults to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">false</code>) Enables or disables TLS on gRPC servers. Set to <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">true</code> to allow <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">auto_encrypt</code> TLS settings to apply to gRPC listeners. We recommend disabling TLS on gRPC servers if you are using <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">auto_encrypt</code> for other TLS purposes, such as enabling HTTPS.</p></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="https-2" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="tls_https" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="https permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_https"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">https</code></a> Provides settings for the HTTPS interface. To enable
the HTTPS interface you must define a port via <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#https_port"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ports.https</code></a>.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="ca_file-2" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="tls_https_ca_file" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="ca_file permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_https_ca_file"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ca_file</code></a> Overrides <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_defaults_ca_file"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tls.defaults.ca_file</code></a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="ca_path-2" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="tls_https_ca_path" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="ca_path permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_https_ca_path"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ca_path</code></a> Overrides <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_defaults_ca_path"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tls.defaults.ca_path</code></a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="cert_file-2" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="tls_https_cert_file" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="cert_file permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_https_cert_file"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">cert_file</code></a> Overrides <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_defaults_cert_file"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tls.defaults.cert_file</code></a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="key_file-2" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="tls_https_key_file" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="key_file permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_https_key_file"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">key_file</code></a> Overrides <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_defaults_key_file"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tls.defaults.key_file</code></a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="tls_min_version-2" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="tls_https_tls_min_version" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="tls_min_version permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_https_tls_min_version"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tls_min_version</code></a> Overrides <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_defaults_tls_min_version"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tls.defaults.tls_min_version</code></a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="tls_cipher_suites-2" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="tls_https_tls_cipher_suites" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="tls_cipher_suites permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_https_tls_cipher_suites"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tls_cipher_suites</code></a> Overrides <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_defaults_tls_cipher_suites"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tls.defaults.tls_cipher_suites</code></a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="verify_incoming-2" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="tls_https_verify_incoming" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="verify_incoming permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_https_verify_incoming"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">verify_incoming</code></a> - Overrides <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_defaults_verify_incoming"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tls.defaults.verify_incoming</code></a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="verify_outgoing-1" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="tls_https_verify_outgoing" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="verify_outgoing permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_https_verify_outgoing"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">verify_outgoing</code></a> - Overrides <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_defaults_verify_outgoing"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tls.defaults.verify_outgoing</code></a>.</p></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="internal_rpc" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="tls_internal_rpc" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="internal_rpc permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_internal_rpc"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">internal_rpc</code></a> Provides settings for the internal
&quot;server&quot; RPC interface configured by <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#server_rpc_port"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ports.server</code></a>.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="ca_file-3" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="tls_internal_rpc_ca_file" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="ca_file permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_internal_rpc_ca_file"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ca_file</code></a> Overrides <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_defaults_ca_file"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tls.defaults.ca_file</code></a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="ca_path-3" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="tls_internal_rpc_ca_path" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="ca_path permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_internal_rpc_ca_path"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ca_path</code></a> Overrides <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_defaults_ca_path"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tls.defaults.ca_path</code></a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="cert_file-3" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="tls_internal_rpc_cert_file" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="cert_file permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_internal_rpc_cert_file"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">cert_file</code></a> Overrides <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_defaults_cert_file"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tls.defaults.cert_file</code></a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="key_file-3" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="tls_internal_rpc_key_file" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="key_file permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_internal_rpc_key_file"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">key_file</code></a> Overrides <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_defaults_key_file"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tls.defaults.key_file</code></a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="tls_min_version-3" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="tls_internal_rpc_tls_min_version" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="tls_min_version permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_internal_rpc_tls_min_version"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tls_min_version</code></a> Overrides <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_defaults_tls_min_version"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tls.defaults.tls_min_version</code></a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="tls_cipher_suites-3" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="tls_internal_rpc_tls_cipher_suites" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="tls_cipher_suites permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_internal_rpc_tls_cipher_suites"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tls_cipher_suites</code></a> Overrides <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_defaults_tls_cipher_suites"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tls.defaults.tls_cipher_suites</code></a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="verify_incoming-3" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="tls_internal_rpc_verify_incoming" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="verify_incoming permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_internal_rpc_verify_incoming"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">verify_incoming</code></a> - Overrides <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_defaults_verify_incoming"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tls.defaults.verify_incoming</code></a>.</p><div class="alert alert-warning g-type-body"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><strong>Security Note:</strong> <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">verify_incoming</code> <em>must</em> be set to true to prevent
anyone with access to the internal RPC port from gaining full access to
the Consul cluster.</p></div></li><li class="mdx-lists_listItem__nkqhg"><a id="verify_outgoing-2" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><a id="tls_internal_rpc_verify_outgoing" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="verify_outgoing permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_internal_rpc_verify_outgoing"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">verify_outgoing</code></a> Overrides <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_defaults_verify_outgoing"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tls.defaults.verify_outgoing</code></a>.</p><div class="alert alert-warning g-type-body"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><strong>Security Note:</strong> Servers that specify <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">verify_outgoing = true</code> will
always talk to other servers over TLS, but they still <em>accept</em> non-TLS
connections to allow for a transition of all clients to TLS. Currently the
only way to enforce that no client can communicate with a server unencrypted
is to also enable <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">verify_incoming</code> which requires client certificates too.</p></div></li><li class="mdx-lists_listItem__nkqhg"><a id="verify_server_hostname-1" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="verify_server_hostname permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#verify_server_hostname-1"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">verify_server_hostname</code></a> Overrides <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_defaults_verify_server_hostname">tls.defaults.verify_server_hostname</a>. When
set to true, Consul verifies the TLS certificate presented by the servers
match the hostname <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">server.&lt;datacenter&gt;.&lt;domain&gt;</code>. By default this is false,
and Consul does not verify the hostname of the certificate, only that it
is signed by a trusted CA.</p><div class="alert alert-warning g-type-body"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><strong>Security Note:</strong> <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">verify_server_hostname</code> <em>must</em> be set to true to prevent a
compromised client from gaining full read and write access to all cluster
data <em>including all ACL tokens and service mesh CA root keys</em>.</p></div></li></ul></li></ul></li><li class="mdx-lists_listItem__nkqhg"><a id="server_name" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="server_name permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#server_name"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">server_name</code></a> When provided, this overrides the <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#_node"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">node_name</code></a>
for the TLS certificate. It can be used to ensure that the certificate name matches
the hostname we declare.</p></li></ul><h3 id="deprecated-options" class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="deprecated options permalink" href="/consul/docs/agent/config/config-files#deprecated-options"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a><a id="tls_deprecated_options" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-h __compat" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a>Deprecated Options</h3><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The following options were deprecated in Consul 1.12, please use the
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#tls-1"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tls</code></a> stanza instead.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="ca_file-4" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="ca_file permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#ca_file-4"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ca_file</code></a> See: <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_defaults_ca_file"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tls.defaults.ca_file</code></a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="ca_path-4" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="ca_path permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#ca_path-4"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ca_path</code></a> See: <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_defaults_ca_path"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tls.defaults.ca_path</code></a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="cert_file-4" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="cert_file permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#cert_file-4"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">cert_file</code></a> See: <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_defaults_cert_file"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tls.defaults.cert_file</code></a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="key_file-4" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="key_file permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#key_file-4"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">key_file</code></a> See: <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_defaults_key_file"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tls.defaults.key_file</code></a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="tls_min_version-4" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="tls_min_version permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_min_version-4"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tls_min_version</code></a> Added in Consul 0.7.4.
See: <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_defaults_tls_min_version"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tls.defaults.tls_min_version</code></a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="tls_cipher_suites-4" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="tls_cipher_suites permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_cipher_suites-4"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tls_cipher_suites</code></a> Added in Consul 0.8.2.
See: <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_defaults_tls_cipher_suites"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tls.defaults.tls_cipher_suites</code></a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="tls_prefer_server_cipher_suites" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="tls_prefer_server_cipher_suites permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_prefer_server_cipher_suites"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tls_prefer_server_cipher_suites</code></a> Added in Consul 0.8.2. This setting will
be ignored (see <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="https://go.dev/blog/tls-cipher-suites">this post</a> for details).</p></li><li class="mdx-lists_listItem__nkqhg"><a id="verify_incoming-4" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="verify_incoming permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#verify_incoming-4"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">verify_incoming</code></a> See: <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_defaults_verify_incoming"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tls.defaults.verify_incoming</code></a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="verify_incoming_rpc" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="verify_incoming_rpc permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#verify_incoming_rpc"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">verify_incoming_rpc</code></a> See: <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_internal_rpc_verify_incoming"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tls.internal_rpc.verify_incoming</code></a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="verify_incoming_https" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="verify_incoming_https permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#verify_incoming_https"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">verify_incoming_https</code></a> See: <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_https_verify_incoming"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tls.https.verify_incoming</code></a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="verify_outgoing-3" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="verify_outgoing permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#verify_outgoing-3"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">verify_outgoing</code></a> See: <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_defaults_verify_outgoing"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tls.defaults.verify_outgoing</code></a>.</p></li><li class="mdx-lists_listItem__nkqhg"><a id="verify_server_hostname-2" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="verify_server_hostname permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#verify_server_hostname-2"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">verify_server_hostname</code></a> See: <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_internal_rpc_verify_server_hostname"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tls.internal_rpc.verify_server_hostname</code></a>.</p></li></ul><h3 id="example-configuration-file-with-tls" class="hds-typography-display-400 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h3__xmS_z"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h3__SkrrS" aria-label="example configuration file with tls permalink" href="/consul/docs/agent/config/config-files#example-configuration-file-with-tls"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>Example Configuration File, with TLS</h3><div class="alert alert-warning g-type-body"><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><strong>Security Note:</strong> all three verify options should be set as <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">true</code> to enable
secure mTLS communication, enabling both encryption and authentication. Failing
to set <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_defaults_verify_incoming"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">verify_incoming</code></a> or
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_defaults_verify_outgoing"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">verify_outgoing</code></a> either in the
interface-specific stanza (e.g. <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tls.internal_rpc</code>, <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tls.https</code>) or in
<code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">tls.defaults</code> will result in TLS not being enabled at all, even when specifying
a <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_defaults_ca_file"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ca_file</code></a>, <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_defaults_cert_file"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">cert_file</code></a>,
and <a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="/consul/docs/agent/config/config-files#tls_defaults_key_file"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">key_file</code></a>.</p></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">See, especially, the use of the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">ports</code> setting highlighted below.</p><div class="mdx-code-blocks_codeTabsMargin__XyBTZ style_root__Ib9Qn theme-dark_base__RNsat"><div style="height:0px;overflow:hidden;visibility:hidden" role="presentation" aria-hidden="true"><div class="style_topBar__0pZ_b"><div class="style_heading__2_7Zj g-type-body-small-strong">Example configuration with TLS</div><div class="style_tabsAsTabs__lZ0ce style_hasHeading__tsJPr"><button class="style_tabControl__A5k2n g-type-body-small-strong style_isActive__AmKFP style_hasHeading__tsJPr">HCL</button><button class="style_tabControl__A5k2n g-type-body-small-strong style_hasHeading__tsJPr">JSON</button></div></div></div><div class="style_topBar__0pZ_b"><div class="style_heading__2_7Zj g-type-body-small-strong">Example configuration with TLS</div><div class="style_tabsAsTabs__lZ0ce style_hasHeading__tsJPr"><button class="style_tabControl__A5k2n g-type-body-small-strong style_isActive__AmKFP style_hasHeading__tsJPr">HCL</button><button class="style_tabControl__A5k2n g-type-body-small-strong style_hasHeading__tsJPr">JSON</button></div></div><div><div style="display:block"><div class="g-code-block style_root__i1k0c theme-dark_base__RNsat theme-dark_syntax__QCDzs style_hasBarAbove__gZA5T" data-heap-track="code-block"><div class="style_linesContainer__4N_nq"><pre class="code-lines_pre__t8gY5 language-hcl"><code class="code-lines_code__luWmT language-hcl"><span class="code-lines_numbersColumn__scIAe"><span class="code-lines_LineNumber__H__E8 g-type-code code-lines_dim__hNQb8">1 </span><span class="code-lines_LineNumber__H__E8 g-type-code code-lines_dim__hNQb8">2 </span><span class="code-lines_LineNumber__H__E8 g-type-code code-lines_dim__hNQb8">3 </span><span class="code-lines_LineNumber__H__E8 g-type-code code-lines_dim__hNQb8">4 </span><span class="code-lines_LineNumber__H__E8 g-type-code code-lines_dim__hNQb8">5 </span><span class="code-lines_LineNumber__H__E8 g-type-code code-lines_dim__hNQb8">6 </span><span class="code-lines_LineNumber__H__E8 g-type-code code-lines_dim__hNQb8">7 </span><span class="code-lines_LineNumber__H__E8 g-type-code code-lines_dim__hNQb8">8 </span><span class="code-lines_LineNumber__H__E8 g-type-code code-lines_dim__hNQb8">9 </span><span class="code-lines_LineNumber__H__E8 g-type-code code-lines_highlight__w4Nrs">10</span><span class="code-lines_LineNumber__H__E8 g-type-code code-lines_highlight__w4Nrs">11</span><span class="code-lines_LineNumber__H__E8 g-type-code code-lines_highlight__w4Nrs">12</span><span class="code-lines_LineNumber__H__E8 g-type-code code-lines_dim__hNQb8">13</span><span class="code-lines_LineNumber__H__E8 g-type-code code-lines_dim__hNQb8">14</span><span class="code-lines_LineNumber__H__E8 g-type-code code-lines_dim__hNQb8">15</span><span class="code-lines_LineNumber__H__E8 g-type-code code-lines_dim__hNQb8">16</span><span class="code-lines_LineNumber__H__E8 g-type-code code-lines_dim__hNQb8">17</span><span class="code-lines_LineNumber__H__E8 g-type-code code-lines_dim__hNQb8">18</span><span class="code-lines_LineNumber__H__E8 g-type-code code-lines_dim__hNQb8">19</span><span class="code-lines_LineNumber__H__E8 g-type-code code-lines_dim__hNQb8">20</span><span class="code-lines_LineNumber__H__E8 g-type-code code-lines_dim__hNQb8">21</span><span class="code-lines_LineNumber__H__E8 g-type-code code-lines_dim__hNQb8">22</span><span class="code-lines_LineNumber__H__E8 g-type-code code-lines_dim__hNQb8">23</span></span><span class="code-lines_linesColumn__M9Wn1 code-lines_styledScrollbars__37_Kl"><span class="code-lines_linesScrollableContent__UNs3H"><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_dim__hNQb8 code-lines_padRight__5afwQ"><span class="token property">datacenter</span> <span class="token punctuation">=</span> <span class="token string">&quot;east-aws&quot;</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_dim__hNQb8 code-lines_padRight__5afwQ"><span class="token property">data_dir</span> <span class="token punctuation">=</span> <span class="token string">&quot;/opt/consul&quot;</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_dim__hNQb8 code-lines_padRight__5afwQ"><span class="token property">log_level</span> <span class="token punctuation">=</span> <span class="token string">&quot;INFO&quot;</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_dim__hNQb8 code-lines_padRight__5afwQ"><span class="token property">node_name</span> <span class="token punctuation">=</span> <span class="token string">&quot;foobar&quot;</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_dim__hNQb8 code-lines_padRight__5afwQ"><span class="token property">server</span> <span class="token punctuation">=</span> <span class="token boolean">true</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_dim__hNQb8 code-lines_padRight__5afwQ">
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_dim__hNQb8 code-lines_padRight__5afwQ"><span class="token property">addresses</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_dim__hNQb8 code-lines_padRight__5afwQ">  <span class="token property">https</span> <span class="token punctuation">=</span> <span class="token string">&quot;0.0.0.0&quot;</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_dim__hNQb8 code-lines_padRight__5afwQ"><span class="token punctuation">}</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_highlight__w4Nrs code-lines_padRight__5afwQ"><span class="token keyword">ports</span> <span class="token punctuation">{</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_highlight__w4Nrs code-lines_padRight__5afwQ">  <span class="token property">https</span> <span class="token punctuation">=</span> <span class="token number">8501</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_highlight__w4Nrs code-lines_padRight__5afwQ"><span class="token punctuation">}</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_dim__hNQb8 code-lines_padRight__5afwQ">
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_dim__hNQb8 code-lines_padRight__5afwQ"><span class="token keyword">tls</span> <span class="token punctuation">{</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_dim__hNQb8 code-lines_padRight__5afwQ">  <span class="token keyword">defaults</span> <span class="token punctuation">{</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_dim__hNQb8 code-lines_padRight__5afwQ">    <span class="token property">key_file</span> <span class="token punctuation">=</span> <span class="token string">&quot;/etc/pki/tls/private/my.key&quot;</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_dim__hNQb8 code-lines_padRight__5afwQ">    <span class="token property">cert_file</span> <span class="token punctuation">=</span> <span class="token string">&quot;/etc/pki/tls/certs/my.crt&quot;</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_dim__hNQb8 code-lines_padRight__5afwQ">    <span class="token property">ca_file</span> <span class="token punctuation">=</span> <span class="token string">&quot;/etc/pki/tls/certs/ca-bundle.crt&quot;</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_dim__hNQb8 code-lines_padRight__5afwQ">    <span class="token property">verify_incoming</span> <span class="token punctuation">=</span> <span class="token boolean">true</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_dim__hNQb8 code-lines_padRight__5afwQ">    <span class="token property">verify_outgoing</span> <span class="token punctuation">=</span> <span class="token boolean">true</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_dim__hNQb8 code-lines_padRight__5afwQ">    <span class="token property">verify_server_hostname</span> <span class="token punctuation">=</span> <span class="token boolean">true</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_dim__hNQb8 code-lines_padRight__5afwQ">  <span class="token punctuation">}</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_dim__hNQb8 code-lines_padRight__5afwQ"><span class="token punctuation">}</span>
</span></span></span></code></pre><div class="style_copyButtonContainer__yxcuf"><button class="style_button__8j_Rk" data-heap-track="code-block-clipboard-icon" type="button">Copy<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="style_svg__gtvGZ"><g fill="currentColor"><path d="M2.25 0A2.25 2.25 0 000 2.25v7.5A2.25 2.25 0 002.25 12h.25a.75.75 0 000-1.5h-.25a.75.75 0 01-.75-.75v-7.5a.75.75 0 01.75-.75h7.5a.75.75 0 01.75.75v.25a.75.75 0 001.5 0v-.25A2.25 2.25 0 009.75 0h-7.5z"></path><path fill-rule="evenodd" d="M6.25 4A2.25 2.25 0 004 6.25v7.5A2.25 2.25 0 006.25 16h7.5A2.25 2.25 0 0016 13.75v-7.5A2.25 2.25 0 0013.75 4h-7.5zM5.5 6.25a.75.75 0 01.75-.75h7.5a.75.75 0 01.75.75v7.5a.75.75 0 01-.75.75h-7.5a.75.75 0 01-.75-.75v-7.5z" clip-rule="evenodd"></path></g></svg></button></div></div></div></div><div style="display:none"><div class="g-code-block style_root__i1k0c theme-dark_base__RNsat theme-dark_syntax__QCDzs style_hasBarAbove__gZA5T" data-heap-track="code-block"><div class="style_linesContainer__4N_nq"><pre class="code-lines_pre__t8gY5 language-json"><code class="code-lines_code__luWmT language-json"><span class="code-lines_numbersColumn__scIAe"><span class="code-lines_LineNumber__H__E8 g-type-code code-lines_dim__hNQb8">1 </span><span class="code-lines_LineNumber__H__E8 g-type-code code-lines_dim__hNQb8">2 </span><span class="code-lines_LineNumber__H__E8 g-type-code code-lines_dim__hNQb8">3 </span><span class="code-lines_LineNumber__H__E8 g-type-code code-lines_dim__hNQb8">4 </span><span class="code-lines_LineNumber__H__E8 g-type-code code-lines_dim__hNQb8">5 </span><span class="code-lines_LineNumber__H__E8 g-type-code code-lines_dim__hNQb8">6 </span><span class="code-lines_LineNumber__H__E8 g-type-code code-lines_dim__hNQb8">7 </span><span class="code-lines_LineNumber__H__E8 g-type-code code-lines_dim__hNQb8">8 </span><span class="code-lines_LineNumber__H__E8 g-type-code code-lines_dim__hNQb8">9 </span><span class="code-lines_LineNumber__H__E8 g-type-code code-lines_highlight__w4Nrs">10</span><span class="code-lines_LineNumber__H__E8 g-type-code code-lines_highlight__w4Nrs">11</span><span class="code-lines_LineNumber__H__E8 g-type-code code-lines_highlight__w4Nrs">12</span><span class="code-lines_LineNumber__H__E8 g-type-code code-lines_dim__hNQb8">13</span><span class="code-lines_LineNumber__H__E8 g-type-code code-lines_dim__hNQb8">14</span><span class="code-lines_LineNumber__H__E8 g-type-code code-lines_dim__hNQb8">15</span><span class="code-lines_LineNumber__H__E8 g-type-code code-lines_dim__hNQb8">16</span><span class="code-lines_LineNumber__H__E8 g-type-code code-lines_dim__hNQb8">17</span><span class="code-lines_LineNumber__H__E8 g-type-code code-lines_dim__hNQb8">18</span><span class="code-lines_LineNumber__H__E8 g-type-code code-lines_dim__hNQb8">19</span><span class="code-lines_LineNumber__H__E8 g-type-code code-lines_dim__hNQb8">20</span><span class="code-lines_LineNumber__H__E8 g-type-code code-lines_dim__hNQb8">21</span><span class="code-lines_LineNumber__H__E8 g-type-code code-lines_dim__hNQb8">22</span><span class="code-lines_LineNumber__H__E8 g-type-code code-lines_dim__hNQb8">23</span></span><span class="code-lines_linesColumn__M9Wn1 code-lines_styledScrollbars__37_Kl"><span class="code-lines_linesScrollableContent__UNs3H"><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_dim__hNQb8 code-lines_padRight__5afwQ"><span class="token punctuation">{</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_dim__hNQb8 code-lines_padRight__5afwQ">  <span class="token property">&quot;datacenter&quot;</span><span class="token operator">:</span> <span class="token string">&quot;east-aws&quot;</span><span class="token punctuation">,</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_dim__hNQb8 code-lines_padRight__5afwQ">  <span class="token property">&quot;data_dir&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/opt/consul&quot;</span><span class="token punctuation">,</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_dim__hNQb8 code-lines_padRight__5afwQ">  <span class="token property">&quot;log_level&quot;</span><span class="token operator">:</span> <span class="token string">&quot;INFO&quot;</span><span class="token punctuation">,</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_dim__hNQb8 code-lines_padRight__5afwQ">  <span class="token property">&quot;node_name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;foobar&quot;</span><span class="token punctuation">,</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_dim__hNQb8 code-lines_padRight__5afwQ">  <span class="token property">&quot;server&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_dim__hNQb8 code-lines_padRight__5afwQ">  <span class="token property">&quot;addresses&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_dim__hNQb8 code-lines_padRight__5afwQ">    <span class="token property">&quot;https&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0.0.0&quot;</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_dim__hNQb8 code-lines_padRight__5afwQ">  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_highlight__w4Nrs code-lines_padRight__5afwQ">  <span class="token property">&quot;ports&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_highlight__w4Nrs code-lines_padRight__5afwQ">    <span class="token property">&quot;https&quot;</span><span class="token operator">:</span> <span class="token number">8501</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_highlight__w4Nrs code-lines_padRight__5afwQ">  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_dim__hNQb8 code-lines_padRight__5afwQ">  <span class="token property">&quot;tls&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_dim__hNQb8 code-lines_padRight__5afwQ">    <span class="token property">&quot;defaults&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_dim__hNQb8 code-lines_padRight__5afwQ">      <span class="token property">&quot;key_file&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/etc/pki/tls/private/my.key&quot;</span><span class="token punctuation">,</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_dim__hNQb8 code-lines_padRight__5afwQ">      <span class="token property">&quot;cert_file&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/etc/pki/tls/certs/my.crt&quot;</span><span class="token punctuation">,</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_dim__hNQb8 code-lines_padRight__5afwQ">      <span class="token property">&quot;ca_file&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/etc/pki/tls/certs/ca-bundle.crt&quot;</span><span class="token punctuation">,</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_dim__hNQb8 code-lines_padRight__5afwQ">      <span class="token property">&quot;verify_incoming&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_dim__hNQb8 code-lines_padRight__5afwQ">      <span class="token property">&quot;verify_outgoing&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_dim__hNQb8 code-lines_padRight__5afwQ">      <span class="token property">&quot;verify_server_hostname&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_dim__hNQb8 code-lines_padRight__5afwQ">    <span class="token punctuation">}</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_dim__hNQb8 code-lines_padRight__5afwQ">  <span class="token punctuation">}</span>
</span><span class="code-lines_LineOfCode__6Kf_L g-type-code code-lines_dim__hNQb8 code-lines_padRight__5afwQ"><span class="token punctuation">}</span>
</span></span></span></code></pre><div class="style_copyButtonContainer__yxcuf"><button class="style_button__8j_Rk" data-heap-track="code-block-clipboard-icon" type="button">Copy<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="style_svg__gtvGZ"><g fill="currentColor"><path d="M2.25 0A2.25 2.25 0 000 2.25v7.5A2.25 2.25 0 002.25 12h.25a.75.75 0 000-1.5h-.25a.75.75 0 01-.75-.75v-7.5a.75.75 0 01.75-.75h7.5a.75.75 0 01.75.75v.25a.75.75 0 001.5 0v-.25A2.25 2.25 0 009.75 0h-7.5z"></path><path fill-rule="evenodd" d="M6.25 4A2.25 2.25 0 004 6.25v7.5A2.25 2.25 0 006.25 16h7.5A2.25 2.25 0 0016 13.75v-7.5A2.25 2.25 0 0013.75 4h-7.5zM5.5 6.25a.75.75 0 01.75-.75h7.5a.75.75 0 01.75.75v7.5a.75.75 0 01-.75.75h-7.5a.75.75 0 01-.75-.75v-7.5z" clip-rule="evenodd"></path></g></svg></button></div></div></div></div></div></div><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">Consul will not enable TLS for the HTTP or gRPC API unless the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">https</code> port has
been assigned a port number <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">&gt; 0</code>. We recommend using <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">8501</code> for <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">https</code> as this
default will automatically work with some tooling.</p><h2 id="xds-server-parameters" class="hds-typography-display-500 hds-font-weight-bold mdx-headings_heading__M6qPe g-offset-scroll-margin-top mdx-headings_h2__9ZcX_"><a class="mdx-heading-permalink_root__2oeix g-focus-ring-from-box-shadow mdx-heading-permalink_h2__CA9g8" aria-label="xds server parameters permalink" href="/consul/docs/agent/config/config-files#xds-server-parameters"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="mdx-heading-permalink_icon__Sz01O"><g fill="currentColor"><path d="M11.141 1a3.893 3.893 0 00-2.738 1.093L7.314 3.175A.75.75 0 008.372 4.24l1.077-1.07a2.393 2.393 0 013.384 3.382l-1.881 1.88a2.393 2.393 0 01-3.608-.258.75.75 0 00-1.202.899 3.893 3.893 0 005.87.42l1.886-1.886.01-.009A3.893 3.893 0 0011.14 1z"></path><path d="M7.019 5.365a3.893 3.893 0 00-3.032 1.13L2.102 8.382l-.01.01a3.893 3.893 0 005.505 5.504l1.084-1.084a.75.75 0 00-1.06-1.06l-1.07 1.07a2.393 2.393 0 01-3.384-3.384l1.881-1.88a2.393 2.393 0 013.609.258.75.75 0 101.2-.899A3.893 3.893 0 007.02 5.365z"></path></g></svg></a>xDS Server Parameters</h2><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="xds" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="xds permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#xds"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">xds</code></a>: This object allows you to configure the behavior of Consul&#x27;s
<a class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ" aria-describedby="" href="https://www.envoyproxy.io/docs/envoy/latest/api-docs/xds_protocol">xDS protocol</a>
server.</p><ul class="mdx-lists_listRoot__iVDx9"><li class="mdx-lists_listItem__nkqhg"><a id="update_max_per_second" aria-hidden="true" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __target-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#"></a><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA"><a aria-label="update_max_per_second permalink" class="inline-link_root__iIql6 g-focus-ring-from-box-shadow hds-typography-body-300 hds-font-weight-regular inline-link_primary__kGJLJ __permalink-lic" aria-describedby="" href="/consul/docs/agent/config/config-files#update_max_per_second"><code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">update_max_per_second</code></a>: Specifies the number of proxy configuration updates across all connected xDS streams that are allowed per second. This configuration prevents updates to global resources, such as wildcard intentions, from consuming system resources at the expense of other processes, such as Raft and Gossip, which could cause general cluster instability.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">The default value is <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">250</code>. It is based on a load test of 5,000 streams connected to a single server with two CPU cores.</p><p class="text_root__r0DFB hds-typography-body-300 hds-font-weight-regular mdx-p_p__ZTJEA">If necessary, you can lower or increase the limit without a rolling restart by using the <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">consul reload</code> command or by sending the server a <code class="mdx-inline-code_inlineCode__p_0sy mdx-inline-code_size-200__YiF_7 hds-typography-code-200">SIGHUP</code>.</p></li></ul></li></ul></div></div><a href="https://github.com/hashicorp/consul/blob/main/website/../content/docs/agent/config/config-files.mdx" target="_blank" class="edit-on-github-link_editLink__AsG8Z sidebar-sidecar-layout_editOnGithubLink__SDraB" rel="noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true" class="edit-on-github-link_editLinkIcon__wMtY9"><path fill="currentColor" fill-rule="evenodd" d="M8 1C4.133 1 1 4.13 1 7.993c0 3.09 2.006 5.71 4.787 6.635.35.064.478-.152.478-.337 0-.166-.006-.606-.01-1.19-1.947.423-2.357-.937-2.357-.937-.319-.808-.778-1.023-.778-1.023-.635-.434.048-.425.048-.425.703.05 1.073.72 1.073.72.624 1.07 1.638.76 2.037.582.063-.452.244-.76.444-.935-1.554-.176-3.188-.776-3.188-3.456 0-.763.273-1.388.72-1.876-.072-.177-.312-.888.07-1.85 0 0 .586-.189 1.924.716A6.711 6.711 0 018 4.381c.595.003 1.194.08 1.753.236 1.336-.905 1.923-.717 1.923-.717.382.963.142 1.674.07 1.85.448.49.72 1.114.72 1.877 0 2.686-1.638 3.278-3.197 3.45.251.216.475.643.475 1.296 0 .934-.009 1.688-.009 1.918 0 .187.127.404.482.336A6.996 6.996 0 0015 7.993 6.997 6.997 0 008 1z" clip-rule="evenodd"></path></svg>Edit this page on GitHub</a></main><div class="sidebar-sidecar-layout_sidecarPosition__WtTq0"><div class="sidebar-sidecar-layout_sidecarTopSlot__qRAEI"></div><div class="sidecar-scroll-container_root__a8nIj"><div class="sidecar-scroll-container_scrollContainer__Dw9id"><div><nav aria-labelledby="react-aria-1375"><p id="react-aria-1375" class="outline-nav_navLabel__HrjQb hds-typography-body-100">On this page:</p><ol class="outline-nav_listRoot__Sm1fr"><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" data-heap-track="toc-list-item-index-0" aria-describedby="" href="/consul/docs/agent/config/config-files#agents-configuration-file-reference">Agents Configuration File Reference</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" data-heap-track="toc-list-item-index-1" aria-describedby="" href="/consul/docs/agent/config/config-files#overview">Overview</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" data-heap-track="toc-list-item-index-2" aria-describedby="" href="/consul/docs/agent/config/config-files#general-parameters">General parameters</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" data-heap-track="toc-list-item-index-3" aria-describedby="" href="/consul/docs/agent/config/config-files#acl-parameters">ACL Parameters</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" data-heap-track="toc-list-item-index-4" aria-describedby="" href="/consul/docs/agent/config/config-files#advertise-address-parameters">Advertise Address Parameters</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" data-heap-track="toc-list-item-index-5" aria-describedby="" href="/consul/docs/agent/config/config-files#bootstrap-parameters">Bootstrap Parameters</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" data-heap-track="toc-list-item-index-6" aria-describedby="" href="/consul/docs/agent/config/config-files#self-managed-hcp-parameters">Self-managed HCP Parameters</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" data-heap-track="toc-list-item-index-7" aria-describedby="" href="/consul/docs/agent/config/config-files#service-mesh-parameters">Service Mesh Parameters</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" data-heap-track="toc-list-item-index-8" aria-describedby="" href="/consul/docs/agent/config/config-files#dns-and-domain-parameters">DNS and Domain Parameters</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" data-heap-track="toc-list-item-index-9" aria-describedby="" href="/consul/docs/agent/config/config-files#encryption-parameters">Encryption Parameters</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" data-heap-track="toc-list-item-index-10" aria-describedby="" href="/consul/docs/agent/config/config-files#gossip-parameters">Gossip Parameters</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" data-heap-track="toc-list-item-index-11" aria-describedby="" href="/consul/docs/agent/config/config-files#join-parameters">Join Parameters</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" data-heap-track="toc-list-item-index-12" aria-describedby="" href="/consul/docs/agent/config/config-files#log-parameters">Log Parameters</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" data-heap-track="toc-list-item-index-13" aria-describedby="" href="/consul/docs/agent/config/config-files#node-parameters">Node Parameters</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" data-heap-track="toc-list-item-index-14" aria-describedby="" href="/consul/docs/agent/config/config-files#raft-parameters">Raft Parameters</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" data-heap-track="toc-list-item-index-15" aria-describedby="" href="/consul/docs/agent/config/config-files#serf-parameters">Serf Parameters</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" data-heap-track="toc-list-item-index-16" aria-describedby="" href="/consul/docs/agent/config/config-files#telemetry-parameters">Telemetry Parameters</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" data-heap-track="toc-list-item-index-17" aria-describedby="" href="/consul/docs/agent/config/config-files#ui-parameters">UI Parameters</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" data-heap-track="toc-list-item-index-18" aria-describedby="" href="/consul/docs/agent/config/config-files#tls-configuration-reference">TLS Configuration Reference</a></li><li><a class="outline-link_root__S7fQg hds-typography-body-200 g-focus-ring-from-box-shadow" data-heap-track="toc-list-item-index-19" aria-describedby="" href="/consul/docs/agent/config/config-files#xds-server-parameters">xDS Server Parameters</a></li></ol></nav></div></div></div></div></div></div></div></div></div><div class="base-layout_footer__HGqK8 base-layout_showFooterTopBorder__4_CwH"><footer class="footer_root__qJO_k"><span class="footer_logoAndSwitcher__CJkN3"><a href="https://www.hashicorp.com/" aria-label="Go to HashiCorp home page" class="footer_logo__pe9i3 g-focus-ring-from-box-shadow"><div><svg xmlns="http://www.w3.org/2000/svg" width="254" height="53" fill="none" viewBox="0 0 254 53"><g fill="#000" clip-path="url(#a)"><g><path d="M63.01 12.22h5.32v11.43h12.19V12.22h5.36V40.2h-5.36V28.45H68.33V40.2h-5.32zM89.28 34.77c0-4.2 2.96-5.6 6.56-6.44l6.079-1.4v-.48c0-2.04-1.32-3.32-3.44-3.32s-3.36 1.16-3.76 3.08l-4.56-.52c.68-3.84 3.92-6.32 8.52-6.32 5.08 0 8.4 3.2 8.4 7.88v8.2c0 .52.16.68.52.68h1.12v4.08h-3.12c-1.96 0-2.84-.64-2.84-2.24 0-.48.08-1.04.28-1.76l-.44-.16c-1.44 3.12-3.56 4.48-6.56 4.48-4.12 0-6.76-2.28-6.76-5.76m8.12 2c2.639 0 4.519-1.92 4.519-4.96v-1.6l-4.36 1.04c-2.2.52-3.12 1.28-3.12 2.96s1.16 2.56 2.96 2.56M110.59 34.69l4.88-.96c.52 2.16 2.24 3.24 4.52 3.24 2.28 0 3.56-.92 3.56-2.48s-1.52-1.88-4.4-2.4c-3.64-.56-8.35-1.24-8.35-6.28 0-3.8 3.24-6.44 8.52-6.44 4.68 0 8.32 1.96 9.15 5.92l-4.92.8c-.44-2-2.08-3.04-4.24-3.04-2.36 0-3.48 1-3.48 2.36 0 1.56 1.56 1.88 4.44 2.4 3.6.56 8.32 1.24 8.32 6.28 0 3.96-3.2 6.6-8.6 6.6-4.88 0-8.52-2-9.4-6M136.94 40.21h-5.2V11.42h5.2v8.96c0 1.04-.2 2.04-.48 3.52l.48.16c1.24-2.96 3.12-4.68 6.6-4.68 4.44 0 6.8 2.8 6.8 7.56v13.27h-5.2V27.1c0-2.32-1.16-3.6-3.48-3.6-2.64 0-4.72 2-4.72 5.52zM161.01 35.05c0 .8.28 1.04.88 1.04h2.28v4.12h-4.72c-2.36 0-3.64-1.32-3.64-3.76V23.98h-2.88v-4.12h8.08zm-5.92-20.63c0-1.76 1.44-3.2 3.16-3.2 1.72 0 3.16 1.44 3.16 3.2 0 1.76-1.4 3.16-3.16 3.16-1.76 0-3.16-1.4-3.16-3.16M165.89 26.22c0-8.4 5.52-14.47 13.51-14.47 6.72 0 11.31 3.88 12.55 9.15l-5.28 1.28c-1-3.68-3.44-5.76-7.28-5.76-4.88 0-7.96 4.04-7.96 9.79 0 5.75 3.2 9.79 8.16 9.79 3.92 0 6.32-2.12 7.32-6.04l5 .56c-1.2 6.28-5.84 10.15-12.39 10.15-8.08 0-13.63-6.08-13.63-14.47zM194.08 30.01c0-6.2 4.36-10.63 10.39-10.63s10.39 4.44 10.39 10.63-4.36 10.67-10.39 10.67-10.39-4.48-10.39-10.67m15.59 0c0-3.84-2.04-6.4-5.2-6.4s-5.2 2.56-5.2 6.4c0 3.84 2.08 6.44 5.2 6.44s5.2-2.56 5.2-6.44M218.149 19.86h4.8v.8c0 1.08-.04 1.96-.36 3.6l.48.12c.76-2.68 2.16-4.52 5.44-4.52h1.48v5.04h-2.12c-2.92 0-4.52 1.76-4.52 5v10.31h-5.2zM232.43 19.86h5.12v.92c0 .92-.08 1.64-.36 3.28l.48.12c1.24-3.24 3.56-4.8 6.56-4.8 4.96 0 8.88 4.08 8.88 10.63 0 6.55-3.92 10.67-8.88 10.67-3 0-5.2-1.56-6.48-4.84l-.44.16c.24 1.6.32 2.36.32 3.24v9.15h-5.2V19.85zm15.51 10.15c0-3.96-2.16-6.4-5.2-6.4s-5.2 2.44-5.2 6.4c0 3.96 2.16 6.44 5.2 6.44s5.2-2.44 5.2-6.44"/></g><g><path d="M20.79.01.07 11.97v28.71l7.78 4.5V16.46l12.94-7.47z"/><path d="M29.06.01v22.87h-8.27v-8.54L13 18.84v29.3l7.79 4.5v-22.8h8.27v8.48l7.79-4.49V4.51z"/><path d="M29.06 52.65 49.78 40.7V11.99L42 7.49V36.2l-12.94 7.47z"/></g></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h254v53H0z"/></clipPath></defs></svg></div></a><span class="footer_themeSwitcher__CPJxw hds-font-weight-regular"><label class="theme-switcher_label__7Boh2 hds-typography-body-200" for="react-aria-1396">Theme</label></span></span><ul class="footer_links__t81SU"><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" aria-describedby="" href="/certifications"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Certifications</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" aria-describedby="" href="https://status.hashicorp.com"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">System Status</span></a></li><li><button class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Cookie Manager</span></button></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" aria-describedby="" href="https://www.hashicorp.com/terms-of-service"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Terms of Use</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" aria-describedby="" href="https://www.hashicorp.com/security"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Security</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" aria-describedby="" href="https://www.hashicorp.com/privacy"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Privacy</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" aria-describedby="" href="https://www.hashicorp.com/trademark-policy"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Trademark Policy</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" aria-describedby="" href="https://www.hashicorp.com/trade-controls"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Trade Controls</span></a></li><li><a class="footer_linkAction__bR3OW g-focus-ring-from-box-shadow" aria-describedby="opens-in-new-tab-label-react-aria-1404" target="_blank" href="https://forms.gle/fnHLuNahLEhjuKvE6"><span class="text_root__r0DFB hds-typography-body-200 hds-font-weight-regular">Give Feedback</span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16" aria-hidden="true"><g fill="currentColor"><path d="M9 .75A.75.75 0 019.75 0h4.5c.206 0 .393.083.529.218l.001.002.002.001A.748.748 0 0115 .75v4.5a.75.75 0 01-1.5 0V2.56L7.28 8.78a.75.75 0 01-1.06-1.06l6.22-6.22H9.75A.75.75 0 019 .75z"></path><path d="M3.25 3.5a.75.75 0 00-.75.75v7.5c0 .414.336.75.75.75h7.5a.75.75 0 00.75-.75v-4a.75.75 0 011.5 0v4A2.25 2.25 0 0110.75 14h-7.5A2.25 2.25 0 011 11.75v-7.5A2.25 2.25 0 013.25 2h4a.75.75 0 010 1.5h-4z"></path></g></svg></a><span class="g-screen-reader-only" id="opens-in-new-tab-label-react-aria-1404">(opens in new tab)</span></li></ul></footer></div></div></div><div class="style_root__owpNH"></div><div style="position:fixed;z-index:99;top:16px;left:16px;right:16px;bottom:16px;pointer-events:none;inset:24px"></div><!--$--><!--/$--></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"layoutProps":{"breadcrumbLinks":[{"title":"Developer","url":"/"},{"title":"Consul","url":"/consul"},{"title":"Documentation","url":"/consul/docs","isCurrentPage":false},{"title":"Agent","url":"/consul/docs/agent"},{"title":"Configuration","url":"/consul/docs/agent/config"},{"title":"Configuration Reference","url":"/consul/docs/agent/config/config-files","isCurrentPage":true}],"sidebarNavDataLevels":[{"levelButtonProps":{"levelDownButtonText":"Consul Home"},"menuItems":[{"leadingIconName":"home","title":"HashiCorp Developer","href":"/"},{"leadingIconName":"guide","title":"Tutorials","href":"/tutorials"},{"divider":true},{"heading":"Products"},{"leadingIconName":"hcp","title":"HashiCorp Cloud Platform","href":"/hcp"},{"leadingIconName":"terraform","title":"Terraform","href":"/terraform"},{"leadingIconName":"packer","title":"Packer","href":"/packer"},{"leadingIconName":"consul","title":"Consul","href":"/consul"},{"leadingIconName":"vault","title":"Vault","href":"/vault"},{"leadingIconName":"boundary","title":"Boundary","href":"/boundary"},{"leadingIconName":"nomad","title":"Nomad","href":"/nomad"},{"leadingIconName":"waypoint","title":"Waypoint","href":"/waypoint"},{"leadingIconName":"vagrant","title":"Vagrant","href":"/vagrant"}],"showFilterInput":false,"title":"Main Menu"},{"levelButtonProps":{"levelUpButtonText":"Main Menu","levelDownButtonText":"Previous"},"menuItems":[{"title":"Consul","fullPath":"/consul","theme":"consul"},{"title":"Install","fullPath":"/consul/install"},{"title":"Tutorials","fullPath":"/consul/tutorials"},{"title":"Documentation","fullPath":"/consul/docs"},{"title":"API","fullPath":"/consul/api-docs"},{"title":"CLI","fullPath":"/consul/commands"}],"showFilterInput":false,"title":"Consul","visuallyHideTitle":true},{"backToLinkProps":{"text":"Consul Home","href":"/consul"},"levelButtonProps":{"levelUpButtonText":"Consul Home"},"menuItems":[{"title":"Documentation","fullPath":"/consul/docs","theme":"consul"},{"title":"What is Consul?","path":"intro","filePath":"../content/docs/intro/index.mdx","fullPath":"/consul/docs/intro","id":"sidebar-nav-item-0"},{"title":"Why Choose Consul?","routes":[{"title":"Overview","path":"consul-vs-other","filePath":"../content/docs/consul-vs-other/index.mdx","fullPath":"/consul/docs/consul-vs-other","id":"sidebar-nav-item-2"},{"title":"Service Meshes","path":"consul-vs-other/service-mesh-compare","filePath":"../content/docs/consul-vs-other/service-mesh-compare.mdx","fullPath":"/consul/docs/consul-vs-other/service-mesh-compare","id":"sidebar-nav-item-3"},{"title":"DNS Tools","path":"consul-vs-other/dns-tools-compare","filePath":"../content/docs/consul-vs-other/dns-tools-compare.mdx","fullPath":"/consul/docs/consul-vs-other/dns-tools-compare","id":"sidebar-nav-item-4"},{"title":"Configuration Management Tools","path":"consul-vs-other/config-management-compare","filePath":"../content/docs/consul-vs-other/config-management-compare.mdx","fullPath":"/consul/docs/consul-vs-other/config-management-compare","id":"sidebar-nav-item-5"},{"title":"API Gateways","path":"consul-vs-other/api-gateway-compare","filePath":"../content/docs/consul-vs-other/api-gateway-compare.mdx","fullPath":"/consul/docs/consul-vs-other/api-gateway-compare","id":"sidebar-nav-item-6"}],"id":"sidebar-nav-item-1"},{"title":"Core Concepts","routes":[{"title":"Service Discovery","path":"concepts/service-discovery","filePath":"../content/docs/concepts/service-discovery.mdx","fullPath":"/consul/docs/concepts/service-discovery","id":"sidebar-nav-item-8"},{"title":"Service Mesh","path":"concepts/service-mesh","filePath":"../content/docs/concepts/service-mesh.mdx","fullPath":"/consul/docs/concepts/service-mesh","id":"sidebar-nav-item-9"}],"id":"sidebar-nav-item-7"},{"title":"Get Started","routes":[{"title":"Install Consul","path":"install","filePath":"../content/docs/install/index.mdx","fullPath":"/consul/docs/install","id":"sidebar-nav-item-11"},{"title":"Learn HCP Consul","href":"https://developer.hashicorp.com/consul/tutorials/get-started-hcp","id":"sidebar-nav-item-12"},{"title":"Learn Consul on Kubernetes","href":"https://developer.hashicorp.com/consul/tutorials/get-started-kubernetes","id":"sidebar-nav-item-13"},{"title":"Learn Consul on VMs","href":"https://developer.hashicorp.com/consul/tutorials/get-started-vms","id":"sidebar-nav-item-14"},{"title":"Consul Agent","href":null,"fullPath":"/consul/docs/agent","id":"sidebar-nav-item-15","path":"/docs/agent"},{"title":"Glossary","path":"install/glossary","filePath":"../content/docs/install/glossary.mdx","fullPath":"/consul/docs/install/glossary","id":"sidebar-nav-item-16"},{"title":"Required Ports","path":"install/ports","filePath":"../content/docs/install/ports.mdx","fullPath":"/consul/docs/install/ports","id":"sidebar-nav-item-17"},{"title":"Bootstrapping a Datacenter","path":"install/bootstrapping","filePath":"../content/docs/install/bootstrapping.mdx","fullPath":"/consul/docs/install/bootstrapping","id":"sidebar-nav-item-18"},{"title":"Cloud Auto-join","path":"install/cloud-auto-join","filePath":"../content/docs/install/cloud-auto-join.mdx","fullPath":"/consul/docs/install/cloud-auto-join","id":"sidebar-nav-item-19"},{"title":"Server Performance","path":"install/performance","filePath":"../content/docs/install/performance.mdx","fullPath":"/consul/docs/install/performance","id":"sidebar-nav-item-20"},{"title":"Kubernetes","href":null,"fullPath":"/consul/docs/k8s","id":"sidebar-nav-item-21","path":"/docs/k8s"}],"id":"sidebar-nav-item-10"},{"title":"Architecture","routes":[{"title":"Overview","path":"architecture","filePath":"../content/docs/architecture/index.mdx","fullPath":"/consul/docs/architecture","id":"sidebar-nav-item-23"},{"title":"v1 Catalog","path":"architecture/catalog","filePath":"../content/docs/architecture/catalog.mdx","fullPath":"/consul/docs/architecture/catalog","id":"sidebar-nav-item-24"},{"title":"v2 architecture","routes":[{"title":"Overview","path":"architecture/v2","filePath":"../content/docs/architecture/v2/index.mdx","fullPath":"/consul/docs/architecture/v2","id":"sidebar-nav-item-26"},{"title":"Catalog","path":"architecture/v2/catalog","filePath":"../content/docs/architecture/v2/catalog.mdx","fullPath":"/consul/docs/architecture/v2/catalog","id":"sidebar-nav-item-27"},{"title":"Resource groups","path":"architecture/v2/groups","filePath":"../content/docs/architecture/v2/groups.mdx","fullPath":"/consul/docs/architecture/v2/groups","id":"sidebar-nav-item-28"}],"id":"sidebar-nav-item-25"},{"title":"Improving Consul Resilience","path":"architecture/improving-consul-resilience","filePath":"../content/docs/architecture/improving-consul-resilience.mdx","fullPath":"/consul/docs/architecture/improving-consul-resilience","id":"sidebar-nav-item-29"},{"title":"Anti-Entropy","path":"architecture/anti-entropy","filePath":"../content/docs/architecture/anti-entropy.mdx","fullPath":"/consul/docs/architecture/anti-entropy","id":"sidebar-nav-item-30"},{"title":"Consensus Protocol","path":"architecture/consensus","filePath":"../content/docs/architecture/consensus.mdx","fullPath":"/consul/docs/architecture/consensus","id":"sidebar-nav-item-31"},{"title":"Gossip Protocol","path":"architecture/gossip","filePath":"../content/docs/architecture/gossip.mdx","fullPath":"/consul/docs/architecture/gossip","id":"sidebar-nav-item-32"},{"title":"Jepsen Testing","path":"architecture/jepsen","filePath":"../content/docs/architecture/jepsen.mdx","fullPath":"/consul/docs/architecture/jepsen","id":"sidebar-nav-item-33"},{"title":"Network Coordinates","path":"architecture/coordinates","filePath":"../content/docs/architecture/coordinates.mdx","fullPath":"/consul/docs/architecture/coordinates","id":"sidebar-nav-item-34"},{"title":"Consul at Scale","path":"architecture/scale","filePath":"../content/docs/architecture/scale.mdx","fullPath":"/consul/docs/architecture/scale","id":"sidebar-nav-item-35"}],"id":"sidebar-nav-item-22"},{"divider":true,"id":"sidebar-nav-item-36"},{"title":"Release Notes","routes":[{"title":"Overview","path":"release-notes","filePath":"../content/docs/release-notes/index.mdx","fullPath":"/consul/docs/release-notes","id":"sidebar-nav-item-38"},{"title":"Consul","routes":[{"title":"v1.19.x","path":"release-notes/consul/v1_19_x","filePath":"../content/docs/release-notes/consul/v1_19_x.mdx","fullPath":"/consul/docs/release-notes/consul/v1_19_x","id":"sidebar-nav-item-40"},{"title":"v1.18.x","path":"release-notes/consul/v1_18_x","filePath":"../content/docs/release-notes/consul/v1_18_x.mdx","fullPath":"/consul/docs/release-notes/consul/v1_18_x","id":"sidebar-nav-item-41"},{"title":"v1.17.x","path":"release-notes/consul/v1_17_x","filePath":"../content/docs/release-notes/consul/v1_17_x.mdx","fullPath":"/consul/docs/release-notes/consul/v1_17_x","id":"sidebar-nav-item-42"},{"title":"v1.16.x","path":"release-notes/consul/v1_16_x","filePath":"../content/docs/release-notes/consul/v1_16_x.mdx","fullPath":"/consul/docs/release-notes/consul/v1_16_x","id":"sidebar-nav-item-43"},{"title":"v1.15.x","path":"release-notes/consul/v1_15_x","filePath":"../content/docs/release-notes/consul/v1_15_x.mdx","fullPath":"/consul/docs/release-notes/consul/v1_15_x","id":"sidebar-nav-item-44"},{"title":"v1.14.x","path":"release-notes/consul/v1_14_x","filePath":"../content/docs/release-notes/consul/v1_14_x.mdx","fullPath":"/consul/docs/release-notes/consul/v1_14_x","id":"sidebar-nav-item-45"},{"title":"v1.13.x","path":"release-notes/consul/v1_13_x","filePath":"../content/docs/release-notes/consul/v1_13_x.mdx","fullPath":"/consul/docs/release-notes/consul/v1_13_x","id":"sidebar-nav-item-46"},{"title":"v1.12.x","path":"release-notes/consul/v1_12_x","filePath":"../content/docs/release-notes/consul/v1_12_x.mdx","fullPath":"/consul/docs/release-notes/consul/v1_12_x","id":"sidebar-nav-item-47"},{"title":"v1.11.x","path":"release-notes/consul/v1_11_x","filePath":"../content/docs/release-notes/consul/v1_11_x.mdx","fullPath":"/consul/docs/release-notes/consul/v1_11_x","id":"sidebar-nav-item-48"},{"title":"v1.10.x","path":"release-notes/consul/v1_10_x","filePath":"../content/docs/release-notes/consul/v1_10_x.mdx","fullPath":"/consul/docs/release-notes/consul/v1_10_x","id":"sidebar-nav-item-49"},{"title":"v1.9.x","path":"release-notes/consul/v1_9_x","filePath":"../content/docs/release-notes/consul/v1_9_x.mdx","fullPath":"/consul/docs/release-notes/consul/v1_9_x","id":"sidebar-nav-item-50"}],"id":"sidebar-nav-item-39"},{"title":"Consul K8s","routes":[{"title":"v1.4.x","path":"release-notes/consul-k8s/v1_4_x","filePath":"../content/docs/release-notes/consul-k8s/v1_4_x.mdx","fullPath":"/consul/docs/release-notes/consul-k8s/v1_4_x","id":"sidebar-nav-item-52"},{"title":"v1.3.x","path":"release-notes/consul-k8s/v1_3_x","filePath":"../content/docs/release-notes/consul-k8s/v1_3_x.mdx","fullPath":"/consul/docs/release-notes/consul-k8s/v1_3_x","id":"sidebar-nav-item-53"},{"title":"v1.2.x","path":"release-notes/consul-k8s/v1_2_x","filePath":"../content/docs/release-notes/consul-k8s/v1_2_x.mdx","fullPath":"/consul/docs/release-notes/consul-k8s/v1_2_x","id":"sidebar-nav-item-54"},{"title":"v1.1.x","path":"release-notes/consul-k8s/v1_1_x","filePath":"../content/docs/release-notes/consul-k8s/v1_1_x.mdx","fullPath":"/consul/docs/release-notes/consul-k8s/v1_1_x","id":"sidebar-nav-item-55"},{"title":"v1.0.x","path":"release-notes/consul-k8s/v1_0_x","filePath":"../content/docs/release-notes/consul-k8s/v1_0_x.mdx","fullPath":"/consul/docs/release-notes/consul-k8s/v1_0_x","id":"sidebar-nav-item-56"},{"title":"v0.49.x","path":"release-notes/consul-k8s/v0_49_x","filePath":"../content/docs/release-notes/consul-k8s/v0_49_x.mdx","fullPath":"/consul/docs/release-notes/consul-k8s/v0_49_x","id":"sidebar-nav-item-57"},{"title":"v0.48.x","path":"release-notes/consul-k8s/v0_48_x","filePath":"../content/docs/release-notes/consul-k8s/v0_48_x.mdx","fullPath":"/consul/docs/release-notes/consul-k8s/v0_48_x","id":"sidebar-nav-item-58"},{"title":"v0.47.x","path":"release-notes/consul-k8s/v0_47_x","filePath":"../content/docs/release-notes/consul-k8s/v0_47_x.mdx","fullPath":"/consul/docs/release-notes/consul-k8s/v0_47_x","id":"sidebar-nav-item-59"}],"id":"sidebar-nav-item-51"},{"title":"API Gateway for Kubernetes","routes":[{"title":"v0.5.x","path":"release-notes/consul-api-gateway/v0_5_x","filePath":"../content/docs/release-notes/consul-api-gateway/v0_5_x.mdx","fullPath":"/consul/docs/release-notes/consul-api-gateway/v0_5_x","id":"sidebar-nav-item-61"},{"title":"v0.4.x","path":"release-notes/consul-api-gateway/v0_4_x","filePath":"../content/docs/release-notes/consul-api-gateway/v0_4_x.mdx","fullPath":"/consul/docs/release-notes/consul-api-gateway/v0_4_x","id":"sidebar-nav-item-62"},{"title":"v0.3.x","path":"release-notes/consul-api-gateway/v0_3_x","filePath":"../content/docs/release-notes/consul-api-gateway/v0_3_x.mdx","fullPath":"/consul/docs/release-notes/consul-api-gateway/v0_3_x","id":"sidebar-nav-item-63"},{"title":"v0.2.x","path":"release-notes/consul-api-gateway/v0_2_x","filePath":"../content/docs/release-notes/consul-api-gateway/v0_2_x.mdx","fullPath":"/consul/docs/release-notes/consul-api-gateway/v0_2_x","id":"sidebar-nav-item-64"},{"title":"v0.1.x","path":"release-notes/consul-api-gateway/v0_1_x","filePath":"../content/docs/release-notes/consul-api-gateway/v0_1_x.mdx","fullPath":"/consul/docs/release-notes/consul-api-gateway/v0_1_x","id":"sidebar-nav-item-65"}],"id":"sidebar-nav-item-60"},{"title":"Consul ECS","routes":[{"title":"v0.7.x","path":"release-notes/consul-ecs/v0_7_x","filePath":"../content/docs/release-notes/consul-ecs/v0_7_x.mdx","fullPath":"/consul/docs/release-notes/consul-ecs/v0_7_x","id":"sidebar-nav-item-67"},{"title":"v0.5.x","path":"release-notes/consul-ecs/v0_5_x","filePath":"../content/docs/release-notes/consul-ecs/v0_5_x.mdx","fullPath":"/consul/docs/release-notes/consul-ecs/v0_5_x","id":"sidebar-nav-item-68"},{"title":"v0.4.x","path":"release-notes/consul-ecs/v0_4_x","filePath":"../content/docs/release-notes/consul-ecs/v0_4_x.mdx","fullPath":"/consul/docs/release-notes/consul-ecs/v0_4_x","id":"sidebar-nav-item-69"},{"title":"v0.3.x","path":"release-notes/consul-ecs/v0_3_x","filePath":"../content/docs/release-notes/consul-ecs/v0_3_x.mdx","fullPath":"/consul/docs/release-notes/consul-ecs/v0_3_x","id":"sidebar-nav-item-70"},{"title":"v0.2.x","path":"release-notes/consul-ecs/v0_2_x","filePath":"../content/docs/release-notes/consul-ecs/v0_2_x.mdx","fullPath":"/consul/docs/release-notes/consul-ecs/v0_2_x","id":"sidebar-nav-item-71"}],"id":"sidebar-nav-item-66"},{"title":"Consul Terraform Sync","routes":[{"title":"v0.6.x","path":"release-notes/consul-terraform-sync/v0_6_x","filePath":"../content/docs/release-notes/consul-terraform-sync/v0_6_x.mdx","fullPath":"/consul/docs/release-notes/consul-terraform-sync/v0_6_x","id":"sidebar-nav-item-73"},{"title":"v0.5.x","path":"release-notes/consul-terraform-sync/v0_5_x","filePath":"../content/docs/release-notes/consul-terraform-sync/v0_5_x.mdx","fullPath":"/consul/docs/release-notes/consul-terraform-sync/v0_5_x","id":"sidebar-nav-item-74"}],"id":"sidebar-nav-item-72"}],"id":"sidebar-nav-item-37"},{"title":"Upgrade","routes":[{"title":"Overview","path":"upgrading","filePath":"../content/docs/upgrading/index.mdx","fullPath":"/consul/docs/upgrading","id":"sidebar-nav-item-76"},{"title":"Compatibility Promise","path":"upgrading/compatibility","filePath":"../content/docs/upgrading/compatibility.mdx","fullPath":"/consul/docs/upgrading/compatibility","id":"sidebar-nav-item-77"},{"title":"Specific Version Details","path":"upgrading/upgrade-specific","filePath":"../content/docs/upgrading/upgrade-specific.mdx","fullPath":"/consul/docs/upgrading/upgrade-specific","id":"sidebar-nav-item-78"},{"title":"Upgrade Instructions","routes":[{"title":"Overview","path":"upgrading/instructions","filePath":"../content/docs/upgrading/instructions/index.mdx","fullPath":"/consul/docs/upgrading/instructions","id":"sidebar-nav-item-80"},{"title":"General Process","path":"upgrading/instructions/general-process","filePath":"../content/docs/upgrading/instructions/general-process.mdx","fullPath":"/consul/docs/upgrading/instructions/general-process","id":"sidebar-nav-item-81"},{"title":"Upgrading to Latest 1.2.x","path":"upgrading/instructions/upgrade-to-1-2-x","filePath":"../content/docs/upgrading/instructions/upgrade-to-1-2-x.mdx","fullPath":"/consul/docs/upgrading/instructions/upgrade-to-1-2-x","id":"sidebar-nav-item-82"},{"title":"Upgrading to Latest 1.6.x","path":"upgrading/instructions/upgrade-to-1-6-x","filePath":"../content/docs/upgrading/instructions/upgrade-to-1-6-x.mdx","fullPath":"/consul/docs/upgrading/instructions/upgrade-to-1-6-x","id":"sidebar-nav-item-83"},{"title":"Upgrading to Latest 1.8.x","path":"upgrading/instructions/upgrade-to-1-8-x","filePath":"../content/docs/upgrading/instructions/upgrade-to-1-8-x.mdx","fullPath":"/consul/docs/upgrading/instructions/upgrade-to-1-8-x","id":"sidebar-nav-item-84"},{"title":"Upgrading to Latest 1.10.x","path":"upgrading/instructions/upgrade-to-1-10-x","filePath":"../content/docs/upgrading/instructions/upgrade-to-1-10-x.mdx","fullPath":"/consul/docs/upgrading/instructions/upgrade-to-1-10-x","id":"sidebar-nav-item-85"}],"id":"sidebar-nav-item-79"}],"id":"sidebar-nav-item-75"},{"divider":true,"id":"sidebar-nav-item-86"},{"title":"Services","routes":[{"title":"Overview","path":"services/services","filePath":"../content/docs/services/services.mdx","fullPath":"/consul/docs/services/services","id":"sidebar-nav-item-88"},{"title":"Usage","routes":[{"title":"Define services","path":"services/usage/define-services","filePath":"../content/docs/services/usage/define-services.mdx","fullPath":"/consul/docs/services/usage/define-services","id":"sidebar-nav-item-90"},{"title":"Define health checks","path":"services/usage/checks","filePath":"../content/docs/services/usage/checks.mdx","fullPath":"/consul/docs/services/usage/checks","id":"sidebar-nav-item-91"},{"title":"Register services and health checks","path":"services/usage/register-services-checks","filePath":"../content/docs/services/usage/register-services-checks.mdx","fullPath":"/consul/docs/services/usage/register-services-checks","id":"sidebar-nav-item-92"}],"id":"sidebar-nav-item-89"},{"title":"Discover services with DNS","routes":[{"title":"Overview","path":"services/discovery/dns-overview","filePath":"../content/docs/services/discovery/dns-overview.mdx","fullPath":"/consul/docs/services/discovery/dns-overview","id":"sidebar-nav-item-94"},{"title":"Configure DNS behavior","path":"services/discovery/dns-configuration","filePath":"../content/docs/services/discovery/dns-configuration.mdx","fullPath":"/consul/docs/services/discovery/dns-configuration","id":"sidebar-nav-item-95"},{"title":"Perform static DNS lookups","path":"services/discovery/dns-static-lookups","filePath":"../content/docs/services/discovery/dns-static-lookups.mdx","fullPath":"/consul/docs/services/discovery/dns-static-lookups","id":"sidebar-nav-item-96"},{"title":"Cache DNS lookups","path":"services/discovery/dns-cache","filePath":"../content/docs/services/discovery/dns-cache.mdx","fullPath":"/consul/docs/services/discovery/dns-cache","id":"sidebar-nav-item-97"},{"title":"Enable dynamic DNS lookups","path":"services/discovery/dns-dynamic-lookups","filePath":"../content/docs/services/discovery/dns-dynamic-lookups.mdx","fullPath":"/consul/docs/services/discovery/dns-dynamic-lookups","id":"sidebar-nav-item-98"}],"id":"sidebar-nav-item-93"},{"title":"Configuration","routes":[{"title":"Overview","path":"services/configuration/services-configuration-overview","filePath":"../content/docs/services/configuration/services-configuration-overview.mdx","fullPath":"/consul/docs/services/configuration/services-configuration-overview","id":"sidebar-nav-item-100"},{"title":"Services","path":"services/configuration/services-configuration-reference","filePath":"../content/docs/services/configuration/services-configuration-reference.mdx","fullPath":"/consul/docs/services/configuration/services-configuration-reference","id":"sidebar-nav-item-101"},{"title":"Health checks","path":"services/configuration/checks-configuration-reference","filePath":"../content/docs/services/configuration/checks-configuration-reference.mdx","fullPath":"/consul/docs/services/configuration/checks-configuration-reference","id":"sidebar-nav-item-102"},{"title":"Service defaults","href":null,"fullPath":"/consul/docs/connect/config-entries/service-defaults","id":"sidebar-nav-item-103","path":"connect/config-entries/service-defaults"}],"id":"sidebar-nav-item-99"}],"id":"sidebar-nav-item-87"},{"title":"Service Mesh","routes":[{"title":"Overview","path":"connect","filePath":"../content/docs/connect/index.mdx","fullPath":"/consul/docs/connect","id":"sidebar-nav-item-105"},{"title":"How Service Mesh Works","path":"connect/connect-internals","filePath":"../content/docs/connect/connect-internals.mdx","fullPath":"/consul/docs/connect/connect-internals","id":"sidebar-nav-item-106"},{"title":"Configuration","path":"connect/configuration","filePath":"../content/docs/connect/configuration.mdx","fullPath":"/consul/docs/connect/configuration","id":"sidebar-nav-item-107"},{"title":"Configuration entries","routes":[{"title":"Overview","path":"connect/config-entries","filePath":"../content/docs/connect/config-entries/index.mdx","fullPath":"/consul/docs/connect/config-entries","id":"sidebar-nav-item-109"},{"title":"API gateway","path":"connect/config-entries/api-gateway","filePath":"../content/docs/connect/config-entries/api-gateway.mdx","fullPath":"/consul/docs/connect/config-entries/api-gateway","id":"sidebar-nav-item-110"},{"title":"HTTP route","path":"connect/config-entries/http-route","filePath":"../content/docs/connect/config-entries/http-route.mdx","fullPath":"/consul/docs/connect/config-entries/http-route","id":"sidebar-nav-item-111"},{"title":"TCP route","path":"connect/config-entries/tcp-route","filePath":"../content/docs/connect/config-entries/tcp-route.mdx","fullPath":"/consul/docs/connect/config-entries/tcp-route","id":"sidebar-nav-item-112"},{"title":"File system certificate","path":"connect/config-entries/file-system-certificate","filePath":"../content/docs/connect/config-entries/file-system-certificate.mdx","fullPath":"/consul/docs/connect/config-entries/file-system-certificate","id":"sidebar-nav-item-113"},{"title":"Inline certificate","path":"connect/config-entries/inline-certificate","filePath":"../content/docs/connect/config-entries/inline-certificate.mdx","fullPath":"/consul/docs/connect/config-entries/inline-certificate","id":"sidebar-nav-item-114"},{"title":"Ingress gateway","path":"connect/config-entries/ingress-gateway","filePath":"../content/docs/connect/config-entries/ingress-gateway.mdx","fullPath":"/consul/docs/connect/config-entries/ingress-gateway","id":"sidebar-nav-item-115"},{"title":"JWT Provider","path":"connect/config-entries/jwt-provider","filePath":"../content/docs/connect/config-entries/jwt-provider.mdx","fullPath":"/consul/docs/connect/config-entries/jwt-provider","id":"sidebar-nav-item-116"},{"title":"Mesh","path":"connect/config-entries/mesh","filePath":"../content/docs/connect/config-entries/mesh.mdx","fullPath":"/consul/docs/connect/config-entries/mesh","id":"sidebar-nav-item-117"},{"title":"Exported services","path":"connect/config-entries/exported-services","filePath":"../content/docs/connect/config-entries/exported-services.mdx","fullPath":"/consul/docs/connect/config-entries/exported-services","id":"sidebar-nav-item-118"},{"title":"Proxy defaults","path":"connect/config-entries/proxy-defaults","filePath":"../content/docs/connect/config-entries/proxy-defaults.mdx","fullPath":"/consul/docs/connect/config-entries/proxy-defaults","id":"sidebar-nav-item-119"},{"title":"Sameness Group","path":"connect/config-entries/sameness-group","filePath":"../content/docs/connect/config-entries/sameness-group.mdx","fullPath":"/consul/docs/connect/config-entries/sameness-group","id":"sidebar-nav-item-120"},{"title":"Service Defaults","path":"connect/config-entries/service-defaults","filePath":"../content/docs/connect/config-entries/service-defaults.mdx","fullPath":"/consul/docs/connect/config-entries/service-defaults","id":"sidebar-nav-item-121"},{"title":"Service intentions","path":"connect/config-entries/service-intentions","filePath":"../content/docs/connect/config-entries/service-intentions.mdx","fullPath":"/consul/docs/connect/config-entries/service-intentions","id":"sidebar-nav-item-122"},{"title":"Service resolver","path":"connect/config-entries/service-resolver","filePath":"../content/docs/connect/config-entries/service-resolver.mdx","fullPath":"/consul/docs/connect/config-entries/service-resolver","id":"sidebar-nav-item-123"},{"title":"Service router","path":"connect/config-entries/service-router","filePath":"../content/docs/connect/config-entries/service-router.mdx","fullPath":"/consul/docs/connect/config-entries/service-router","id":"sidebar-nav-item-124"},{"title":"Service splitter","path":"connect/config-entries/service-splitter","filePath":"../content/docs/connect/config-entries/service-splitter.mdx","fullPath":"/consul/docs/connect/config-entries/service-splitter","id":"sidebar-nav-item-125"},{"title":"Terminating gateway","path":"connect/config-entries/terminating-gateway","filePath":"../content/docs/connect/config-entries/terminating-gateway.mdx","fullPath":"/consul/docs/connect/config-entries/terminating-gateway","id":"sidebar-nav-item-126"},{"title":"Control plane request limit","path":"connect/config-entries/control-plane-request-limit","filePath":"../content/docs/connect/config-entries/control-plane-request-limit.mdx","fullPath":"/consul/docs/connect/config-entries/control-plane-request-limit","id":"sidebar-nav-item-127"}],"id":"sidebar-nav-item-108"},{"title":"Proxies","routes":[{"title":"Overview","path":"connect/proxies","filePath":"../content/docs/connect/proxies/index.mdx","fullPath":"/consul/docs/connect/proxies","id":"sidebar-nav-item-129"},{"title":"Deploy service mesh proxies","path":"connect/proxies/deploy-service-mesh-proxies","filePath":"../content/docs/connect/proxies/deploy-service-mesh-proxies.mdx","fullPath":"/consul/docs/connect/proxies/deploy-service-mesh-proxies","id":"sidebar-nav-item-130"},{"title":"Deploy sidecar services","path":"connect/proxies/deploy-sidecar-services","filePath":"../content/docs/connect/proxies/deploy-sidecar-services.mdx","fullPath":"/consul/docs/connect/proxies/deploy-sidecar-services","id":"sidebar-nav-item-131"},{"title":"Envoy Extensions","routes":[{"title":"Overview","path":"connect/proxies/envoy-extensions","filePath":"../content/docs/connect/proxies/envoy-extensions/index.mdx","fullPath":"/consul/docs/connect/proxies/envoy-extensions","id":"sidebar-nav-item-133"},{"title":"Usage","routes":[{"title":"Delegate authorization to Apigee","path":"connect/proxies/envoy-extensions/usage/apigee-ext-authz","filePath":"../content/docs/connect/proxies/envoy-extensions/usage/apigee-ext-authz.mdx","fullPath":"/consul/docs/connect/proxies/envoy-extensions/usage/apigee-ext-authz","id":"sidebar-nav-item-135"},{"title":"Delegate authorization to external services","path":"connect/proxies/envoy-extensions/usage/ext-authz","filePath":"../content/docs/connect/proxies/envoy-extensions/usage/ext-authz.mdx","fullPath":"/consul/docs/connect/proxies/envoy-extensions/usage/ext-authz","id":"sidebar-nav-item-136"},{"title":"Run Lua scripts in Envoy proxies","path":"connect/proxies/envoy-extensions/usage/lua","filePath":"../content/docs/connect/proxies/envoy-extensions/usage/lua.mdx","fullPath":"/consul/docs/connect/proxies/envoy-extensions/usage/lua","id":"sidebar-nav-item-137"},{"title":"Invoke Lambda functions in Envoy proxies","path":"connect/proxies/envoy-extensions/usage/lambda","filePath":"../content/docs/connect/proxies/envoy-extensions/usage/lambda.mdx","fullPath":"/consul/docs/connect/proxies/envoy-extensions/usage/lambda","id":"sidebar-nav-item-138"},{"title":"Send access logs to OpenTelemetry collector service","path":"connect/proxies/envoy-extensions/usage/otel-access-logging","filePath":"../content/docs/connect/proxies/envoy-extensions/usage/otel-access-logging.mdx","fullPath":"/consul/docs/connect/proxies/envoy-extensions/usage/otel-access-logging","id":"sidebar-nav-item-139"},{"title":"Configure Envoy proxy properties","path":"connect/proxies/envoy-extensions/usage/property-override","filePath":"../content/docs/connect/proxies/envoy-extensions/usage/property-override.mdx","fullPath":"/consul/docs/connect/proxies/envoy-extensions/usage/property-override","id":"sidebar-nav-item-140"},{"title":"Run WebAssembly plug-ins in Envoy proxies","path":"connect/proxies/envoy-extensions/usage/wasm","filePath":"../content/docs/connect/proxies/envoy-extensions/usage/wasm.mdx","fullPath":"/consul/docs/connect/proxies/envoy-extensions/usage/wasm","id":"sidebar-nav-item-141"}],"id":"sidebar-nav-item-134"},{"title":"Configuration","routes":[{"title":"External authorization","path":"connect/proxies/envoy-extensions/configuration/ext-authz","filePath":"../content/docs/connect/proxies/envoy-extensions/configuration/ext-authz.mdx","fullPath":"/consul/docs/connect/proxies/envoy-extensions/configuration/ext-authz","id":"sidebar-nav-item-143"},{"title":"OpenTelemetry Access Logging","path":"connect/proxies/envoy-extensions/configuration/otel-access-logging","filePath":"../content/docs/connect/proxies/envoy-extensions/configuration/otel-access-logging.mdx","fullPath":"/consul/docs/connect/proxies/envoy-extensions/configuration/otel-access-logging","id":"sidebar-nav-item-144"},{"title":"Property override","path":"connect/proxies/envoy-extensions/configuration/property-override","filePath":"../content/docs/connect/proxies/envoy-extensions/configuration/property-override.mdx","fullPath":"/consul/docs/connect/proxies/envoy-extensions/configuration/property-override","id":"sidebar-nav-item-145"},{"title":"WebAssembly","path":"connect/proxies/envoy-extensions/configuration/wasm","filePath":"../content/docs/connect/proxies/envoy-extensions/configuration/wasm.mdx","fullPath":"/consul/docs/connect/proxies/envoy-extensions/configuration/wasm","id":"sidebar-nav-item-146"}],"id":"sidebar-nav-item-142"}],"id":"sidebar-nav-item-132"},{"title":"Proxy integration","path":"connect/proxies/integrate","filePath":"../content/docs/connect/proxies/integrate.mdx","fullPath":"/consul/docs/connect/proxies/integrate","id":"sidebar-nav-item-147"},{"title":"Proxy defaults configuration reference","href":null,"fullPath":"/consul/docs/connect/config-entries/proxy-defaults","id":"sidebar-nav-item-148","path":"/consul/docs/connect/config-entries/proxy-defaults"},{"title":"Envoy proxies reference","path":"connect/proxies/envoy","filePath":"../content/docs/connect/proxies/envoy.mdx","fullPath":"/consul/docs/connect/proxies/envoy","id":"sidebar-nav-item-149"},{"title":"Built-in proxy reference","path":"connect/proxies/built-in","filePath":"../content/docs/connect/proxies/built-in.mdx","fullPath":"/consul/docs/connect/proxies/built-in","id":"sidebar-nav-item-150"},{"title":"Service mesh proxy configuration reference","path":"connect/proxies/proxy-config-reference","filePath":"../content/docs/connect/proxies/proxy-config-reference.mdx","fullPath":"/consul/docs/connect/proxies/proxy-config-reference","id":"sidebar-nav-item-151"}],"id":"sidebar-nav-item-128"},{"title":"Service intentions","routes":[{"title":"Overview","path":"connect/intentions","filePath":"../content/docs/connect/intentions/index.mdx","fullPath":"/consul/docs/connect/intentions","id":"sidebar-nav-item-153"},{"title":"Create and manage service intentions","path":"connect/intentions/create-manage-intentions","filePath":"../content/docs/connect/intentions/create-manage-intentions.mdx","fullPath":"/consul/docs/connect/intentions/create-manage-intentions","id":"sidebar-nav-item-154"},{"title":"JWT authorization for intentions","path":"connect/intentions/jwt-authorization","filePath":"../content/docs/connect/intentions/jwt-authorization.mdx","fullPath":"/consul/docs/connect/intentions/jwt-authorization","id":"sidebar-nav-item-155"},{"title":"Service intentions legacy mode","path":"connect/intentions/legacy","filePath":"../content/docs/connect/intentions/legacy.mdx","fullPath":"/consul/docs/connect/intentions/legacy","id":"sidebar-nav-item-156"},{"title":"Configuration","href":null,"fullPath":"/consul/docs/connect/config-entries/service-intentions","id":"sidebar-nav-item-157","path":"/consul/docs/connect/config-entries/service-intentions"}],"id":"sidebar-nav-item-152"},{"title":"Observability","routes":[{"title":"Overview","path":"connect/observability","filePath":"../content/docs/connect/observability/index.mdx","fullPath":"/consul/docs/connect/observability","id":"sidebar-nav-item-159"},{"title":"Access Logs","path":"connect/observability/access-logs","filePath":"../content/docs/connect/observability/access-logs.mdx","fullPath":"/consul/docs/connect/observability/access-logs","id":"sidebar-nav-item-160"},{"title":"UI Visualization","path":"connect/observability/ui-visualization","filePath":"../content/docs/connect/observability/ui-visualization.mdx","fullPath":"/consul/docs/connect/observability/ui-visualization","id":"sidebar-nav-item-161"}],"id":"sidebar-nav-item-158"},{"title":"Manage traffic","routes":[{"title":"Overview","path":"connect/manage-traffic","filePath":"../content/docs/connect/manage-traffic/index.mdx","fullPath":"/consul/docs/connect/manage-traffic","id":"sidebar-nav-item-163"},{"title":"Route traffic to local upstreams","path":"connect/manage-traffic/route-to-local-upstreams","filePath":"../content/docs/connect/manage-traffic/route-to-local-upstreams.mdx","fullPath":"/consul/docs/connect/manage-traffic/route-to-local-upstreams","id":"sidebar-nav-item-164"},{"title":"Limit request rates to services","path":"connect/manage-traffic/limit-request-rates","filePath":"../content/docs/connect/manage-traffic/limit-request-rates.mdx","fullPath":"/consul/docs/connect/manage-traffic/limit-request-rates","id":"sidebar-nav-item-165"},{"title":"Fault Injection","path":"connect/manage-traffic/fault-injection","filePath":"../content/docs/connect/manage-traffic/fault-injection.mdx","fullPath":"/consul/docs/connect/manage-traffic/fault-injection","id":"sidebar-nav-item-166"},{"title":"Failover","routes":[{"title":"Overview","path":"connect/manage-traffic/failover","filePath":"../content/docs/connect/manage-traffic/failover/index.mdx","fullPath":"/consul/docs/connect/manage-traffic/failover","id":"sidebar-nav-item-168"},{"title":"Configure failover services for Kubernetes","href":null,"fullPath":"/consul/docs/k8s/l7-traffic/failover-tproxy","id":"sidebar-nav-item-169","path":"/docs/k8s/l7-traffic/failover-tproxy"},{"title":"Automate geo-failover with prepared queries","href":null,"fullPath":"/consul/tutorials/developer-discovery/automate-geo-failover","id":"sidebar-nav-item-170","path":"/tutorials/developer-discovery/automate-geo-failover"},{"title":"Failover with sameness groups","path":"connect/manage-traffic/failover/sameness","filePath":"../content/docs/connect/manage-traffic/failover/sameness.mdx","fullPath":"/consul/docs/connect/manage-traffic/failover/sameness","id":"sidebar-nav-item-171"},{"title":"Configuration","routes":[{"title":"Service resolver","href":null,"fullPath":"/consul/docs/connect/config-entries/service-resolver","id":"sidebar-nav-item-173","path":"/consul/docs/connect/config-entries/service-resolver"},{"title":"Service intentions","href":null,"fullPath":"/consul/docs/connect/config-entries/service-intentions","id":"sidebar-nav-item-174","path":"/consul/docs/connect/config-entries/service-intentions"}],"id":"sidebar-nav-item-172"}],"id":"sidebar-nav-item-167"},{"title":"Discovery chain reference","path":"connect/manage-traffic/discovery-chain","filePath":"../content/docs/connect/manage-traffic/discovery-chain.mdx","fullPath":"/consul/docs/connect/manage-traffic/discovery-chain","id":"sidebar-nav-item-175"}],"id":"sidebar-nav-item-162"},{"title":"Connectivity Tasks","path":"connect/connectivity-tasks","filePath":"../content/docs/connect/connectivity-tasks.mdx","fullPath":"/consul/docs/connect/connectivity-tasks","id":"sidebar-nav-item-176"},{"title":"Distributed Tracing","path":"connect/distributed-tracing","filePath":"../content/docs/connect/distributed-tracing.mdx","fullPath":"/consul/docs/connect/distributed-tracing","id":"sidebar-nav-item-177"},{"title":"Gateways","routes":[{"title":"Overview","path":"connect/gateways","filePath":"../content/docs/connect/gateways/index.mdx","fullPath":"/consul/docs/connect/gateways","id":"sidebar-nav-item-179"},{"title":"API Gateways","routes":[{"title":"Overview","path":"connect/gateways/api-gateway","filePath":"../content/docs/connect/gateways/api-gateway/index.mdx","fullPath":"/consul/docs/connect/gateways/api-gateway","id":"sidebar-nav-item-181"},{"title":"Technical specifications for Kubernetes","path":"connect/gateways/api-gateway/tech-specs","filePath":"../content/docs/connect/gateways/api-gateway/tech-specs.mdx","fullPath":"/consul/docs/connect/gateways/api-gateway/tech-specs","id":"sidebar-nav-item-182"},{"title":"Install on Kubernetes","path":"connect/gateways/api-gateway/install-k8s","filePath":"../content/docs/connect/gateways/api-gateway/install-k8s.mdx","fullPath":"/consul/docs/connect/gateways/api-gateway/install-k8s","id":"sidebar-nav-item-183"},{"title":"Upgrade on Kubernetes","path":"connect/gateways/api-gateway/upgrades-k8s","filePath":"../content/docs/connect/gateways/api-gateway/upgrades-k8s.mdx","fullPath":"/consul/docs/connect/gateways/api-gateway/upgrades-k8s","id":"sidebar-nav-item-184"},{"title":"Deploy listeners","routes":[{"title":"Deploy listeners to VMs","path":"connect/gateways/api-gateway/deploy/listeners-vms","filePath":"../content/docs/connect/gateways/api-gateway/deploy/listeners-vms.mdx","fullPath":"/consul/docs/connect/gateways/api-gateway/deploy/listeners-vms","id":"sidebar-nav-item-186"},{"title":"Deploy listeners to Kubernetes","path":"connect/gateways/api-gateway/deploy/listeners-k8s","filePath":"../content/docs/connect/gateways/api-gateway/deploy/listeners-k8s.mdx","fullPath":"/consul/docs/connect/gateways/api-gateway/deploy/listeners-k8s","id":"sidebar-nav-item-187"}],"id":"sidebar-nav-item-185"},{"title":"Define routes","routes":[{"title":"Define routes on VMs","path":"connect/gateways/api-gateway/define-routes/routes-vms","filePath":"../content/docs/connect/gateways/api-gateway/define-routes/routes-vms.mdx","fullPath":"/consul/docs/connect/gateways/api-gateway/define-routes/routes-vms","id":"sidebar-nav-item-189"},{"title":"Define routes on Kubernetes","path":"connect/gateways/api-gateway/define-routes/routes-k8s","filePath":"../content/docs/connect/gateways/api-gateway/define-routes/routes-k8s.mdx","fullPath":"/consul/docs/connect/gateways/api-gateway/define-routes/routes-k8s","id":"sidebar-nav-item-190"},{"title":"Reroute traffic in Kubernetes","path":"connect/gateways/api-gateway/define-routes/reroute-http-requests","filePath":"../content/docs/connect/gateways/api-gateway/define-routes/reroute-http-requests.mdx","fullPath":"/consul/docs/connect/gateways/api-gateway/define-routes/reroute-http-requests","id":"sidebar-nav-item-191"},{"title":"Route to peered services in Kubernetes","path":"connect/gateways/api-gateway/define-routes/route-to-peered-services","filePath":"../content/docs/connect/gateways/api-gateway/define-routes/route-to-peered-services.mdx","fullPath":"/consul/docs/connect/gateways/api-gateway/define-routes/route-to-peered-services","id":"sidebar-nav-item-192"}],"id":"sidebar-nav-item-188"},{"title":"Secure traffic","routes":[{"title":"Encrypt traffic on virtual machines","path":"connect/gateways/api-gateway/secure-traffic/encrypt-vms","filePath":"../content/docs/connect/gateways/api-gateway/secure-traffic/encrypt-vms.mdx","fullPath":"/consul/docs/connect/gateways/api-gateway/secure-traffic/encrypt-vms","id":"sidebar-nav-item-194"},{"title":"Verify incoming requests with JWTs on virtual machines","path":"connect/gateways/api-gateway/secure-traffic/verify-jwts-vms","filePath":"../content/docs/connect/gateways/api-gateway/secure-traffic/verify-jwts-vms.mdx","fullPath":"/consul/docs/connect/gateways/api-gateway/secure-traffic/verify-jwts-vms","id":"sidebar-nav-item-195"},{"title":"Verify incoming requests with JWTs on Kubernetes","path":"connect/gateways/api-gateway/secure-traffic/verify-jwts-k8s","filePath":"../content/docs/connect/gateways/api-gateway/secure-traffic/verify-jwts-k8s.mdx","fullPath":"/consul/docs/connect/gateways/api-gateway/secure-traffic/verify-jwts-k8s","id":"sidebar-nav-item-196"}],"id":"sidebar-nav-item-193"},{"title":"Configuration","routes":[{"title":"Overview","path":"connect/gateways/api-gateway/configuration","filePath":"../content/docs/connect/gateways/api-gateway/configuration/index.mdx","fullPath":"/consul/docs/connect/gateways/api-gateway/configuration","id":"sidebar-nav-item-198"},{"title":"Gateway","path":"connect/gateways/api-gateway/configuration/gateway","filePath":"../content/docs/connect/gateways/api-gateway/configuration/gateway.mdx","fullPath":"/consul/docs/connect/gateways/api-gateway/configuration/gateway","id":"sidebar-nav-item-199"},{"title":"GatewayClass","path":"connect/gateways/api-gateway/configuration/gatewayclass","filePath":"../content/docs/connect/gateways/api-gateway/configuration/gatewayclass.mdx","fullPath":"/consul/docs/connect/gateways/api-gateway/configuration/gatewayclass","id":"sidebar-nav-item-200"},{"title":"GatewayClassConfig","path":"connect/gateways/api-gateway/configuration/gatewayclassconfig","filePath":"../content/docs/connect/gateways/api-gateway/configuration/gatewayclassconfig.mdx","fullPath":"/consul/docs/connect/gateways/api-gateway/configuration/gatewayclassconfig","id":"sidebar-nav-item-201"},{"title":"GatewayPolicy","path":"connect/gateways/api-gateway/configuration/gatewaypolicy","filePath":"../content/docs/connect/gateways/api-gateway/configuration/gatewaypolicy.mdx","fullPath":"/consul/docs/connect/gateways/api-gateway/configuration/gatewaypolicy","id":"sidebar-nav-item-202"},{"title":"RouteAuthFilter","path":"connect/gateways/api-gateway/configuration/routeauthfilter","filePath":"../content/docs/connect/gateways/api-gateway/configuration/routeauthfilter.mdx","fullPath":"/consul/docs/connect/gateways/api-gateway/configuration/routeauthfilter","id":"sidebar-nav-item-203"},{"title":"Routes","path":"connect/gateways/api-gateway/configuration/routes","filePath":"../content/docs/connect/gateways/api-gateway/configuration/routes.mdx","fullPath":"/consul/docs/connect/gateways/api-gateway/configuration/routes","id":"sidebar-nav-item-204"},{"title":"RouteRetryFilter","path":"connect/gateways/api-gateway/configuration/routeretryfilter","filePath":"../content/docs/connect/gateways/api-gateway/configuration/routeretryfilter.mdx","fullPath":"/consul/docs/connect/gateways/api-gateway/configuration/routeretryfilter","id":"sidebar-nav-item-205"},{"title":"RouteTimeoutFilter","path":"connect/gateways/api-gateway/configuration/routetimeoutfilter","filePath":"../content/docs/connect/gateways/api-gateway/configuration/routetimeoutfilter.mdx","fullPath":"/consul/docs/connect/gateways/api-gateway/configuration/routetimeoutfilter","id":"sidebar-nav-item-206"},{"title":"MeshService","path":"connect/gateways/api-gateway/configuration/meshservice","filePath":"../content/docs/connect/gateways/api-gateway/configuration/meshservice.mdx","fullPath":"/consul/docs/connect/gateways/api-gateway/configuration/meshservice","id":"sidebar-nav-item-207"}],"id":"sidebar-nav-item-197"},{"title":"Error Messages","path":"connect/gateways/api-gateway/errors","filePath":"../content/docs/connect/gateways/api-gateway/errors.mdx","fullPath":"/consul/docs/connect/gateways/api-gateway/errors","id":"sidebar-nav-item-208"}],"id":"sidebar-nav-item-180"},{"title":"Mesh Gateways","routes":[{"title":"Overview","path":"connect/gateways/mesh-gateway","filePath":"../content/docs/connect/gateways/mesh-gateway/index.mdx","fullPath":"/consul/docs/connect/gateways/mesh-gateway","id":"sidebar-nav-item-210"},{"title":"Enabling WAN Federation Control Plane Traffic","path":"connect/gateways/mesh-gateway/wan-federation-via-mesh-gateways","filePath":"../content/docs/connect/gateways/mesh-gateway/wan-federation-via-mesh-gateways.mdx","fullPath":"/consul/docs/connect/gateways/mesh-gateway/wan-federation-via-mesh-gateways","id":"sidebar-nav-item-211"},{"title":"Enabling Service-to-service Traffic Across WAN Federated Datacenters","path":"connect/gateways/mesh-gateway/service-to-service-traffic-wan-datacenters","filePath":"../content/docs/connect/gateways/mesh-gateway/service-to-service-traffic-wan-datacenters.mdx","fullPath":"/consul/docs/connect/gateways/mesh-gateway/service-to-service-traffic-wan-datacenters","id":"sidebar-nav-item-212"},{"title":"Enabling Service-to-service Traffic Across Admin Partitions","path":"connect/gateways/mesh-gateway/service-to-service-traffic-partitions","filePath":"../content/docs/connect/gateways/mesh-gateway/service-to-service-traffic-partitions.mdx","fullPath":"/consul/docs/connect/gateways/mesh-gateway/service-to-service-traffic-partitions","id":"sidebar-nav-item-213"},{"title":"Enabling Peering Control Plane Traffic","path":"connect/gateways/mesh-gateway/peering-via-mesh-gateways","filePath":"../content/docs/connect/gateways/mesh-gateway/peering-via-mesh-gateways.mdx","fullPath":"/consul/docs/connect/gateways/mesh-gateway/peering-via-mesh-gateways","id":"sidebar-nav-item-214"}],"id":"sidebar-nav-item-209"},{"title":"Ingress Gateways","routes":[{"title":"Overview","path":"connect/gateways/ingress-gateway","filePath":"../content/docs/connect/gateways/ingress-gateway/index.mdx","fullPath":"/consul/docs/connect/gateways/ingress-gateway","id":"sidebar-nav-item-216"},{"title":"Implement an ingress gateway","path":"connect/gateways/ingress-gateway/usage","filePath":"../content/docs/connect/gateways/ingress-gateway/usage.mdx","fullPath":"/consul/docs/connect/gateways/ingress-gateway/usage","id":"sidebar-nav-item-217"},{"title":"Serve TLS certificates from an external service","path":"connect/gateways/ingress-gateway/tls-external-service","filePath":"../content/docs/connect/gateways/ingress-gateway/tls-external-service.mdx","fullPath":"/consul/docs/connect/gateways/ingress-gateway/tls-external-service","id":"sidebar-nav-item-218"},{"title":"Configuration","href":null,"fullPath":"/consul/docs/connect/config-entries/ingress-gateway","id":"sidebar-nav-item-219","path":"/consul/docs/connect/config-entries/ingress-gateway"}],"id":"sidebar-nav-item-215"},{"title":"Terminating Gateways","path":"connect/gateways/terminating-gateway","filePath":"../content/docs/connect/gateways/terminating-gateway.mdx","fullPath":"/consul/docs/connect/gateways/terminating-gateway","id":"sidebar-nav-item-220"}],"id":"sidebar-nav-item-178"},{"title":"Cluster Peering","routes":[{"title":"Overview","path":"connect/cluster-peering","filePath":"../content/docs/connect/cluster-peering/index.mdx","fullPath":"/consul/docs/connect/cluster-peering","id":"sidebar-nav-item-222"},{"title":"Technical Specifications","path":"connect/cluster-peering/tech-specs","filePath":"../content/docs/connect/cluster-peering/tech-specs.mdx","fullPath":"/consul/docs/connect/cluster-peering/tech-specs","id":"sidebar-nav-item-223"},{"title":"Usage","routes":[{"title":"Establish Cluster Peering Connections","path":"connect/cluster-peering/usage/establish-cluster-peering","filePath":"../content/docs/connect/cluster-peering/usage/establish-cluster-peering.mdx","fullPath":"/consul/docs/connect/cluster-peering/usage/establish-cluster-peering","id":"sidebar-nav-item-225"},{"title":"Manage Cluster Peering Connections","path":"connect/cluster-peering/usage/manage-connections","filePath":"../content/docs/connect/cluster-peering/usage/manage-connections.mdx","fullPath":"/consul/docs/connect/cluster-peering/usage/manage-connections","id":"sidebar-nav-item-226"},{"title":"Manage L7 Traffic With Cluster Peering","path":"connect/cluster-peering/usage/peering-traffic-management","filePath":"../content/docs/connect/cluster-peering/usage/peering-traffic-management.mdx","fullPath":"/consul/docs/connect/cluster-peering/usage/peering-traffic-management","id":"sidebar-nav-item-227"},{"title":"Create Sameness Groups","path":"connect/cluster-peering/usage/create-sameness-groups","filePath":"../content/docs/connect/cluster-peering/usage/create-sameness-groups.mdx","fullPath":"/consul/docs/connect/cluster-peering/usage/create-sameness-groups","id":"sidebar-nav-item-228"}],"id":"sidebar-nav-item-224"}],"id":"sidebar-nav-item-221"},{"title":"Nomad","path":"connect/nomad","filePath":"../content/docs/connect/nomad.mdx","fullPath":"/consul/docs/connect/nomad","id":"sidebar-nav-item-229"},{"title":"Kubernetes","href":null,"fullPath":"/consul/docs/k8s/connect","id":"sidebar-nav-item-230","path":"/docs/k8s/connect"},{"title":"Native App Integration","routes":[{"title":"Overview","path":"connect/native","filePath":"../content/docs/connect/native/index.mdx","fullPath":"/consul/docs/connect/native","id":"sidebar-nav-item-232"},{"title":"Go Integration","path":"connect/native/go","filePath":"../content/docs/connect/native/go.mdx","fullPath":"/consul/docs/connect/native/go","id":"sidebar-nav-item-233"}],"id":"sidebar-nav-item-231"},{"title":"Certificate Management","routes":[{"title":"Overview","path":"connect/ca","filePath":"../content/docs/connect/ca/index.mdx","fullPath":"/consul/docs/connect/ca","id":"sidebar-nav-item-235"},{"title":"Built-In CA","path":"connect/ca/consul","filePath":"../content/docs/connect/ca/consul.mdx","fullPath":"/consul/docs/connect/ca/consul","id":"sidebar-nav-item-236"},{"title":"Vault","path":"connect/ca/vault","filePath":"../content/docs/connect/ca/vault.mdx","fullPath":"/consul/docs/connect/ca/vault","id":"sidebar-nav-item-237"},{"title":"ACM Private CA","path":"connect/ca/aws","filePath":"../content/docs/connect/ca/aws.mdx","fullPath":"/consul/docs/connect/ca/aws","id":"sidebar-nav-item-238"}],"id":"sidebar-nav-item-234"},{"title":"Develop and Debug","path":"connect/dev","filePath":"../content/docs/connect/dev.mdx","fullPath":"/consul/docs/connect/dev","id":"sidebar-nav-item-239"},{"title":"Consul Dataplane","routes":[{"title":"Overview","path":"connect/dataplane","filePath":"../content/docs/connect/dataplane/index.mdx","fullPath":"/consul/docs/connect/dataplane","id":"sidebar-nav-item-241"},{"title":"CLI Reference","path":"connect/dataplane/consul-dataplane","filePath":"../content/docs/connect/dataplane/consul-dataplane.mdx","fullPath":"/consul/docs/connect/dataplane/consul-dataplane","id":"sidebar-nav-item-242"},{"title":"Telemetry","path":"connect/dataplane/telemetry","filePath":"../content/docs/connect/dataplane/telemetry.mdx","fullPath":"/consul/docs/connect/dataplane/telemetry","id":"sidebar-nav-item-243"}],"id":"sidebar-nav-item-240"}],"id":"sidebar-nav-item-104"},{"title":"Dynamic App Configuration","routes":[{"title":"Consul KV","routes":[{"title":"Overview","path":"dynamic-app-config/kv","filePath":"../content/docs/dynamic-app-config/kv/index.mdx","fullPath":"/consul/docs/dynamic-app-config/kv","id":"sidebar-nav-item-246"},{"title":"Store keys and values","path":"dynamic-app-config/kv/store","filePath":"../content/docs/dynamic-app-config/kv/store.mdx","fullPath":"/consul/docs/dynamic-app-config/kv/store","id":"sidebar-nav-item-247"}],"id":"sidebar-nav-item-245"},{"title":"Sessions","path":"dynamic-app-config/sessions","filePath":"../content/docs/dynamic-app-config/sessions.mdx","fullPath":"/consul/docs/dynamic-app-config/sessions","id":"sidebar-nav-item-248"},{"title":"Watches","path":"dynamic-app-config/watches","filePath":"../content/docs/dynamic-app-config/watches.mdx","fullPath":"/consul/docs/dynamic-app-config/watches","id":"sidebar-nav-item-249"}],"id":"sidebar-nav-item-244"},{"title":"Security","routes":[{"title":"Overview","path":"security","filePath":"../content/docs/security/index.mdx","fullPath":"/consul/docs/security","id":"sidebar-nav-item-251"},{"title":"Access Control (ACLs)","routes":[{"title":"ACL System Overview","path":"security/acl","filePath":"../content/docs/security/acl/index.mdx","fullPath":"/consul/docs/security/acl","id":"sidebar-nav-item-253"},{"title":"Tokens","routes":[{"title":"Overview","path":"security/acl/tokens","filePath":"../content/docs/security/acl/tokens/index.mdx","fullPath":"/consul/docs/security/acl/tokens","id":"sidebar-nav-item-255"},{"title":"Create ACL Tokens","routes":[{"title":"Create a service token","path":"security/acl/tokens/create/create-a-service-token","filePath":"../content/docs/security/acl/tokens/create/create-a-service-token.mdx","fullPath":"/consul/docs/security/acl/tokens/create/create-a-service-token","id":"sidebar-nav-item-257"},{"title":"Create an agent token","path":"security/acl/tokens/create/create-an-agent-token","filePath":"../content/docs/security/acl/tokens/create/create-an-agent-token.mdx","fullPath":"/consul/docs/security/acl/tokens/create/create-an-agent-token","id":"sidebar-nav-item-258"},{"title":"Create a UI token","path":"security/acl/tokens/create/create-a-ui-token","filePath":"../content/docs/security/acl/tokens/create/create-a-ui-token.mdx","fullPath":"/consul/docs/security/acl/tokens/create/create-a-ui-token","id":"sidebar-nav-item-259"},{"title":"Create a mesh gateway token","path":"security/acl/tokens/create/create-a-mesh-gateway-token","filePath":"../content/docs/security/acl/tokens/create/create-a-mesh-gateway-token.mdx","fullPath":"/consul/docs/security/acl/tokens/create/create-a-mesh-gateway-token","id":"sidebar-nav-item-260"},{"title":"Create an ingress gateway token","path":"security/acl/tokens/create/create-an-ingress-gateway-token","filePath":"../content/docs/security/acl/tokens/create/create-an-ingress-gateway-token.mdx","fullPath":"/consul/docs/security/acl/tokens/create/create-an-ingress-gateway-token","id":"sidebar-nav-item-261"},{"title":"Create a terminating gateway token","path":"security/acl/tokens/create/create-a-terminating-gateway-token","filePath":"../content/docs/security/acl/tokens/create/create-a-terminating-gateway-token.mdx","fullPath":"/consul/docs/security/acl/tokens/create/create-a-terminating-gateway-token","id":"sidebar-nav-item-262"},{"title":"Create a DNS token","path":"security/acl/tokens/create/create-a-dns-token","filePath":"../content/docs/security/acl/tokens/create/create-a-dns-token.mdx","fullPath":"/consul/docs/security/acl/tokens/create/create-a-dns-token","id":"sidebar-nav-item-263"},{"title":"Create a replication token","path":"security/acl/tokens/create/create-a-replication-token","filePath":"../content/docs/security/acl/tokens/create/create-a-replication-token.mdx","fullPath":"/consul/docs/security/acl/tokens/create/create-a-replication-token","id":"sidebar-nav-item-264"},{"title":"Create a snapshot agent token","path":"security/acl/tokens/create/create-a-snapshot-agent-token","filePath":"../content/docs/security/acl/tokens/create/create-a-snapshot-agent-token.mdx","fullPath":"/consul/docs/security/acl/tokens/create/create-a-snapshot-agent-token","id":"sidebar-nav-item-265"},{"title":"Create a token for Vault's Consul storage backend","path":"security/acl/tokens/create/create-a-token-for-vault-consul-storage","filePath":"../content/docs/security/acl/tokens/create/create-a-token-for-vault-consul-storage.mdx","fullPath":"/consul/docs/security/acl/tokens/create/create-a-token-for-vault-consul-storage","id":"sidebar-nav-item-266"},{"title":"Create a Consul ESM token","path":"security/acl/tokens/create/create-a-consul-esm-token","filePath":"../content/docs/security/acl/tokens/create/create-a-consul-esm-token.mdx","fullPath":"/consul/docs/security/acl/tokens/create/create-a-consul-esm-token","id":"sidebar-nav-item-267"}],"id":"sidebar-nav-item-256"}],"id":"sidebar-nav-item-254"},{"title":"Policies","path":"security/acl/acl-policies","filePath":"../content/docs/security/acl/acl-policies.mdx","fullPath":"/consul/docs/security/acl/acl-policies","id":"sidebar-nav-item-268"},{"title":"Roles","path":"security/acl/acl-roles","filePath":"../content/docs/security/acl/acl-roles.mdx","fullPath":"/consul/docs/security/acl/acl-roles","id":"sidebar-nav-item-269"},{"title":"Rules Reference","path":"security/acl/acl-rules","filePath":"../content/docs/security/acl/acl-rules.mdx","fullPath":"/consul/docs/security/acl/acl-rules","id":"sidebar-nav-item-270"},{"title":"ACLs in Federated Datacenters","path":"security/acl/acl-federated-datacenters","filePath":"../content/docs/security/acl/acl-federated-datacenters.mdx","fullPath":"/consul/docs/security/acl/acl-federated-datacenters","id":"sidebar-nav-item-271"},{"title":"Auth Methods","routes":[{"title":"Overview","path":"security/acl/auth-methods","filePath":"../content/docs/security/acl/auth-methods/index.mdx","fullPath":"/consul/docs/security/acl/auth-methods","id":"sidebar-nav-item-273"},{"title":"Kubernetes","path":"security/acl/auth-methods/kubernetes","filePath":"../content/docs/security/acl/auth-methods/kubernetes.mdx","fullPath":"/consul/docs/security/acl/auth-methods/kubernetes","id":"sidebar-nav-item-274"},{"title":"JWT","path":"security/acl/auth-methods/jwt","filePath":"../content/docs/security/acl/auth-methods/jwt.mdx","fullPath":"/consul/docs/security/acl/auth-methods/jwt","id":"sidebar-nav-item-275"},{"title":"OIDC","path":"security/acl/auth-methods/oidc","filePath":"../content/docs/security/acl/auth-methods/oidc.mdx","fullPath":"/consul/docs/security/acl/auth-methods/oidc","id":"sidebar-nav-item-276"},{"title":"AWS IAM","path":"security/acl/auth-methods/aws-iam","filePath":"../content/docs/security/acl/auth-methods/aws-iam.mdx","fullPath":"/consul/docs/security/acl/auth-methods/aws-iam","id":"sidebar-nav-item-277"}],"id":"sidebar-nav-item-272"}],"id":"sidebar-nav-item-252"},{"title":"Encryption","path":"security/encryption","filePath":"../content/docs/security/encryption.mdx","fullPath":"/consul/docs/security/encryption","id":"sidebar-nav-item-278"},{"title":"Security Models","routes":[{"title":"Overview","path":"security/security-models","filePath":"../content/docs/security/security-models/index.mdx","fullPath":"/consul/docs/security/security-models","id":"sidebar-nav-item-280"},{"title":"Core","path":"security/security-models/core","filePath":"../content/docs/security/security-models/core.mdx","fullPath":"/consul/docs/security/security-models/core","id":"sidebar-nav-item-281"},{"title":"Network Infrastructure Automation","path":"security/security-models/nia","filePath":"../content/docs/security/security-models/nia.mdx","fullPath":"/consul/docs/security/security-models/nia","id":"sidebar-nav-item-282"}],"id":"sidebar-nav-item-279"}],"id":"sidebar-nav-item-250"},{"title":"Agent","routes":[{"title":"Overview","path":"agent","filePath":"../content/docs/agent/index.mdx","fullPath":"/consul/docs/agent","id":"sidebar-nav-item-284"},{"title":"Configuration","routes":[{"title":"General","path":"agent/config","filePath":"../content/docs/agent/config/index.mdx","fullPath":"/consul/docs/agent/config","id":"sidebar-nav-item-286"},{"title":"CLI Reference","path":"agent/config/cli-flags","filePath":"../content/docs/agent/config/cli-flags.mdx","fullPath":"/consul/docs/agent/config/cli-flags","id":"sidebar-nav-item-287"},{"title":"Configuration Reference","path":"agent/config/config-files","filePath":"../content/docs/agent/config/config-files.mdx","fullPath":"/consul/docs/agent/config/config-files","id":"sidebar-nav-item-288"}],"id":"sidebar-nav-item-285"},{"title":"Limit traffic rates","routes":[{"title":"Overview","path":"agent/limits","filePath":"../content/docs/agent/limits/index.mdx","fullPath":"/consul/docs/agent/limits","id":"sidebar-nav-item-290"},{"title":"Usage","routes":[{"title":"Initialize rate limit settings","path":"agent/limits/usage/init-rate-limits","filePath":"../content/docs/agent/limits/usage/init-rate-limits.mdx","fullPath":"/consul/docs/agent/limits/usage/init-rate-limits","id":"sidebar-nav-item-292"},{"title":"Monitor traffic rate limits","path":"agent/limits/usage/monitor-rate-limits","filePath":"../content/docs/agent/limits/usage/monitor-rate-limits.mdx","fullPath":"/consul/docs/agent/limits/usage/monitor-rate-limits","id":"sidebar-nav-item-293"},{"title":"Set global traffic rate limits","path":"agent/limits/usage/set-global-traffic-rate-limits","filePath":"../content/docs/agent/limits/usage/set-global-traffic-rate-limits.mdx","fullPath":"/consul/docs/agent/limits/usage/set-global-traffic-rate-limits","id":"sidebar-nav-item-294"},{"title":"Limit traffic rates from source IP addresses","path":"agent/limits/usage/limit-request-rates-from-ips","filePath":"../content/docs/agent/limits/usage/limit-request-rates-from-ips.mdx","fullPath":"/consul/docs/agent/limits/usage/limit-request-rates-from-ips","id":"sidebar-nav-item-295"}],"id":"sidebar-nav-item-291"},{"title":"Configuration","href":null,"fullPath":"/consul/docs/connect/config-entries/control-plane-request-limit","id":"sidebar-nav-item-296","path":"/docs/connect/config-entries/control-plane-request-limit"}],"id":"sidebar-nav-item-289"},{"title":"Configuration Entries","path":"agent/config-entries","filePath":"../content/docs/agent/config-entries.mdx","fullPath":"/consul/docs/agent/config-entries","id":"sidebar-nav-item-297"},{"title":"Telemetry","path":"agent/telemetry","filePath":"../content/docs/agent/telemetry.mdx","fullPath":"/consul/docs/agent/telemetry","id":"sidebar-nav-item-298"},{"title":"Sentinel","path":"agent/sentinel","filePath":"../content/docs/agent/sentinel.mdx","fullPath":"/consul/docs/agent/sentinel","id":"sidebar-nav-item-299"},{"title":"Experimental WAL LogStore","routes":[{"title":"Overview","path":"agent/wal-logstore","filePath":"../content/docs/agent/wal-logstore/index.mdx","fullPath":"/consul/docs/agent/wal-logstore","id":"sidebar-nav-item-301"},{"title":"Enable WAL LogStore backend","path":"agent/wal-logstore/enable","filePath":"../content/docs/agent/wal-logstore/enable.mdx","fullPath":"/consul/docs/agent/wal-logstore/enable","id":"sidebar-nav-item-302"},{"title":"Monitor Raft metrics and logs for WAL","path":"agent/wal-logstore/monitoring","filePath":"../content/docs/agent/wal-logstore/monitoring.mdx","fullPath":"/consul/docs/agent/wal-logstore/monitoring","id":"sidebar-nav-item-303"},{"title":"Revert to BoltDB","path":"agent/wal-logstore/revert-to-boltdb","filePath":"../content/docs/agent/wal-logstore/revert-to-boltdb.mdx","fullPath":"/consul/docs/agent/wal-logstore/revert-to-boltdb","id":"sidebar-nav-item-304"}],"id":"sidebar-nav-item-300"}],"id":"sidebar-nav-item-283"},{"title":"Integrations","routes":[{"title":"Consul Integration Program","path":"integrate/partnerships","filePath":"../content/docs/integrate/partnerships.mdx","fullPath":"/consul/docs/integrate/partnerships","id":"sidebar-nav-item-306"},{"title":"NIA Integration Program","path":"integrate/nia-integration","filePath":"../content/docs/integrate/nia-integration.mdx","fullPath":"/consul/docs/integrate/nia-integration","id":"sidebar-nav-item-307"},{"title":"Vault Integration","href":null,"fullPath":"/consul/docs/connect/ca/vault","id":"sidebar-nav-item-308","path":"/docs/connect/ca/vault"},{"title":"Proxy Integration","href":null,"fullPath":"/consul/docs/connect/proxies/integrate","id":"sidebar-nav-item-309","path":"/docs/connect/proxies/integrate"},{"title":"Consul Tools","path":"integrate/download-tools","filePath":"../content/docs/integrate/download-tools.mdx","fullPath":"/consul/docs/integrate/download-tools","id":"sidebar-nav-item-310"}],"id":"sidebar-nav-item-305"},{"title":"Troubleshoot","routes":[{"title":"Service-to-Service Troubleshooting","path":"troubleshoot/troubleshoot-services","filePath":"../content/docs/troubleshoot/troubleshoot-services.mdx","fullPath":"/consul/docs/troubleshoot/troubleshoot-services","id":"sidebar-nav-item-312"},{"title":"Common Error Messages","path":"troubleshoot/common-errors","filePath":"../content/docs/troubleshoot/common-errors.mdx","fullPath":"/consul/docs/troubleshoot/common-errors","id":"sidebar-nav-item-313"},{"title":"FAQ","path":"troubleshoot/faq","filePath":"../content/docs/troubleshoot/faq.mdx","fullPath":"/consul/docs/troubleshoot/faq","id":"sidebar-nav-item-314"}],"id":"sidebar-nav-item-311"},{"divider":true,"id":"sidebar-nav-item-315"},{"title":"Kubernetes","routes":[{"title":"Overview","path":"k8s","filePath":"../content/docs/k8s/index.mdx","fullPath":"/consul/docs/k8s","id":"sidebar-nav-item-317"},{"title":"Architecture","path":"k8s/architecture","filePath":"../content/docs/k8s/architecture.mdx","fullPath":"/consul/docs/k8s/architecture","id":"sidebar-nav-item-318"},{"title":"Installation","routes":[{"title":"Install from Consul K8s CLI","path":"k8s/installation/install-cli","filePath":"../content/docs/k8s/installation/install-cli.mdx","fullPath":"/consul/docs/k8s/installation/install-cli","id":"sidebar-nav-item-320"},{"title":"Install from Helm Chart","path":"k8s/installation/install","filePath":"../content/docs/k8s/installation/install.mdx","fullPath":"/consul/docs/k8s/installation/install","id":"sidebar-nav-item-321"}],"id":"sidebar-nav-item-319"},{"title":"Deployment Configurations","routes":[{"title":"Consul Clients Outside Kubernetes","path":"k8s/deployment-configurations/clients-outside-kubernetes","filePath":"../content/docs/k8s/deployment-configurations/clients-outside-kubernetes.mdx","fullPath":"/consul/docs/k8s/deployment-configurations/clients-outside-kubernetes","id":"sidebar-nav-item-323"},{"title":"Consul Servers Outside Kubernetes","path":"k8s/deployment-configurations/servers-outside-kubernetes","filePath":"../content/docs/k8s/deployment-configurations/servers-outside-kubernetes.mdx","fullPath":"/consul/docs/k8s/deployment-configurations/servers-outside-kubernetes","id":"sidebar-nav-item-324"},{"title":"Single Consul Datacenter in Multiple Kubernetes Clusters","path":"k8s/deployment-configurations/single-dc-multi-k8s","filePath":"../content/docs/k8s/deployment-configurations/single-dc-multi-k8s.mdx","fullPath":"/consul/docs/k8s/deployment-configurations/single-dc-multi-k8s","id":"sidebar-nav-item-325"},{"title":"Consul Enterprise","path":"k8s/deployment-configurations/consul-enterprise","filePath":"../content/docs/k8s/deployment-configurations/consul-enterprise.mdx","fullPath":"/consul/docs/k8s/deployment-configurations/consul-enterprise","id":"sidebar-nav-item-326"},{"title":"Multi-Cluster Federation","routes":[{"title":"Overview","path":"k8s/deployment-configurations/multi-cluster","filePath":"../content/docs/k8s/deployment-configurations/multi-cluster/index.mdx","fullPath":"/consul/docs/k8s/deployment-configurations/multi-cluster","id":"sidebar-nav-item-328"},{"title":"Federation Between Kubernetes Clusters","path":"k8s/deployment-configurations/multi-cluster/kubernetes","filePath":"../content/docs/k8s/deployment-configurations/multi-cluster/kubernetes.mdx","fullPath":"/consul/docs/k8s/deployment-configurations/multi-cluster/kubernetes","id":"sidebar-nav-item-329"},{"title":"Federation Between VMs and Kubernetes","path":"k8s/deployment-configurations/multi-cluster/vms-and-kubernetes","filePath":"../content/docs/k8s/deployment-configurations/multi-cluster/vms-and-kubernetes.mdx","fullPath":"/consul/docs/k8s/deployment-configurations/multi-cluster/vms-and-kubernetes","id":"sidebar-nav-item-330"}],"id":"sidebar-nav-item-327"},{"title":"Vault as Secrets Backend","routes":[{"title":"Overview","path":"k8s/deployment-configurations/vault","filePath":"../content/docs/k8s/deployment-configurations/vault/index.mdx","fullPath":"/consul/docs/k8s/deployment-configurations/vault","id":"sidebar-nav-item-332"},{"title":"Systems Integration","path":"k8s/deployment-configurations/vault/systems-integration","filePath":"../content/docs/k8s/deployment-configurations/vault/systems-integration.mdx","fullPath":"/consul/docs/k8s/deployment-configurations/vault/systems-integration","id":"sidebar-nav-item-333"},{"title":"Data Integration","routes":[{"title":"Overview","path":"k8s/deployment-configurations/vault/data-integration","filePath":"../content/docs/k8s/deployment-configurations/vault/data-integration/index.mdx","fullPath":"/consul/docs/k8s/deployment-configurations/vault/data-integration","id":"sidebar-nav-item-335"},{"title":"Bootstrap Token","path":"k8s/deployment-configurations/vault/data-integration/bootstrap-token","filePath":"../content/docs/k8s/deployment-configurations/vault/data-integration/bootstrap-token.mdx","fullPath":"/consul/docs/k8s/deployment-configurations/vault/data-integration/bootstrap-token","id":"sidebar-nav-item-336"},{"title":"Enterprise License","path":"k8s/deployment-configurations/vault/data-integration/enterprise-license","filePath":"../content/docs/k8s/deployment-configurations/vault/data-integration/enterprise-license.mdx","fullPath":"/consul/docs/k8s/deployment-configurations/vault/data-integration/enterprise-license","id":"sidebar-nav-item-337"},{"title":"Gossip Encryption Key","path":"k8s/deployment-configurations/vault/data-integration/gossip","filePath":"../content/docs/k8s/deployment-configurations/vault/data-integration/gossip.mdx","fullPath":"/consul/docs/k8s/deployment-configurations/vault/data-integration/gossip","id":"sidebar-nav-item-338"},{"title":"Partition Token","path":"k8s/deployment-configurations/vault/data-integration/partition-token","filePath":"../content/docs/k8s/deployment-configurations/vault/data-integration/partition-token.mdx","fullPath":"/consul/docs/k8s/deployment-configurations/vault/data-integration/partition-token","id":"sidebar-nav-item-339"},{"title":"Replication Token","path":"k8s/deployment-configurations/vault/data-integration/replication-token","filePath":"../content/docs/k8s/deployment-configurations/vault/data-integration/replication-token.mdx","fullPath":"/consul/docs/k8s/deployment-configurations/vault/data-integration/replication-token","id":"sidebar-nav-item-340"},{"title":"Server TLS","path":"k8s/deployment-configurations/vault/data-integration/server-tls","filePath":"../content/docs/k8s/deployment-configurations/vault/data-integration/server-tls.mdx","fullPath":"/consul/docs/k8s/deployment-configurations/vault/data-integration/server-tls","id":"sidebar-nav-item-341"},{"title":"Service Mesh Certificates","path":"k8s/deployment-configurations/vault/data-integration/connect-ca","filePath":"../content/docs/k8s/deployment-configurations/vault/data-integration/connect-ca.mdx","fullPath":"/consul/docs/k8s/deployment-configurations/vault/data-integration/connect-ca","id":"sidebar-nav-item-342"},{"title":"Snapshot Agent Config","path":"k8s/deployment-configurations/vault/data-integration/snapshot-agent-config","filePath":"../content/docs/k8s/deployment-configurations/vault/data-integration/snapshot-agent-config.mdx","fullPath":"/consul/docs/k8s/deployment-configurations/vault/data-integration/snapshot-agent-config","id":"sidebar-nav-item-343"},{"title":"Webhook Certificates","path":"k8s/deployment-configurations/vault/data-integration/webhook-certs","filePath":"../content/docs/k8s/deployment-configurations/vault/data-integration/webhook-certs.mdx","fullPath":"/consul/docs/k8s/deployment-configurations/vault/data-integration/webhook-certs","id":"sidebar-nav-item-344"}],"id":"sidebar-nav-item-334"},{"title":"WAN Federation","path":"k8s/deployment-configurations/vault/wan-federation","filePath":"../content/docs/k8s/deployment-configurations/vault/wan-federation.mdx","fullPath":"/consul/docs/k8s/deployment-configurations/vault/wan-federation","id":"sidebar-nav-item-345"}],"id":"sidebar-nav-item-331"},{"title":"Datadog metrics","path":"k8s/deployment-configurations/datadog","filePath":"../content/docs/k8s/deployment-configurations/datadog.mdx","fullPath":"/consul/docs/k8s/deployment-configurations/datadog","id":"sidebar-nav-item-346"}],"id":"sidebar-nav-item-322"},{"title":"Platform Guides","routes":[{"title":"Minikube","href":"/consul/tutorials/kubernetes/kubernetes-minikube?utm_source=consul.io\u0026utm_medium=docs\u0026utm_content=k8s\u0026utm_term=mk","id":"sidebar-nav-item-348"},{"title":"Kind","href":"/consul/tutorials/kubernetes/kubernetes-kind?utm_source=consul.io\u0026utm_medium=docs\u0026utm_content=k8s\u0026utm_term=kind","id":"sidebar-nav-item-349"},{"title":"AKS (Azure)","href":"/consul/tutorials/kubernetes/kubernetes-aks-azure?utm_source=consul.io\u0026utm_medium=docs\u0026utm_content=k8s\u0026utm_term=aks","id":"sidebar-nav-item-350"},{"title":"EKS (AWS)","href":"/consul/tutorials/kubernetes/kubernetes-eks-aws?utm_source=consul.io\u0026utm_medium=docs\u0026utm_content=k8s\u0026utm_term=eks","id":"sidebar-nav-item-351"},{"title":"GKE (Google Cloud)","href":"/consul/tutorials/kubernetes/kubernetes-gke-google?utm_source=consul.io\u0026utm_medium=docs\u0026utm_content=k8s\u0026utm_term=gke","id":"sidebar-nav-item-352"},{"title":"Red Hat OpenShift","href":"/consul/tutorials/kubernetes/kubernetes-openshift-red-hat?utm_source=consul.io\u0026utm_medium=docs\u0026utm_content=k8s\u0026utm_term=openshift","id":"sidebar-nav-item-353"},{"title":"Self Hosted Kubernetes","path":"k8s/platforms/self-hosted-kubernetes","filePath":"../content/docs/k8s/platforms/self-hosted-kubernetes.mdx","fullPath":"/consul/docs/k8s/platforms/self-hosted-kubernetes","id":"sidebar-nav-item-354"}],"id":"sidebar-nav-item-347"},{"title":"Service Mesh","routes":[{"title":"Overview","path":"k8s/connect","filePath":"../content/docs/k8s/connect/index.mdx","fullPath":"/consul/docs/k8s/connect","id":"sidebar-nav-item-356"},{"title":"Admin Partitions","href":null,"fullPath":"/consul/docs/enterprise/admin-partitions","id":"sidebar-nav-item-357","path":"/docs/enterprise/admin-partitions"},{"title":"Cluster Peering","routes":[{"title":"Technical Specifications","path":"k8s/connect/cluster-peering/tech-specs","filePath":"../content/docs/k8s/connect/cluster-peering/tech-specs.mdx","fullPath":"/consul/docs/k8s/connect/cluster-peering/tech-specs","id":"sidebar-nav-item-359"},{"title":"Usage","routes":[{"title":"Establish Cluster Peering Connections","path":"k8s/connect/cluster-peering/usage/establish-peering","filePath":"../content/docs/k8s/connect/cluster-peering/usage/establish-peering.mdx","fullPath":"/consul/docs/k8s/connect/cluster-peering/usage/establish-peering","id":"sidebar-nav-item-361"},{"title":"Manage Cluster Peering Connections","path":"k8s/connect/cluster-peering/usage/manage-peering","filePath":"../content/docs/k8s/connect/cluster-peering/usage/manage-peering.mdx","fullPath":"/consul/docs/k8s/connect/cluster-peering/usage/manage-peering","id":"sidebar-nav-item-362"},{"title":"Manage L7 Traffic With Cluster Peering","path":"k8s/connect/cluster-peering/usage/l7-traffic","filePath":"../content/docs/k8s/connect/cluster-peering/usage/l7-traffic.mdx","fullPath":"/consul/docs/k8s/connect/cluster-peering/usage/l7-traffic","id":"sidebar-nav-item-363"},{"title":"Create Sameness Groups","path":"k8s/connect/cluster-peering/usage/create-sameness-groups","filePath":"../content/docs/k8s/connect/cluster-peering/usage/create-sameness-groups.mdx","fullPath":"/consul/docs/k8s/connect/cluster-peering/usage/create-sameness-groups","id":"sidebar-nav-item-364"}],"id":"sidebar-nav-item-360"}],"id":"sidebar-nav-item-358"},{"title":"Transparent Proxy","routes":[{"title":"Overview","path":"k8s/connect/transparent-proxy","filePath":"../content/docs/k8s/connect/transparent-proxy/index.mdx","fullPath":"/consul/docs/k8s/connect/transparent-proxy","id":"sidebar-nav-item-366"},{"title":"Enable transparent proxy","path":"k8s/connect/transparent-proxy/enable-transparent-proxy","filePath":"../content/docs/k8s/connect/transparent-proxy/enable-transparent-proxy.mdx","fullPath":"/consul/docs/k8s/connect/transparent-proxy/enable-transparent-proxy","id":"sidebar-nav-item-367"},{"title":"Route traffic to virtual services","href":null,"fullPath":"/consul/docs/k8s/l7-traffic/route-to-virtual-services","id":"sidebar-nav-item-368","path":"/docs/k8s/l7-traffic/route-to-virtual-services"}],"id":"sidebar-nav-item-365"},{"title":"Onboarding services in transparent proxy mode","path":"k8s/connect/onboarding-tproxy-mode","filePath":"../content/docs/k8s/connect/onboarding-tproxy-mode.mdx","fullPath":"/consul/docs/k8s/connect/onboarding-tproxy-mode","id":"sidebar-nav-item-369"},{"title":"Ingress Gateways","path":"k8s/connect/ingress-gateways","filePath":"../content/docs/k8s/connect/ingress-gateways.mdx","fullPath":"/consul/docs/k8s/connect/ingress-gateways","id":"sidebar-nav-item-370"},{"title":"Terminating Gateways","path":"k8s/connect/terminating-gateways","filePath":"../content/docs/k8s/connect/terminating-gateways.mdx","fullPath":"/consul/docs/k8s/connect/terminating-gateways","id":"sidebar-nav-item-371"},{"title":"Ingress Controllers","path":"k8s/connect/ingress-controllers","filePath":"../content/docs/k8s/connect/ingress-controllers.mdx","fullPath":"/consul/docs/k8s/connect/ingress-controllers","id":"sidebar-nav-item-372"},{"title":"Configuring a Connect CA Provider","path":"k8s/connect/connect-ca-provider","filePath":"../content/docs/k8s/connect/connect-ca-provider.mdx","fullPath":"/consul/docs/k8s/connect/connect-ca-provider","id":"sidebar-nav-item-373"},{"title":"Health Checks","path":"k8s/connect/health","filePath":"../content/docs/k8s/connect/health.mdx","fullPath":"/consul/docs/k8s/connect/health","id":"sidebar-nav-item-374"},{"title":"Observability","routes":[{"title":"Metrics","path":"k8s/connect/observability/metrics","filePath":"../content/docs/k8s/connect/observability/metrics.mdx","fullPath":"/consul/docs/k8s/connect/observability/metrics","id":"sidebar-nav-item-376"}],"id":"sidebar-nav-item-375"}],"id":"sidebar-nav-item-355"},{"title":"V2 Catalog API","routes":[{"title":"Overview","path":"k8s/multiport","filePath":"../content/docs/k8s/multiport/index.mdx","fullPath":"/consul/docs/k8s/multiport","id":"sidebar-nav-item-378"},{"title":"Configure multi-port services","path":"k8s/multiport/configure","filePath":"../content/docs/k8s/multiport/configure.mdx","fullPath":"/consul/docs/k8s/multiport/configure","id":"sidebar-nav-item-379"},{"title":"Split TCP traffic between multiple ports","path":"k8s/multiport/traffic-split","filePath":"../content/docs/k8s/multiport/traffic-split.mdx","fullPath":"/consul/docs/k8s/multiport/traffic-split","id":"sidebar-nav-item-380"},{"title":"Reference","routes":[{"title":"GRPCRoute resource","path":"k8s/multiport/reference/grpcroute","filePath":"../content/docs/k8s/multiport/reference/grpcroute.mdx","fullPath":"/consul/docs/k8s/multiport/reference/grpcroute","id":"sidebar-nav-item-382"},{"title":"HTTPRoute resource","path":"k8s/multiport/reference/httproute","filePath":"../content/docs/k8s/multiport/reference/httproute.mdx","fullPath":"/consul/docs/k8s/multiport/reference/httproute","id":"sidebar-nav-item-383"},{"title":"ProxyConfiguration resource","path":"k8s/multiport/reference/proxyconfiguration","filePath":"../content/docs/k8s/multiport/reference/proxyconfiguration.mdx","fullPath":"/consul/docs/k8s/multiport/reference/proxyconfiguration","id":"sidebar-nav-item-384"},{"title":"TCPRoute resource","path":"k8s/multiport/reference/tcproute","filePath":"../content/docs/k8s/multiport/reference/tcproute.mdx","fullPath":"/consul/docs/k8s/multiport/reference/tcproute","id":"sidebar-nav-item-385"},{"title":"TrafficPermissions resource","path":"k8s/multiport/reference/trafficpermissions","filePath":"../content/docs/k8s/multiport/reference/trafficpermissions.mdx","fullPath":"/consul/docs/k8s/multiport/reference/trafficpermissions","id":"sidebar-nav-item-386"}],"id":"sidebar-nav-item-381"}],"id":"sidebar-nav-item-377"},{"title":"L7 traffic management","routes":[{"title":"Overview","href":null,"fullPath":"/consul/docs/connect/manage-traffic","id":"sidebar-nav-item-388","path":"/docs/connect/manage-traffic"},{"title":"Configure failover services","path":"k8s/l7-traffic/failover-tproxy","filePath":"../content/docs/k8s/l7-traffic/failover-tproxy.mdx","fullPath":"/consul/docs/k8s/l7-traffic/failover-tproxy","id":"sidebar-nav-item-389"},{"title":"Route traffic to virtual services","path":"k8s/l7-traffic/route-to-virtual-services","filePath":"../content/docs/k8s/l7-traffic/route-to-virtual-services.mdx","fullPath":"/consul/docs/k8s/l7-traffic/route-to-virtual-services","id":"sidebar-nav-item-390"}],"id":"sidebar-nav-item-387"},{"title":"Service Sync","path":"k8s/service-sync","filePath":"../content/docs/k8s/service-sync.mdx","fullPath":"/consul/docs/k8s/service-sync","id":"sidebar-nav-item-391"},{"title":"Custom Resource Definitions","routes":[{"title":"Overview","path":"k8s/crds","filePath":"../content/docs/k8s/crds/index.mdx","fullPath":"/consul/docs/k8s/crds","id":"sidebar-nav-item-393"},{"title":"Upgrade An Existing Cluster to CRDs","path":"k8s/crds/upgrade-to-crds","filePath":"../content/docs/k8s/crds/upgrade-to-crds.mdx","fullPath":"/consul/docs/k8s/crds/upgrade-to-crds","id":"sidebar-nav-item-394"}],"id":"sidebar-nav-item-392"},{"title":"Annotations and Labels","path":"k8s/annotations-and-labels","filePath":"../content/docs/k8s/annotations-and-labels.mdx","fullPath":"/consul/docs/k8s/annotations-and-labels","id":"sidebar-nav-item-395"},{"title":"Consul DNS","path":"k8s/dns","filePath":"../content/docs/k8s/dns.mdx","fullPath":"/consul/docs/k8s/dns","id":"sidebar-nav-item-396"},{"title":"Upgrade","routes":[{"title":"Upgrading Consul on Kubernetes","path":"k8s/upgrade","filePath":"../content/docs/k8s/upgrade/index.mdx","fullPath":"/consul/docs/k8s/upgrade","id":"sidebar-nav-item-398"},{"title":"Upgrading Consul K8s CLI","path":"k8s/upgrade/upgrade-cli","filePath":"../content/docs/k8s/upgrade/upgrade-cli.mdx","fullPath":"/consul/docs/k8s/upgrade/upgrade-cli","id":"sidebar-nav-item-399"}],"id":"sidebar-nav-item-397"},{"title":"Consul Dataplane","routes":[{"title":"Overview","href":null,"fullPath":"/consul/docs/connect/dataplane","id":"sidebar-nav-item-401","path":"/docs/connect/dataplane"},{"title":"CLI Reference","href":null,"fullPath":"/consul/docs/connect/dataplane/consul-dataplane","id":"sidebar-nav-item-402","path":"/docs/connect/dataplane/consul-dataplane"}],"id":"sidebar-nav-item-400"},{"title":"Operations","routes":[{"title":"Uninstall","path":"k8s/operations/uninstall","filePath":"../content/docs/k8s/operations/uninstall.mdx","fullPath":"/consul/docs/k8s/operations/uninstall","id":"sidebar-nav-item-404"},{"title":"Certificate Rotation","path":"k8s/operations/certificate-rotation","filePath":"../content/docs/k8s/operations/certificate-rotation.mdx","fullPath":"/consul/docs/k8s/operations/certificate-rotation","id":"sidebar-nav-item-405"},{"title":"Gossip Encryption Key Rotation","path":"k8s/operations/gossip-encryption-key-rotation","filePath":"../content/docs/k8s/operations/gossip-encryption-key-rotation.mdx","fullPath":"/consul/docs/k8s/operations/gossip-encryption-key-rotation","id":"sidebar-nav-item-406"},{"title":"Configure TLS on an Existing Cluster","path":"k8s/operations/tls-on-existing-cluster","filePath":"../content/docs/k8s/operations/tls-on-existing-cluster.mdx","fullPath":"/consul/docs/k8s/operations/tls-on-existing-cluster","id":"sidebar-nav-item-407"}],"id":"sidebar-nav-item-403"},{"title":"Troubleshoot","routes":[{"title":"Common Error Messages","href":null,"fullPath":"/consul/docs/troubleshoot/common-errors#common-errors-on-kubernetes","id":"sidebar-nav-item-409","path":"/docs/troubleshoot/common-errors#common-errors-on-kubernetes"},{"title":"FAQ","href":null,"fullPath":"/consul/docs/troubleshoot/faq#consul-on-kubernetes","id":"sidebar-nav-item-410","path":"/docs/troubleshoot/faq#consul-on-kubernetes"}],"id":"sidebar-nav-item-408"},{"title":"Compatibility Matrix","path":"k8s/compatibility","filePath":"../content/docs/k8s/compatibility.mdx","fullPath":"/consul/docs/k8s/compatibility","id":"sidebar-nav-item-411"},{"title":"Helm Chart Configuration","path":"k8s/helm","filePath":"../content/docs/k8s/helm.mdx","fullPath":"/consul/docs/k8s/helm","id":"sidebar-nav-item-412"},{"title":"Consul K8s CLI Reference","path":"k8s/k8s-cli","filePath":"../content/docs/k8s/k8s-cli.mdx","fullPath":"/consul/docs/k8s/k8s-cli","id":"sidebar-nav-item-413"}],"id":"sidebar-nav-item-316"},{"title":"Nomad","path":"nomad","filePath":"../content/docs/nomad/index.mdx","fullPath":"/consul/docs/nomad","id":"sidebar-nav-item-414"},{"title":"AWS ECS","routes":[{"title":"Overview","path":"ecs","filePath":"../content/docs/ecs/index.mdx","fullPath":"/consul/docs/ecs","id":"sidebar-nav-item-416"},{"title":"Architecture","path":"ecs/architecture","filePath":"../content/docs/ecs/architecture.mdx","fullPath":"/consul/docs/ecs/architecture","id":"sidebar-nav-item-417"},{"title":"Technical specifications","path":"ecs/tech-specs","filePath":"../content/docs/ecs/tech-specs.mdx","fullPath":"/consul/docs/ecs/tech-specs","id":"sidebar-nav-item-418"},{"title":"Deploy Consul to ECS","routes":[{"title":"Deploy using the Terraform module","path":"ecs/deploy/terraform","filePath":"../content/docs/ecs/deploy/terraform.mdx","fullPath":"/consul/docs/ecs/deploy/terraform","id":"sidebar-nav-item-420"},{"title":"Deploy manually","path":"ecs/deploy/manual","filePath":"../content/docs/ecs/deploy/manual.mdx","fullPath":"/consul/docs/ecs/deploy/manual","id":"sidebar-nav-item-421"},{"title":"Configure the ECS task bind address","path":"ecs/deploy/bind-addresses","filePath":"../content/docs/ecs/deploy/bind-addresses.mdx","fullPath":"/consul/docs/ecs/deploy/bind-addresses","id":"sidebar-nav-item-422"},{"title":"Configure routes between ECS tasks","path":"ecs/deploy/configure-routes","filePath":"../content/docs/ecs/deploy/configure-routes.mdx","fullPath":"/consul/docs/ecs/deploy/configure-routes","id":"sidebar-nav-item-423"},{"title":"Migrate existing tasks","path":"ecs/deploy/migrate-existing-tasks","filePath":"../content/docs/ecs/deploy/migrate-existing-tasks.mdx","fullPath":"/consul/docs/ecs/deploy/migrate-existing-tasks","id":"sidebar-nav-item-424"}],"id":"sidebar-nav-item-419"},{"title":"Upgrade to Consul dataplane architecture","path":"ecs/upgrade-to-dataplanes","filePath":"../content/docs/ecs/upgrade-to-dataplanes.mdx","fullPath":"/consul/docs/ecs/upgrade-to-dataplanes","id":"sidebar-nav-item-425"},{"title":"Consul Enterprise","path":"ecs/enterprise","filePath":"../content/docs/ecs/enterprise.mdx","fullPath":"/consul/docs/ecs/enterprise","id":"sidebar-nav-item-426"},{"title":"Reference","routes":[{"title":"ECS configuration reference","path":"ecs/reference/configuration-reference","filePath":"../content/docs/ecs/reference/configuration-reference.mdx","fullPath":"/consul/docs/ecs/reference/configuration-reference","id":"sidebar-nav-item-428"},{"title":"ECS compatibility matrix","path":"ecs/reference/compatibility","filePath":"../content/docs/ecs/reference/compatibility.mdx","fullPath":"/consul/docs/ecs/reference/compatibility","id":"sidebar-nav-item-429"},{"title":"ECS Consul server JSON schema","path":"ecs/reference/consul-server-json","filePath":"../content/docs/ecs/reference/consul-server-json.mdx","fullPath":"/consul/docs/ecs/reference/consul-server-json","id":"sidebar-nav-item-430"}],"id":"sidebar-nav-item-427"}],"id":"sidebar-nav-item-415"},{"title":"AWS Lambda","routes":[{"title":"Overview","path":"lambda","filePath":"../content/docs/lambda/index.mdx","fullPath":"/consul/docs/lambda","id":"sidebar-nav-item-432"},{"title":"Register Lambda Functions","routes":[{"title":"Requirements","path":"lambda/registration","filePath":"../content/docs/lambda/registration/index.mdx","fullPath":"/consul/docs/lambda/registration","id":"sidebar-nav-item-434"},{"title":"Automate Registration","path":"lambda/registration/automate","filePath":"../content/docs/lambda/registration/automate.mdx","fullPath":"/consul/docs/lambda/registration/automate","id":"sidebar-nav-item-435"},{"title":"Manual Registration","path":"lambda/registration/manual","filePath":"../content/docs/lambda/registration/manual.mdx","fullPath":"/consul/docs/lambda/registration/manual","id":"sidebar-nav-item-436"}],"id":"sidebar-nav-item-433"},{"title":"Invoke Lambda Functions from Services","path":"lambda/invocation","filePath":"../content/docs/lambda/invocation.mdx","fullPath":"/consul/docs/lambda/invocation","id":"sidebar-nav-item-437"},{"title":"Invoke Services from Lambda Functions","path":"lambda/invoke-from-lambda","badge":{"text":"BETA","type":"outlined","color":"neutral"},"filePath":"../content/docs/lambda/invoke-from-lambda.mdx","fullPath":"/consul/docs/lambda/invoke-from-lambda","id":"sidebar-nav-item-438"}],"id":"sidebar-nav-item-431"},{"divider":true,"id":"sidebar-nav-item-439"},{"title":"HCP Consul","href":"/hcp/docs/consul","id":"sidebar-nav-item-440"},{"title":"Consul Enterprise","routes":[{"title":"Overview","path":"enterprise","filePath":"../content/docs/enterprise/index.mdx","fullPath":"/consul/docs/enterprise","id":"sidebar-nav-item-442"},{"title":"Long Term Support (LTS)","path":"enterprise/long-term-support","filePath":"../content/docs/enterprise/long-term-support.mdx","fullPath":"/consul/docs/enterprise/long-term-support","id":"sidebar-nav-item-443"},{"title":"Admin Partitions","path":"enterprise/admin-partitions","filePath":"../content/docs/enterprise/admin-partitions.mdx","fullPath":"/consul/docs/enterprise/admin-partitions","id":"sidebar-nav-item-444"},{"title":"Audit Logging","path":"enterprise/audit-logging","filePath":"../content/docs/enterprise/audit-logging.mdx","fullPath":"/consul/docs/enterprise/audit-logging","id":"sidebar-nav-item-445"},{"title":"Automated Backups","path":"enterprise/backups","filePath":"../content/docs/enterprise/backups.mdx","fullPath":"/consul/docs/enterprise/backups","id":"sidebar-nav-item-446"},{"title":"Automated Upgrades","path":"enterprise/upgrades","filePath":"../content/docs/enterprise/upgrades.mdx","fullPath":"/consul/docs/enterprise/upgrades","id":"sidebar-nav-item-447"},{"title":"Enhanced Read Scalability","path":"enterprise/read-scale","filePath":"../content/docs/enterprise/read-scale.mdx","fullPath":"/consul/docs/enterprise/read-scale","id":"sidebar-nav-item-448"},{"title":"Fault injection","href":null,"fullPath":"/consul/docs/connect/manage-traffic/fault-injection","id":"sidebar-nav-item-449","path":"/docs/connect/manage-traffic/fault-injection"},{"title":"FIPS","path":"enterprise/fips","filePath":"../content/docs/enterprise/fips.mdx","fullPath":"/consul/docs/enterprise/fips","id":"sidebar-nav-item-450"},{"title":"Single sign-on - OIDC","href":null,"fullPath":"/consul/docs/security/acl/auth-methods/oidc","id":"sidebar-nav-item-451","path":"/docs/security/acl/auth-methods/oidc"},{"title":"Redundancy Zones","path":"enterprise/redundancy","filePath":"../content/docs/enterprise/redundancy.mdx","fullPath":"/consul/docs/enterprise/redundancy","id":"sidebar-nav-item-452"},{"title":"Advanced Federation","path":"enterprise/federation","filePath":"../content/docs/enterprise/federation.mdx","fullPath":"/consul/docs/enterprise/federation","id":"sidebar-nav-item-453"},{"title":"Network Segments","routes":[{"title":"Network Segments Overview","path":"enterprise/network-segments/network-segments-overview","filePath":"../content/docs/enterprise/network-segments/network-segments-overview.mdx","fullPath":"/consul/docs/enterprise/network-segments/network-segments-overview","id":"sidebar-nav-item-455"},{"title":"Create a Network Segment","path":"enterprise/network-segments/create-network-segment","filePath":"../content/docs/enterprise/network-segments/create-network-segment.mdx","fullPath":"/consul/docs/enterprise/network-segments/create-network-segment","id":"sidebar-nav-item-456"}],"id":"sidebar-nav-item-454"},{"title":"Namespaces","path":"enterprise/namespaces","filePath":"../content/docs/enterprise/namespaces.mdx","fullPath":"/consul/docs/enterprise/namespaces","id":"sidebar-nav-item-457"},{"title":"NIA with TFE","href":null,"fullPath":"/consul/docs/nia/enterprise","id":"sidebar-nav-item-458","path":"/docs/nia/enterprise"},{"title":"License","routes":[{"title":"Overview","path":"enterprise/license/overview","filePath":"../content/docs/enterprise/license/overview.mdx","fullPath":"/consul/docs/enterprise/license/overview","id":"sidebar-nav-item-460"},{"title":"Automated entitlement utilization reporting","path":"enterprise/license/utilization-reporting","filePath":"../content/docs/enterprise/license/utilization-reporting.mdx","fullPath":"/consul/docs/enterprise/license/utilization-reporting","id":"sidebar-nav-item-461"},{"title":"FAQ","path":"enterprise/license/faq","filePath":"../content/docs/enterprise/license/faq.mdx","fullPath":"/consul/docs/enterprise/license/faq","id":"sidebar-nav-item-462"}],"id":"sidebar-nav-item-459"},{"title":"Enterprise to CE downgrade","path":"enterprise/ent-to-ce-downgrades","filePath":"../content/docs/enterprise/ent-to-ce-downgrades.mdx","fullPath":"/consul/docs/enterprise/ent-to-ce-downgrades","id":"sidebar-nav-item-463"}],"id":"sidebar-nav-item-441"},{"divider":true,"id":"sidebar-nav-item-464"},{"title":"Network Infrastructure Automation","routes":[{"title":"Overview","path":"nia","filePath":"../content/docs/nia/index.mdx","fullPath":"/consul/docs/nia","id":"sidebar-nav-item-466"},{"title":"Get Started","routes":[{"title":"Installation","path":"nia/installation/install","filePath":"../content/docs/nia/installation/install.mdx","fullPath":"/consul/docs/nia/installation/install","id":"sidebar-nav-item-468"},{"title":"Configuration","path":"nia/installation/configure","filePath":"../content/docs/nia/installation/configure.mdx","fullPath":"/consul/docs/nia/installation/configure","id":"sidebar-nav-item-469"}],"id":"sidebar-nav-item-467"},{"title":"Usage","routes":[{"title":"Requirements","path":"nia/usage/requirements","filePath":"../content/docs/nia/usage/requirements.mdx","fullPath":"/consul/docs/nia/usage/requirements","id":"sidebar-nav-item-471"},{"title":"Run Consul-Terraform-Sync","path":"nia/usage/run","filePath":"../content/docs/nia/usage/run.mdx","fullPath":"/consul/docs/nia/usage/run","id":"sidebar-nav-item-472"},{"title":"Run Consul-Terraform-Sync with High Availability","path":"nia/usage/run-ha","filePath":"../content/docs/nia/usage/run-ha.mdx","fullPath":"/consul/docs/nia/usage/run-ha","id":"sidebar-nav-item-473"},{"title":"Error Messages","path":"nia/usage/errors-ref","filePath":"../content/docs/nia/usage/errors-ref.mdx","fullPath":"/consul/docs/nia/usage/errors-ref","id":"sidebar-nav-item-474"}],"id":"sidebar-nav-item-470"},{"title":"Architecture","path":"nia/architecture","filePath":"../content/docs/nia/architecture.mdx","fullPath":"/consul/docs/nia/architecture","id":"sidebar-nav-item-475"},{"title":"API","routes":[{"title":"Overview","path":"nia/api","filePath":"../content/docs/nia/api/index.mdx","fullPath":"/consul/docs/nia/api","id":"sidebar-nav-item-477"},{"title":"Status","path":"nia/api/status","filePath":"../content/docs/nia/api/status.mdx","fullPath":"/consul/docs/nia/api/status","id":"sidebar-nav-item-478"},{"title":"Tasks","path":"nia/api/tasks","filePath":"../content/docs/nia/api/tasks.mdx","fullPath":"/consul/docs/nia/api/tasks","id":"sidebar-nav-item-479"},{"title":"Health","path":"nia/api/health","filePath":"../content/docs/nia/api/health.mdx","fullPath":"/consul/docs/nia/api/health","id":"sidebar-nav-item-480"}],"id":"sidebar-nav-item-476"},{"title":"CLI","routes":[{"title":"Overview","path":"nia/cli","filePath":"../content/docs/nia/cli/index.mdx","fullPath":"/consul/docs/nia/cli","id":"sidebar-nav-item-482"},{"title":"task","path":"nia/cli/task","filePath":"../content/docs/nia/cli/task.mdx","fullPath":"/consul/docs/nia/cli/task","id":"sidebar-nav-item-483"},{"title":"start","path":"nia/cli/start","filePath":"../content/docs/nia/cli/start.mdx","fullPath":"/consul/docs/nia/cli/start","id":"sidebar-nav-item-484"}],"id":"sidebar-nav-item-481"},{"title":"Configuration","path":"nia/configuration","filePath":"../content/docs/nia/configuration.mdx","fullPath":"/consul/docs/nia/configuration","id":"sidebar-nav-item-485"},{"title":"Tasks","path":"nia/tasks","filePath":"../content/docs/nia/tasks.mdx","fullPath":"/consul/docs/nia/tasks","id":"sidebar-nav-item-486"},{"title":"Terraform Modules","path":"nia/terraform-modules","filePath":"../content/docs/nia/terraform-modules.mdx","fullPath":"/consul/docs/nia/terraform-modules","id":"sidebar-nav-item-487"},{"title":"Enterprise","routes":[{"title":"Overview","path":"nia/enterprise","filePath":"../content/docs/nia/enterprise/index.mdx","fullPath":"/consul/docs/nia/enterprise","id":"sidebar-nav-item-489"},{"title":"License","path":"nia/enterprise/license","filePath":"../content/docs/nia/enterprise/license.mdx","fullPath":"/consul/docs/nia/enterprise/license","id":"sidebar-nav-item-490"},{"title":"HCP Terraform Driver","href":null,"fullPath":"/consul/docs/nia/network-drivers/terraform-cloud","id":"sidebar-nav-item-491","path":"/docs/nia/network-drivers/terraform-cloud"}],"id":"sidebar-nav-item-488"},{"title":"Network Drivers","routes":[{"title":"Overview","path":"nia/network-drivers","filePath":"../content/docs/nia/network-drivers/index.mdx","fullPath":"/consul/docs/nia/network-drivers","id":"sidebar-nav-item-493"},{"title":"Terraform","path":"nia/network-drivers/terraform","filePath":"../content/docs/nia/network-drivers/terraform.mdx","fullPath":"/consul/docs/nia/network-drivers/terraform","id":"sidebar-nav-item-494"},{"title":"HCP Terraform","path":"nia/network-drivers/hcp-terraform","filePath":"../content/docs/nia/network-drivers/hcp-terraform.mdx","fullPath":"/consul/docs/nia/network-drivers/hcp-terraform","id":"sidebar-nav-item-495"}],"id":"sidebar-nav-item-492"},{"title":"Compatibility","path":"nia/compatibility","filePath":"../content/docs/nia/compatibility.mdx","fullPath":"/consul/docs/nia/compatibility","id":"sidebar-nav-item-496"}],"id":"sidebar-nav-item-465"}],"title":"Documentation","visuallyHideTitle":true}],"mainWidth":"narrow","githubFileUrl":"https://github.com/hashicorp/consul/blob/main/website/../content/docs/agent/config/config-files.mdx"},"metadata":{"title":"Agents - Configuration File Reference","description":"Use agent configuration files to assign attributes to agents and configure multiple agents at once. Learn about agent configuration file parameters and formatting with this reference page and sample code.","layout":null},"outlineItems":[{"title":"Agents Configuration File Reference","url":"#agents-configuration-file-reference","dataHeapTrack":"toc-list-item-index-0"},{"title":"Overview","url":"#overview","dataHeapTrack":"toc-list-item-index-1"},{"title":"General parameters","url":"#general-parameters","dataHeapTrack":"toc-list-item-index-2"},{"title":"ACL Parameters","url":"#acl-parameters","dataHeapTrack":"toc-list-item-index-3"},{"title":"Advertise Address Parameters","url":"#advertise-address-parameters","dataHeapTrack":"toc-list-item-index-4"},{"title":"Bootstrap Parameters","url":"#bootstrap-parameters","dataHeapTrack":"toc-list-item-index-5"},{"title":"Self-managed HCP Parameters","url":"#self-managed-hcp-parameters","dataHeapTrack":"toc-list-item-index-6"},{"title":"Service Mesh Parameters","url":"#service-mesh-parameters","dataHeapTrack":"toc-list-item-index-7"},{"title":"DNS and Domain Parameters","url":"#dns-and-domain-parameters","dataHeapTrack":"toc-list-item-index-8"},{"title":"Encryption Parameters","url":"#encryption-parameters","dataHeapTrack":"toc-list-item-index-9"},{"title":"Gossip Parameters","url":"#gossip-parameters","dataHeapTrack":"toc-list-item-index-10"},{"title":"Join Parameters","url":"#join-parameters","dataHeapTrack":"toc-list-item-index-11"},{"title":"Log Parameters","url":"#log-parameters","dataHeapTrack":"toc-list-item-index-12"},{"title":"Node Parameters","url":"#node-parameters","dataHeapTrack":"toc-list-item-index-13"},{"title":"Raft Parameters","url":"#raft-parameters","dataHeapTrack":"toc-list-item-index-14"},{"title":"Serf Parameters","url":"#serf-parameters","dataHeapTrack":"toc-list-item-index-15"},{"title":"Telemetry Parameters","url":"#telemetry-parameters","dataHeapTrack":"toc-list-item-index-16"},{"title":"UI Parameters","url":"#ui-parameters","dataHeapTrack":"toc-list-item-index-17"},{"title":"TLS Configuration Reference","url":"#tls-configuration-reference","dataHeapTrack":"toc-list-item-index-18"},{"title":"xDS Server Parameters","url":"#xds-server-parameters","dataHeapTrack":"toc-list-item-index-19"}],"pageHeading":{"id":"agents-configuration-file-reference","title":"Agents Configuration File Reference"},"mdxSource":{"compiledSource":"const makeShortcode=name=\u003efunction MDXDefaultShortcode(props){console.warn(\"Component \"+name+\" was not imported, exported, or provided by MDXProvider as global scope\");return mdx(\"div\",props)};const CodeTabs=makeShortcode(\"CodeTabs\");const EnterpriseAlert=makeShortcode(\"EnterpriseAlert\");const CodeBlockConfig=makeShortcode(\"CodeBlockConfig\");const layoutProps={};const MDXLayout=\"wrapper\";function MDXContent({components,...props}){return mdx(MDXLayout,{...layoutProps,...props,components:components,mdxType:\"MDXLayout\"},mdx(\"p\",null,`This topic describes the parameters for configuring Consul agents. For information about how to start Consul agents, refer to `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/agent#starting-the-consul-agent\"},`Starting the Consul Agent`),`.`),mdx(\"h2\",{\"id\":\"overview\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#overview\",\"aria-label\":\"overview permalink\"},`\\xbb`),`Overview`),mdx(\"p\",null,`You can create one or more files to configure the Consul agent on startup. We recommend\ngrouping similar configurations into separate files, such as ACL parameters, to make it\neasier to manage configuration changes. Using external files may be easier than\nconfiguring agents on the command-line when Consul is\nbeing configured using a configuration management system.`),mdx(\"p\",null,`The configuration files are formatted as HCL or JSON. JSON formatted configs are\neasily readable and editable by both humans and computers. JSON formatted\nconfiguration consists of a single JSON object with multiple configuration keys\nspecified within it.`),mdx(CodeTabs,{heading:\"Example Configuration File\",mdxType:\"CodeTabs\"},mdx(\"pre\",{\"className\":\"language-hcl\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-hcl\"},mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`datacenter`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`=`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"east-aws\"`),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`data_dir`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`=`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"/opt/consul\"`),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`log_level`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`=`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"INFO\"`),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`node_name`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`=`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"foobar\"`),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`server`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`=`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token boolean\"},`true`),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`watches`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`=`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`[`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`{`),`\n`,`    `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`type`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`=`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"checks\"`),`\n`,`    `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`handler`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`=`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"/usr/bin/health-check-handler.sh\"`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`}`),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`]`),`\n`,`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"token keyword\"},`telemetry`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`{`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`statsite_address`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`=`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"127.0.0.1:2180\"`),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`}`),`\n`)),mdx(\"pre\",{\"className\":\"language-json\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-json\"},mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`{`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`\"datacenter\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"east-aws\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`,`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`\"data_dir\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"/opt/consul\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`,`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`\"log_level\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"INFO\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`,`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`\"node_name\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"foobar\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`,`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`\"server\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token boolean\"},`true`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`,`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`\"watches\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`[`),`\n`,`    `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`{`),`\n`,`      `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`\"type\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"checks\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`,`),`\n`,`      `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`\"handler\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"/usr/bin/health-check-handler.sh\"`),`\n`,`    `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`}`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`]`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`,`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`\"telemetry\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`{`),`\n`,`    `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`\"statsite_address\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"127.0.0.1:2180\"`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`}`),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`}`),`\n`))),mdx(\"h3\",{\"id\":\"time-to-live-values\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#time-to-live-values\",\"aria-label\":\"time to live values permalink\"},`\\xbb`),`Time-to-live values`),mdx(\"p\",null,`Consul uses the Go `,mdx(\"inlineCode\",{parentName:\"p\"},`time`),` package to parse all time-to-live (TTL) values used in Consul agent configuration files. Specify integer and float values as a string and include one or more of the following units of time:`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"ns\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#ns\",\"aria-label\":\"ns permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`ns`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"us\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#us\",\"aria-label\":\"us permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`us`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"s\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#s\",\"aria-label\":\"s permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`\\xb5s`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"ms\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#ms\",\"aria-label\":\"ms permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`ms`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"s-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#s-1\",\"aria-label\":\"s permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`s`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"m\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#m\",\"aria-label\":\"m permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`m`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"h\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#h\",\"aria-label\":\"h permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`h`)))),mdx(\"p\",null,`Examples:`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"300ms\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#300ms\",\"aria-label\":\"300ms permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`'300ms'`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"1-5h\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#1-5h\",\"aria-label\":\"1 5h permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`'1.5h'`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"2h45m\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#2h45m\",\"aria-label\":\"2h45m permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`'2h45m'`)))),mdx(\"p\",null,`Refer to the `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://golang.org/pkg/time/#ParseDuration\"},`formatting specification`),` for additional information.`),mdx(\"h2\",{\"id\":\"general-parameters\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#general-parameters\",\"aria-label\":\"general parameters permalink\"},`\\xbb`),`General parameters`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"addresses\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#addresses\",\"aria-label\":\"addresses permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`addresses`)),` - This is a nested object that allows setting\nbind addresses. In Consul 1.0 and later these can be set to a space-separated list\nof addresses to bind to, or a `,`[go-sockaddr]`,` template that can potentially resolve to multiple addresses.`),mdx(\"p\",{parentName:\"li\"},mdx(\"inlineCode\",{parentName:\"p\"},`http`),`, `,mdx(\"inlineCode\",{parentName:\"p\"},`https`),` and `,mdx(\"inlineCode\",{parentName:\"p\"},`grpc`),` all support binding to a Unix domain socket. A\nsocket can be specified in the form `,mdx(\"inlineCode\",{parentName:\"p\"},`unix:///path/to/socket`),`. A new domain\nsocket will be created at the given path. If the specified file path already\nexists, Consul will attempt to clear the file and create the domain socket\nin its place. The permissions of the socket file are tunable via the\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"#unix_sockets\"},mdx(\"inlineCode\",{parentName:\"a\"},`unix_sockets`),` config construct`),`.`),mdx(\"p\",{parentName:\"li\"},`When running Consul agent commands against Unix socket interfaces, use the\n`,mdx(\"inlineCode\",{parentName:\"p\"},`-http-addr`),` argument to specify the path to the socket. You can also place\nthe desired values in the `,mdx(\"inlineCode\",{parentName:\"p\"},`CONSUL_HTTP_ADDR`),` environment variable.`),mdx(\"p\",{parentName:\"li\"},`For TCP addresses, the environment variable value should be an IP address\n`,mdx(\"em\",{parentName:\"p\"},`with the port`),`. For example: `,mdx(\"inlineCode\",{parentName:\"p\"},`10.0.0.1:8500`),` and not `,mdx(\"inlineCode\",{parentName:\"p\"},`10.0.0.1`),`. However,\nports are set separately in the `,mdx(\"a\",{parentName:\"p\",\"href\":\"#ports\"},mdx(\"inlineCode\",{parentName:\"a\"},`ports`)),` structure when\ndefining them in a configuration file.`),mdx(\"p\",{parentName:\"li\"},`The following keys are valid:`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"dns\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#dns\",\"aria-label\":\"dns permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`dns`)),` - The DNS server. Defaults to `,mdx(\"inlineCode\",{parentName:\"li\"},`client_addr`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"http\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#http\",\"aria-label\":\"http permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`http`)),` - The HTTP API. Defaults to `,mdx(\"inlineCode\",{parentName:\"li\"},`client_addr`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"https\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#https\",\"aria-label\":\"https permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`https`)),` - The HTTPS API. Defaults to `,mdx(\"inlineCode\",{parentName:\"li\"},`client_addr`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"grpc\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#grpc\",\"aria-label\":\"grpc permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`grpc`)),` - The gRPC API. Defaults to `,mdx(\"inlineCode\",{parentName:\"li\"},`client_addr`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"grpc_tls\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#grpc_tls\",\"aria-label\":\"grpc_tls permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`grpc_tls`)),` - The gRPC API with TLS. Defaults to `,mdx(\"inlineCode\",{parentName:\"li\"},`client_addr`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"alt_domain\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#alt_domain\",\"aria-label\":\"alt_domain permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`alt_domain`)),` Equivalent to the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/agent/config/cli-flags#_alt_domain\"},mdx(\"inlineCode\",{parentName:\"a\"},`-alt-domain`),` command-line flag`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"audit\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#audit\",\"aria-label\":\"audit permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`audit`)),` `,mdx(EnterpriseAlert,{inline:true,mdxType:\"EnterpriseAlert\"}),` - Added in Consul 1.8, the audit object allow users to enable auditing\nand configure a sink and filters for their audit logs. For more information, review the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/tutorials/datacenter-operations/audit-logging\"},`audit log tutorial`),`.`),mdx(CodeTabs,{heading:\"Example audit configuration\",mdxType:\"CodeTabs\"},mdx(\"pre\",{parentName:\"li\",\"className\":\"language-hcl\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-hcl\"},mdx(\"span\",{parentName:\"code\",\"className\":\"token keyword\"},`audit`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`{`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`enabled`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`=`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token boolean\"},`true`),`\n`,`  sink `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"My sink\"`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`{`),`\n`,`    `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`type`),`   `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`=`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"file\"`),`\n`,`    `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`format`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`=`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"json\"`),`\n`,`    `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`path`),`   `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`=`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"data/audit/audit.json\"`),`\n`,`    `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`delivery_guarantee`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`=`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"best-effort\"`),`\n`,`    `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`rotate_duration`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`=`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"24h\"`),`\n`,`    `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`rotate_max_files`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`=`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token number\"},`15`),`\n`,`    `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`rotate_bytes`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`=`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token number\"},`25165824`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`}`),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`}`),`\n`)),mdx(\"pre\",{parentName:\"li\",\"className\":\"language-json\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-json\"},mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`{`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`\"audit\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`{`),`\n`,`    `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`\"enabled\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token boolean\"},`true`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`,`),`\n`,`    `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`\"sink\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`{`),`\n`,`      `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`\"My sink\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`{`),`\n`,`        `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`\"type\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"file\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`,`),`\n`,`        `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`\"format\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"json\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`,`),`\n`,`        `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`\"path\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"data/audit/audit.json\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`,`),`\n`,`        `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`\"delivery_guarantee\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"best-effort\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`,`),`\n`,`        `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`\"rotate_duration\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"24h\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`,`),`\n`,`        `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`\"rotate_max_files\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token number\"},`15`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`,`),`\n`,`        `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`\"rotate_bytes\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token number\"},`25165824`),`\n`,`      `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`}`),`\n`,`    `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`}`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`}`),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`}`),`\n`))),mdx(\"p\",{parentName:\"li\"},`The following sub-keys are available:`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enabled\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#enabled\",\"aria-label\":\"enabled permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enabled`)),` - Controls whether Consul logs out each time a user\nperforms an operation. ACLs must be enabled to use this feature. Defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`false`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"sink\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#sink\",\"aria-label\":\"sink permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`sink`)),` - This object provides configuration for the destination to which\nConsul will log auditing events. Sink is an object containing keys to sink objects, where the key is the name of the sink.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"type\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#type\",\"aria-label\":\"type permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`type`)),` - Type specifies what kind of sink this is.\nThe following keys are valid:`,mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"file\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#file\",\"aria-label\":\"file permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`file`)),` - Currently only file sinks are available, they take the following keys.`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"format\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#format\",\"aria-label\":\"format permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`format`)),` - Format specifies what format the events will\nbe emitted with.\nThe following keys are valid:`,mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"json\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#json\",\"aria-label\":\"json permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`json`)),` - Currently only json events are offered.`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"path\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#path\",\"aria-label\":\"path permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`path`)),` - The directory and filename to write audit events to.`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"delivery_guarantee\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#delivery_guarantee\",\"aria-label\":\"delivery_guarantee permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`delivery_guarantee`)),` - Specifies\nthe rules governing how audit events are written.\nThe following keys are valid:`,mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"best-effort\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#best-effort\",\"aria-label\":\"best effort permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`best-effort`)),` - Consul only supports `,mdx(\"inlineCode\",{parentName:\"li\"},`best-effort`),` event delivery.`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"mode\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#mode\",\"aria-label\":\"mode permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`mode`)),` - The permissions to set on the audit log files.`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"rotate_duration\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#rotate_duration\",\"aria-label\":\"rotate_duration permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`rotate_duration`)),` - Specifies the\ninterval by which the system rotates to a new log file. At least one of `,mdx(\"inlineCode\",{parentName:\"li\"},`rotate_duration`),` or `,mdx(\"inlineCode\",{parentName:\"li\"},`rotate_bytes`),`\nmust be configured to enable audit logging.`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"rotate_max_files\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#rotate_max_files\",\"aria-label\":\"rotate_max_files permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`rotate_max_files`)),` - Defines the\nlimit that Consul should follow before it deletes old log files.`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"rotate_bytes\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#rotate_bytes\",\"aria-label\":\"rotate_bytes permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`rotate_bytes`)),` - Specifies how large an\nindividual log file can grow before Consul rotates to a new file. At least one of `,mdx(\"inlineCode\",{parentName:\"li\"},`rotate_bytes`),` or\n`,mdx(\"inlineCode\",{parentName:\"li\"},`rotate_duration`),` must be configured to enable audit logging.`))))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"autopilot\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#autopilot\",\"aria-label\":\"autopilot permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`autopilot`)),` Added in Consul 0.8, this object allows a\nnumber of sub-keys to be set which can configure operator-friendly settings for\nConsul servers. When these keys are provided as configuration, they will only be\nrespected on bootstrapping. If they are not provided, the defaults will be used.\nIn order to change the value of these options after bootstrapping, you will need\nto use the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/commands/operator/autopilot\"},`Consul Operator Autopilot`),`\ncommand. For more information about Autopilot, review the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/tutorials/datacenter-operations/autopilot-datacenter-operations\"},`Autopilot tutorial`),`.`),mdx(\"p\",{parentName:\"li\"},`The following sub-keys are available:`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"cleanup_dead_servers\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#cleanup_dead_servers\",\"aria-label\":\"cleanup_dead_servers permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`cleanup_dead_servers`)),` - This controls the\nautomatic removal of dead server nodes periodically and whenever a new server\nis added to the cluster. Defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`true`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"last_contact_threshold\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#last_contact_threshold\",\"aria-label\":\"last_contact_threshold permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`last_contact_threshold`)),` - Controls the\nmaximum amount of time a server can go without contact from the leader before\nbeing considered unhealthy. Must be a duration value such as `,mdx(\"inlineCode\",{parentName:\"p\"},`10s`),`. Defaults\nto `,mdx(\"inlineCode\",{parentName:\"p\"},`200ms`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"max_trailing_logs\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#max_trailing_logs\",\"aria-label\":\"max_trailing_logs permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`max_trailing_logs`)),` - Controls the maximum number\nof log entries that a server can trail the leader by before being considered\nunhealthy. Defaults to 250.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"min_quorum\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#min_quorum\",\"aria-label\":\"min_quorum permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`min_quorum`)),` - Sets the minimum number of servers necessary\nin a cluster. Autopilot will stop pruning dead servers when this minimum is reached. There is no default.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"server_stabilization_time\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#server_stabilization_time\",\"aria-label\":\"server_stabilization_time permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`server_stabilization_time`)),` - Controls\nthe minimum amount of time a server must be stable in the 'healthy' state before\nbeing added to the cluster. Only takes effect if all servers are running Raft\nprotocol version 3 or higher. Must be a duration value such as `,mdx(\"inlineCode\",{parentName:\"p\"},`30s`),`. Defaults\nto `,mdx(\"inlineCode\",{parentName:\"p\"},`10s`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"redundancy_zone_tag\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#redundancy_zone_tag\",\"aria-label\":\"redundancy_zone_tag permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`redundancy_zone_tag`)),` `,mdx(EnterpriseAlert,{inline:true,mdxType:\"EnterpriseAlert\"}),` -\nThis controls the `,mdx(\"a\",{parentName:\"p\",\"href\":\"#node_meta\"},mdx(\"inlineCode\",{parentName:\"a\"},`node_meta`)),` key to use when Autopilot is separating\nservers into zones for redundancy. Only one server in each zone can be a voting\nmember at one time. If left blank (the default), this feature will be disabled.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"disable_upgrade_migration\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#disable_upgrade_migration\",\"aria-label\":\"disable_upgrade_migration permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`disable_upgrade_migration`)),` `,mdx(EnterpriseAlert,{inline:true,mdxType:\"EnterpriseAlert\"}),` -\nIf set to `,mdx(\"inlineCode\",{parentName:\"p\"},`true`),`, this setting will disable Autopilot's upgrade migration strategy\nin Consul Enterprise of waiting until enough newer-versioned servers have been\nadded to the cluster before promoting any of them to voters. Defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`false`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"upgrade_version_tag\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#upgrade_version_tag\",\"aria-label\":\"upgrade_version_tag permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`upgrade_version_tag`)),` `,mdx(EnterpriseAlert,{inline:true,mdxType:\"EnterpriseAlert\"}),` -\nThe node_meta tag to use for version info when performing upgrade migrations.\nIf this is not set, the Consul version will be used.`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"auto_config\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#auto_config\",\"aria-label\":\"auto_config permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`auto_config`)),` This object allows setting options for the `,mdx(\"inlineCode\",{parentName:\"p\"},`auto_config`),` feature.`),mdx(\"p\",{parentName:\"li\"},`The following sub-keys are available:`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enabled-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#enabled-1\",\"aria-label\":\"enabled permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enabled`)),` (Defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`false`),`) This option enables `,mdx(\"inlineCode\",{parentName:\"p\"},`auto_config`),` on a client\nagent. When starting up but before joining the cluster, the client agent will\nmake an RPC to the configured server addresses to request configuration settings,\nsuch as its `,mdx(\"inlineCode\",{parentName:\"p\"},`agent`),` ACL token, TLS certificates, Gossip encryption key as well\nas other configuration settings. These configurations get merged in as defaults\nwith any user-supplied configuration on the client agent able to override them.\nThe initial RPC uses a JWT specified with either `,mdx(\"inlineCode\",{parentName:\"p\"},`intro_token`),`,\n`,mdx(\"inlineCode\",{parentName:\"p\"},`intro_token_file`),` or the `,mdx(\"inlineCode\",{parentName:\"p\"},`CONSUL_INTRO_TOKEN`),` environment variable to authorize\nthe request. How the JWT token is verified is controlled by the `,mdx(\"inlineCode\",{parentName:\"p\"},`auto_config.authorizer`),`\nobject available for use on Consul servers. Enabling this option also enables\nservice mesh because it is vital for `,mdx(\"inlineCode\",{parentName:\"p\"},`auto_config`),`, more specifically the service mesh CA\nand certificates infrastructure.`),mdx(\"div\",{parentName:\"li\",\"className\":\"alert alert-warning g-type-body\"},mdx(\"p\",{parentName:\"div\"},``,mdx(\"strong\",{parentName:\"p\"},`Warning:`),` Enabling `,mdx(\"inlineCode\",{parentName:\"p\"},`auto_config`),` conflicts with the `,mdx(\"a\",{parentName:\"p\",\"href\":\"#tls\"},mdx(\"inlineCode\",{parentName:\"a\"},`auto_encrypt.tls`)),` feature.\nOnly one option may be specified.`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"intro_token\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#intro_token\",\"aria-label\":\"intro_token permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`intro_token`)),` (Defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`\"\"`),`) This specifies the JWT to use for the initial\n`,mdx(\"inlineCode\",{parentName:\"p\"},`auto_config`),` RPC to the Consul servers. This can be overridden with the\n`,mdx(\"inlineCode\",{parentName:\"p\"},`CONSUL_INTRO_TOKEN`),` environment variable`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"intro_token_file\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#intro_token_file\",\"aria-label\":\"intro_token_file permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`intro_token_file`)),` (Defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`\"\"`),`) This specifies a file containing the JWT\nto use for the initial `,mdx(\"inlineCode\",{parentName:\"p\"},`auto_config`),` RPC to the Consul servers. This token\nfrom this file is only loaded if the `,mdx(\"inlineCode\",{parentName:\"p\"},`intro_token`),` configuration is unset as\nwell as the `,mdx(\"inlineCode\",{parentName:\"p\"},`CONSUL_INTRO_TOKEN`),` environment variable`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"server_addresses\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#server_addresses\",\"aria-label\":\"server_addresses permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`server_addresses`)),` (Defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`[]`),`) This specifies the addresses of servers in\nthe local datacenter to use for the initial RPC. These addresses support\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/agent/config/cli-flags#cloud-auto-joining\"},`Cloud Auto-Joining`),` and can optionally include a port to\nuse when making the outbound connection. If no port is provided, the `,mdx(\"inlineCode\",{parentName:\"p\"},`server_port`),`\nwill be used.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"dns_sans\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#dns_sans\",\"aria-label\":\"dns_sans permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`dns_sans`)),` (Defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`[]`),`) This is a list of extra DNS SANs to request in the\nclient agent's TLS certificate. The `,mdx(\"inlineCode\",{parentName:\"p\"},`localhost`),` DNS SAN is always requested.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"ip_sans\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#ip_sans\",\"aria-label\":\"ip_sans permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`ip_sans`)),` (Defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`[]`),`) This is a list of extra IP SANs to request in the\nclient agent's TLS certificate. The `,mdx(\"inlineCode\",{parentName:\"p\"},`::1`),` and `,mdx(\"inlineCode\",{parentName:\"p\"},`127.0.0.1`),` IP SANs are always requested.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"authorization\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#authorization\",\"aria-label\":\"authorization permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`authorization`)),` This object controls how a Consul server will authorize `,mdx(\"inlineCode\",{parentName:\"p\"},`auto_config`),`\nrequests and in particular how to verify the JWT intro token.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enabled-2\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#enabled-2\",\"aria-label\":\"enabled permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enabled`)),` (Defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`false`),`) This option enables `,mdx(\"inlineCode\",{parentName:\"p\"},`auto_config`),` authorization\ncapabilities on the server.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"static\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#static\",\"aria-label\":\"static permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`static`)),` This object controls configuring the static authorizer setup in the Consul\nconfiguration file. Almost all sub-keys are identical to those provided by the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/security/acl/auth-methods/jwt\"},`JWT\nAuth Method`),`.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"jwt_validation_pub_keys\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#jwt_validation_pub_keys\",\"aria-label\":\"jwt_validation_pub_keys permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`jwt_validation_pub_keys`)),` (Defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`[]`),`) A list of PEM-encoded public keys\nto use to authenticate signatures locally.`),mdx(\"p\",{parentName:\"li\"},`Exactly one of `,mdx(\"inlineCode\",{parentName:\"p\"},`jwks_url`),` `,mdx(\"inlineCode\",{parentName:\"p\"},`jwt_validation_pub_keys`),`, or `,mdx(\"inlineCode\",{parentName:\"p\"},`oidc_discovery_url`),` is required.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"oidc_discovery_url\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#oidc_discovery_url\",\"aria-label\":\"oidc_discovery_url permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`oidc_discovery_url`)),` (Defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`\"\"`),`) The OIDC Discovery URL, without any\n.well-known component (base path).`),mdx(\"p\",{parentName:\"li\"},`Exactly one of `,mdx(\"inlineCode\",{parentName:\"p\"},`jwks_url`),` `,mdx(\"inlineCode\",{parentName:\"p\"},`jwt_validation_pub_keys`),`, or `,mdx(\"inlineCode\",{parentName:\"p\"},`oidc_discovery_url`),` is required.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"oidc_discovery_ca_cert\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#oidc_discovery_ca_cert\",\"aria-label\":\"oidc_discovery_ca_cert permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`oidc_discovery_ca_cert`)),` (Defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`\"\"`),`) PEM encoded CA cert for use by the TLS\nclient used to talk with the OIDC Discovery URL. NOTE: Every line must end\nwith a newline (`,mdx(\"inlineCode\",{parentName:\"p\"},`\\\\n`),`). If not set, system certificates are used.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"jwks_url\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#jwks_url\",\"aria-label\":\"jwks_url permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`jwks_url`)),` (Defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`\"\"`),`) The JWKS URL to use to authenticate signatures.`),mdx(\"p\",{parentName:\"li\"},`Exactly one of `,mdx(\"inlineCode\",{parentName:\"p\"},`jwks_url`),` `,mdx(\"inlineCode\",{parentName:\"p\"},`jwt_validation_pub_keys`),`, or `,mdx(\"inlineCode\",{parentName:\"p\"},`oidc_discovery_url`),` is required.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"jwks_ca_cert\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#jwks_ca_cert\",\"aria-label\":\"jwks_ca_cert permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`jwks_ca_cert`)),` (Defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`\"\"`),`) PEM encoded CA cert for use by the TLS client\nused to talk with the JWKS URL. NOTE: Every line must end with a newline\n(`,mdx(\"inlineCode\",{parentName:\"p\"},`\\\\n`),`). If not set, system certificates are used.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"claim_mappings\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#claim_mappings\",\"aria-label\":\"claim_mappings permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`claim_mappings`)),` (Defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`(map[string]string)`),` Mappings of claims (key) that\nwill be copied to a metadata field (value). Use this if the claim you are capturing\nis singular (such as an attribute).`),mdx(\"p\",{parentName:\"li\"},`When mapped, the values can be any of a number, string, or boolean and will\nall be stringified when returned.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"list_claim_mappings\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#list_claim_mappings\",\"aria-label\":\"list_claim_mappings permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`list_claim_mappings`)),` (Defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`(map[string]string)`),`) Mappings of claims (key)\nwill be copied to a metadata field (value). Use this if the claim you are capturing\nis list-like (such as groups).`),mdx(\"p\",{parentName:\"li\"},`When mapped, the values in each list can be any of a number, string, or\nboolean and will all be stringified when returned.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"jwt_supported_algs\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#jwt_supported_algs\",\"aria-label\":\"jwt_supported_algs permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`jwt_supported_algs`)),` (Defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`[\"RS256\"]`),`) JWTSupportedAlgs is a list of\nsupported signing algorithms.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"bound_audiences\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#bound_audiences\",\"aria-label\":\"bound_audiences permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`bound_audiences`)),` (Defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`[]`),`) List of `,mdx(\"inlineCode\",{parentName:\"p\"},`aud`),` claims that are valid for\nlogin; any match is sufficient.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"bound_issuer\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#bound_issuer\",\"aria-label\":\"bound_issuer permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`bound_issuer`)),` (Defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`\"\"`),`) The value against which to match the `,mdx(\"inlineCode\",{parentName:\"p\"},`iss`),`\nclaim in a JWT.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"expiration_leeway\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#expiration_leeway\",\"aria-label\":\"expiration_leeway permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`expiration_leeway`)),` (Defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`\"0s\"`),`) Duration of leeway when\nvalidating expiration of a token to account for clock skew. Defaults to 150s\n(2.5 minutes) if set to 0s and can be disabled if set to -1ns.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"not_before_leeway\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#not_before_leeway\",\"aria-label\":\"not_before_leeway permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`not_before_leeway`)),` (Defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`\"0s\"`),`) Duration of leeway when\nvalidating not before values of a token to account for clock skew. Defaults\nto 150s (2.5 minutes) if set to 0s and can be disabled if set to -1.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"clock_skew_leeway\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#clock_skew_leeway\",\"aria-label\":\"clock_skew_leeway permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`clock_skew_leeway`)),` (Defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`\"0s\"`),`) Duration of leeway when\nvalidating all claims to account for clock skew. Defaults to 60s (1 minute)\nif set to 0s and can be disabled if set to -1ns.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"claim_assertions\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#claim_assertions\",\"aria-label\":\"claim_assertions permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`claim_assertions`)),` (Defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`[]`),`) List of assertions about the mapped\nclaims required to authorize the incoming RPC request. The syntax uses\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"https://github.com/hashicorp/go-bexpr\"},`github.com/hashicorp/go-bexpr`),` which is shared with the\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/api-docs/features/filtering\"},`API filtering feature`),`. For example, the following\nconfigurations when combined will ensure that the JWT `,mdx(\"inlineCode\",{parentName:\"p\"},`sub`),` matches the node\nname requested by the client.`),mdx(CodeTabs,{heading:\"Ensure that the JWT sub matches the node name requested by the client\",mdxType:\"CodeTabs\"},mdx(\"pre\",{parentName:\"li\",\"className\":\"language-hcl\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-hcl\"},mdx(\"span\",{parentName:\"code\",\"className\":\"token keyword\"},`claim_mappings`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`{`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`sub`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`=`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"node_name\"`),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`}`),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`claim_assertions`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`=`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`[`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"value.node_name == \\\\\"`,mdx(\"span\",{parentName:\"span\",\"className\":\"token interpolation\"},mdx(\"span\",{parentName:\"span\",\"className\":\"token punctuation\"},`$`),mdx(\"span\",{parentName:\"span\",\"className\":\"token punctuation\"},`{`),`node`,mdx(\"span\",{parentName:\"span\",\"className\":\"token punctuation\"},`}`)),`\\\\\"\"`),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`]`),`\n`)),mdx(\"pre\",{parentName:\"li\",\"className\":\"language-json\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-json\"},mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`{`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`\"claim_mappings\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`{`),`\n`,`    `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`\"sub\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"node_name\"`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`}`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`,`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`\"claim_assertions\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`[`),mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"value.node_name == \\\\\"\\${node}\\\\\"\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`]`),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`}`),`\n`))),mdx(\"p\",{parentName:\"li\"},`The assertions are lightly templated using `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://github.com/hashicorp/hil\"},`HIL syntax`),`\nto interpolate some values from the RPC request. The list of variables that can be interpolated\nare:`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"node\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#node\",\"aria-label\":\"node permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`node`)),` - The node name the client agent is requesting.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"segment\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#segment\",\"aria-label\":\"segment permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`segment`)),` `,mdx(EnterpriseAlert,{inline:true,mdxType:\"EnterpriseAlert\"}),` - The network segment name the client is requesting.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"partition\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#partition\",\"aria-label\":\"partition permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`partition`)),` `,mdx(EnterpriseAlert,{inline:true,mdxType:\"EnterpriseAlert\"}),` - The admin partition name the client is requesting.`)))))))))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"auto_reload_config\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#auto_reload_config\",\"aria-label\":\"auto_reload_config permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`auto_reload_config`)),` Equivalent to the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/agent/config/cli-flags#_auto_reload_config\"},mdx(\"inlineCode\",{parentName:\"a\"},`-auto-reload-config`),` command-line flag`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"bind_addr\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#bind_addr\",\"aria-label\":\"bind_addr permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`bind_addr`)),` Equivalent to the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/agent/config/cli-flags#_bind\"},mdx(\"inlineCode\",{parentName:\"a\"},`-bind`),` command-line flag`),`.`),mdx(\"p\",{parentName:\"li\"},`This parameter can be set to a go-sockaddr template that resolves to a single\naddress. Special characters such as backslashes `,mdx(\"inlineCode\",{parentName:\"p\"},`\\\\`),` or double quotes `,mdx(\"inlineCode\",{parentName:\"p\"},`\"`),`\nwithin a double quoted string value must be escaped with a backslash `,mdx(\"inlineCode\",{parentName:\"p\"},`\\\\`),`.\nSome example templates:`),mdx(CodeTabs,{mdxType:\"CodeTabs\"},mdx(\"pre\",{parentName:\"li\",\"className\":\"language-hcl\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-hcl\"},mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`bind_addr`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`=`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"{{ GetPrivateInterfaces | include \\\\\"network\\\\\" \\\\\"10.0.0.0/8\\\\\" | attr \\\\\"address\\\\\" }}\"`),`\n`)),mdx(\"pre\",{parentName:\"li\",\"className\":\"language-json\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-json\"},mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`{`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`\"bind_addr\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"{{ GetPrivateInterfaces | include \\\\\"network\\\\\" \\\\\"10.0.0.0/8\\\\\" | attr \\\\\"address\\\\\" }}\"`),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`}`),`\n`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"cache\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#cache\",\"aria-label\":\"cache permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`cache`)),` configuration for client agents. When an `,mdx(\"inlineCode\",{parentName:\"p\"},`?index`),` query parameter is specified but '?cached' is not appended in a `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/api-docs/features/blocking#streaming-backend\"},`streaming backend call`),`, Consul bypasses these configuration values. The configurable values are the following:`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"entry_fetch_max_burst\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#entry_fetch_max_burst\",\"aria-label\":\"entry_fetch_max_burst permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`entry_fetch_max_burst`)),` The size of the token bucket used to recharge the rate-limit per\ncache entry. The default value is 2 and means that when cache has not been updated\nfor a long time, 2 successive queries can be made as long as the rate-limit is not\nreached.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"entry_fetch_rate\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#entry_fetch_rate\",\"aria-label\":\"entry_fetch_rate permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`entry_fetch_rate`)),` configures the rate-limit at which the cache may refresh a single\nentry. On a cluster with many changes/s, watching changes in the cache might put high\npressure on the servers. This ensures the number of requests for a single cache entry\nwill never go beyond this limit, even when a given service changes every 1/100s.\nSince this is a per cache entry limit, having a highly unstable service will only rate\nlimit the watched on this service, but not the other services/entries.\nThe value is strictly positive, expressed in queries per second as a float,\n1 means 1 query per second, 0.1 mean 1 request every 10s maximum.\nThe default value is \"No limit\" and should be tuned on large\nclusters to avoid performing too many RPCs on entries changing a lot.`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"check_update_interval\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"check_update_interval\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#check_update_interval\",\"aria-label\":\"check_update_interval permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`check_update_interval`)),`\nThis interval controls how often check output from checks in a steady state is\nsynchronized with the server. By default, this is set to 5 minutes (\"5m\"). Many\nchecks which are in a steady state produce slightly different output per run (timestamps,\netc) which cause constant writes. This configuration allows deferring the sync\nof check output for a given interval to reduce write pressure. If a check ever\nchanges state, the new state and associated output is synchronized immediately.\nTo disable this behavior, set the value to \"0s\".`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"client_addr\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#client_addr\",\"aria-label\":\"client_addr permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`client_addr`)),` Equivalent to the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/agent/config/cli-flags#_client\"},mdx(\"inlineCode\",{parentName:\"a\"},`-client`),` command-line flag`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"config_entries\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#config_entries\",\"aria-label\":\"config_entries permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`config_entries`)),` This object allows setting options for centralized config entries.`),mdx(\"p\",{parentName:\"li\"},`The following sub-keys are available:`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"bootstrap\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"config_entries_bootstrap\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#config_entries_bootstrap\",\"aria-label\":\"bootstrap permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`bootstrap`)),`\nThis is a list of inlined config entries to insert into the state store when\nthe Consul server gains leadership. This option is only applicable to server\nnodes. Each bootstrap entry will be created only if it does not exist. When reloading,\nany new entries that have been added to the configuration will be processed.\nSee the `,mdx(\"a\",{parentName:\"li\",\"href\":\"/consul/docs/agent/config-entries\"},`configuration entry docs`),` for more\ndetails about the contents of each entry.`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"datacenter\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#datacenter\",\"aria-label\":\"datacenter permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`datacenter`)),` Equivalent to the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/agent/config/cli-flags#_datacenter\"},mdx(\"inlineCode\",{parentName:\"a\"},`-datacenter`),` command-line flag`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"data_dir\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#data_dir\",\"aria-label\":\"data_dir permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`data_dir`)),` Equivalent to the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/agent/config/cli-flags#_data_dir\"},mdx(\"inlineCode\",{parentName:\"a\"},`-data-dir`),` command-line flag`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"default_intention_policy\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#default_intention_policy\",\"aria-label\":\"default_intention_policy permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`default_intention_policy`)),` Controls how service-to-service traffic is authorized\nin the absence of specific intentions.\nCan be set to `,mdx(\"inlineCode\",{parentName:\"p\"},`allow`),`, `,mdx(\"inlineCode\",{parentName:\"p\"},`deny`),`, or left empty to default to `,mdx(\"a\",{parentName:\"p\",\"href\":\"#acl_default_policy\"},mdx(\"inlineCode\",{parentName:\"a\"},`acl.default_policy`)),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"disable_anonymous_signature\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#disable_anonymous_signature\",\"aria-label\":\"disable_anonymous_signature permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`disable_anonymous_signature`)),` Disables providing an anonymous\nsignature for de-duplication with the update check. See `,mdx(\"a\",{parentName:\"p\",\"href\":\"#disable_update_check\"},mdx(\"inlineCode\",{parentName:\"a\"},`disable_update_check`)),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"disable_http_unprintable_char_filter\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#disable_http_unprintable_char_filter\",\"aria-label\":\"disable_http_unprintable_char_filter permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`disable_http_unprintable_char_filter`)),` Defaults to false. Consul 1.0.3 fixed a potential security vulnerability where malicious users could craft KV keys with unprintable chars that would confuse operators using the CLI or UI into taking wrong actions. Users who had data written in older versions of Consul that did not have this restriction will be unable to delete those values by default in 1.0.3 or later. This setting enables those users to `,mdx(\"strong\",{parentName:\"p\"},`temporarily`),` disable the filter such that delete operations can work on those keys again to get back to a healthy state. It is strongly recommended that this filter is not disabled permanently as it exposes the original security vulnerability.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"disable_remote_exec\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#disable_remote_exec\",\"aria-label\":\"disable_remote_exec permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`disable_remote_exec`)),` Disables support for remote execution. When set to true, the agent will ignore\nany incoming remote exec requests. In versions of Consul prior to 0.8, this defaulted\nto false. In Consul 0.8 the default was changed to true, to make remote exec opt-in\ninstead of opt-out.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"disable_update_check\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#disable_update_check\",\"aria-label\":\"disable_update_check permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`disable_update_check`)),` Disables automatic checking for security bulletins and new version releases. This is disabled in Consul Enterprise.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"discard_check_output\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#discard_check_output\",\"aria-label\":\"discard_check_output permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`discard_check_output`)),` Discards the output of health checks before storing them. This reduces the number of writes to the Consul raft log in environments where health checks have volatile output like timestamps, process ids, ...`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"discovery_max_stale\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#discovery_max_stale\",\"aria-label\":\"discovery_max_stale permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`discovery_max_stale`)),` - Enables stale requests for all service discovery HTTP endpoints. This is\nequivalent to the `,mdx(\"a\",{parentName:\"p\",\"href\":\"#max_stale\"},mdx(\"inlineCode\",{parentName:\"a\"},`max_stale`)),` configuration for DNS requests. If this value is zero (default), all service discovery HTTP endpoints are forwarded to the leader. If this value is greater than zero, any Consul server can handle the service discovery request. If a Consul server is behind the leader by more than `,mdx(\"inlineCode\",{parentName:\"p\"},`discovery_max_stale`),`, the query will be re-evaluated on the leader to get more up-to-date results. Consul agents also add a new `,mdx(\"inlineCode\",{parentName:\"p\"},`X-Consul-Effective-Consistency`),` response header which indicates if the agent did a stale read. `,mdx(\"inlineCode\",{parentName:\"p\"},`discover-max-stale`),` was introduced in Consul 1.0.7 as a way for Consul operators to force stale requests from clients at the agent level, and defaults to zero which matches default consistency behavior in earlier Consul versions.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enable_agent_tls_for_checks\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#enable_agent_tls_for_checks\",\"aria-label\":\"enable_agent_tls_for_checks permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enable_agent_tls_for_checks`)),` When set, uses a subset of the agent's TLS configuration (`,mdx(\"inlineCode\",{parentName:\"p\"},`key_file`),`,\n`,mdx(\"inlineCode\",{parentName:\"p\"},`cert_file`),`, `,mdx(\"inlineCode\",{parentName:\"p\"},`ca_file`),`, `,mdx(\"inlineCode\",{parentName:\"p\"},`ca_path`),`, and `,mdx(\"inlineCode\",{parentName:\"p\"},`server_name`),`) to set up the client for HTTP or gRPC health checks. This allows services requiring 2-way TLS to be checked using the agent's credentials. This was added in Consul 1.0.1 and defaults to false.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enable_central_service_config\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#enable_central_service_config\",\"aria-label\":\"enable_central_service_config permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enable_central_service_config`)),` When set, the Consul agent will look for any\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/agent/config-entries\"},`centralized service configuration`),`\nthat match a registering service instance. If it finds any, the agent will merge the centralized defaults with the service instance configuration. This allows for things like service protocol or proxy configuration to be defined centrally and inherited by any affected service registrations.\nThis defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`false`),` in versions of Consul prior to 1.9.0, and defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`true`),` in Consul 1.9.0 and later.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enable_debug\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#enable_debug\",\"aria-label\":\"enable_debug permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enable_debug`)),` (boolean, default is `,mdx(\"inlineCode\",{parentName:\"p\"},`false`),`): When set to `,mdx(\"inlineCode\",{parentName:\"p\"},`true`),`, enables Consul to report additional debugging information, including runtime profiling (`,mdx(\"inlineCode\",{parentName:\"p\"},`pprof`),`) data. This setting is only required for clusters without ACL `,mdx(\"a\",{parentName:\"p\",\"href\":\"#acl_enabled\"},`enabled`),`. If you change this setting, you must restart the agent for the change to take effect.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enable_script_checks\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#enable_script_checks\",\"aria-label\":\"enable_script_checks permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enable_script_checks`)),` Equivalent to the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/agent/config/cli-flags#_enable_script_checks\"},mdx(\"inlineCode\",{parentName:\"a\"},`-enable-script-checks`),` command-line flag`),`.`),mdx(\"p\",{parentName:\"li\"},`ACLs must be enabled for agents and the `,mdx(\"inlineCode\",{parentName:\"p\"},`enable_script_checks`),` option must be set to `,mdx(\"inlineCode\",{parentName:\"p\"},`true`),` to enable script checks in Consul 0.9.0 and later. See `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/security/acl/acl-rules#registering-and-querying-node-information\"},`Registering and Querying Node Information`),` for related information.`),mdx(\"div\",{parentName:\"li\",\"className\":\"alert alert-warning g-type-body\"},mdx(\"p\",{parentName:\"div\"},``,mdx(\"strong\",{parentName:\"p\"},`Security Warning:`),` Enabling script checks in some configurations may introduce a known remote execution vulnerability targeted by malware. We strongly recommend `,mdx(\"inlineCode\",{parentName:\"p\"},`enable_local_script_checks`),` instead. Refer to the following article for additional guidance: `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://www.hashicorp.com/blog/protecting-consul-from-rce-risk-in-specific-configurations\"},mdx(\"em\",{parentName:\"a\"},`Protecting Consul from RCE Risk in Specific Configurations`)),`\nfor more details.`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enable_local_script_checks\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#enable_local_script_checks\",\"aria-label\":\"enable_local_script_checks permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enable_local_script_checks`)),` Equivalent to the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/agent/config/cli-flags#_enable_local_script_checks\"},mdx(\"inlineCode\",{parentName:\"a\"},`-enable-local-script-checks`),` command-line flag`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"disable_keyring_file\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#disable_keyring_file\",\"aria-label\":\"disable_keyring_file permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`disable_keyring_file`)),` - Equivalent to the\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/agent/config/cli-flags#_disable_keyring_file\"},mdx(\"inlineCode\",{parentName:\"a\"},`-disable-keyring-file`),` command-line flag`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"disable_coordinates\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#disable_coordinates\",\"aria-label\":\"disable_coordinates permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`disable_coordinates`)),` - Disables sending of `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/architecture/coordinates\"},`network coordinates`),`.\nWhen network coordinates are disabled the `,mdx(\"inlineCode\",{parentName:\"p\"},`near`),` query param will not work to sort the nodes,\nand the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/commands/rtt\"},mdx(\"inlineCode\",{parentName:\"a\"},`consul rtt`)),` command will not be able to provide round trip time between nodes.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"http_config\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#http_config\",\"aria-label\":\"http_config permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`http_config`)),` This object allows setting options for the HTTP API and UI.`),mdx(\"p\",{parentName:\"li\"},`The following sub-keys are available:`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"block_endpoints\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#block_endpoints\",\"aria-label\":\"block_endpoints permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`block_endpoints`)),`\nThis object is a list of HTTP API endpoint prefixes to block on the agent, and\ndefaults to an empty list, meaning all endpoints are enabled. Any endpoint that\nhas a common prefix with one of the entries on this list will be blocked and\nwill return a 403 response code when accessed. For example, to block all of the\nV1 ACL endpoints, set this to `,mdx(\"inlineCode\",{parentName:\"p\"},`[\"/v1/acl\"]`),`, which will block `,mdx(\"inlineCode\",{parentName:\"p\"},`/v1/acl/create`),`,\n`,mdx(\"inlineCode\",{parentName:\"p\"},`/v1/acl/update`),`, and the other ACL endpoints that begin with `,mdx(\"inlineCode\",{parentName:\"p\"},`/v1/acl`),`. This\nonly works with API endpoints, not `,mdx(\"inlineCode\",{parentName:\"p\"},`/ui`),` or `,mdx(\"inlineCode\",{parentName:\"p\"},`/debug`),`, those must be disabled\nwith their respective configuration options. Any CLI commands that use disabled\nendpoints will no longer function as well. For more general access control, Consul's\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/tutorials/security/access-control-setup-production\"},`ACL system`),`\nshould be used, but this option is useful for removing access to HTTP API endpoints\ncompletely, or on specific agents. This is available in Consul 0.9.0 and later.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"response_headers\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#response_headers\",\"aria-label\":\"response_headers permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`response_headers`)),` This object allows adding headers to the HTTP API and UI responses. For example, the following config can be used to enable `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://en.wikipedia.org/wiki/Cross-origin_resource_sharing\"},`CORS`),` on the HTTP API endpoints:`),mdx(CodeTabs,{heading:\"Enable CORS on the HTTP API endpoints\",mdxType:\"CodeTabs\"},mdx(\"pre\",{parentName:\"li\",\"className\":\"language-hcl\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-hcl\"},mdx(\"span\",{parentName:\"code\",\"className\":\"token keyword\"},`http_config`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`{`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token keyword\"},`response_headers`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`{`),`\n`,`    `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`Access-Control-Allow-Origin`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`=`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"*\"`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`}`),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`}`),`\n`)),mdx(\"pre\",{parentName:\"li\",\"className\":\"language-json\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-json\"},mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`{`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`\"http_config\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`{`),`\n`,`    `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`\"response_headers\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`{`),`\n`,`      `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`\"Access-Control-Allow-Origin\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"*\"`),`\n`,`    `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`}`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`}`),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`}`),`\n`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"allow_write_http_from\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#allow_write_http_from\",\"aria-label\":\"allow_write_http_from permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`allow_write_http_from`)),` This object is a list of networks in CIDR notation (eg \"127.0.0.0/8\") that are allowed to call the agent write endpoints. It defaults to an empty list, which means all networks are allowed. This is used to make the agent read-only, except for select ip ranges. - To block write calls from anywhere, use `,mdx(\"inlineCode\",{parentName:\"p\"},`[ \"255.255.255.255/32\" ]`),`. - To only allow write calls from localhost, use `,mdx(\"inlineCode\",{parentName:\"p\"},`[ \"127.0.0.0/8\" ]`),` - To only allow specific IPs, use `,mdx(\"inlineCode\",{parentName:\"p\"},`[ \"10.0.0.1/32\", \"10.0.0.2/32\" ]`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"use_cache\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"http_config_use_cache\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#http_config_use_cache\",\"aria-label\":\"use_cache permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`use_cache`)),` Defaults to true. If disabled, the agent won't be using `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/api-docs/features/caching\"},`agent caching`),` to answer the request. Even when the url parameter is provided.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"max_header_bytes\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#max_header_bytes\",\"aria-label\":\"max_header_bytes permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`max_header_bytes`)),` This setting controls the maximum number of bytes the consul http server will read parsing the request header's keys and values, including the request line. It does not limit the size of the request body. If zero, or negative, http.DefaultMaxHeaderBytes is used, which equates to 1 Megabyte.`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"leave_on_terminate\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#leave_on_terminate\",\"aria-label\":\"leave_on_terminate permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`leave_on_terminate`)),` If enabled, when the agent receives a TERM signal, it will send a `,mdx(\"inlineCode\",{parentName:\"p\"},`Leave`),` message to the rest of the cluster and gracefully leave. The default behavior for this feature varies based on whether or not the agent is running as a client or a server (prior to Consul 0.7 the default value was unconditionally set to `,mdx(\"inlineCode\",{parentName:\"p\"},`false`),`). On agents in client-mode, this defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`true`),` and for agents in server-mode, this defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`false`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"license_path\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#license_path\",\"aria-label\":\"license_path permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`license_path`)),` `,mdx(EnterpriseAlert,{inline:true,mdxType:\"EnterpriseAlert\"}),` This specifies the path to a file that contains the Consul Enterprise license. Alternatively the license may also be specified in either the `,mdx(\"inlineCode\",{parentName:\"p\"},`CONSUL_LICENSE`),` or `,mdx(\"inlineCode\",{parentName:\"p\"},`CONSUL_LICENSE_PATH`),` environment variables. See the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/enterprise/license/overview\"},`licensing documentation`),` for more information about Consul Enterprise license management. Added in versions 1.10.0, 1.9.7 and 1.8.13. Prior to version 1.10.0 the value may be set for all agents to facilitate forwards compatibility with 1.10 but will only actually be used by client agents.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"limits\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#limits\",\"aria-label\":\"limits permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`limits`)),`: This block specifies various types of limits that the Consul server agent enforces.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"http_max_conns_per_client\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#http_max_conns_per_client\",\"aria-label\":\"http_max_conns_per_client permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`http_max_conns_per_client`)),` - Configures a limit of how many concurrent TCP connections a single client IP address is allowed to open to the agent's HTTP(S) server. This affects the HTTP(S) servers in both client and server agents. Default value is `,mdx(\"inlineCode\",{parentName:\"li\"},`200`),`.`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"https_handshake_timeout\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#https_handshake_timeout\",\"aria-label\":\"https_handshake_timeout permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`https_handshake_timeout`)),` - Configures the limit for how long the HTTPS server in both client and server agents will wait for a client to complete a TLS handshake. This should be kept conservative as it limits how many connections an unauthenticated attacker can open if `,mdx(\"inlineCode\",{parentName:\"li\"},`verify_incoming`),` is being using to authenticate clients (strongly recommended in production). Default value is `,mdx(\"inlineCode\",{parentName:\"li\"},`5s`),`.`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"request_limits\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#request_limits\",\"aria-label\":\"request_limits permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`request_limits`)),` - This object specifies configurations that limit the rate of RPC and gRPC requests on the Consul server. Limiting the rate of gRPC and RPC requests also limits HTTP requests to the Consul server.`,mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"mode-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#mode-1\",\"aria-label\":\"mode permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`mode`)),` - String value that specifies an action to take if the rate of requests exceeds the limit. You can specify the following values:`,mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"permissive\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#permissive\",\"aria-label\":\"permissive permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`permissive`)),`: The server continues to allow requests and records an error in the logs.`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enforcing\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#enforcing\",\"aria-label\":\"enforcing permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enforcing`)),`: The server stops accepting requests and records an error in the logs.`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"disabled\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#disabled\",\"aria-label\":\"disabled permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`disabled`)),`: Limits are not enforced or tracked. This is the default value for `,mdx(\"inlineCode\",{parentName:\"li\"},`mode`),`.`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"read_rate\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#read_rate\",\"aria-label\":\"read_rate permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`read_rate`)),` - Integer value that specifies the number of read requests per second. Default is `,mdx(\"inlineCode\",{parentName:\"li\"},`-1`),` which represents infinity.`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"write_rate\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#write_rate\",\"aria-label\":\"write_rate permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`write_rate`)),` - Integer value that specifies the number of write requests per second. Default is `,mdx(\"inlineCode\",{parentName:\"li\"},`-1`),` which represents infinity.`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"rpc_handshake_timeout\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#rpc_handshake_timeout\",\"aria-label\":\"rpc_handshake_timeout permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`rpc_handshake_timeout`)),` - Configures the limit for how long servers will wait after a client TCP connection is established before they complete the connection handshake. When TLS is used, the same timeout applies to the TLS handshake separately from the initial protocol negotiation. All Consul clients should perform this immediately on establishing a new connection. This should be kept conservative as it limits how many connections an unauthenticated attacker can open if `,mdx(\"inlineCode\",{parentName:\"li\"},`verify_incoming`),` is being using to authenticate clients (strongly recommended in production). When `,mdx(\"inlineCode\",{parentName:\"li\"},`verify_incoming`),` is true on servers, this limits how long the connection socket and associated goroutines will be held open before the client successfully authenticates. Default value is `,mdx(\"inlineCode\",{parentName:\"li\"},`5s`),`.`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"rpc_client_timeout\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#rpc_client_timeout\",\"aria-label\":\"rpc_client_timeout permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`rpc_client_timeout`)),` - Configures the limit for how long a client is allowed to read from an RPC connection. This is used to set an upper bound for calls to eventually terminate so that RPC connections are not held indefinitely. Blocking queries can override this timeout. Default is `,mdx(\"inlineCode\",{parentName:\"li\"},`60s`),`.`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"rpc_max_conns_per_client\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#rpc_max_conns_per_client\",\"aria-label\":\"rpc_max_conns_per_client permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`rpc_max_conns_per_client`)),` - Configures a limit of how many concurrent TCP connections a single source IP address is allowed to open to a single server. It affects both clients connections and other server connections. In general Consul clients multiplex many RPC calls over a single TCP connection so this can typically be kept low. It needs to be more than one though since servers open at least one additional connection for raft RPC, possibly more for WAN federation when using network areas, and snapshot requests from clients run over a separate TCP conn. A reasonably low limit significantly reduces the ability of an unauthenticated attacker to consume unbounded resources by holding open many connections. You may need to increase this if WAN federated servers connect via proxies or NAT gateways or similar causing many legitimate connections from a single source IP. Default value is `,mdx(\"inlineCode\",{parentName:\"li\"},`100`),` which is designed to be extremely conservative to limit issues with certain deployment patterns. Most deployments can probably reduce this safely. 100 connections on modern server hardware should not cause a significant impact on resource usage from an unauthenticated attacker though.`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"rpc_rate\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#rpc_rate\",\"aria-label\":\"rpc_rate permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`rpc_rate`)),` - Configures the RPC rate limiter on Consul `,mdx(\"em\",{parentName:\"li\"},`clients`),` by setting the maximum request rate that this agent is allowed to make for RPC requests to Consul servers, in requests per second. Defaults to infinite, which disables rate limiting.`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"rpc_max_burst\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#rpc_max_burst\",\"aria-label\":\"rpc_max_burst permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`rpc_max_burst`)),` - The size of the token bucket used to recharge the RPC rate limiter on Consul `,mdx(\"em\",{parentName:\"li\"},`clients`),`. Defaults to 1000 tokens, and each token is good for a single RPC call to a Consul server. See `,mdx(\"a\",{parentName:\"li\",\"href\":\"https://en.wikipedia.org/wiki/Token_bucket\"},`https://en.wikipedia.org/wiki/Token_bucket`),` for more details about how token bucket rate limiters operate.`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"kv_max_value_size\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#kv_max_value_size\",\"aria-label\":\"kv_max_value_size permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`kv_max_value_size`)),` - `,mdx(\"strong\",{parentName:\"li\"},`(Advanced)`),` Configures the maximum number of bytes for a kv request body to the `,mdx(\"a\",{parentName:\"li\",\"href\":\"/consul/api-docs/kv\"},mdx(\"inlineCode\",{parentName:\"a\"},`/v1/kv`)),` endpoint. This limit defaults to `,mdx(\"a\",{parentName:\"li\",\"href\":\"https://github.com/hashicorp/raft\"},`raft's`),` suggested max size (512KB). `,mdx(\"strong\",{parentName:\"li\"},`Note that tuning these improperly can cause Consul to fail in unexpected ways`),`, it may potentially affect leadership stability and prevent timely heartbeat signals by increasing RPC IO duration. This option affects the txn endpoint too, but Consul 1.7.2 introduced `,mdx(\"inlineCode\",{parentName:\"li\"},`txn_max_req_len`),` which is the preferred way to set the limit for the txn endpoint. If both limits are set, the higher one takes precedence.`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"txn_max_req_len\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#txn_max_req_len\",\"aria-label\":\"txn_max_req_len permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`txn_max_req_len`)),` - `,mdx(\"strong\",{parentName:\"li\"},`(Advanced)`),` Configures the maximum number of bytes for a transaction request body to the `,mdx(\"a\",{parentName:\"li\",\"href\":\"/consul/api-docs/txn\"},mdx(\"inlineCode\",{parentName:\"a\"},`/v1/txn`)),` endpoint. This limit defaults to `,mdx(\"a\",{parentName:\"li\",\"href\":\"https://github.com/hashicorp/raft\"},`raft's`),` suggested max size (512KB). `,mdx(\"strong\",{parentName:\"li\"},`Note that tuning these improperly can cause Consul to fail in unexpected ways`),`, it may potentially affect leadership stability and prevent timely heartbeat signals by increasing RPC IO duration.`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"default_query_time\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#default_query_time\",\"aria-label\":\"default_query_time permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`default_query_time`)),` Equivalent to the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/agent/config/cli-flags#_default_query_time\"},mdx(\"inlineCode\",{parentName:\"a\"},`-default-query-time`),` command-line flag`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"max_query_time\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#max_query_time\",\"aria-label\":\"max_query_time permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`max_query_time`)),` Equivalent to the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/agent/config/cli-flags#_max_query_time\"},mdx(\"inlineCode\",{parentName:\"a\"},`-max-query-time`),` command-line flag`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"peering\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#peering\",\"aria-label\":\"peering permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`peering`)),` This object allows setting options for cluster peering.`),mdx(\"p\",{parentName:\"li\"},`The following sub-keys are available:`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enabled-3\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"peering_enabled\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#peering_enabled\",\"aria-label\":\"enabled permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enabled`)),` (Defaults to `,mdx(\"inlineCode\",{parentName:\"li\"},`true`),`) Controls whether cluster peering is enabled.\nWhen disabled, the UI won't show peering, all peering APIs will return\nan error, any peerings stored in Consul already will be ignored (but they will not be deleted),\nand all peering connections from other clusters will be rejected. This was added in Consul 1.13.0.`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"partition-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#partition-1\",\"aria-label\":\"partition permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`partition`)),` `,mdx(EnterpriseAlert,{inline:true,mdxType:\"EnterpriseAlert\"}),` - This flag is used to set\nthe name of the admin partition the agent belongs to. An agent can only join\nand communicate with other agents within its admin partition. Review the\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/enterprise/admin-partitions\"},`Admin Partitions documentation`),` for more\ndetails. By default, this is an empty string, which is the `,mdx(\"inlineCode\",{parentName:\"p\"},`default`),` admin\npartition. This cannot be set on a server agent.`),mdx(\"div\",{parentName:\"li\",\"className\":\"alert alert-warning g-type-body\"},mdx(\"p\",{parentName:\"div\"},``,mdx(\"strong\",{parentName:\"p\"},`Warning:`),` The `,mdx(\"inlineCode\",{parentName:\"p\"},`partition`),` option cannot be used either the\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"#segment-2\"},mdx(\"inlineCode\",{parentName:\"a\"},`segment`)),` option or `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/agent/config/cli-flags#_segment\"},mdx(\"inlineCode\",{parentName:\"a\"},`-segment`)),` flag.`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"performance\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#performance\",\"aria-label\":\"performance permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`performance`)),` Available in Consul 0.7 and later, this is a nested object that allows tuning the performance of different subsystems in Consul. See the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/install/performance\"},`Server Performance`),` documentation for more details. The following parameters are available:`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"leave_drain_time\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#leave_drain_time\",\"aria-label\":\"leave_drain_time permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`leave_drain_time`)),` - A duration that a server will dwell during a graceful leave in order to allow requests to be retried against other Consul servers. Under normal circumstances, this can prevent clients from experiencing \"no leader\" errors when performing a rolling update of the Consul servers. This was added in Consul 1.0. Must be a duration value such as 10s. Defaults to 5s.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"raft_multiplier\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#raft_multiplier\",\"aria-label\":\"raft_multiplier permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`raft_multiplier`)),` - An integer multiplier used by Consul servers to scale key Raft timing parameters. Omitting this value or setting it to 0 uses default timing described below. Lower values are used to tighten timing and increase sensitivity while higher values relax timings and reduce sensitivity. Tuning this affects the time it takes Consul to detect leader failures and to perform leader elections, at the expense of requiring more network and CPU resources for better performance.`),mdx(\"p\",{parentName:\"li\"},`By default, Consul will use a lower-performance timing that's suitable\nfor `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/install/performance#minimum\"},`minimal Consul servers`),`, currently equivalent\nto setting this to a value of 5 (this default may be changed in future versions of Consul,\ndepending if the target minimum server profile changes). Setting this to a value of 1 will\nconfigure Raft to its highest-performance mode, equivalent to the default timing of Consul\nprior to 0.7, and is recommended for `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/install/performance#production\"},`production Consul servers`),`.`),mdx(\"p\",{parentName:\"li\"},`See the note on `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/install/performance#production-server-requirements\"},`last contact`),` timing for more\ndetails on tuning this parameter. The maximum allowed value is 10.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"rpc_hold_timeout\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#rpc_hold_timeout\",\"aria-label\":\"rpc_hold_timeout permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`rpc_hold_timeout`)),` - A duration that a client\nor server will retry internal RPC requests during leader elections. Under normal\ncircumstances, this can prevent clients from experiencing \"no leader\" errors.\nThis was added in Consul 1.0. Must be a duration value such as 10s. Defaults\nto 7s.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"grpc_keepalive_interval\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#grpc_keepalive_interval\",\"aria-label\":\"grpc_keepalive_interval permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`grpc_keepalive_interval`)),` - A duration that determines the frequency that Consul servers send keep-alive messages to inactive gRPC clients. Configure this setting to modify how quickly Consul detects and removes improperly closed xDS or peering connections. Default is `,mdx(\"inlineCode\",{parentName:\"p\"},`30s`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"grpc_keepalive_timeout\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#grpc_keepalive_timeout\",\"aria-label\":\"grpc_keepalive_timeout permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`grpc_keepalive_timeout`)),` - A duration that determines how long a Consul server waits for a reply to a keep-alive message. If the server does not receive a reply before the end of the duration, Consul flags the gRPC connection as unhealthy and forcibly removes it. Defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`20s`),`.`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"pid_file\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#pid_file\",\"aria-label\":\"pid_file permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`pid_file`)),` Equivalent to the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/agent/config/cli-flags#_pid_file\"},mdx(\"inlineCode\",{parentName:\"a\"},`-pid-file`),` command line flag`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"ports\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#ports\",\"aria-label\":\"ports permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`ports`)),` This is a nested object that allows setting the bind ports for the following keys:`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"dns-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"dns_port\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#dns_port\",\"aria-label\":\"dns permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`dns`)),` - The DNS server, -1 to disable. Default 8600.\nTCP and UDP.`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"http-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"http_port\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#http_port\",\"aria-label\":\"http permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`http`)),` - The HTTP API, -1 to disable. Default 8500.\nTCP only.`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"https-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"https_port\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#https_port\",\"aria-label\":\"https permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`https`)),` - The HTTPS API, -1 to disable. Default -1\n(disabled). `,mdx(\"strong\",{parentName:\"li\"},`We recommend using `,mdx(\"inlineCode\",{parentName:\"strong\"},`8501`)),` for `,mdx(\"inlineCode\",{parentName:\"li\"},`https`),` by convention as some tooling\nwill work automatically with this.`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"grpc-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"grpc_port\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#grpc_port\",\"aria-label\":\"grpc permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`grpc`)),` - The gRPC API, -1 to disable. Default -1 (disabled).\n`,mdx(\"strong\",{parentName:\"li\"},`We recommend using `,mdx(\"inlineCode\",{parentName:\"strong\"},`8502`),` for `,mdx(\"inlineCode\",{parentName:\"strong\"},`grpc`)),` as your conventional gRPC port number, as it allows some\ntools to work automatically. This parameter is set to `,mdx(\"inlineCode\",{parentName:\"li\"},`8502`),` by default when the agent runs\nin `,mdx(\"inlineCode\",{parentName:\"li\"},`-dev`),` mode. The `,mdx(\"inlineCode\",{parentName:\"li\"},`grpc`),` port only supports plaintext traffic starting in Consul 1.14.\nRefer to `,mdx(\"inlineCode\",{parentName:\"li\"},`grpc_tls`),` for more information on configuring a TLS-enabled port.`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"grpc_tls-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"grpc_tls_port\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#grpc_tls_port\",\"aria-label\":\"grpc_tls permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`grpc_tls`)),` - The gRPC API with TLS connections, -1 to disable. gRPC_TLS is enabled by default on port 8503 for Consul servers.\n`,mdx(\"strong\",{parentName:\"li\"},`We recommend using `,mdx(\"inlineCode\",{parentName:\"strong\"},`8503`),` for `,mdx(\"inlineCode\",{parentName:\"strong\"},`grpc_tls`)),` as your conventional gRPC port number, as it allows some\ntools to work automatically. `,mdx(\"inlineCode\",{parentName:\"li\"},`grpc_tls`),` is always guaranteed to be encrypted. Both `,mdx(\"inlineCode\",{parentName:\"li\"},`grpc`),` and `,mdx(\"inlineCode\",{parentName:\"li\"},`grpc_tls`),`\ncan be configured at the same time, but they may not utilize the same port number. This field was added in Consul 1.14.`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"serf_lan\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"serf_lan_port\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#serf_lan_port\",\"aria-label\":\"serf_lan permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`serf_lan`)),` - The Serf LAN port. Default 8301. TCP\nand UDP. Equivalent to the `,mdx(\"a\",{parentName:\"li\",\"href\":\"/consul/docs/agent/config/cli-flags#_serf_lan_port\"},mdx(\"inlineCode\",{parentName:\"a\"},`-serf-lan-port`),` command line flag`),`.`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"serf_wan\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"serf_wan_port\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#serf_wan_port\",\"aria-label\":\"serf_wan permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`serf_wan`)),` - The Serf WAN port. Default 8302.\nEquivalent to the `,mdx(\"a\",{parentName:\"li\",\"href\":\"/consul/docs/agent/config/cli-flags#_serf_wan_port\"},mdx(\"inlineCode\",{parentName:\"a\"},`-serf-wan-port`),` command line flag`),`. Set\nto -1 to disable. `,mdx(\"strong\",{parentName:\"li\"},`Note`),`: this will disable WAN federation which is not recommended.\nVarious catalog and WAN related endpoints will return errors or empty results.\nTCP and UDP.`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"server\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"server_rpc_port\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#server_rpc_port\",\"aria-label\":\"server permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`server`)),` - Server RPC address. Default 8300. TCP\nonly.`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"sidecar_min_port\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"sidecar_min_port\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#sidecar_min_port\",\"aria-label\":\"sidecar_min_port permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`sidecar_min_port`)),` - Inclusive minimum port number\nto use for automatically assigned `,mdx(\"a\",{parentName:\"li\",\"href\":\"/consul/docs/connect/proxies/deploy-sidecar-services\"},`sidecar service registrations`),`.\nDefault 21000. Set to `,mdx(\"inlineCode\",{parentName:\"li\"},`0`),` to disable automatic port assignment.`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"sidecar_max_port\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"sidecar_max_port\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#sidecar_max_port\",\"aria-label\":\"sidecar_max_port permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`sidecar_max_port`)),` - Inclusive maximum port number\nto use for automatically assigned `,mdx(\"a\",{parentName:\"li\",\"href\":\"/consul/docs/connect/proxies/deploy-sidecar-services\"},`sidecar service registrations`),`.\nDefault 21255. Set to `,mdx(\"inlineCode\",{parentName:\"li\"},`0`),` to disable automatic port assignment.`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"expose_min_port\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"expose_min_port\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#expose_min_port\",\"aria-label\":\"expose_min_port permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`expose_min_port`)),` - Inclusive minimum port number\nto use for automatically assigned `,mdx(\"a\",{parentName:\"li\",\"href\":\"/consul/docs/connect/proxies/proxy-config-reference#expose-paths-configuration-reference\"},`exposed check listeners`),`.\nDefault 21500. Set to `,mdx(\"inlineCode\",{parentName:\"li\"},`0`),` to disable automatic port assignment.`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"expose_max_port\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"expose_max_port\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#expose_max_port\",\"aria-label\":\"expose_max_port permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`expose_max_port`)),` - Inclusive maximum port number\nto use for automatically assigned `,mdx(\"a\",{parentName:\"li\",\"href\":\"/consul/docs/connect/proxies/proxy-config-reference#expose-paths-configuration-reference\"},`exposed check listeners`),`.\nDefault 21755. Set to `,mdx(\"inlineCode\",{parentName:\"li\"},`0`),` to disable automatic port assignment.`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"primary_datacenter\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#primary_datacenter\",\"aria-label\":\"primary_datacenter permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`primary_datacenter`)),` - This designates the datacenter\nwhich is authoritative for ACL information, intentions and is the root Certificate\nAuthority for service mesh. It must be provided to enable ACLs. All servers and datacenters\nmust agree on the primary datacenter. Setting it on the servers is all you need\nfor cluster-level enforcement, but for the APIs to forward properly from the clients,\nit must be set on them too. In Consul 0.8 and later, this also enables agent-level\nenforcement of ACLs.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"primary_gateways\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#primary_gateways\",\"aria-label\":\"primary_gateways permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`primary_gateways`)),` Equivalent to the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/agent/config/cli-flags#_primary_gateway\"},mdx(\"inlineCode\",{parentName:\"a\"},`-primary-gateway`),`\ncommand-line flag`),`. Takes a list of addresses to use as the\nmesh gateways for the primary datacenter when authoritative replicated catalog\ndata is not present. Discovery happens every `,mdx(\"a\",{parentName:\"p\",\"href\":\"#primary_gateways_interval\"},mdx(\"inlineCode\",{parentName:\"a\"},`primary_gateways_interval`)),`\nuntil at least one primary mesh gateway is discovered. This was added in Consul\n1.8.0.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"primary_gateways_interval\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#primary_gateways_interval\",\"aria-label\":\"primary_gateways_interval permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`primary_gateways_interval`)),` Time to wait\nbetween `,mdx(\"a\",{parentName:\"p\",\"href\":\"#primary_gateways\"},mdx(\"inlineCode\",{parentName:\"a\"},`primary_gateways`)),` discovery attempts. Defaults to\n30s. This was added in Consul 1.8.0.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"protocol\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"protocol\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#protocol\",\"aria-label\":\"protocol permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`protocol`)),` Equivalent to the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/agent/config/cli-flags#_protocol\"},mdx(\"inlineCode\",{parentName:\"a\"},`-protocol`),` command-line\nflag`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"reap\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#reap\",\"aria-label\":\"reap permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`reap`)),` This controls Consul's automatic reaping of child processes,\nwhich is useful if Consul is running as PID 1 in a Docker container. If this isn't\nspecified, then Consul will automatically reap child processes if it detects it\nis running as PID 1. If this is set to true or false, then it controls reaping\nregardless of Consul's PID (forces reaping on or off, respectively). This option\nwas removed in Consul 0.7.1. For later versions of Consul, you will need to reap\nprocesses using a wrapper, please see the `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://github.com/hashicorp/docker-consul/blob/master/0.X/docker-entrypoint.sh\"},`Consul Docker image entry point script`),`\nfor an example. If you are using Docker 1.13.0 or later, you can use the new `,mdx(\"inlineCode\",{parentName:\"p\"},`--init`),`\noption of the `,mdx(\"inlineCode\",{parentName:\"p\"},`docker run`),` command and docker will enable an init process with\nPID 1 that reaps child processes for the container. More info on `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://docs.docker.com/engine/reference/commandline/run/#options\"},`Docker docs`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"reconnect_timeout\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#reconnect_timeout\",\"aria-label\":\"reconnect_timeout permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`reconnect_timeout`)),` This controls how long it\ntakes for a failed node to be completely removed from the cluster. This defaults\nto 72 hours and it is recommended that this is set to at least double the maximum\nexpected recoverable outage time for a node or network partition. WARNING: Setting\nthis time too low could cause Consul servers to be removed from quorum during an\nextended node failure or partition, which could complicate recovery of the cluster.\nThe value is a time with a unit suffix, which can be \"s\", \"m\", \"h\" for seconds,\nminutes, or hours. The value must be \u003e= 8 hours.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"reconnect_timeout_wan\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#reconnect_timeout_wan\",\"aria-label\":\"reconnect_timeout_wan permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`reconnect_timeout_wan`)),` This is the WAN equivalent\nof the `,mdx(\"a\",{parentName:\"p\",\"href\":\"#reconnect_timeout\"},mdx(\"inlineCode\",{parentName:\"a\"},`reconnect_timeout`)),` parameter, which controls\nhow long it takes for a failed server to be completely removed from the WAN pool.\nThis also defaults to 72 hours, and must be \u003e= 8 hours.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"recursors\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#recursors\",\"aria-label\":\"recursors permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`recursors`)),` This flag provides addresses of upstream DNS\nservers that are used to recursively resolve queries if they are not inside the\nservice domain for Consul. For example, a node can use Consul directly as a DNS\nserver, and if the record is outside of the \"consul.\" domain, the query will be\nresolved upstream. As of Consul 1.0.1 recursors can be provided as IP addresses\nor as go-sockaddr templates. IP addresses are resolved in order, and duplicates\nare ignored.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"rpc\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#rpc\",\"aria-label\":\"rpc permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`rpc`)),` configuration for Consul servers.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enable_streaming\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"rpc_enable_streaming\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#rpc_enable_streaming\",\"aria-label\":\"enable_streaming permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enable_streaming`)),` defaults to true. If set to false it will disable\nthe gRPC subscribe endpoint on a Consul Server. All\nservers in all federated datacenters must have this enabled before any client can use\n`,mdx(\"a\",{parentName:\"li\",\"href\":\"#use_streaming_backend\"},mdx(\"inlineCode\",{parentName:\"a\"},`use_streaming_backend`)),`.`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"reporting\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#reporting\",\"aria-label\":\"reporting permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`reporting`)),mdx(EnterpriseAlert,{inline:true,mdxType:\"EnterpriseAlert\"}),` - This option allows options for HashiCorp reporting.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"license\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#license\",\"aria-label\":\"license permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`license`)),` - The license object allows users to control automatic reporting of license utilization metrics to HashiCorp.`,mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enabled-4\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#enabled-4\",\"aria-label\":\"enabled permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enabled`)),`: (Defaults to `,mdx(\"inlineCode\",{parentName:\"li\"},`true`),`) Enables automatic license utilization reporting.`))))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"segment-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#segment-1\",\"aria-label\":\"segment permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`segment`)),` `,mdx(EnterpriseAlert,{inline:true,mdxType:\"EnterpriseAlert\"}),` - Equivalent to the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/agent/config/cli-flags#_segment\"},mdx(\"inlineCode\",{parentName:\"a\"},`-segment`),` command-line flag`),`.`),mdx(\"div\",{parentName:\"li\",\"className\":\"alert alert-warning g-type-body\"},mdx(\"p\",{parentName:\"div\"},``,mdx(\"strong\",{parentName:\"p\"},`Warning:`),` The `,mdx(\"inlineCode\",{parentName:\"p\"},`segment`),` option cannot be used with the `,mdx(\"a\",{parentName:\"p\",\"href\":\"#partition-1\"},mdx(\"inlineCode\",{parentName:\"a\"},`partition`)),` option.`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"segments\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#segments\",\"aria-label\":\"segments permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`segments`)),` `,mdx(EnterpriseAlert,{inline:true,mdxType:\"EnterpriseAlert\"}),` - (Server agents only) This is a list of nested objects\nthat specifies user-defined network segments, not including the `,mdx(\"inlineCode\",{parentName:\"p\"},`\u003cdefault\u003e`),` segment, which is\ncreated automatically. Refer to the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/enterprise/network-segments/create-network-segment\"},`network segments documentation`),`for additional information.\nfor more details.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"name\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"segment_name\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#segment_name\",\"aria-label\":\"name permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`name`)),` - The name of the segment. Must be a string\nbetween 1 and 64 characters in length.`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"bind\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"segment_bind\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#segment_bind\",\"aria-label\":\"bind permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`bind`)),` - The bind address to use for the segment's\ngossip layer. Defaults to the `,mdx(\"a\",{parentName:\"li\",\"href\":\"#_bind\"},mdx(\"inlineCode\",{parentName:\"a\"},`-bind`)),` value if not provided.`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"port\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"segment_port\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#segment_port\",\"aria-label\":\"port permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`port`)),` - The port to use for the segment's gossip\nlayer (required).`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"advertise\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"segment_advertise\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#segment_advertise\",\"aria-label\":\"advertise permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`advertise`)),` - The advertise address to use for\nthe segment's gossip layer. Defaults to the `,mdx(\"a\",{parentName:\"li\",\"href\":\"/consul/docs/agent/config/cli-flags#_advertise\"},mdx(\"inlineCode\",{parentName:\"a\"},`-advertise`)),` value\nif not provided.`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"rpc_listener\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"segment_rpc_listener\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#segment_rpc_listener\",\"aria-label\":\"rpc_listener permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`rpc_listener`)),` - If true, a separate RPC\nlistener will be started on this segment's `,mdx(\"a\",{parentName:\"li\",\"href\":\"/consul/docs/agent/config/cli-flags#_bind\"},mdx(\"inlineCode\",{parentName:\"a\"},`-bind`)),` address on the rpc\nport. Only valid if the segment's bind address differs from the `,mdx(\"a\",{parentName:\"li\",\"href\":\"/consul/docs/agent/config/cli-flags#_bind\"},mdx(\"inlineCode\",{parentName:\"a\"},`-bind`)),`\naddress. Defaults to false.`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"server-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#server-1\",\"aria-label\":\"server permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`server`)),` Equivalent to the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/agent/config/cli-flags#_server\"},mdx(\"inlineCode\",{parentName:\"a\"},`-server`),` command-line flag`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"server_rejoin_age_max\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#server_rejoin_age_max\",\"aria-label\":\"server_rejoin_age_max permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`server_rejoin_age_max`)),` - controls the allowed maximum age of a stale server attempting to rejoin a cluster.\nIf the server has not ran during this period, it will refuse to start up again until an operator intervenes by manually deleting the `,mdx(\"inlineCode\",{parentName:\"p\"},`server_metadata.json`),`\nfile located in the data dir.\nThis is to protect clusters from instability caused by decommissioned servers accidentally being started again.\nNote: the default value is 168h (equal to 7d) and the minimum value is 6h.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"non_voting_server\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#non_voting_server\",\"aria-label\":\"non_voting_server permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`non_voting_server`)),` - `,mdx(\"strong\",{parentName:\"p\"},`This field is deprecated in Consul 1.9.1. See the `,mdx(\"a\",{parentName:\"strong\",\"href\":\"#read_replica\"},mdx(\"inlineCode\",{parentName:\"a\"},`read_replica`)),` field instead.`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"read_replica\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#read_replica\",\"aria-label\":\"read_replica permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`read_replica`)),` - Equivalent to the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/agent/config/cli-flags#_read_replica\"},mdx(\"inlineCode\",{parentName:\"a\"},`-read-replica`),` command-line flag`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"session_ttl_min\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#session_ttl_min\",\"aria-label\":\"session_ttl_min permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`session_ttl_min`)),` The minimum allowed session TTL. This ensures sessions are not created with TTLs\nshorter than the specified limit. It is recommended to keep this limit at or above\nthe default to encourage clients to send infrequent heartbeats. Defaults to 10s.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"skip_leave_on_interrupt\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#skip_leave_on_interrupt\",\"aria-label\":\"skip_leave_on_interrupt permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`skip_leave_on_interrupt`)),` This is similar\nto `,mdx(\"a\",{parentName:\"p\",\"href\":\"#leave_on_terminate\"},mdx(\"inlineCode\",{parentName:\"a\"},`leave_on_terminate`)),` but only affects interrupt handling.\nWhen Consul receives an interrupt signal (such as hitting Control-C in a terminal),\nConsul will gracefully leave the cluster. Setting this to `,mdx(\"inlineCode\",{parentName:\"p\"},`true`),` disables that\nbehavior. The default behavior for this feature varies based on whether or not\nthe agent is running as a client or a server (prior to Consul 0.7 the default value\nwas unconditionally set to `,mdx(\"inlineCode\",{parentName:\"p\"},`false`),`). On agents in client-mode, this defaults to\n`,mdx(\"inlineCode\",{parentName:\"p\"},`false`),` and for agents in server-mode, this defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`true`),` (i.e. Ctrl-C on\na server will keep the server in the cluster and therefore quorum, and Ctrl-C on\na client will gracefully leave).`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"translate_wan_addrs\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#translate_wan_addrs\",\"aria-label\":\"translate_wan_addrs permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`translate_wan_addrs`)),` If set to true, Consul\nwill prefer a node's configured `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/agent/config/cli-flags#_advertise-wan\"},`WAN address`),`\nwhen servicing DNS and HTTP requests for a node in a remote datacenter. This allows\nthe node to be reached within its own datacenter using its local address, and reached\nfrom other datacenters using its WAN address, which is useful in hybrid setups\nwith mixed networks. This is disabled by default.`),mdx(\"p\",{parentName:\"li\"},`Starting in Consul 0.7 and later, node addresses in responses to HTTP requests will also prefer a\nnode's configured `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/agent/config/cli-flags#_advertise-wan\"},`WAN address`),` when querying for a node in a remote\ndatacenter. An `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/api-docs/api-structure#translated-addresses\"},mdx(\"inlineCode\",{parentName:\"a\"},`X-Consul-Translate-Addresses`)),` header\nwill be present on all responses when translation is enabled to help clients know that the addresses\nmay be translated. The `,mdx(\"inlineCode\",{parentName:\"p\"},`TaggedAddresses`),` field in responses also have a `,mdx(\"inlineCode\",{parentName:\"p\"},`lan`),` address for clients that\nneed knowledge of that address, regardless of translation.`),mdx(\"p\",{parentName:\"li\"},`The following endpoints translate addresses:`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"href\":\"/consul/api-docs/catalog#list-nodes\"},mdx(\"inlineCode\",{parentName:\"a\"},`/v1/catalog/nodes`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"href\":\"/consul/api-docs/catalog#retrieve-map-of-services-for-a-node\"},mdx(\"inlineCode\",{parentName:\"a\"},`/v1/catalog/node/\u003cnode\u003e`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"href\":\"/consul/api-docs/catalog#list-nodes-for-service\"},mdx(\"inlineCode\",{parentName:\"a\"},`/v1/catalog/service/\u003cservice\u003e`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"href\":\"/consul/api-docs/health#list-nodes-for-service\"},mdx(\"inlineCode\",{parentName:\"a\"},`/v1/health/service/\u003cservice\u003e`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"href\":\"/consul/api-docs/query#execute-prepared-query\"},mdx(\"inlineCode\",{parentName:\"a\"},`/v1/query/\u003cquery or name\u003e/execute`))))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"unix_sockets\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#unix_sockets\",\"aria-label\":\"unix_sockets permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`unix_sockets`)),` - This allows tuning the ownership and\npermissions of the Unix domain socket files created by Consul. Domain sockets are\nonly used if the HTTP address is configured with the `,mdx(\"inlineCode\",{parentName:\"p\"},`unix://`),` prefix.`),mdx(\"p\",{parentName:\"li\"},`It is important to note that this option may have different effects on\ndifferent operating systems. Linux generally observes socket file permissions\nwhile many BSD variants ignore permissions on the socket file itself. It is\nimportant to test this feature on your specific distribution. This feature is\ncurrently not functional on Windows hosts.`),mdx(\"p\",{parentName:\"li\"},`The following options are valid within this construct and apply globally to all\nsockets created by Consul:`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"user\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#user\",\"aria-label\":\"user permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`user`)),` - The name or ID of the user who will own the socket file.`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"group\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#group\",\"aria-label\":\"group permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`group`)),` - The group ID ownership of the socket file. This option\ncurrently only supports numeric IDs.`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"mode-2\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#mode-2\",\"aria-label\":\"mode permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`mode`)),` - The permission bits to set on the file.`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"use_streaming_backend\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#use_streaming_backend\",\"aria-label\":\"use_streaming_backend permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`use_streaming_backend`)),` defaults to true. When enabled Consul client agents will use\nstreaming rpc, instead of the traditional blocking queries, for endpoints which support\nstreaming. All servers must have `,mdx(\"a\",{parentName:\"p\",\"href\":\"#rpc_enable_streaming\"},mdx(\"inlineCode\",{parentName:\"a\"},`rpc.enable_streaming`)),`\nenabled before any client can enable `,mdx(\"inlineCode\",{parentName:\"p\"},`use_streaming_backend`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"watches\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#watches\",\"aria-label\":\"watches permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`watches`)),` - Watches is a list of watch specifications which\nallow an external process to be automatically invoked when a particular data view\nis updated. See the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/dynamic-app-config/watches\"},`watch documentation`),` for more detail.\nWatches can be modified when the configuration is reloaded.`))),mdx(\"h2\",{\"id\":\"acl-parameters\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#acl-parameters\",\"aria-label\":\"acl parameters permalink\"},`\\xbb`),`ACL Parameters`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"acl\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"acl\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#acl\",\"aria-label\":\"acl permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`acl`)),` - This object allows a number of sub-keys to be set which\ncontrols the ACL system. Configuring the ACL system within the ACL stanza was added\nin Consul 1.4.0`),mdx(\"p\",{parentName:\"li\"},`The following sub-keys are available:`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enabled-5\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"acl_enabled\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#acl_enabled\",\"aria-label\":\"enabled permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enabled`)),` - Enables ACLs.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"policy_ttl\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"acl_policy_ttl\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#acl_policy_ttl\",\"aria-label\":\"policy_ttl permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`policy_ttl`)),` - Used to control Time-To-Live caching\nof ACL policies. By default, this is 30 seconds. This setting has a major performance\nimpact: reducing it will cause more frequent refreshes while increasing it reduces\nthe number of refreshes. However, because the caches are not actively invalidated,\nACL policy may be stale up to the TTL value.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"role_ttl\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"acl_role_ttl\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#acl_role_ttl\",\"aria-label\":\"role_ttl permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`role_ttl`)),` - Used to control Time-To-Live caching\nof ACL roles. By default, this is 30 seconds. This setting has a major performance\nimpact: reducing it will cause more frequent refreshes while increasing it reduces\nthe number of refreshes. However, because the caches are not actively invalidated,\nACL role may be stale up to the TTL value.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"token_ttl\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"acl_token_ttl\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#acl_token_ttl\",\"aria-label\":\"token_ttl permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`token_ttl`)),` - Used to control Time-To-Live caching\nof ACL tokens. By default, this is 30 seconds. This setting has a major performance\nimpact: reducing it will cause more frequent refreshes while increasing it reduces\nthe number of refreshes. However, because the caches are not actively invalidated,\nACL token may be stale up to the TTL value.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"down_policy\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"acl_down_policy\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#acl_down_policy\",\"aria-label\":\"down_policy permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`down_policy`)),` - Either \"allow\", \"deny\", \"extend-cache\"\nor \"async-cache\"; \"extend-cache\" is the default. In the case that a policy or\ntoken cannot be read from the `,mdx(\"a\",{parentName:\"p\",\"href\":\"#primary_datacenter\"},mdx(\"inlineCode\",{parentName:\"a\"},`primary_datacenter`)),` or\nleader node, the down policy is applied. In \"allow\" mode, all actions are permitted,\n\"deny\" restricts all operations, and \"extend-cache\" allows any cached objects\nto be used, ignoring the expiry time of the cached entry. If the request uses an\nACL that is not in the cache, \"extend-cache\" falls back to the behavior of\n`,mdx(\"inlineCode\",{parentName:\"p\"},`default_policy`),`.\nThe value \"async-cache\" acts the same way as \"extend-cache\"\nbut performs updates asynchronously when ACL is present but its TTL is expired,\nthus, if latency is bad between the primary and secondary datacenters, latency\nof operations is not impacted.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"default_policy\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"acl_default_policy\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#acl_default_policy\",\"aria-label\":\"default_policy permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`default_policy`)),` - Either \"allow\" or \"deny\";\ndefaults to \"allow\" but this will be changed in a future major release. The default\npolicy controls the behavior of a token when there is no matching rule. In \"allow\"\nmode, ACLs are a denylist: any operation not specifically prohibited is allowed.\nIn \"deny\" mode, ACLs are an allowlist: any operation not specifically\nallowed is blocked. `,mdx(\"strong\",{parentName:\"p\"},`Note`),`: this will not take effect until you've enabled ACLs.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enable_key_list_policy\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"acl_enable_key_list_policy\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#acl_enable_key_list_policy\",\"aria-label\":\"enable_key_list_policy permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enable_key_list_policy`)),` - Boolean value, defaults to false.\nWhen true, the `,mdx(\"inlineCode\",{parentName:\"p\"},`list`),` permission will be required on the prefix being recursively read from the KV store.\nRegardless of being enabled, the full set of KV entries under the prefix will be filtered\nto remove any entries that the request's ACL token does not grant at least read\npermissions. This option is only available in Consul 1.0 and newer.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enable_token_replication\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"acl_enable_token_replication\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#acl_enable_token_replication\",\"aria-label\":\"enable_token_replication permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enable_token_replication`)),` - By default\nsecondary Consul datacenters will perform replication of only ACL policies and\nroles. Setting this configuration will will enable ACL token replication and\nallow for the creation of both `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/api-docs/acl/tokens#local\"},`local tokens`),` and\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/security/acl/auth-methods\"},`auth methods`),` in connected secondary datacenters.`),mdx(\"div\",{parentName:\"li\",\"className\":\"alert alert-warning g-type-body\"},mdx(\"p\",{parentName:\"div\"},``,mdx(\"strong\",{parentName:\"p\"},`Warning:`),` When enabling ACL token replication on the secondary datacenter,\nglobal tokens already present in the secondary datacenter will be lost. For\nproduction environments, consider configuring ACL replication in your initial\ndatacenter bootstrapping process.`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enable_token_persistence\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"acl_enable_token_persistence\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#acl_enable_token_persistence\",\"aria-label\":\"enable_token_persistence permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enable_token_persistence`)),` - Either\n`,mdx(\"inlineCode\",{parentName:\"p\"},`true`),` or `,mdx(\"inlineCode\",{parentName:\"p\"},`false`),`. When `,mdx(\"inlineCode\",{parentName:\"p\"},`true`),` tokens set using the API will be persisted to\ndisk and reloaded when an agent restarts.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"tokens\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"acl_tokens\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#acl_tokens\",\"aria-label\":\"tokens permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`tokens`)),` - This object holds all of the configured\nACL tokens for the agents usage.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"initial_management\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"acl_tokens_initial_management\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#acl_tokens_initial_management\",\"aria-label\":\"initial_management permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`initial_management`)),` - This is available in\nConsul 1.11 and later. In prior versions, use `,mdx(\"a\",{parentName:\"p\",\"href\":\"#acl_tokens_master\"},mdx(\"inlineCode\",{parentName:\"a\"},`acl.tokens.master`)),`.`),mdx(\"p\",{parentName:\"li\"},`Only used for servers in the `,mdx(\"a\",{parentName:\"p\",\"href\":\"#primary_datacenter\"},mdx(\"inlineCode\",{parentName:\"a\"},`primary_datacenter`)),`.\nThis token will be created with management-level permissions if it does not exist.\nIt allows operators to bootstrap the ACL system with a token Secret ID that is\nwell-known.`),mdx(\"p\",{parentName:\"li\"},`The `,mdx(\"inlineCode\",{parentName:\"p\"},`initial_management`),` token is only installed when a server acquires cluster\nleadership. If you would like to install or change it, set the new value for\n`,mdx(\"inlineCode\",{parentName:\"p\"},`initial_management`),` in the configuration for all servers. Once this is done,\nrestart the current leader to force a leader election. If the `,mdx(\"inlineCode\",{parentName:\"p\"},`initial_management`),`\ntoken is not supplied, then the servers do not create an initial management token.\nWhen you provide a value, it should be a UUID. To maintain backwards compatibility\nand an upgrade path this restriction is not currently enforced but will be in a\nfuture major Consul release.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"master\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"acl_tokens_master\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#acl_tokens_master\",\"aria-label\":\"master permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`master`)),` `,mdx(\"strong\",{parentName:\"p\"},`Renamed in Consul 1.11 to\n`,mdx(\"a\",{parentName:\"strong\",\"href\":\"#acl_tokens_initial_management\"},mdx(\"inlineCode\",{parentName:\"a\"},`acl.tokens.initial_management`)),`.`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"default\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"acl_tokens_default\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#acl_tokens_default\",\"aria-label\":\"default permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`default`)),` - When provided, this agent will\nuse this token by default when making requests to the Consul servers\ninstead of the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/security/acl/tokens#anonymous-token\"},`anonymous token`),`.\nConsul HTTP API requests can provide an alternate token in their authorization header\nto override the `,mdx(\"inlineCode\",{parentName:\"p\"},`default`),` or anonymous token on a per-request basis,\nas described in `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/api-docs/api-structure#authentication\"},`HTTP API Authentication`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"agent\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"acl_tokens_agent\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#acl_tokens_agent\",\"aria-label\":\"agent permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`agent`)),` - Used for clients and servers to perform\ninternal operations. If this isn't specified, then the\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"#acl_tokens_default\"},mdx(\"inlineCode\",{parentName:\"a\"},`default`)),` will be used.`),mdx(\"p\",{parentName:\"li\"},`This token must at least have write access to the node name it will\nregister as in order to set any of the node-level information in the\ncatalog such as metadata, or the node's tagged addresses.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"agent_recovery\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"acl_tokens_agent_recovery\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#acl_tokens_agent_recovery\",\"aria-label\":\"agent_recovery permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`agent_recovery`)),` - This is available in Consul 1.11\nand later. In prior versions, use `,mdx(\"a\",{parentName:\"p\",\"href\":\"#acl_tokens_agent_master\"},mdx(\"inlineCode\",{parentName:\"a\"},`acl.tokens.agent_master`)),`.`),mdx(\"p\",{parentName:\"li\"},`Used to access `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/api-docs/agent\"},`agent endpoints`),` that require agent read or write privileges,\nor node read privileges, even if Consul servers aren't present to validate any tokens.\nThis should only be used by operators during outages, regular ACL tokens should normally\nbe used by applications.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"agent_master\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"acl_tokens_agent_master\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#acl_tokens_agent_master\",\"aria-label\":\"agent_master permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`agent_master`)),` `,mdx(\"strong\",{parentName:\"p\"},`Renamed in Consul 1.11 to\n`,mdx(\"a\",{parentName:\"strong\",\"href\":\"#acl_tokens_agent_recovery\"},mdx(\"inlineCode\",{parentName:\"a\"},`acl.tokens.agent_recovery`)),`.`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"config_file_service_registration\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"acl_tokens_config_file_service_registration\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#acl_tokens_config_file_service_registration\",\"aria-label\":\"config_file_service_registration permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`config_file_service_registration`)),` - Specifies the ACL\ntoken the agent uses to register services and checks from `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/services/usage/define-services\"},`service`),` and `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/services/usage/checks\"},`check`),` definitions\nspecified in configuration files or fragments passed to the agent using the `,mdx(\"inlineCode\",{parentName:\"p\"},`-hcl`),`\nflag.`),mdx(\"p\",{parentName:\"li\"},`If the `,mdx(\"inlineCode\",{parentName:\"p\"},`token`),` field is defined in the service or check definition, then that token is used to\nregister the service or check instead. If the `,mdx(\"inlineCode\",{parentName:\"p\"},`config_file_service_registration`),` token is not\ndefined and if the `,mdx(\"inlineCode\",{parentName:\"p\"},`token`),` field is not defined in the service or check definition, then the\nagent uses the `,mdx(\"a\",{parentName:\"p\",\"href\":\"#acl_tokens_default\"},mdx(\"inlineCode\",{parentName:\"a\"},`default`)),` token to register the service or check.`),mdx(\"p\",{parentName:\"li\"},`This token needs write permission to register all services and checks defined in this agent's\nconfiguration. For example, if there are two service definitions in the agent's configuration\nfiles for services \"A\" and \"B\", then the token needs `,mdx(\"inlineCode\",{parentName:\"p\"},`service:write`),` permissions for both\nservices \"A\" and \"B\" in order to successfully register both services. If the token is missing\n`,mdx(\"inlineCode\",{parentName:\"p\"},`service:write`),` permissions for service \"B\", the agent will successfully register service \"A\"\nand fail to register service \"B\". Failed registration requests are eventually retried as part\nof `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/architecture/anti-entropy\"},`anti-entropy enforcement`),`. If a registration request is\nfailing due to missing permissions, the token for this agent can be updated with\nadditional policy rules or the `,mdx(\"inlineCode\",{parentName:\"p\"},`config_file_service_registration`),` token can be replaced using\nthe `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/commands/acl/set-agent-token\"},`Set Agent Token`),` CLI command.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"dns-2\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"acl_tokens_dns\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#acl_tokens_dns\",\"aria-label\":\"dns permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`dns`)),` - Specifies the token that agents use to request information needed to respond to DNS queries.\nIf the `,mdx(\"inlineCode\",{parentName:\"p\"},`dns`),` token is not set, the `,mdx(\"inlineCode\",{parentName:\"p\"},`default`),` token is used instead.\nBecause the `,mdx(\"inlineCode\",{parentName:\"p\"},`default`),` token allows unauthenticated HTTP API access to list nodes and services, we\nstrongly recommend using the `,mdx(\"inlineCode\",{parentName:\"p\"},`dns`),` token. Create DNS tokens using the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/security/acl/tokens/create/create-a-dns-token#create_a_dns_token\"},`templated policy`),`\noption to ensure that the token has the permissions needed to respond to all DNS queries.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"replication\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"acl_tokens_replication\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#acl_tokens_replication\",\"aria-label\":\"replication permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`replication`)),` - Specifies the token that the agent uses to\nauthorize secondary datacenters with the primary datacenter for replication\noperations. This token is required for servers outside the `,mdx(\"a\",{parentName:\"p\",\"href\":\"#primary_datacenter\"},mdx(\"inlineCode\",{parentName:\"a\"},`primary_datacenter`)),` when ACLs are enabled. This token may be provided later using the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/api-docs/agent#update-acl-tokens\"},`agent token API`),` on each server. This token must have at least \"read\" permissions on ACL data but if ACL token replication is enabled then it must have \"write\" permissions. This also enables service mesh data replication, for which the token will require both operator \"write\" and intention \"read\" permissions for replicating CA and Intention data.`),mdx(\"div\",{parentName:\"li\",\"className\":\"alert alert-warning g-type-body\"},mdx(\"p\",{parentName:\"div\"},``,mdx(\"strong\",{parentName:\"p\"},`Warning:`),` When enabling ACL token replication on the secondary datacenter,\npolicies and roles already present in the secondary datacenter will be lost. For\nproduction environments, consider configuring ACL replication in your initial\ndatacenter bootstrapping process.`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"managed_service_provider\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"acl_tokens_managed_service_provider\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#acl_tokens_managed_service_provider\",\"aria-label\":\"managed_service_provider permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`managed_service_provider`)),` `,mdx(EnterpriseAlert,{inline:true,mdxType:\"EnterpriseAlert\"}),` - An\narray of ACL tokens used by Consul managed service providers for cluster operations.`),mdx(CodeTabs,{heading:\"Example managed_service_provider configuration\",mdxType:\"CodeTabs\"},mdx(\"pre\",{parentName:\"li\",\"className\":\"language-hcl\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-hcl\"},mdx(\"span\",{parentName:\"code\",\"className\":\"token keyword\"},`managed_service_provider`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`{`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`accessor_id`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`=`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"ed22003b-0832-4e48-ac65-31de64e5c2ff\"`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`secret_id`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`=`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"cb6be010-bba8-4f30-a9ed-d347128dde17\"`),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`}`),`\n`)),mdx(\"pre\",{parentName:\"li\",\"className\":\"language-json\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-json\"},mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`\"managed_service_provider\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`[`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`{`),`\n`,`    `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`\"accessor_id\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"ed22003b-0832-4e48-ac65-31de64e5c2ff\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`,`),`\n`,`    `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`\"secret_id\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"cb6be010-bba8-4f30-a9ed-d347128dde17\"`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`}`),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`]`),`\n`)))))))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"acl_datacenter\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#acl_datacenter\",\"aria-label\":\"acl_datacenter permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`acl_datacenter`)),` - `,mdx(\"strong\",{parentName:\"p\"},`This field is deprecated in Consul 1.4.0. See the `,mdx(\"a\",{parentName:\"strong\",\"href\":\"#primary_datacenter\"},mdx(\"inlineCode\",{parentName:\"a\"},`primary_datacenter`)),` field instead.`)),mdx(\"p\",{parentName:\"li\"},`This designates the datacenter which is authoritative for ACL information. It must be provided to enable ACLs. All servers and datacenters must agree on the ACL datacenter. Setting it on the servers is all you need for cluster-level enforcement, but for the APIs to forward properly from the clients,\nit must be set on them too. In Consul 0.8 and later, this also enables agent-level enforcement\nof ACLs. Please review the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/tutorials/security/access-control-setup-production\"},`ACL tutorial`),` for more details.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"acl_default_policy\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"acl_default_policy_legacy\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#acl_default_policy_legacy\",\"aria-label\":\"acl_default_policy permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`acl_default_policy`)),` - `,mdx(\"strong\",{parentName:\"p\"},`Deprecated in Consul 1.4.0. See the `,mdx(\"a\",{parentName:\"strong\",\"href\":\"#acl_default_policy\"},mdx(\"inlineCode\",{parentName:\"a\"},`acl.default_policy`)),` field instead.`),`\nEither \"allow\" or \"deny\"; defaults to \"allow\". The default policy controls the\nbehavior of a token when there is no matching rule. In \"allow\" mode, ACLs are a\ndenylist: any operation not specifically prohibited is allowed. In \"deny\" mode,\nACLs are an allowlist: any operation not specifically allowed is blocked. `,mdx(\"strong\",{parentName:\"p\"},`Note`),`:\nthis will not take effect until you've set `,mdx(\"inlineCode\",{parentName:\"p\"},`primary_datacenter`),` to enable ACL support.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"acl_down_policy\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"acl_down_policy_legacy\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#acl_down_policy_legacy\",\"aria-label\":\"acl_down_policy permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`acl_down_policy`)),` - `,mdx(\"strong\",{parentName:\"p\"},`Deprecated in Consul\n1.4.0. See the `,mdx(\"a\",{parentName:\"strong\",\"href\":\"#acl_down_policy\"},mdx(\"inlineCode\",{parentName:\"a\"},`acl.down_policy`)),` field instead.`),` Either \"allow\",\n\"deny\", \"extend-cache\" or \"async-cache\"; \"extend-cache\" is the default. In the\ncase that the policy for a token cannot be read from the `,mdx(\"a\",{parentName:\"p\",\"href\":\"#primary_datacenter\"},mdx(\"inlineCode\",{parentName:\"a\"},`primary_datacenter`)),`\nor leader node, the down policy is applied. In \"allow\" mode, all actions are permitted,\n\"deny\" restricts all operations, and \"extend-cache\" allows any cached ACLs to be\nused, ignoring their TTL values. If a non-cached ACL is used, \"extend-cache\" acts\nlike \"deny\". The value \"async-cache\" acts the same way as \"extend-cache\" but performs\nupdates asynchronously when ACL is present but its TTL is expired, thus, if latency\nis bad between ACL authoritative and other datacenters, latency of operations is\nnot impacted.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"acl_agent_master_token\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"acl_agent_master_token_legacy\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#acl_agent_master_token_legacy\",\"aria-label\":\"acl_agent_master_token permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`acl_agent_master_token`)),` - `,mdx(\"strong\",{parentName:\"p\"},`Deprecated\nin Consul 1.4.0. See the `,mdx(\"a\",{parentName:\"strong\",\"href\":\"#acl_tokens_agent_master\"},mdx(\"inlineCode\",{parentName:\"a\"},`acl.tokens.agent_master`)),`\nfield instead.`),` Used to access `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/api-docs/agent\"},`agent endpoints`),` that\nrequire agent read or write privileges, or node read privileges, even if Consul\nservers aren't present to validate any tokens. This should only be used by operators\nduring outages, regular ACL tokens should normally be used by applications. This\nwas added in Consul 0.7.2 and is only used when `,mdx(\"a\",{parentName:\"p\",\"href\":\"#acl_enforce_version_8\"},mdx(\"inlineCode\",{parentName:\"a\"},`acl_enforce_version_8`)),` is set to true.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"acl_agent_token\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"acl_agent_token_legacy\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#acl_agent_token_legacy\",\"aria-label\":\"acl_agent_token permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`acl_agent_token`)),` - `,mdx(\"strong\",{parentName:\"p\"},`Deprecated in Consul\n1.4.0. See the `,mdx(\"a\",{parentName:\"strong\",\"href\":\"#acl_tokens_agent\"},mdx(\"inlineCode\",{parentName:\"a\"},`acl.tokens.agent`)),` field instead.`),` Used for\nclients and servers to perform internal operations. If this isn't specified, then\nthe `,mdx(\"a\",{parentName:\"p\",\"href\":\"#acl_token\"},mdx(\"inlineCode\",{parentName:\"a\"},`acl_token`)),` will be used. This was added in Consul 0.7.2.`),mdx(\"p\",{parentName:\"li\"},`This token must at least have write access to the node name it will register as in order to set any\nof the node-level information in the catalog such as metadata, or the node's tagged addresses.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"acl_enforce_version_8\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#acl_enforce_version_8\",\"aria-label\":\"acl_enforce_version_8 permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`acl_enforce_version_8`)),` - `,mdx(\"strong\",{parentName:\"p\"},`Deprecated in\nConsul 1.4.0 and removed in 1.8.0.`),` Used for clients and servers to determine if enforcement should\noccur for new ACL policies being previewed before Consul 0.8. Added in Consul 0.7.2,\nthis defaults to false in versions of Consul prior to 0.8, and defaults to true\nin Consul 0.8 and later. This helps ease the transition to the new ACL features\nby allowing policies to be in place before enforcement begins.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"acl_master_token\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"acl_master_token_legacy\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#acl_master_token_legacy\",\"aria-label\":\"acl_master_token permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`acl_master_token`)),` - `,mdx(\"strong\",{parentName:\"p\"},`Deprecated in Consul\n1.4.0. See the `,mdx(\"a\",{parentName:\"strong\",\"href\":\"#acl_tokens_master\"},mdx(\"inlineCode\",{parentName:\"a\"},`acl.tokens.master`)),` field instead.`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"acl_replication_token\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"acl_replication_token_legacy\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#acl_replication_token_legacy\",\"aria-label\":\"acl_replication_token permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`acl_replication_token`)),` - `,mdx(\"strong\",{parentName:\"p\"},`Deprecated\nin Consul 1.4.0. See the `,mdx(\"a\",{parentName:\"strong\",\"href\":\"#acl_tokens_replication\"},mdx(\"inlineCode\",{parentName:\"a\"},`acl.tokens.replication`)),` field\ninstead.`),` Only used for servers outside the `,mdx(\"a\",{parentName:\"p\",\"href\":\"#primary_datacenter\"},mdx(\"inlineCode\",{parentName:\"a\"},`primary_datacenter`)),`\nrunning Consul 0.7 or later. When provided, this will enable `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/tutorials/security-operations/access-control-replication-multiple-datacenters\"},`ACL replication`),`\nusing this ACL replication using this token to retrieve and replicate the ACLs\nto the non-authoritative local datacenter. In Consul 0.9.1 and later you can enable\nACL replication using `,mdx(\"a\",{parentName:\"p\",\"href\":\"#acl_enable_token_replication\"},mdx(\"inlineCode\",{parentName:\"a\"},`acl.enable_token_replication`)),` and then\nset the token later using the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/api-docs/agent#update-acl-tokens\"},`agent token API`),`\non each server. If the `,mdx(\"inlineCode\",{parentName:\"p\"},`acl_replication_token`),` is set in the config, it will automatically\nset `,mdx(\"a\",{parentName:\"p\",\"href\":\"#acl_enable_token_replication\"},mdx(\"inlineCode\",{parentName:\"a\"},`acl.enable_token_replication`)),` to true for backward compatibility.`),mdx(\"p\",{parentName:\"li\"},`If there's a partition or other outage affecting the authoritative datacenter, and the\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/agent/config/config-files#acl_down_policy\"},mdx(\"inlineCode\",{parentName:\"a\"},`acl_down_policy`)),` is set to \"extend-cache\", tokens not\nin the cache can be resolved during the outage using the replicated set of ACLs.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"acl_token\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"acl_token_legacy\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#acl_token_legacy\",\"aria-label\":\"acl_token permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`acl_token`)),` - `,mdx(\"strong\",{parentName:\"p\"},`Deprecated in Consul 1.4.0. See\nthe `,mdx(\"a\",{parentName:\"strong\",\"href\":\"#acl_tokens_default\"},mdx(\"inlineCode\",{parentName:\"a\"},`acl.tokens.default`)),` field instead.`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"acl_ttl\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"acl_ttl_legacy\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#acl_ttl_legacy\",\"aria-label\":\"acl_ttl permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`acl_ttl`)),` - `,mdx(\"strong\",{parentName:\"p\"},`Deprecated in Consul 1.4.0. See the\n`,mdx(\"a\",{parentName:\"strong\",\"href\":\"#acl_token_ttl\"},mdx(\"inlineCode\",{parentName:\"a\"},`acl.token_ttl`)),` field instead.`),`Used to control Time-To-Live\ncaching of ACLs. By default, this is 30 seconds. This setting has a major performance\nimpact: reducing it will cause more frequent refreshes while increasing it reduces\nthe number of refreshes. However, because the caches are not actively invalidated,\nACL policy may be stale up to the TTL value.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enable_acl_replication\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#enable_acl_replication\",\"aria-label\":\"enable_acl_replication permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enable_acl_replication`)),` `,mdx(\"strong\",{parentName:\"p\"},`Deprecated in Consul 1.11. Use the `,mdx(\"a\",{parentName:\"strong\",\"href\":\"#acl_enable_token_replication\"},mdx(\"inlineCode\",{parentName:\"a\"},`acl.enable_token_replication`)),` field instead.`),`\nWhen set on a Consul server, enables ACL replication without having to set\nthe replication token via `,mdx(\"a\",{parentName:\"p\",\"href\":\"#acl_replication_token\"},mdx(\"inlineCode\",{parentName:\"a\"},`acl_replication_token`)),`. Instead, enable ACL replication\nand then introduce the token using the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/api-docs/agent#update-acl-tokens\"},`agent token API`),` on each server.\nSee `,mdx(\"a\",{parentName:\"p\",\"href\":\"#acl_replication_token\"},mdx(\"inlineCode\",{parentName:\"a\"},`acl_replication_token`)),` for more details.`),mdx(\"div\",{parentName:\"li\",\"className\":\"alert alert-warning g-type-body\"},mdx(\"p\",{parentName:\"div\"},``,mdx(\"strong\",{parentName:\"p\"},`Warning:`),` When enabling ACL token replication on the secondary datacenter,\npolicies and roles already present in the secondary datacenter will be lost. For\nproduction environments, consider configuring ACL replication in your initial\ndatacenter bootstrapping process.`)))),mdx(\"h2\",{\"id\":\"advertise-address-parameters\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#advertise-address-parameters\",\"aria-label\":\"advertise address parameters permalink\"},`\\xbb`),`Advertise Address Parameters`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"advertise_addr\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#advertise_addr\",\"aria-label\":\"advertise_addr permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`advertise_addr`)),` Equivalent to the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/agent/config/cli-flags#_advertise\"},mdx(\"inlineCode\",{parentName:\"a\"},`-advertise`),` command-line flag`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"advertise_addr_ipv4\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#advertise_addr_ipv4\",\"aria-label\":\"advertise_addr_ipv4 permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`advertise_addr_ipv4`)),` This was added together with `,mdx(\"a\",{parentName:\"p\",\"href\":\"#advertise_addr_ipv6\"},mdx(\"inlineCode\",{parentName:\"a\"},`advertise_addr_ipv6`)),` to support dual stack IPv4/IPv6 environments. Using this, both IPv4 and IPv6 addresses can be specified and requested during eg service discovery.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"advertise_addr_ipv6\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#advertise_addr_ipv6\",\"aria-label\":\"advertise_addr_ipv6 permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`advertise_addr_ipv6`)),` This was added together with `,mdx(\"a\",{parentName:\"p\",\"href\":\"#advertise_addr_ipv4\"},mdx(\"inlineCode\",{parentName:\"a\"},`advertise_addr_ipv4`)),` to support dual stack IPv4/IPv6 environments. Using this, both IPv4 and IPv6 addresses can be specified and requested during eg service discovery.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"advertise_addr_wan\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#advertise_addr_wan\",\"aria-label\":\"advertise_addr_wan permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`advertise_addr_wan`)),` Equivalent to the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/agent/config/cli-flags#_advertise-wan\"},mdx(\"inlineCode\",{parentName:\"a\"},`-advertise-wan`),` command-line flag`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"advertise_addr_wan_ipv4\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#advertise_addr_wan_ipv4\",\"aria-label\":\"advertise_addr_wan_ipv4 permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`advertise_addr_wan_ipv4`)),` This was added together with `,mdx(\"a\",{parentName:\"p\",\"href\":\"#advertise_addr_wan_ipv6\"},mdx(\"inlineCode\",{parentName:\"a\"},`advertise_addr_wan_ipv6`)),` to support dual stack IPv4/IPv6 environments. Using this, both IPv4 and IPv6 addresses can be specified and requested during eg service discovery.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"advertise_addr_wan_ipv6\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#advertise_addr_wan_ipv6\",\"aria-label\":\"advertise_addr_wan_ipv6 permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`advertise_addr_wan_ipv6`)),` This was added together with `,mdx(\"a\",{parentName:\"p\",\"href\":\"#advertise_addr_wan_ipv4\"},mdx(\"inlineCode\",{parentName:\"a\"},`advertise_addr_wan_ipv4`)),` to support dual stack IPv4/IPv6 environments. Using this, both IPv4 and IPv6 addresses can be specified and requested during eg service discovery.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"advertise_reconnect_timeout\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#advertise_reconnect_timeout\",\"aria-label\":\"advertise_reconnect_timeout permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`advertise_reconnect_timeout`)),` This is a per-agent setting of the `,mdx(\"a\",{parentName:\"p\",\"href\":\"#reconnect_timeout\"},mdx(\"inlineCode\",{parentName:\"a\"},`reconnect_timeout`)),` parameter.\nThis agent will advertise to all other nodes in the cluster that after this timeout, the node may be completely\nremoved from the cluster. This may only be set on client agents and if unset then other nodes will use the main\n`,mdx(\"inlineCode\",{parentName:\"p\"},`reconnect_timeout`),` setting when determining when this node may be removed from the cluster.`))),mdx(\"h2\",{\"id\":\"bootstrap-parameters\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#bootstrap-parameters\",\"aria-label\":\"bootstrap parameters permalink\"},`\\xbb`),`Bootstrap Parameters`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"bootstrap-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#bootstrap-1\",\"aria-label\":\"bootstrap permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`bootstrap`)),` Equivalent to the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/agent/config/cli-flags#_bootstrap\"},mdx(\"inlineCode\",{parentName:\"a\"},`-bootstrap`),` command-line flag`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"bootstrap_expect\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#bootstrap_expect\",\"aria-label\":\"bootstrap_expect permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`bootstrap_expect`)),` Equivalent to the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/agent/config/cli-flags#_bootstrap_expect\"},mdx(\"inlineCode\",{parentName:\"a\"},`-bootstrap-expect`),` command-line flag`),`.`))),mdx(\"h2\",{\"id\":\"self-managed-hcp-parameters\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#self-managed-hcp-parameters\",\"aria-label\":\"self managed hcp parameters permalink\"},`\\xbb`),`Self-managed HCP Parameters`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"cloud\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#cloud\",\"aria-label\":\"cloud permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`cloud`)),` This object specifies settings for connecting self-managed clusters to HCP. This was added in Consul 1.14`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"client_id\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#client_id\",\"aria-label\":\"client_id permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`client_id`)),` The OAuth2 client ID for authentication with HCP. This can be overridden using the `,mdx(\"inlineCode\",{parentName:\"p\"},`HCP_CLIENT_ID`),` environment variable.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"client_secret\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#client_secret\",\"aria-label\":\"client_secret permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`client_secret`)),` The OAuth2 client secret for authentication with HCP. This can be overridden using the `,mdx(\"inlineCode\",{parentName:\"p\"},`HCP_CLIENT_SECRET`),` environment variable.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"resource_id\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#resource_id\",\"aria-label\":\"resource_id permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`resource_id`)),` The HCP resource identifier. This can be overridden using the `,mdx(\"inlineCode\",{parentName:\"p\"},`HCP_RESOURCE_ID`),` environment variable.`))))),mdx(\"h2\",{\"id\":\"service-mesh-parameters\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#connect-parameters\",\"aria-label\":\"service mesh parameters permalink\"},`\\xbb`),mdx(\"a\",{parentName:\"h2\",\"className\":\"__target-h __compat\",\"id\":\"connect-parameters\",\"aria-hidden\":\"true\"}),`Service Mesh Parameters`),mdx(\"p\",null,`The noun `,mdx(\"em\",{parentName:\"p\"},`connect`),` is used throughout this documentation to refer to the connect\nsubsystem that provides Consul's service mesh capabilities.`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"connect\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#connect\",\"aria-label\":\"connect permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`connect`)),` This object allows setting options for the Connect feature.`),mdx(\"p\",{parentName:\"li\"},`The following sub-keys are available:`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enabled-6\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"connect_enabled\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#connect_enabled\",\"aria-label\":\"enabled permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enabled`)),` (Defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`true`),`) Controls whether Connect features are\nenabled on this agent. Should be enabled on all servers in the cluster\nin order for service mesh to function properly.\nWill be set to `,mdx(\"inlineCode\",{parentName:\"p\"},`true`),` automatically if `,mdx(\"inlineCode\",{parentName:\"p\"},`auto_config.enabled`),` or `,mdx(\"inlineCode\",{parentName:\"p\"},`auto_encrypt.allow_tls`),` is `,mdx(\"inlineCode\",{parentName:\"p\"},`true`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enable_mesh_gateway_wan_federation\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"connect_enable_mesh_gateway_wan_federation\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#connect_enable_mesh_gateway_wan_federation\",\"aria-label\":\"enable_mesh_gateway_wan_federation permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enable_mesh_gateway_wan_federation`)),` (Defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`false`),`) Controls whether cross-datacenter federation traffic between servers is funneled\nthrough mesh gateways. This was added in Consul 1.8.0.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"ca_provider\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"connect_ca_provider\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#connect_ca_provider\",\"aria-label\":\"ca_provider permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`ca_provider`)),` Controls which CA provider to\nuse for the service mesh's CA. Currently only the `,mdx(\"inlineCode\",{parentName:\"p\"},`aws-pca`),`, `,mdx(\"inlineCode\",{parentName:\"p\"},`consul`),`, and `,mdx(\"inlineCode\",{parentName:\"p\"},`vault`),` providers are supported.\nThis is only used when initially bootstrapping the cluster. For an existing cluster,\nuse the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/api-docs/connect/ca#update-ca-configuration\"},`Update CA Configuration Endpoint`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"ca_config\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"connect_ca_config\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#connect_ca_config\",\"aria-label\":\"ca_config permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`ca_config`)),` An object which allows setting different\nconfig options based on the CA provider chosen. This is only used when initially\nbootstrapping the cluster. For an existing cluster, use the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/api-docs/connect/ca#update-ca-configuration\"},`Update CA Configuration\nEndpoint`),`.`),mdx(\"p\",{parentName:\"li\"},`The following providers are supported:`),mdx(\"h4\",{parentName:\"li\",\"id\":\"aws-acm-private-ca-provider-ca_provider-aws-pca\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#aws-acm-private-ca-provider-ca_provider-aws-pca\",\"aria-label\":\"aws acm private ca provider ca_provider aws pca permalink\"},`\\xbb`),`AWS ACM Private CA Provider (`,mdx(\"inlineCode\",{parentName:\"h4\"},`ca_provider = \"aws-pca\"`),`)`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"existing_arn\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"aws_ca_existing_arn\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#aws_ca_existing_arn\",\"aria-label\":\"existing_arn permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`existing_arn`)),` The Amazon Resource Name (ARN) of\nan existing private CA in your ACM account. If specified, Consul will\nattempt to use the existing CA to issue certificates.`)),mdx(\"h4\",{parentName:\"li\",\"id\":\"consul-ca-provider-ca_provider-consul\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#consul-ca-provider-ca_provider-consul\",\"aria-label\":\"consul ca provider ca_provider consul permalink\"},`\\xbb`),`Consul CA Provider (`,mdx(\"inlineCode\",{parentName:\"h4\"},`ca_provider = \"consul\"`),`)`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"private_key\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"consul_ca_private_key\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#consul_ca_private_key\",\"aria-label\":\"private_key permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`private_key`)),` The PEM contents of the\nprivate key to use for the CA.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"root_cert\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"consul_ca_root_cert\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#consul_ca_root_cert\",\"aria-label\":\"root_cert permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`root_cert`)),` The PEM contents of the root\ncertificate to use for the CA.`))),mdx(\"h4\",{parentName:\"li\",\"id\":\"vault-ca-provider-ca_provider-vault\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#vault-ca-provider-ca_provider-vault\",\"aria-label\":\"vault ca provider ca_provider vault permalink\"},`\\xbb`),`Vault CA Provider (`,mdx(\"inlineCode\",{parentName:\"h4\"},`ca_provider = \"vault\"`),`)`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"address\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"vault_ca_address\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#vault_ca_address\",\"aria-label\":\"address permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`address`)),` The address of the Vault server to\nconnect to.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"token\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"vault_ca_token\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#vault_ca_token\",\"aria-label\":\"token permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`token`)),` The Vault token to use. In Consul 1.8.5 and later, if\nthe token has the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/vault/api-docs/auth/token#renewable\"},`renewable`),`\nflag set, Consul will attempt to renew its lease periodically after half the\nduration has expired.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"root_pki_path\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"vault_ca_root_pki\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#vault_ca_root_pki\",\"aria-label\":\"root_pki_path permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`root_pki_path`)),` The path to use for the root\nCA pki backend in Vault. This can be an existing backend with a CA already\nconfigured, or a blank/unmounted backend in which case Consul will automatically\nmount/generate the CA. The Vault token given above must have `,mdx(\"inlineCode\",{parentName:\"p\"},`sudo`),` access\nto this backend, as well as permission to mount the backend at this path if\nit is not already mounted.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"intermediate_pki_path\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"vault_ca_intermediate_pki\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#vault_ca_intermediate_pki\",\"aria-label\":\"intermediate_pki_path permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`intermediate_pki_path`)),`\nThe path to use for the temporary intermediate CA pki backend in Vault. `,mdx(\"strong\",{parentName:\"p\"},`Consul\nwill overwrite any data at this path in order to generate a temporary intermediate\nCA`),`. The Vault token given above must have `,mdx(\"inlineCode\",{parentName:\"p\"},`write`),` access to this backend,\nas well as permission to mount the backend at this path if it is not already\nmounted.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"auth_method\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"vault_ca_auth_method\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#vault_ca_auth_method\",\"aria-label\":\"auth_method permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`auth_method`)),`\nVault auth method to use for logging in to Vault.\nPlease see `,mdx(\"a\",{parentName:\"p\",\"href\":\"/vault/docs/auth\"},`Vault Auth Methods`),` for more information\non how to configure individual auth methods. If auth method is provided, Consul will obtain a\nnew token from Vault when the token can no longer be renewed.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"type-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#type-1\",\"aria-label\":\"type permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`type`)),` The type of Vault auth method.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"mount_path\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#mount_path\",\"aria-label\":\"mount_path permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`mount_path`)),` The mount path of the auth method.\nIf not provided the auth method type will be used as the mount path.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"params\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#params\",\"aria-label\":\"params permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`params`)),` The parameters to configure the auth method.\nPlease see `,mdx(\"a\",{parentName:\"p\",\"href\":\"/vault/docs/auth\"},`Vault Auth Methods`),` for information on how\nto configure the auth method you wish to use. If using the Kubernetes auth method, Consul will\nread the service account token from the default mount path `,mdx(\"inlineCode\",{parentName:\"p\"},`/var/run/secrets/kubernetes.io/serviceaccount/token`),`\nif the `,mdx(\"inlineCode\",{parentName:\"p\"},`jwt`),` parameter is not provided.`))))),mdx(\"h4\",{parentName:\"li\",\"id\":\"common-ca-config-options\"},mdx(\"a\",{parentName:\"h4\",\"className\":\"__permalink-h\",\"href\":\"#common-ca-config-options\",\"aria-label\":\"common ca config options permalink\"},`\\xbb`),`Common CA Config Options`),mdx(\"p\",{parentName:\"li\"},`There are also a number of common configuration options supported by all providers:`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"csr_max_concurrent\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"ca_csr_max_concurrent\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#ca_csr_max_concurrent\",\"aria-label\":\"csr_max_concurrent permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`csr_max_concurrent`)),` Sets a limit on the number\nof Certificate Signing Requests that can be processed concurrently. Defaults\nto 0 (disabled). This is useful when you want to limit the number of CPU cores\navailable to the server for certificate signing operations. For example, on an\n8 core server, setting this to 1 will ensure that no more than one CPU core\nwill be consumed when generating or rotating certificates. Setting this is\nrecommended `,mdx(\"strong\",{parentName:\"p\"},`instead`),` of `,mdx(\"inlineCode\",{parentName:\"p\"},`csr_max_per_second`),` when you want to limit the\nnumber of cores consumed since it is simpler to reason about limiting CSR\nresources this way without artificially slowing down rotations. Added in 1.4.1.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"csr_max_per_second\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"ca_csr_max_per_second\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#ca_csr_max_per_second\",\"aria-label\":\"csr_max_per_second permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`csr_max_per_second`)),` Sets a rate limit\non the maximum number of Certificate Signing Requests (CSRs) the servers will\naccept. This is used to prevent CA rotation from causing unbounded CPU usage\non servers. It defaults to 50 which is conservative â€“ a 2017 Macbook can process\nabout 100 per second using only ~40% of one CPU core â€“ but sufficient for deployments\nup to ~1500 service instances before the time it takes to rotate is impacted.\nFor larger deployments we recommend increasing this based on the expected number\nof server instances and server resources, or use `,mdx(\"inlineCode\",{parentName:\"p\"},`csr_max_concurrent`),` instead\nif servers have more than one CPU core. Setting this to zero disables rate limiting.\nAdded in 1.4.1.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"leaf_cert_ttl\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"ca_leaf_cert_ttl\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#ca_leaf_cert_ttl\",\"aria-label\":\"leaf_cert_ttl permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`leaf_cert_ttl`)),` Specifies the upper bound on the expiry\nof a leaf certificate issued for a service. In most cases a new leaf\ncertificate will be requested by a proxy before this limit is reached. This\nis also the effective limit on how long a server outage can last (with no leader)\nbefore network connections will start being rejected. Defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`72h`),`.`),mdx(\"p\",{parentName:\"li\"},`You can specify a range from one hour (minimum) up to one year (maximum) using\nthe following units: `,mdx(\"inlineCode\",{parentName:\"p\"},`h`),`, `,mdx(\"inlineCode\",{parentName:\"p\"},`m`),`, `,mdx(\"inlineCode\",{parentName:\"p\"},`s`),`, `,mdx(\"inlineCode\",{parentName:\"p\"},`ms`),`, `,mdx(\"inlineCode\",{parentName:\"p\"},`us`),` (or `,mdx(\"inlineCode\",{parentName:\"p\"},`\\xb5s`),`), `,mdx(\"inlineCode\",{parentName:\"p\"},`ns`),`, or a combination\nof those units, e.g. `,mdx(\"inlineCode\",{parentName:\"p\"},`1h5m`),`.`),mdx(\"p\",{parentName:\"li\"},`This value is also used when rotating out old root certificates from\nthe cluster. When a root certificate has been inactive (rotated out)\nfor more than twice the `,mdx(\"em\",{parentName:\"p\"},`current`),` `,mdx(\"inlineCode\",{parentName:\"p\"},`leaf_cert_ttl`),`, it will be removed\nfrom the trusted list.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"intermediate_cert_ttl\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"ca_intermediate_cert_ttl\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#ca_intermediate_cert_ttl\",\"aria-label\":\"intermediate_cert_ttl permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`intermediate_cert_ttl`)),` Specifies the expiry for the\nintermediate certificates. Defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`8760h`),` (1 year). Must be at least 3 times `,mdx(\"inlineCode\",{parentName:\"p\"},`leaf_cert_ttl`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"root_cert_ttl\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"ca_root_cert_ttl\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#ca_root_cert_ttl\",\"aria-label\":\"root_cert_ttl permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`root_cert_ttl`)),` Specifies the expiry for a root certificate.\nDefaults to 10 years as `,mdx(\"inlineCode\",{parentName:\"p\"},`87600h`),`. This value, if provided, needs to be higher than the\nintermediate certificate TTL.`),mdx(\"p\",{parentName:\"li\"},`This setting applies to all Consul CA providers.`),mdx(\"p\",{parentName:\"li\"},`For the Vault provider, this value is only used if the backend is not initialized at first.`),mdx(\"p\",{parentName:\"li\"},`This value is also applied on the `,mdx(\"inlineCode\",{parentName:\"p\"},`ca set-config`),` command.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"private_key_type\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"ca_private_key_type\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#ca_private_key_type\",\"aria-label\":\"private_key_type permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`private_key_type`)),` The type of key to generate\nfor this CA. This is only used when the provider is generating a new key. If\n`,mdx(\"inlineCode\",{parentName:\"p\"},`private_key`),` is set for the Consul provider, or existing root or intermediate\nPKI paths given for Vault then this will be ignored. Currently supported options\nare `,mdx(\"inlineCode\",{parentName:\"p\"},`ec`),` or `,mdx(\"inlineCode\",{parentName:\"p\"},`rsa`),`. Default is `,mdx(\"inlineCode\",{parentName:\"p\"},`ec`),`.`),mdx(\"p\",{parentName:\"li\"},`It is required that all servers in a datacenter have\nthe same config for the CA. It is recommended that servers in\ndifferent datacenters use the same key type and size,\nalthough the built-in CA and Vault provider will both allow mixed CA\nkey types.`),mdx(\"p\",{parentName:\"li\"},`Some CA providers (currently Vault) will not allow cross-signing a\nnew CA certificate with a different key type. This means that if you\nmigrate from an RSA-keyed Vault CA to an EC-keyed CA from any\nprovider, you may have to proceed without cross-signing which risks\ntemporary connection issues for workloads during the new certificate\nrollout. We highly recommend testing this outside of production to\nunderstand the impact and suggest sticking to same key type where\npossible.`),mdx(\"p\",{parentName:\"li\"},`Note that this only affects `,mdx(\"em\",{parentName:\"p\"},`CA`),` keys generated by the provider.\nLeaf certificate keys are always EC 256 regardless of the CA\nconfiguration.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"private_key_bits\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"ca_private_key_bits\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#ca_private_key_bits\",\"aria-label\":\"private_key_bits permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`private_key_bits`)),` The length of key to\ngenerate for this CA. This is only used when the provider is generating a new\nkey. If `,mdx(\"inlineCode\",{parentName:\"p\"},`private_key`),` is set for the Consul provider, or existing root or intermediate\nPKI paths given for Vault then this will be ignored.`),mdx(\"p\",{parentName:\"li\"},`Currently supported values are:`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"private_key_type-ec\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#private_key_type-ec\",\"aria-label\":\"private_key_type ec permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`private_key_type = ec`)),` (default): `,mdx(\"inlineCode\",{parentName:\"li\"},`224, 256, 384, 521`),`\ncorresponding to the NIST P-`,`*`,` curves of the same name.`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"private_key_type-rsa\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#private_key_type-rsa\",\"aria-label\":\"private_key_type rsa permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`private_key_type = rsa`)),`: `,mdx(\"inlineCode\",{parentName:\"li\"},`2048, 4096`)))))))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"locality\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#locality\",\"aria-label\":\"locality permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`locality`)),` `,mdx(EnterpriseAlert,{inline:true,mdxType:\"EnterpriseAlert\"}),`: Specifies a map of configurations that set the region and zone of the Consul agent. When specified on server agents, `,mdx(\"inlineCode\",{parentName:\"p\"},`locality`),` applies to all partitions on the server. When specified on clients, `,mdx(\"inlineCode\",{parentName:\"p\"},`locality`),` applies to all services registered to the client. Configure this field to enable Consul to route traffic to the nearest physical service instance. This field is intended for use primarily with VM and Nomad workloads. Refer to `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/connect/manage-traffic/route-to-local-upstreams\"},`Route traffic to local upstreams`),` for additional information.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"region\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#region\",\"aria-label\":\"region permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`region`)),`:  String value that specifies the region where the Consul agent is running. Consul assigns this value to services registered to that agent. When service proxy regions match, Consul is able to prioritize routes between service instances in the same region over instances in other regions. You must specify values that are consistent with how regions are defined in your network, for example `,mdx(\"inlineCode\",{parentName:\"li\"},`us-west-1`),` for networks in AWS.`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"zone\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#zone\",\"aria-label\":\"zone permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`zone`)),`: String value that specifies the availability zone where the Consul agent is running. Consul assigns this value to services registered to that agent. When service proxy regions match, Consul is able to prioritize routes between service instances in the same region and zone over instances in other regions and zones. When healthy service instances are available in multiple zones within the most-local region, Consul prioritizes instances that also match the downstream proxy's `,mdx(\"inlineCode\",{parentName:\"li\"},`zone`),`. You must specify values that are consistent with how zones are defined in your network, for example `,mdx(\"inlineCode\",{parentName:\"li\"},`us-west-1a`),` for networks in AWS.`)))),mdx(\"h2\",{\"id\":\"dns-and-domain-parameters\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#dns-and-domain-parameters\",\"aria-label\":\"dns and domain parameters permalink\"},`\\xbb`),`DNS and Domain Parameters`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"dns_config\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#dns_config\",\"aria-label\":\"dns_config permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`dns_config`)),` This object allows a number of sub-keys\nto be set which can tune how DNS queries are serviced. Refer to `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/services/discovery/dns-cache\"},`DNS caching`),` for more information.`),mdx(\"p\",{parentName:\"li\"},`The following sub-keys are available:`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"allow_stale\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#allow_stale\",\"aria-label\":\"allow_stale permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`allow_stale`)),` - Enables a stale query for DNS information.\nThis allows any Consul server, rather than only the leader, to service the request.\nThe advantage of this is you get linear read scalability with Consul servers.\nIn versions of Consul prior to 0.7, this defaulted to false, meaning all requests\nare serviced by the leader, providing stronger consistency but less throughput\nand higher latency. In Consul 0.7 and later, this defaults to true for better\nutilization of available servers.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"max_stale\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#max_stale\",\"aria-label\":\"max_stale permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`max_stale`)),` - When `,mdx(\"a\",{parentName:\"p\",\"href\":\"#allow_stale\"},mdx(\"inlineCode\",{parentName:\"a\"},`allow_stale`)),` is\nspecified, this is used to limit how stale results are allowed to be. If a Consul\nserver is behind the leader by more than `,mdx(\"inlineCode\",{parentName:\"p\"},`max_stale`),`, the query will be re-evaluated\non the leader to get more up-to-date results. Prior to Consul 0.7.1 this defaulted\nto 5 seconds; in Consul 0.7.1 and later this defaults to 10 years (\"87600h\")\nwhich effectively allows DNS queries to be answered by any server, no matter\nhow stale. In practice, servers are usually only milliseconds behind the leader,\nso this lets Consul continue serving requests in long outage scenarios where\nno leader can be elected.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"node_ttl\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#node_ttl\",\"aria-label\":\"node_ttl permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`node_ttl`)),` - By default, this is \"0s\", so all node lookups\nare served with a 0 TTL value. DNS caching for node lookups can be enabled by\nsetting this value. This should be specified with the \"s\" suffix for second or\n\"m\" for minute.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"service_ttl\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#service_ttl\",\"aria-label\":\"service_ttl permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`service_ttl`)),` - This is a sub-object which allows\nfor setting a TTL on service lookups with a per-service policy. The \"`,`*`,`\" wildcard\nservice can be used when there is no specific policy available for a service.\nBy default, all services are served with a 0 TTL value. DNS caching for service\nlookups can be enabled by setting this value.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enable_truncate\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#enable_truncate\",\"aria-label\":\"enable_truncate permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enable_truncate`)),` - If set to true, a UDP DNS\nquery that would return more than 3 records, or more than would fit into a valid\nUDP response, will set the truncated flag, indicating to clients that they should\nre-query using TCP to get the full set of records.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"only_passing\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#only_passing\",\"aria-label\":\"only_passing permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`only_passing`)),` - If set to true, any nodes whose\nhealth checks are warning or critical will be excluded from DNS results. If false,\nthe default, only nodes whose health checks are failing as critical will be excluded.\nFor service lookups, the health checks of the node itself, as well as the service-specific\nchecks are considered. For example, if a node has a health check that is critical\nthen all services on that node will be excluded because they are also considered\ncritical.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"recursor_strategy\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#recursor_strategy\",\"aria-label\":\"recursor_strategy permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`recursor_strategy`)),` - If set to `,mdx(\"inlineCode\",{parentName:\"p\"},`sequential`),`, Consul will query recursors in the\norder listed in the `,mdx(\"a\",{parentName:\"p\",\"href\":\"#recursors\"},mdx(\"inlineCode\",{parentName:\"a\"},`recursors`)),` option. If set to `,mdx(\"inlineCode\",{parentName:\"p\"},`random`),`,\nConsul will query an upstream DNS resolvers in a random order. Defaults to\n`,mdx(\"inlineCode\",{parentName:\"p\"},`sequential`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"recursor_timeout\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#recursor_timeout\",\"aria-label\":\"recursor_timeout permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`recursor_timeout`)),` - Timeout used by Consul when\nrecursively querying an upstream DNS server. See `,mdx(\"a\",{parentName:\"p\",\"href\":\"#recursors\"},mdx(\"inlineCode\",{parentName:\"a\"},`recursors`)),` for more details. Default is 2s. This is available in Consul 0.7 and later.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"disable_compression\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#disable_compression\",\"aria-label\":\"disable_compression permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`disable_compression`)),` - If set to true, DNS\nresponses will not be compressed. Compression was added and enabled by default\nin Consul 0.7.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"udp_answer_limit\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#udp_answer_limit\",\"aria-label\":\"udp_answer_limit permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`udp_answer_limit`)),` - Limit the number of resource\nrecords contained in the answer section of a UDP-based DNS response. This parameter\napplies only to UDP DNS queries that are less than 512 bytes. This setting is\ndeprecated and replaced in Consul 1.0.7 by `,mdx(\"a\",{parentName:\"p\",\"href\":\"#a_record_limit\"},mdx(\"inlineCode\",{parentName:\"a\"},`a_record_limit`)),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"a_record_limit\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#a_record_limit\",\"aria-label\":\"a_record_limit permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`a_record_limit`)),` - Limit the number of resource\nrecords contained in the answer section of a A, AAAA or ANY DNS response (both\nTCP and UDP). When answering a question, Consul will use the complete list of\nmatching hosts, shuffle the list randomly, and then limit the number of answers\nto `,mdx(\"inlineCode\",{parentName:\"p\"},`a_record_limit`),` (default: no limit). This limit does not apply to SRV records.`),mdx(\"p\",{parentName:\"li\"},`In environments where `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://tools.ietf.org/html/rfc3484#section-6\"},`RFC 3484 Section 6`),` Rule 9\nis implemented and enforced (i.e. DNS answers are always sorted and\ntherefore never random), clients may need to set this value to `,mdx(\"inlineCode\",{parentName:\"p\"},`1`),` to\npreserve the expected randomized distribution behavior (note:\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"https://tools.ietf.org/html/rfc3484\"},`RFC 3484`),` has been obsoleted by\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"https://tools.ietf.org/html/rfc6724\"},`RFC 6724`),` and as a result it should\nbe increasingly uncommon to need to change this value with modern\nresolvers).`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enable_additional_node_meta_txt\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#enable_additional_node_meta_txt\",\"aria-label\":\"enable_additional_node_meta_txt permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enable_additional_node_meta_txt`)),` - When set to true, Consul\nwill add TXT records for Node metadata into the Additional section of the DNS responses for several query types such as SRV queries. When set to false those records are not emitted. This does not impact the behavior of those same TXT records when they would be added to the Answer section of the response like when querying with type TXT or ANY. This defaults to true.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"soa\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#soa\",\"aria-label\":\"soa permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`soa`)),` Allow to tune the setting set up in SOA. Non specified\nvalues fallback to their default values, all values are integers and expressed\nas seconds.`),mdx(\"p\",{parentName:\"li\"},`The following settings are available:`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"expire\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"soa_expire\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#soa_expire\",\"aria-label\":\"expire permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`expire`)),` - Configure SOA Expire duration in seconds,\ndefault value is 86400, ie: 24 hours.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"min_ttl\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"soa_min_ttl\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#soa_min_ttl\",\"aria-label\":\"min_ttl permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`min_ttl`)),` - Configure SOA DNS minimum TTL. As explained\nin `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://tools.ietf.org/html/rfc2308\"},`RFC-2308`),` this also controls negative\ncache TTL in most implementations. Default value is 0, ie: no minimum delay\nor negative TTL.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"refresh\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"soa_refresh\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#soa_refresh\",\"aria-label\":\"refresh permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`refresh`)),` - Configure SOA Refresh duration in seconds,\ndefault value is `,mdx(\"inlineCode\",{parentName:\"p\"},`3600`),`, ie: 1 hour.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"retry\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"soa_retry\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#soa_retry\",\"aria-label\":\"retry permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`retry`)),` - Configures the Retry duration expressed\nin seconds, default value is 600, ie: 10 minutes.`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"use_cache-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"dns_use_cache\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#dns_use_cache\",\"aria-label\":\"use_cache permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`use_cache`)),` - When set to true, DNS resolution will\nuse the agent cache described in `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/api-docs/features/caching\"},`agent caching`),`.\nThis setting affects all service and prepared queries DNS requests. Implies `,mdx(\"a\",{parentName:\"p\",\"href\":\"#allow_stale\"},mdx(\"inlineCode\",{parentName:\"a\"},`allow_stale`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"cache_max_age\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"dns_cache_max_age\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#dns_cache_max_age\",\"aria-label\":\"cache_max_age permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`cache_max_age`)),` - When `,mdx(\"a\",{parentName:\"p\",\"href\":\"#dns_use_cache\"},`use_cache`),`\nis enabled, the agent will attempt to re-fetch the result from the servers if\nthe cached value is older than this duration. See: `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/api-docs/features/caching\"},`agent caching`),`.`),mdx(\"p\",{parentName:\"li\"},mdx(\"strong\",{parentName:\"p\"},`Note`),` that unlike the `,mdx(\"inlineCode\",{parentName:\"p\"},`max-age`),` HTTP header, a value of 0 for this field is\nequivalent to \"no max age\". To get a fresh value from the cache use a very small value\nof `,mdx(\"inlineCode\",{parentName:\"p\"},`1ns`),` instead of 0.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"prefer_namespace\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"dns_prefer_namespace\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#dns_prefer_namespace\",\"aria-label\":\"prefer_namespace permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`prefer_namespace`)),` `,mdx(EnterpriseAlert,{inline:true,mdxType:\"EnterpriseAlert\"}),` `,mdx(\"strong\",{parentName:\"p\"},`Deprecated in Consul 1.11.\nUse the `,mdx(\"a\",{parentName:\"strong\",\"href\":\"/consul/docs/services/discovery/dns-static-lookups#service-lookups-for-consul-enterprise\"},`canonical DNS format for enterprise service lookups`),` instead.`),` -\nWhen set to `,mdx(\"inlineCode\",{parentName:\"p\"},`true`),`, in a DNS query for a service, a single label between the domain\nand the `,mdx(\"inlineCode\",{parentName:\"p\"},`service`),` label is treated as a namespace name instead of a datacenter.\nWhen set to `,mdx(\"inlineCode\",{parentName:\"p\"},`false`),`, the default, the behavior is the same as non-Enterprise\nversions and treats the single label as the datacenter.`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"domain\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#domain\",\"aria-label\":\"domain permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`domain`)),` Equivalent to the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/agent/config/cli-flags#_domain\"},mdx(\"inlineCode\",{parentName:\"a\"},`-domain`),` command-line flag`),`.`))),mdx(\"h2\",{\"id\":\"encryption-parameters\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#encryption-parameters\",\"aria-label\":\"encryption parameters permalink\"},`\\xbb`),`Encryption Parameters`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"auto_encrypt\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#auto_encrypt\",\"aria-label\":\"auto_encrypt permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`auto_encrypt`)),` This object allows setting options for the `,mdx(\"inlineCode\",{parentName:\"p\"},`auto_encrypt`),` feature.`),mdx(\"p\",{parentName:\"li\"},`The following sub-keys are available:`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"allow_tls\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#allow_tls\",\"aria-label\":\"allow_tls permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`allow_tls`)),` (Defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`false`),`) This option enables\n`,mdx(\"inlineCode\",{parentName:\"p\"},`auto_encrypt`),` on the servers and allows them to automatically distribute certificates\nfrom the service mesh CA to the clients. If enabled, the server can accept incoming\nconnections from both the built-in CA and the service mesh CA, as well as their certificates.\nNote, the server will only present the built-in CA and certificate, which the\nclient can verify using the CA it received from `,mdx(\"inlineCode\",{parentName:\"p\"},`auto_encrypt`),` endpoint. If disabled,\na client configured with `,mdx(\"inlineCode\",{parentName:\"p\"},`auto_encrypt.tls`),` will be unable to start.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"tls\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#tls\",\"aria-label\":\"tls permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`tls`)),` (Defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`false`),`) Allows the client to request the\nservice mesh CA and certificates from the servers, for encrypting RPC communication.\nThe client will make the request to any servers listed in the `,mdx(\"inlineCode\",{parentName:\"p\"},`-retry-join`),`\noption. This requires that every server to have `,mdx(\"inlineCode\",{parentName:\"p\"},`auto_encrypt.allow_tls`),` enabled.\nWhen both `,mdx(\"inlineCode\",{parentName:\"p\"},`auto_encrypt`),` options are used, it allows clients to receive certificates\nthat are generated on the servers. If the `,mdx(\"inlineCode\",{parentName:\"p\"},`-server-port`),` is not the default one,\nit has to be provided to the client as well. Usually this is discovered through\nLAN gossip, but `,mdx(\"inlineCode\",{parentName:\"p\"},`auto_encrypt`),` provision happens before the information can be\ndistributed through gossip. The most secure `,mdx(\"inlineCode\",{parentName:\"p\"},`auto_encrypt`),` setup is when the\nclient is provided with the built-in CA, `,mdx(\"inlineCode\",{parentName:\"p\"},`verify_server_hostname`),` is turned on,\nand when an ACL token with `,mdx(\"inlineCode\",{parentName:\"p\"},`node.write`),` permissions is setup. It is also possible\nto use `,mdx(\"inlineCode\",{parentName:\"p\"},`auto_encrypt`),` with a CA and ACL, but without `,mdx(\"inlineCode\",{parentName:\"p\"},`verify_server_hostname`),`,\nor only with a ACL enabled, or only with CA and `,mdx(\"inlineCode\",{parentName:\"p\"},`verify_server_hostname`),`, or\nonly with a CA, or finally without a CA and without ACL enabled. In any case,\nthe communication to the `,mdx(\"inlineCode\",{parentName:\"p\"},`auto_encrypt`),` endpoint is always TLS encrypted.`),mdx(\"div\",{parentName:\"li\",\"className\":\"alert alert-warning g-type-body\"},mdx(\"p\",{parentName:\"div\"},``,mdx(\"strong\",{parentName:\"p\"},`Warning:`),` Enabling `,mdx(\"inlineCode\",{parentName:\"p\"},`auto_encrypt.tls`),` conflicts with the `,mdx(\"a\",{parentName:\"p\",\"href\":\"#auto_config\"},mdx(\"inlineCode\",{parentName:\"a\"},`auto_config`)),` feature.\nOnly one option may be specified.`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"dns_san\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#dns_san\",\"aria-label\":\"dns_san permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`dns_san`)),` (Defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`[]`),`) When this option is being\nused, the certificates requested by `,mdx(\"inlineCode\",{parentName:\"p\"},`auto_encrypt`),` from the server have these\n`,mdx(\"inlineCode\",{parentName:\"p\"},`dns_san`),` set as DNS SAN.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"ip_san\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#ip_san\",\"aria-label\":\"ip_san permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`ip_san`)),` (Defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`[]`),`) When this option is being used,\nthe certificates requested by `,mdx(\"inlineCode\",{parentName:\"p\"},`auto_encrypt`),` from the server have these `,mdx(\"inlineCode\",{parentName:\"p\"},`ip_san`),`\nset as IP SAN.`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"encrypt\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#encrypt\",\"aria-label\":\"encrypt permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`encrypt`)),` Equivalent to the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/agent/config/cli-flags#_encrypt\"},mdx(\"inlineCode\",{parentName:\"a\"},`-encrypt`),` command-line flag`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"encrypt_verify_incoming\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#encrypt_verify_incoming\",\"aria-label\":\"encrypt_verify_incoming permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`encrypt_verify_incoming`)),` - This is an optional\nparameter that can be used to disable enforcing encryption for incoming gossip\nin order to upshift from unencrypted to encrypted gossip on a running cluster.\nSee `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/security/encryption#configuring-gossip-encryption-on-an-existing-cluster\"},`this section`),`\nfor more information. Defaults to true.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"encrypt_verify_outgoing\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#encrypt_verify_outgoing\",\"aria-label\":\"encrypt_verify_outgoing permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`encrypt_verify_outgoing`)),` - This is an optional\nparameter that can be used to disable enforcing encryption for outgoing gossip\nin order to upshift from unencrypted to encrypted gossip on a running cluster.\nSee `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/security/encryption#configuring-gossip-encryption-on-an-existing-cluster\"},`this section`),`\nfor more information. Defaults to true.`))),mdx(\"h2\",{\"id\":\"gossip-parameters\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#gossip-parameters\",\"aria-label\":\"gossip parameters permalink\"},`\\xbb`),`Gossip Parameters`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"gossip_lan\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#gossip_lan\",\"aria-label\":\"gossip_lan permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`gossip_lan`)),` - `,mdx(\"strong\",{parentName:\"p\"},`(Advanced)`),` This object contains a\nnumber of sub-keys which can be set to tune the LAN gossip communications. These\nare only provided for users running especially large clusters that need fine tuning\nand are prepared to spend significant effort correctly tuning them for their environment\nand workload. `,mdx(\"strong\",{parentName:\"p\"},`Tuning these improperly can cause Consul to fail in unexpected\nways`),`. The default values are appropriate in almost all deployments.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"gossip_nodes\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#gossip_nodes\",\"aria-label\":\"gossip_nodes permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`gossip_nodes`)),` - The number of random nodes to send\ngossip messages to per gossip_interval. Increasing this number causes the gossip\nmessages to propagate across the cluster more quickly at the expense of increased\nbandwidth. The default is 3.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"gossip_interval\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#gossip_interval\",\"aria-label\":\"gossip_interval permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`gossip_interval`)),` - The interval between sending\nmessages that need to be gossiped that haven't been able to piggyback on probing\nmessages. If this is set to zero, non-piggyback gossip is disabled. By lowering\nthis value (more frequent) gossip messages are propagated across the cluster\nmore quickly at the expense of increased bandwidth. The default is 200ms.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"probe_interval\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#probe_interval\",\"aria-label\":\"probe_interval permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`probe_interval`)),` - The interval between random\nnode probes. Setting this lower (more frequent) will cause the cluster to detect\nfailed nodes more quickly at the expense of increased bandwidth usage. The default\nis 1s.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"probe_timeout\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#probe_timeout\",\"aria-label\":\"probe_timeout permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`probe_timeout`)),` - The timeout to wait for an ack\nfrom a probed node before assuming it is unhealthy. This should be at least the\n99-percentile of RTT (round-trip time) on your network. The default is 500ms\nand is a conservative value suitable for almost all realistic deployments.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"retransmit_mult\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#retransmit_mult\",\"aria-label\":\"retransmit_mult permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`retransmit_mult`)),` - The multiplier for the number\nof retransmissions that are attempted for messages broadcasted over gossip. The\nnumber of retransmits is scaled using this multiplier and the cluster size. The\nhigher the multiplier, the more likely a failed broadcast is to converge at the\nexpense of increased bandwidth. The default is 4.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"suspicion_mult\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#suspicion_mult\",\"aria-label\":\"suspicion_mult permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`suspicion_mult`)),` - The multiplier for determining\nthe time an inaccessible node is considered suspect before declaring it dead.\nThe timeout is scaled with the cluster size and the probe_interval. This allows\nthe timeout to scale properly with expected propagation delay with a larger cluster\nsize. The higher the multiplier, the longer an inaccessible node is considered\npart of the cluster before declaring it dead, giving that suspect node more time\nto refute if it is indeed still alive. The default is 4.`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"gossip_wan\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#gossip_wan\",\"aria-label\":\"gossip_wan permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`gossip_wan`)),` - `,mdx(\"strong\",{parentName:\"p\"},`(Advanced)`),` This object contains a\nnumber of sub-keys which can be set to tune the WAN gossip communications. These\nare only provided for users running especially large clusters that need fine tuning\nand are prepared to spend significant effort correctly tuning them for their environment\nand workload. `,mdx(\"strong\",{parentName:\"p\"},`Tuning these improperly can cause Consul to fail in unexpected\nways`),`. The default values are appropriate in almost all deployments.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"gossip_nodes-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#gossip_nodes-1\",\"aria-label\":\"gossip_nodes permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`gossip_nodes`)),` - The number of random nodes to send\ngossip messages to per gossip_interval. Increasing this number causes the gossip\nmessages to propagate across the cluster more quickly at the expense of increased\nbandwidth. The default is 4.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"gossip_interval-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#gossip_interval-1\",\"aria-label\":\"gossip_interval permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`gossip_interval`)),` - The interval between sending\nmessages that need to be gossiped that haven't been able to piggyback on probing\nmessages. If this is set to zero, non-piggyback gossip is disabled. By lowering\nthis value (more frequent) gossip messages are propagated across the cluster\nmore quickly at the expense of increased bandwidth. The default is 500ms.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"probe_interval-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#probe_interval-1\",\"aria-label\":\"probe_interval permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`probe_interval`)),` - The interval between random\nnode probes. Setting this lower (more frequent) will cause the cluster to detect\nfailed nodes more quickly at the expense of increased bandwidth usage. The default\nis 5s.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"probe_timeout-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#probe_timeout-1\",\"aria-label\":\"probe_timeout permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`probe_timeout`)),` - The timeout to wait for an ack\nfrom a probed node before assuming it is unhealthy. This should be at least the\n99-percentile of RTT (round-trip time) on your network. The default is 3s\nand is a conservative value suitable for almost all realistic deployments.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"retransmit_mult-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#retransmit_mult-1\",\"aria-label\":\"retransmit_mult permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`retransmit_mult`)),` - The multiplier for the number\nof retransmissions that are attempted for messages broadcasted over gossip. The\nnumber of retransmits is scaled using this multiplier and the cluster size. The\nhigher the multiplier, the more likely a failed broadcast is to converge at the\nexpense of increased bandwidth. The default is 4.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"suspicion_mult-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#suspicion_mult-1\",\"aria-label\":\"suspicion_mult permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`suspicion_mult`)),` - The multiplier for determining\nthe time an inaccessible node is considered suspect before declaring it dead.\nThe timeout is scaled with the cluster size and the probe_interval. This allows\nthe timeout to scale properly with expected propagation delay with a larger cluster\nsize. The higher the multiplier, the longer an inaccessible node is considered\npart of the cluster before declaring it dead, giving that suspect node more time\nto refute if it is indeed still alive. The default is 6.`))))),mdx(\"h2\",{\"id\":\"join-parameters\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#join-parameters\",\"aria-label\":\"join parameters permalink\"},`\\xbb`),`Join Parameters`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"rejoin_after_leave\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#rejoin_after_leave\",\"aria-label\":\"rejoin_after_leave permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`rejoin_after_leave`)),` Equivalent to the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/agent/config/cli-flags#_rejoin\"},mdx(\"inlineCode\",{parentName:\"a\"},`-rejoin`),` command-line flag`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"retry_join\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#retry_join\",\"aria-label\":\"retry_join permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`retry_join`)),` - Equivalent to the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/agent/config/cli-flags#retry-join\"},mdx(\"inlineCode\",{parentName:\"a\"},`-retry-join`)),` command-line flag.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"retry_interval\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#retry_interval\",\"aria-label\":\"retry_interval permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`retry_interval`)),` Equivalent to the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/agent/config/cli-flags#_retry_interval\"},mdx(\"inlineCode\",{parentName:\"a\"},`-retry-interval`),` command-line flag`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"retry_max\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#retry_max\",\"aria-label\":\"retry_max permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`retry_max`)),` - Equivalent to the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/agent/config/cli-flags#_retry_max\"},mdx(\"inlineCode\",{parentName:\"a\"},`-retry-max`)),` command-line flag.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"retry_join_wan\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#retry_join_wan\",\"aria-label\":\"retry_join_wan permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`retry_join_wan`)),` Equivalent to the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/agent/config/cli-flags#_retry_join_wan\"},mdx(\"inlineCode\",{parentName:\"a\"},`-retry-join-wan`),` command-line flag`),`. Takes a list of addresses to attempt joining to WAN every `,mdx(\"a\",{parentName:\"p\",\"href\":\"#_retry_interval_wan\"},mdx(\"inlineCode\",{parentName:\"a\"},`retry_interval_wan`)),` until at least one join works.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"retry_interval_wan\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#retry_interval_wan\",\"aria-label\":\"retry_interval_wan permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`retry_interval_wan`)),` Equivalent to the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/agent/config/cli-flags#_retry_interval_wan\"},mdx(\"inlineCode\",{parentName:\"a\"},`-retry-interval-wan`),` command-line flag`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"start_join\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#start_join\",\"aria-label\":\"start_join permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`start_join`)),` `,mdx(\"strong\",{parentName:\"p\"},`Deprecated in Consul 1.15. Use the `,mdx(\"a\",{parentName:\"strong\",\"href\":\"/consul/docs/agent/config/config-files#retry_join\"},mdx(\"inlineCode\",{parentName:\"a\"},`retry_join`)),` field instead. This field will be removed in a future version of Consul.`),`\nThis field is an alias of `,mdx(\"inlineCode\",{parentName:\"p\"},`retry_join`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"start_join_wan\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#start_join_wan\",\"aria-label\":\"start_join_wan permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`start_join_wan`)),` `,mdx(\"strong\",{parentName:\"p\"},`Deprecated in Consul 1.15. Use the `,mdx(\"a\",{parentName:\"strong\",\"href\":\"/consul/docs/agent/config/config-files#retry_join_wan\"},mdx(\"inlineCode\",{parentName:\"a\"},`retry_join_wan`)),` field instead. This field will be removed in a future version of Consul.`),`\nThis field is an alias of `,mdx(\"inlineCode\",{parentName:\"p\"},`retry_join_wan`),`.`))),mdx(\"h2\",{\"id\":\"log-parameters\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#log-parameters\",\"aria-label\":\"log parameters permalink\"},`\\xbb`),`Log Parameters`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"log_file\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#log_file\",\"aria-label\":\"log_file permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`log_file`)),` Equivalent to the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/agent/config/cli-flags#_log_file\"},mdx(\"inlineCode\",{parentName:\"a\"},`-log-file`),` command-line flag`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"log_rotate_duration\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#log_rotate_duration\",\"aria-label\":\"log_rotate_duration permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`log_rotate_duration`)),` Equivalent to the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/agent/config/cli-flags#_log_rotate_duration\"},mdx(\"inlineCode\",{parentName:\"a\"},`-log-rotate-duration`),` command-line flag`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"log_rotate_bytes\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#log_rotate_bytes\",\"aria-label\":\"log_rotate_bytes permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`log_rotate_bytes`)),` Equivalent to the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/agent/config/cli-flags#_log_rotate_bytes\"},mdx(\"inlineCode\",{parentName:\"a\"},`-log-rotate-bytes`),` command-line flag`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"log_rotate_max_files\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#log_rotate_max_files\",\"aria-label\":\"log_rotate_max_files permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`log_rotate_max_files`)),` Equivalent to the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/agent/config/cli-flags#_log_rotate_max_files\"},mdx(\"inlineCode\",{parentName:\"a\"},`-log-rotate-max-files`),` command-line flag`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"log_level\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#log_level\",\"aria-label\":\"log_level permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`log_level`)),` Equivalent to the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/agent/config/cli-flags#_log_level\"},mdx(\"inlineCode\",{parentName:\"a\"},`-log-level`),` command-line flag`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"log_json\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#log_json\",\"aria-label\":\"log_json permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`log_json`)),` Equivalent to the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/agent/config/cli-flags#_log_json\"},mdx(\"inlineCode\",{parentName:\"a\"},`-log-json`),` command-line flag`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enable_syslog\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#enable_syslog\",\"aria-label\":\"enable_syslog permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enable_syslog`)),` Equivalent to the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/agent/config/cli-flags#_syslog\"},mdx(\"inlineCode\",{parentName:\"a\"},`-syslog`),` command-line flag`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"syslog_facility\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#syslog_facility\",\"aria-label\":\"syslog_facility permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`syslog_facility`)),` When `,mdx(\"a\",{parentName:\"p\",\"href\":\"#enable_syslog\"},mdx(\"inlineCode\",{parentName:\"a\"},`enable_syslog`)),`\nis provided, this controls to which facility messages are sent. By default, `,mdx(\"inlineCode\",{parentName:\"p\"},`LOCAL0`),`\nwill be used.`))),mdx(\"h2\",{\"id\":\"node-parameters\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#node-parameters\",\"aria-label\":\"node parameters permalink\"},`\\xbb`),`Node Parameters`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"node_id\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#node_id\",\"aria-label\":\"node_id permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`node_id`)),` Equivalent to the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/agent/config/cli-flags#_node_id\"},mdx(\"inlineCode\",{parentName:\"a\"},`-node-id`),` command-line flag`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"node_name\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#node_name\",\"aria-label\":\"node_name permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`node_name`)),` Equivalent to the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/agent/config/cli-flags#_node\"},mdx(\"inlineCode\",{parentName:\"a\"},`-node`),` command-line flag`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"node_meta\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#node_meta\",\"aria-label\":\"node_meta permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`node_meta`)),` Available in Consul 0.7.3 and later, This object allows associating arbitrary metadata key/value pairs with the local node, which can then be used for filtering results from certain catalog endpoints. See the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/agent/config/cli-flags#_node_meta\"},mdx(\"inlineCode\",{parentName:\"a\"},`-node-meta`),` command-line flag`),` for more information.`),mdx(CodeTabs,{heading:\"Example node_meta configuration\",mdxType:\"CodeTabs\"},mdx(\"pre\",{parentName:\"li\",\"className\":\"language-hcl\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-hcl\"},mdx(\"span\",{parentName:\"code\",\"className\":\"token keyword\"},`node_meta`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`{`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`instance_type`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`=`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"t2.medium\"`),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`}`),`\n`)),mdx(\"pre\",{parentName:\"li\",\"className\":\"language-json\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-json\"},mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`{`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`\"node_meta\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`{`),`\n`,`    `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`\"instance_type\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"t2.medium\"`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`}`),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`}`),`\n`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"disable_host_node_id\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#disable_host_node_id\",\"aria-label\":\"disable_host_node_id permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`disable_host_node_id`)),` Equivalent to the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/agent/config/cli-flags#_disable_host_node_id\"},mdx(\"inlineCode\",{parentName:\"a\"},`-disable-host-node-id`),` command-line flag`),`.`))),mdx(\"h2\",{\"id\":\"raft-parameters\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#raft-parameters\",\"aria-label\":\"raft parameters permalink\"},`\\xbb`),`Raft Parameters`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"raft_boltdb\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"raft_boltdb\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#raft_boltdb\",\"aria-label\":\"raft_boltdb permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`raft_boltdb`)),` `,mdx(\"strong\",{parentName:\"p\"},`These fields are deprecated in Consul v1.15.0.\nUse `,mdx(\"a\",{parentName:\"strong\",\"href\":\"#raft_logstore\"},mdx(\"inlineCode\",{parentName:\"a\"},`raft_logstore`)),` instead.`),` This is a nested\nobject that allows configuring options for Raft's BoltDB-based log store.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"nofreelistsync\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#nofreelistsync\",\"aria-label\":\"nofreelistsync permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`NoFreelistSync`)),` `,mdx(\"strong\",{parentName:\"li\"},`This field is deprecated in Consul v1.15.0. Use the\n`,mdx(\"a\",{parentName:\"strong\",\"href\":\"#raft_logstore_boltdb_no_freelist_sync\"},mdx(\"inlineCode\",{parentName:\"a\"},`raft_logstore.boltdb.no_freelist_sync`)),` field\ninstead.`),` Setting this to `,mdx(\"inlineCode\",{parentName:\"li\"},`true`),` disables syncing the BoltDB freelist\nto disk within the raft.db file. Not syncing the freelist to disk\nreduces disk IO required for write operations at the expense of potentially\nincreasing start up time due to needing to scan the db to discover where the\nfree space resides within the file.`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"raft_logstore\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"raft_logstore\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#raft_logstore\",\"aria-label\":\"raft_logstore permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`raft_logstore`)),` This is a nested object that allows\nconfiguring options for Raft's LogStore component which is used to persist\nlogs and crucial Raft state on disk during writes. This was added in Consul\nv1.15.0.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"backend\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"raft_logstore_backend\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#raft_logstore_backend\",\"aria-label\":\"backend permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`backend`)),` Specifies which storage\nengine to use to persist logs. Valid options are `,mdx(\"inlineCode\",{parentName:\"p\"},`boltdb`),` or `,mdx(\"inlineCode\",{parentName:\"p\"},`wal`),`. Default\nis `,mdx(\"inlineCode\",{parentName:\"p\"},`boltdb`),`. The `,mdx(\"inlineCode\",{parentName:\"p\"},`wal`),` option specifies an experimental backend that\nshould be used with caution. Refer to\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/agent/wal-logstore\"},`Experimental WAL LogStore backend`),`\nfor more information.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"disable_log_cache\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"raft_logstore_disable_log_cache\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#raft_logstore_disable_log_cache\",\"aria-label\":\"disable_log_cache permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`disable_log_cache`)),` Disables the in-memory cache for recent logs. We recommend using it for performance testing purposes, as no significant improvement has been measured when the cache is disabled. While the in-memory log cache theoretically prevents disk reads for recent logs, recent logs are also stored in the OS page cache, which does not slow either the `,mdx(\"inlineCode\",{parentName:\"p\"},`boltdb`),` or `,mdx(\"inlineCode\",{parentName:\"p\"},`wal`),` backend's ability to read them.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"verification\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"raft_logstore_verification\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#raft_logstore_verification\",\"aria-label\":\"verification permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`verification`)),` This is a nested object that\nallows configuring the online verification of the LogStore. Verification\nprovides additional assurances that LogStore backends are correctly storing\ndata. It imposes low overhead on servers and is safe to run in\nproduction. It is most useful when evaluating a new backend\nimplementation.`),mdx(\"p\",{parentName:\"li\"},`Verification must be enabled on the leader to have any effect and can be\nused with any backend. When enabled, the leader periodically writes a\nspecial \"checkpoint\" log message that includes the checksums of all log entries\nwritten to Raft since the last checkpoint. Followers that have verification\nenabled run a background task for each checkpoint that reads all logs\ndirectly from the LogStore and then recomputes the checksum. A report is output\nas an INFO level log for each checkpoint.`),mdx(\"p\",{parentName:\"li\"},`Checksum failure should never happen and indicate unrecoverable corruption\non that server. The only correct response is to stop the server, remove its\ndata directory, and restart so it can be caught back up with a correct\nserver again. Please report verification failures including details about\nyour hardware and workload via GitHub issues. Refer to\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/agent/wal-logstore\"},`Experimental WAL LogStore backend`),`\nfor more information.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enabled-7\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"raft_logstore_verification_enabled\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#raft_logstore_verification_enabled\",\"aria-label\":\"enabled permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enabled`)),` - Set to `,mdx(\"inlineCode\",{parentName:\"p\"},`true`),` to\nallow this Consul server to write and verify log verification checkpoints\nwhen elected leader.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"interval\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"raft_logstore_verification_interval\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#raft_logstore_verification_interval\",\"aria-label\":\"interval permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`interval`)),` - Specifies the time\ninterval between checkpoints. There is no default value. You must\nconfigure the `,mdx(\"inlineCode\",{parentName:\"p\"},`interval`),` and set `,mdx(\"a\",{parentName:\"p\",\"href\":\"#raft_logstore_verification_enabled\"},mdx(\"inlineCode\",{parentName:\"a\"},`enabled`)),`\nto `,mdx(\"inlineCode\",{parentName:\"p\"},`true`),` to correctly enable intervals. We recommend using an interval\nbetween `,mdx(\"inlineCode\",{parentName:\"p\"},`30s`),` and `,mdx(\"inlineCode\",{parentName:\"p\"},`5m`),`. The performance overhead is insignificant when the\ninterval is set to `,mdx(\"inlineCode\",{parentName:\"p\"},`5m`),` or less.`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"boltdb\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"raft_logstore_boltdb\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#raft_logstore_boltdb\",\"aria-label\":\"boltdb permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`boltdb`)),` - Object that configures options for\nRaft's `,mdx(\"inlineCode\",{parentName:\"p\"},`boltdb`),` backend. It has no effect if the `,mdx(\"inlineCode\",{parentName:\"p\"},`backend`),` is not `,mdx(\"inlineCode\",{parentName:\"p\"},`boltdb`),`.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"no_freelist_sync\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"raft_logstore_boltdb_no_freelist_sync\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#raft_logstore_boltdb_no_freelist_sync\",\"aria-label\":\"no_freelist_sync permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`no_freelist_sync`)),` - Set to\n`,mdx(\"inlineCode\",{parentName:\"li\"},`true`),` to disable storing BoltDB's freelist to disk within the\n`,mdx(\"inlineCode\",{parentName:\"li\"},`raft.db`),` file. Disabling freelist syncs reduces the disk IO required\nfor write operations, but could potentially increase start up time\nbecause Consul must scan the database to find free space\nwithin the file.`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"wal\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"raft_logstore_wal\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#raft_logstore_wal\",\"aria-label\":\"wal permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`wal`)),` - Object that configures the `,mdx(\"inlineCode\",{parentName:\"p\"},`wal`),` backend.\nRefer to `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/agent/wal-logstore\"},`Experimental WAL LogStore backend`),`\nfor more information.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"segment_size_mb\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"raft_logstore_wal_segment_size_mb\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#raft_logstore_wal_segment_size_mb\",\"aria-label\":\"segment_size_mb permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`segment_size_mb`)),` - Integer value\nthat represents the target size in MB for each segment file before\nrolling to a new segment. The default value is `,mdx(\"inlineCode\",{parentName:\"li\"},`64`),` and is suitable for\nmost deployments. While a smaller value may use less disk space because you\ncan reclaim space by deleting old segments sooner, the smaller segment that results\nmay affect performance because safely rotating to a new file more\nfrequently can impact tail latencies. Larger values are unlikely\nto improve performance significantly. We recommend using this\nconfiguration for performance testing purposes.`))))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"raft_protocol\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"raft_protocol\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#raft_protocol\",\"aria-label\":\"raft_protocol permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`raft_protocol`)),` Equivalent to the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/agent/config/cli-flags#_raft_protocol\"},mdx(\"inlineCode\",{parentName:\"a\"},`-raft-protocol`),`\ncommand-line flag`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"raft_snapshot_threshold\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"_raft_snapshot_threshold\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#_raft_snapshot_threshold\",\"aria-label\":\"raft_snapshot_threshold permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`raft_snapshot_threshold`)),` This controls the\nminimum number of raft commit entries between snapshots that are saved to\ndisk. This is a low-level parameter that should rarely need to be changed.\nVery busy clusters experiencing excessive disk IO may increase this value to\nreduce disk IO, and minimize the chances of all servers taking snapshots at\nthe same time. Increasing this trades off disk IO for disk space since the log\nwill grow much larger and the space in the raft.db file can't be reclaimed\ntill the next snapshot. Servers may take longer to recover from crashes or\nfailover if this is increased significantly as more logs will need to be\nreplayed. In Consul 1.1.0 and later this defaults to 16384, and in prior\nversions it was set to 8192.`),mdx(\"p\",{parentName:\"li\"},`Since Consul 1.10.0 this can be reloaded using `,mdx(\"inlineCode\",{parentName:\"p\"},`consul reload`),` or sending the\nserver a `,mdx(\"inlineCode\",{parentName:\"p\"},`SIGHUP`),` to allow tuning snapshot activity without a rolling restart\nin emergencies.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"raft_snapshot_interval\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"_raft_snapshot_interval\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#_raft_snapshot_interval\",\"aria-label\":\"raft_snapshot_interval permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`raft_snapshot_interval`)),` This controls how often\nservers check if they need to save a snapshot to disk. This is a low-level\nparameter that should rarely need to be changed. Very busy clusters\nexperiencing excessive disk IO may increase this value to reduce disk IO, and\nminimize the chances of all servers taking snapshots at the same time.\nIncreasing this trades off disk IO for disk space since the log will grow much\nlarger and the space in the raft.db file can't be reclaimed till the next\nsnapshot. Servers may take longer to recover from crashes or failover if this\nis increased significantly as more logs will need to be replayed. In Consul\n1.1.0 and later this defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`30s`),`, and in prior versions it was set to\n`,mdx(\"inlineCode\",{parentName:\"p\"},`5s`),`.`),mdx(\"p\",{parentName:\"li\"},`Since Consul 1.10.0 this can be reloaded using `,mdx(\"inlineCode\",{parentName:\"p\"},`consul reload`),` or sending the\nserver a `,mdx(\"inlineCode\",{parentName:\"p\"},`SIGHUP`),` to allow tuning snapshot activity without a rolling restart\nin emergencies.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"raft_trailing_logs\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#raft_trailing_logs\",\"aria-label\":\"raft_trailing_logs permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`raft_trailing_logs`)),` - This controls how many log entries are left in the log\nstore on disk after a snapshot is made. This should only be adjusted when\nfollowers cannot catch up to the leader due to a very large snapshot size\nand high write throughput causing log truncation before an snapshot can be\nfully installed on a follower. If you need to use this to recover a cluster,\nconsider reducing write throughput or the amount of data stored on Consul as\nit is likely under a load it is not designed to handle. The default value is\n10000 which is suitable for all normal workloads. Added in Consul 1.5.3.`),mdx(\"p\",{parentName:\"li\"},`Since Consul 1.10.0 this can be reloaded using `,mdx(\"inlineCode\",{parentName:\"p\"},`consul reload`),` or sending the\nserver a `,mdx(\"inlineCode\",{parentName:\"p\"},`SIGHUP`),` to allow recovery without downtime when followers can't keep\nup.`))),mdx(\"h2\",{\"id\":\"serf-parameters\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#serf-parameters\",\"aria-label\":\"serf parameters permalink\"},`\\xbb`),`Serf Parameters`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"serf_lan-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"serf_lan_bind\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#serf_lan_bind\",\"aria-label\":\"serf_lan permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`serf_lan`)),` Equivalent to the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/agent/config/cli-flags#_serf_lan_bind\"},mdx(\"inlineCode\",{parentName:\"a\"},`-serf-lan-bind`),` command-line flag`),`.\nThis is an IP address, not to be confused with `,mdx(\"a\",{parentName:\"p\",\"href\":\"#serf_lan_port\"},mdx(\"inlineCode\",{parentName:\"a\"},`ports.serf_lan`)),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"serf_lan_allowed_cidrs\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"serf_lan_allowed_cidrs\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#serf_lan_allowed_cidrs\",\"aria-label\":\"serf_lan_allowed_cidrs permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`serf_lan_allowed_cidrs`)),` Equivalent to the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/agent/config/cli-flags#_serf_lan_allowed_cidrs\"},mdx(\"inlineCode\",{parentName:\"a\"},`-serf-lan-allowed-cidrs`),` command-line flag`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"serf_wan-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"serf_wan_bind\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#serf_wan_bind\",\"aria-label\":\"serf_wan permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`serf_wan`)),` Equivalent to the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/agent/config/cli-flags#_serf_wan_bind\"},mdx(\"inlineCode\",{parentName:\"a\"},`-serf-wan-bind`),` command-line flag`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"serf_wan_allowed_cidrs\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"serf_wan_allowed_cidrs\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#serf_wan_allowed_cidrs\",\"aria-label\":\"serf_wan_allowed_cidrs permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`serf_wan_allowed_cidrs`)),` Equivalent to the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/agent/config/cli-flags#_serf_wan_allowed_cidrs\"},mdx(\"inlineCode\",{parentName:\"a\"},`-serf-wan-allowed-cidrs`),` command-line flag`),`.`))),mdx(\"h2\",{\"id\":\"telemetry-parameters\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#telemetry-parameters\",\"aria-label\":\"telemetry parameters permalink\"},`\\xbb`),`Telemetry Parameters`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"telemetry\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#telemetry\",\"aria-label\":\"telemetry permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`telemetry`)),` This is a nested object that configures where\nConsul sends its runtime telemetry, and contains the following keys:`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"circonus_api_token\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"telemetry-circonus_api_token\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#telemetry-circonus_api_token\",\"aria-label\":\"circonus_api_token permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`circonus_api_token`)),` A valid API\nToken used to create/manage check. If provided, metric management is\nenabled.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"circonus_api_app\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"telemetry-circonus_api_app\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#telemetry-circonus_api_app\",\"aria-label\":\"circonus_api_app permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`circonus_api_app`)),` A valid app name\nassociated with the API token. By default, this is set to \"consul\".`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"circonus_api_url\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"telemetry-circonus_api_url\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#telemetry-circonus_api_url\",\"aria-label\":\"circonus_api_url permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`circonus_api_url`)),`\nThe base URL to use for contacting the Circonus API. By default, this is set\nto \"`,mdx(\"a\",{parentName:\"p\",\"href\":\"https://api.circonus.com/v2%22\"},`https://api.circonus.com/v2\"`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"circonus_submission_interval\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"telemetry-circonus_submission_interval\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#telemetry-circonus_submission_interval\",\"aria-label\":\"circonus_submission_interval permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`circonus_submission_interval`)),` The interval at which metrics are submitted to Circonus. By default, this is set to \"10s\" (ten seconds).`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"circonus_submission_url\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"telemetry-circonus_submission_url\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#telemetry-circonus_submission_url\",\"aria-label\":\"circonus_submission_url permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`circonus_submission_url`)),`\nThe `,mdx(\"inlineCode\",{parentName:\"p\"},`check.config.submission_url`),` field, of a Check API object, from a previously\ncreated HTTPTrap check.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"circonus_check_id\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"telemetry-circonus_check_id\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#telemetry-circonus_check_id\",\"aria-label\":\"circonus_check_id permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`circonus_check_id`)),`\nThe Check ID (not `,mdx(\"strong\",{parentName:\"p\"},`check bundle`),`) from a previously created HTTPTrap check.\nThe numeric portion of the `,mdx(\"inlineCode\",{parentName:\"p\"},`check._cid`),` field in the Check API object.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"circonus_check_force_metric_activation\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"telemetry-circonus_check_force_metric_activation\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#telemetry-circonus_check_force_metric_activation\",\"aria-label\":\"circonus_check_force_metric_activation permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`circonus_check_force_metric_activation`)),` Force activation of metrics which already exist and are not currently active.\nIf check management is enabled, the default behavior is to add new metrics as\nthey are encountered. If the metric already exists in the check, it will `,mdx(\"strong\",{parentName:\"p\"},`not`),`\nbe activated. This setting overrides that behavior. By default, this is set to\nfalse.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"circonus_check_instance_id\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"telemetry-circonus_check_instance_id\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#telemetry-circonus_check_instance_id\",\"aria-label\":\"circonus_check_instance_id permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`circonus_check_instance_id`)),` Uniquely identifies the metrics coming from this `,mdx(\"strong\",{parentName:\"p\"},`instance`),`. It can be used to\nmaintain metric continuity with transient or ephemeral instances as they move\naround within an infrastructure. By default, this is set to hostname:application\nname (e.g. \"host123:consul\").`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"circonus_check_search_tag\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"telemetry-circonus_check_search_tag\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#telemetry-circonus_check_search_tag\",\"aria-label\":\"circonus_check_search_tag permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`circonus_check_search_tag`)),` A special tag which, when coupled with the instance id, helps to narrow down\nthe search results when neither a Submission URL or Check ID is provided. By\ndefault, this is set to service:application name (e.g. \"service:consul\").`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"circonus_check_display_name\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"telemetry-circonus_check_display_name\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#telemetry-circonus_check_display_name\",\"aria-label\":\"circonus_check_display_name permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`circonus_check_display_name`)),` Specifies a name to give a check when it is created. This name is displayed in\nthe Circonus UI Checks list. Available in Consul 0.7.2 and later.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"circonus_check_tags\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"telemetry-circonus_check_tags\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#telemetry-circonus_check_tags\",\"aria-label\":\"circonus_check_tags permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`circonus_check_tags`)),`\nComma separated list of additional tags to add to a check when it is created.\nAvailable in Consul 0.7.2 and later.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"circonus_broker_id\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"telemetry-circonus_broker_id\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#telemetry-circonus_broker_id\",\"aria-label\":\"circonus_broker_id permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`circonus_broker_id`)),`\nThe ID of a specific Circonus Broker to use when creating a new check. The numeric\nportion of `,mdx(\"inlineCode\",{parentName:\"p\"},`broker._cid`),` field in a Broker API object. If metric management is\nenabled and neither a Submission URL nor Check ID is provided, an attempt will\nbe made to search for an existing check using Instance ID and Search Tag. If\none is not found, a new HTTPTrap check will be created. By default, this is not\nused and a random Enterprise Broker is selected, or the default Circonus Public\nBroker.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"circonus_broker_select_tag\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"telemetry-circonus_broker_select_tag\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#telemetry-circonus_broker_select_tag\",\"aria-label\":\"circonus_broker_select_tag permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`circonus_broker_select_tag`)),` A special tag which will be used to select a Circonus Broker when a Broker ID\nis not provided. The best use of this is to as a hint for which broker should\nbe used based on `,mdx(\"strong\",{parentName:\"p\"},`where`),` this particular instance is running (e.g. a specific\ngeo location or datacenter, dc:sfo). By default, this is left blank and not used.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"disable_hostname\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"telemetry-disable_hostname\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#telemetry-disable_hostname\",\"aria-label\":\"disable_hostname permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`disable_hostname`)),`\nSet to `,mdx(\"inlineCode\",{parentName:\"p\"},`true`),` to stop prepending the machine's hostname to gauge-type metrics. Default is `,mdx(\"inlineCode\",{parentName:\"p\"},`false`),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"disable_per_tenancy_usage_metrics\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"telemetry-disable_per_tenancy_usage_metrics\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#telemetry-disable_per_tenancy_usage_metrics\",\"aria-label\":\"disable_per_tenancy_usage_metrics permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`disable_per_tenancy_usage_metrics`)),`\nSet to `,mdx(\"inlineCode\",{parentName:\"p\"},`true`),` to exclude tenancy labels from usage metrics. This significantly decreases CPU utilization in clusters with many admin partitions or namespaces.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"dogstatsd_addr\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"telemetry-dogstatsd_addr\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#telemetry-dogstatsd_addr\",\"aria-label\":\"dogstatsd_addr permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`dogstatsd_addr`)),` This provides the address\nof a DogStatsD instance in the format `,mdx(\"inlineCode\",{parentName:\"p\"},`host:port`),`. DogStatsD is a protocol-compatible\nflavor of statsd, with the added ability to decorate metrics with tags and event\ninformation. If provided, Consul will send various telemetry information to that\ninstance for aggregation. This can be used to capture runtime information.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"dogstatsd_tags\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"telemetry-dogstatsd_tags\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#telemetry-dogstatsd_tags\",\"aria-label\":\"dogstatsd_tags permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`dogstatsd_tags`)),` This provides a list\nof global tags that will be added to all telemetry packets sent to DogStatsD.\nIt is a list of strings, where each string looks like \"my_tag_name:my_tag_value\".`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enable_host_metrics\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"telemetry-enable_host_metrics\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#telemetry-enable_host_metrics\",\"aria-label\":\"enable_host_metrics permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enable_host_metrics`)),`\nThis enables reporting of host metrics about system resources, defaults to false.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"filter_default\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"telemetry-filter_default\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#telemetry-filter_default\",\"aria-label\":\"filter_default permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`filter_default`)),`\nThis controls whether to allow metrics that have not been specified by the filter.\nDefaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`true`),`, which will allow all metrics when no filters are provided.\nWhen set to `,mdx(\"inlineCode\",{parentName:\"p\"},`false`),` with no filters, no metrics will be sent.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"metrics_prefix\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"telemetry-metrics_prefix\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#telemetry-metrics_prefix\",\"aria-label\":\"metrics_prefix permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`metrics_prefix`)),`\nThe prefix used while writing all telemetry data. By default, this is set to\n\"consul\". This was added in Consul 1.0. For previous versions of Consul, use\nthe config option `,mdx(\"inlineCode\",{parentName:\"p\"},`statsite_prefix`),` in this same structure. This was renamed\nin Consul 1.0 since this prefix applied to all telemetry providers, not just\nstatsite.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"prefix_filter\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"telemetry-prefix_filter\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#telemetry-prefix_filter\",\"aria-label\":\"prefix_filter permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`prefix_filter`)),`\nThis is a list of filter rules to apply for allowing/blocking metrics by\nprefix in the following format:`),mdx(CodeTabs,{heading:\"Example prefix_filter configuration\",mdxType:\"CodeTabs\"},mdx(\"pre\",{parentName:\"li\",\"className\":\"language-hcl\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-hcl\"},mdx(\"span\",{parentName:\"code\",\"className\":\"token keyword\"},`telemetry`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`{`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`prefix_filter`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`=`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`[`),mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"+consul.raft.apply\"`),`, `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"-consul.http\"`),`, `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"+consul.http.GET\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`]`),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`}`),`\n`)),mdx(\"pre\",{parentName:\"li\",\"className\":\"language-json\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-json\"},mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`{`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`\"telemetry\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`{`),`\n`,`    `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`\"prefix_filter\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`[`),`\n`,`      `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"+consul.raft.apply\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`,`),`\n`,`      `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"-consul.http\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`,`),`\n`,`      `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"+consul.http.GET\"`),`\n`,`    `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`]`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`}`),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`}`),`\n`))),mdx(\"p\",{parentName:\"li\"},`A leading \"`,mdx(\"strong\",{parentName:\"p\"},`+`),`\" will enable any metrics with the given prefix, and a leading \"`,mdx(\"strong\",{parentName:\"p\"},`-`),`\" will block them. If there is overlap between two rules, the more specific rule will take precedence. Blocking will take priority if the same prefix is listed multiple times.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"prometheus_retention_time\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"telemetry-prometheus_retention_time\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#telemetry-prometheus_retention_time\",\"aria-label\":\"prometheus_retention_time permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`prometheus_retention_time`)),` If the value is greater than `,mdx(\"inlineCode\",{parentName:\"p\"},`0s`),` (the default), this enables `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://prometheus.io/\"},`Prometheus`),`\nexport of metrics. The duration can be expressed using the duration semantics\nand will aggregates all counters for the duration specified (it might have an\nimpact on Consul's memory usage). A good value for this parameter is at least\n2 times the interval of scrape of Prometheus, but you might also put a very high\nretention time such as a few days (for instance 744h to enable retention to 31\ndays). Fetching the metrics using prometheus can then be performed using the\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/api-docs/agent#view-metrics\"},mdx(\"inlineCode\",{parentName:\"a\"},`/v1/agent/metrics?format=prometheus`)),` endpoint.\nThe format is compatible natively with prometheus. When running in this mode,\nit is recommended to also enable the option `,mdx(\"a\",{parentName:\"p\",\"href\":\"#telemetry-disable_hostname\"},mdx(\"inlineCode\",{parentName:\"a\"},`disable_hostname`)),`\nto avoid having prefixed metrics with hostname. Consul does not use the default\nPrometheus path, so Prometheus must be configured as follows. Note that using\n`,mdx(\"inlineCode\",{parentName:\"p\"},`?format=prometheus`),` in the path won't work as `,mdx(\"inlineCode\",{parentName:\"p\"},`?`),` will be escaped, so it must be\nspecified as a parameter.`),mdx(CodeBlockConfig,{heading:\"Example Prometheus configuration\",mdxType:\"CodeBlockConfig\"},mdx(\"pre\",{parentName:\"li\",\"className\":\"language-yaml\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-yaml\"},mdx(\"span\",{parentName:\"code\",\"className\":\"token key atrule\"},`metrics_path`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`'/v1/agent/metrics'`),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"token key atrule\"},`params`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`:`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token key atrule\"},`format`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`[`),mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`'prometheus'`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`]`),`\n`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"statsd_address\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"telemetry-statsd_address\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#telemetry-statsd_address\",\"aria-label\":\"statsd_address permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`statsd_address`)),` This provides the address\nof a statsd instance in the format `,mdx(\"inlineCode\",{parentName:\"p\"},`host:port`),`. If provided, Consul will send\nvarious telemetry information to that instance for aggregation. This can be used\nto capture runtime information. This sends UDP packets only and can be used with\nstatsd or statsite.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"statsite_address\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"telemetry-statsite_address\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#telemetry-statsite_address\",\"aria-label\":\"statsite_address permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`statsite_address`)),` This provides the\naddress of a statsite instance in the format `,mdx(\"inlineCode\",{parentName:\"p\"},`host:port`),`. If provided, Consul\nwill stream various telemetry information to that instance for aggregation. This\ncan be used to capture runtime information. This streams via TCP and can only\nbe used with statsite.`))))),mdx(\"h2\",{\"id\":\"ui-parameters\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#ui-parameters\",\"aria-label\":\"ui parameters permalink\"},`\\xbb`),`UI Parameters`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"ui\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#ui\",\"aria-label\":\"ui permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`ui`)),` - `,mdx(\"strong\",{parentName:\"p\"},`This field is deprecated in Consul 1.9.0. See the `,mdx(\"a\",{parentName:\"strong\",\"href\":\"#ui_config_enabled\"},mdx(\"inlineCode\",{parentName:\"a\"},`ui_config.enabled`)),` field instead.`),`\nEquivalent to the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/agent/config/cli-flags#_ui\"},mdx(\"inlineCode\",{parentName:\"a\"},`-ui`)),` command-line flag.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"ui_config\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#ui_config\",\"aria-label\":\"ui_config permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`ui_config`)),` - This object allows a number of sub-keys to be set which controls\nthe display or features available in the UI. Configuring the UI with this\nstanza was added in Consul 1.9.0.`),mdx(\"p\",{parentName:\"li\"},`The following sub-keys are available:`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"enabled-8\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"ui_config_enabled\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#ui_config_enabled\",\"aria-label\":\"enabled permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`enabled`)),` - This enables the service of the web UI\nfrom this agent. Boolean value, defaults to false. In `,mdx(\"inlineCode\",{parentName:\"p\"},`-dev`),` mode this\ndefaults to true. Replaces `,mdx(\"inlineCode\",{parentName:\"p\"},`ui`),` from before 1.9.0. Equivalent to the\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/agent/config/cli-flags#_ui\"},mdx(\"inlineCode\",{parentName:\"a\"},`-ui`)),` command-line flag.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"dir\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"ui_config_dir\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#ui_config_dir\",\"aria-label\":\"dir permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`dir`)),` - This specifies that the web UI should be served\nfrom an external dir rather than the build in one. This allows for\ncustomization or development. Replaces `,mdx(\"inlineCode\",{parentName:\"p\"},`ui_dir`),` from before 1.9.0.\nEquivalent to the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/agent/config/cli-flags#_ui_dir\"},mdx(\"inlineCode\",{parentName:\"a\"},`-ui-dir`)),` command-line flag.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"content_path\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"ui_config_content_path\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#ui_config_content_path\",\"aria-label\":\"content_path permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`content_path`)),` - This specifies the HTTP path\nthat the web UI should be served from. Defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`/ui/`),`. Equivalent to the\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/agent/config/cli-flags#_ui_content_path\"},mdx(\"inlineCode\",{parentName:\"a\"},`-ui-content-path`)),` flag.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"metrics_provider\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"ui_config_metrics_provider\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#ui_config_metrics_provider\",\"aria-label\":\"metrics_provider permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`metrics_provider`)),` - Specifies a named\nmetrics provider implementation the UI should use to fetch service metrics.\nBy default metrics are disabled. Consul 1.9.0 includes a built-in provider\nnamed `,mdx(\"inlineCode\",{parentName:\"p\"},`prometheus`),` that can be enabled explicitly here. It also requires the\n`,mdx(\"inlineCode\",{parentName:\"p\"},`metrics_proxy`),` to be configured below and direct queries to a Prometheus\ninstance that has Envoy metrics for all services in the datacenter.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"metrics_provider_files\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"ui_config_metrics_provider_files\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#ui_config_metrics_provider_files\",\"aria-label\":\"metrics_provider_files permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`metrics_provider_files`)),` - An optional array\nof absolute paths to javascript files on the Agent's disk which will be\nserved as part of the UI. These files should contain metrics provider\nimplementations and registration enabling UI metric queries to be customized\nor implemented for an alternative time-series backend.`),mdx(\"div\",{parentName:\"li\",\"className\":\"alert alert-warning g-type-body\"},mdx(\"p\",{parentName:\"div\"},``,mdx(\"strong\",{parentName:\"p\"},`Security Note:`),` These javascript files are included in the UI with no\nfurther validation or sand-boxing. By configuring them here the operator is\nfully trusting anyone able to write to them as well as the original authors\nnot to include malicious code in the UI being served.`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"metrics_provider_options_json\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"ui_config_metrics_provider_options_json\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#ui_config_metrics_provider_options_json\",\"aria-label\":\"metrics_provider_options_json permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`metrics_provider_options_json`)),` -\nThis is an optional raw JSON object as a string which is passed to the\nprovider implementation's `,mdx(\"inlineCode\",{parentName:\"p\"},`init`),` method at startup to allow arbitrary\nconfiguration to be passed through.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"metrics_proxy\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"ui_config_metrics_proxy\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#ui_config_metrics_proxy\",\"aria-label\":\"metrics_proxy permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`metrics_proxy`)),` - This object configures an\ninternal agent API endpoint that will proxy GET requests to a metrics\nbackend to allow querying metrics data in the UI. This simplifies deployment\nwhere the metrics backend is not exposed externally to UI users' browsers.\nIt may also be used to augment requests with API credentials to allow\nserving graphs to UI users without them needing individual access tokens for\nthe metrics backend.`),mdx(\"div\",{parentName:\"li\",\"className\":\"alert alert-warning g-type-body\"},mdx(\"p\",{parentName:\"div\"},``,mdx(\"strong\",{parentName:\"p\"},`Security Note:`),` Exposing your metrics backend via Consul in this way\nshould be carefully considered in production. As Consul doesn't understand\nthe requests, it can't limit access to only specific resources. For example\n`,mdx(\"strong\",{parentName:\"p\"},`this might make it possible for a malicious user on the network to query\nfor arbitrary metrics about any server or workload in your infrastructure,\nor overload the metrics infrastructure with queries`),`. See `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/connect/observability/ui-visualization#metrics-proxy-security\"},`Metrics Proxy\nSecurity`),`\nfor more details.`)),mdx(\"p\",{parentName:\"li\"},`The following sub-keys are available:`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"base_url\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"ui_config_metrics_provider_base_url\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#ui_config_metrics_provider_base_url\",\"aria-label\":\"base_url permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`base_url`)),` - This is required to\nenable the proxy. It should be set to the base URL that the Consul agent\nshould proxy requests for metrics too. For example a value of\n`,mdx(\"inlineCode\",{parentName:\"p\"},`http://prometheus-server`),` would target a Prometheus instance with local\nDNS name \"prometheus-server\" on port 80. This may include a path prefix\nwhich will then not be necessary in provider requests to the backend and\nthe proxy will prevent any access to paths without that prefix on the\nbackend.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"path_allowlist\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"ui_config_metrics_provider_path_allowlist\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#ui_config_metrics_provider_path_allowlist\",\"aria-label\":\"path_allowlist permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`path_allowlist`)),` - This\nspecifies the paths that may be proxies to when appended to the\n`,mdx(\"inlineCode\",{parentName:\"p\"},`base_url`),`. It defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`[\"/api/v1/query_range\", \"/api/v1/query\"]`),`\nwhich are the endpoints required for the built-in Prometheus provider. If\na `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/connect/observability/ui-visualization#custom-metrics-providers\"},`custom\nprovider`),`\nis used that requires the metrics proxy, the correct allowlist must be\nspecified to enable proxying to necessary endpoints. See `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/connect/observability/ui-visualization#path-allowlist\"},`Path\nAllowlist`),`\nfor more information.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"add_headers\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"ui_config_metrics_proxy_add_headers\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#ui_config_metrics_proxy_add_headers\",\"aria-label\":\"add_headers permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`add_headers`)),` - This is an\noptional list if headers to add to requests that are proxied to the\nmetrics backend. It may be used to inject Authorization tokens within the\nagent without exposing those to UI users.`),mdx(\"p\",{parentName:\"li\"},`Each item in the list is an object with the following keys:`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"name-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"ui_config_metrics_proxy_add_headers_name\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#ui_config_metrics_proxy_add_headers_name\",\"aria-label\":\"name permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`name`)),` - Specifies the\nHTTP header name to inject into proxied requests.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"value\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"ui_config_metrics_proxy_add_headers_value\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#ui_config_metrics_proxy_add_headers_value\",\"aria-label\":\"value permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`value`)),` - Specifies the\nvalue in inject into proxied requests.`)))))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"dashboard_url_templates\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"ui_config_dashboard_url_templates\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#ui_config_dashboard_url_templates\",\"aria-label\":\"dashboard_url_templates permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`dashboard_url_templates`)),` - This map\nspecifies URL templates that may be used to render links to external\ndashboards in various contexts in the UI. It is a map with the name of the\ntemplate as a key. The value is a string URL with optional placeholders.`),mdx(\"p\",{parentName:\"li\"},`Each template may contain placeholders which will be substituted for the\ncorrect values in content when rendered in the UI. The placeholders\navailable are listed for each template.`),mdx(\"p\",{parentName:\"li\"},`For more information and examples see `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/connect/observability/ui-visualization#configuring-dashboard-urls\"},`UI\nVisualization`)),mdx(\"p\",{parentName:\"li\"},`The following named templates are defined:`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"service\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"ui_config_dashboard_url_templates_service\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#ui_config_dashboard_url_templates_service\",\"aria-label\":\"service permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`service`)),` - This is the URL\nto use when linking to the dashboard for a specific service. It is shown\nas part of the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/connect/observability/ui-visualization\"},`Topology\nVisualization`),`.`),mdx(\"p\",{parentName:\"li\"},`The placeholders available are:`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"service-name\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#service-name\",\"aria-label\":\"service name permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`{{Service.Name}}`)),` - Replaced with the current service's name.`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"service-namespace\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#service-namespace\",\"aria-label\":\"service namespace permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`{{Service.Namespace}}`)),` - Replaced with the current service's namespace or empty if namespaces are not enabled.`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"service-partition\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#service-partition\",\"aria-label\":\"service partition permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`{{Service.Partition}}`)),` - Replaced with the current service's admin\npartition or empty if admin partitions are not enabled.`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"datacenter-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#datacenter-1\",\"aria-label\":\"datacenter permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`{{Datacenter}}`)),` - Replaced with the current service's datacenter.`))))))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"ui_dir\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#ui_dir\",\"aria-label\":\"ui_dir permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`ui_dir`)),` - `,mdx(\"strong\",{parentName:\"p\"},`This field is deprecated in Consul 1.9.0. See the `,mdx(\"a\",{parentName:\"strong\",\"href\":\"#ui_config_dir\"},mdx(\"inlineCode\",{parentName:\"a\"},`ui_config.dir`)),` field instead.`),`\nEquivalent to the `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/agent/config/cli-flags#_ui_dir\"},mdx(\"inlineCode\",{parentName:\"a\"},`-ui-dir`)),` command-line\nflag. This configuration key is not required as of Consul version 0.7.0 and later.\nSpecifying this configuration key will enable the web UI. There is no need to specify\nboth ui-dir and ui. Specifying both will result in an error.`))),mdx(\"h2\",{\"id\":\"tls-configuration-reference\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#tls-configuration-reference\",\"aria-label\":\"tls configuration reference permalink\"},`\\xbb`),`TLS Configuration Reference`),mdx(\"p\",null,`This section documents all of the configuration settings that apply to Agent TLS. Agent\nTLS is used by the HTTP API, internal RPC, and gRPC/xDS interfaces. Some of these settings\nmay also be applied automatically by `,mdx(\"a\",{parentName:\"p\",\"href\":\"#auto_config\"},`auto_config`),` or `,mdx(\"a\",{parentName:\"p\",\"href\":\"#auto_encrypt\"},`auto_encrypt`),`.`),mdx(\"div\",{\"className\":\"alert alert-warning g-type-body\"},mdx(\"p\",{parentName:\"div\"},``,mdx(\"strong\",{parentName:\"p\"},`Security Note:`),` The Certificate Authority (CA) configured on the internal RPC interface\n(either explicitly by `,mdx(\"inlineCode\",{parentName:\"p\"},`tls.internal_rpc`),` or implicitly by `,mdx(\"inlineCode\",{parentName:\"p\"},`tls.defaults`),`) should be a private\nCA, not a public one. We recommend using a dedicated CA which should not be used with any other\nsystems. Any certificate signed by the CA will be allowed to communicate with the cluster and a\nspecially crafted certificate signed by the CA can be used to gain full access to Consul.`)),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"tls-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#tls-1\",\"aria-label\":\"tls permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`tls`)),` Added in Consul 1.12, for previous versions see\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_deprecated_options\"},`Deprecated Options`),`.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"defaults\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"tls_defaults\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_defaults\",\"aria-label\":\"defaults permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`defaults`)),` Provides default settings that will be applied\nto every interface unless explicitly overridden by `,mdx(\"inlineCode\",{parentName:\"p\"},`tls.grpc`),`, `,mdx(\"inlineCode\",{parentName:\"p\"},`tls.https`),`,\nor `,mdx(\"inlineCode\",{parentName:\"p\"},`tls.internal_rpc`),`.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"ca_file\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"tls_defaults_ca_file\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_defaults_ca_file\",\"aria-label\":\"ca_file permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`ca_file`)),` This provides a file path to a\nPEM-encoded certificate authority. The certificate authority is used to\ncheck the authenticity of client and server connections with the\nappropriate `,mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_defaults_verify_incoming\"},mdx(\"inlineCode\",{parentName:\"a\"},`verify_incoming`)),` or\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_defaults_verify_outgoing\"},mdx(\"inlineCode\",{parentName:\"a\"},`verify_outgoing`)),` flags.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"ca_path\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"tls_defaults_ca_path\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_defaults_ca_path\",\"aria-label\":\"ca_path permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`ca_path`)),` This provides a path to a directory\nof PEM-encoded certificate authority files. These certificate authorities\nare used to check the authenticity of client and server connections with\nthe appropriate `,mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_defaults_verify_incoming\"},mdx(\"inlineCode\",{parentName:\"a\"},`verify_incoming`)),` or\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_defaults_verify_outgoing\"},mdx(\"inlineCode\",{parentName:\"a\"},`verify_outgoing`)),` flags.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"cert_file\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"tls_defaults_cert_file\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_defaults_cert_file\",\"aria-label\":\"cert_file permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`cert_file`)),` This provides a file path to a\nPEM-encoded certificate. The certificate is provided to clients or servers\nto verify the agent's authenticity. It must be provided along with\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_defaults_key_file\"},mdx(\"inlineCode\",{parentName:\"a\"},`key_file`)),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"key_file\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"tls_defaults_key_file\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_defaults_key_file\",\"aria-label\":\"key_file permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`key_file`)),` This provides a the file path to a\nPEM-encoded private key. The key is used with the certificate to verify\nthe agent's authenticity. This must be provided along with\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_defaults_cert_file\"},mdx(\"inlineCode\",{parentName:\"a\"},`cert_file`)),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"tls_min_version\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"tls_defaults_tls_min_version\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_defaults_tls_min_version\",\"aria-label\":\"tls_min_version permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`tls_min_version`)),` This specifies the\nminimum supported version of TLS. The following values are accepted:`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"tlsv1_0\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#tlsv1_0\",\"aria-label\":\"tlsv1_0 permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`TLSv1_0`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"tlsv1_1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#tlsv1_1\",\"aria-label\":\"tlsv1_1 permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`TLSv1_1`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"tlsv1_2\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#tlsv1_2\",\"aria-label\":\"tlsv1_2 permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`TLSv1_2`)),` (default)`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"tlsv1_3\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#tlsv1_3\",\"aria-label\":\"tlsv1_3 permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`TLSv1_3`))))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"verify_server_hostname\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"tls_internal_rpc_verify_server_hostname\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_internal_rpc_verify_server_hostname\",\"aria-label\":\"verify_server_hostname permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`verify_server_hostname`)),` When\nset to true, Consul verifies the TLS certificate presented by the servers\nmatch the hostname `,mdx(\"inlineCode\",{parentName:\"p\"},`server.\u003cdatacenter\u003e.\u003cdomain\u003e`),`. By default this is false,\nand Consul does not verify the hostname of the certificate, only that it\nis signed by a trusted CA.`),mdx(\"p\",{parentName:\"li\"},mdx(\"strong\",{parentName:\"p\"},`WARNING: TLS 1.1 and lower are generally considered less secure and\nshould not be used if possible.`)),mdx(\"p\",{parentName:\"li\"},`The following values are also valid, but only when using the\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_deprecated_options\"},`deprecated top-level `,mdx(\"inlineCode\",{parentName:\"a\"},`tls_min_version`),` config`),`,\nand will be removed in a future release:`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"tls10\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#tls10\",\"aria-label\":\"tls10 permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`tls10`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"tls11\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#tls11\",\"aria-label\":\"tls11 permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`tls11`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"tls12\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#tls12\",\"aria-label\":\"tls12 permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`tls12`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"tls13\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"href\":\"#tls13\",\"aria-label\":\"tls13 permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`tls13`)))),mdx(\"p\",{parentName:\"li\"},`A warning message will appear if a deprecated value is specified.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"tls_cipher_suites\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"tls_defaults_tls_cipher_suites\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_defaults_tls_cipher_suites\",\"aria-label\":\"tls_cipher_suites permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`tls_cipher_suites`)),` This specifies\nthe list of supported ciphersuites as a comma-separated-list. Applicable\nto TLS 1.2 and below only. The list of all ciphersuites supported by Consul is\navailable in `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://github.com/hashicorp/consul/search?q=%22var+goTLSCipherSuites%22\"},`the TLS configuration source code`),`.`),mdx(\"div\",{parentName:\"li\",\"className\":\"alert alert-warning g-type-body\"},mdx(\"p\",{parentName:\"div\"},``,mdx(\"strong\",{parentName:\"p\"},`Note:`),` The ordering of cipher suites will not be guaranteed from\nConsul 1.11 onwards. See this `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://go.dev/blog/tls-cipher-suites\"},`post`),`\nfor details.`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"verify_incoming\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"tls_defaults_verify_incoming\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_defaults_verify_incoming\",\"aria-label\":\"verify_incoming permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`verify_incoming`)),` - If set to true,\nConsul requires that all incoming connections make use of TLS and that\nthe client provides a certificate signed by a Certificate Authority from\nthe `,mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_defaults_ca_file\"},mdx(\"inlineCode\",{parentName:\"a\"},`ca_file`)),` or `,mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_defaults_ca_path\"},mdx(\"inlineCode\",{parentName:\"a\"},`ca_path`)),`.\nBy default, this is false, and Consul will not enforce the use of TLS or\nverify a client's authenticity.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"verify_outgoing\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"tls_defaults_verify_outgoing\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_defaults_verify_outgoing\",\"aria-label\":\"verify_outgoing permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`verify_outgoing`)),` - If set to true,\nConsul requires that all outgoing connections from this agent make use\nof TLS and that the server provides a certificate that is signed by a\nCertificate Authority from the `,mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_defaults_ca_file\"},mdx(\"inlineCode\",{parentName:\"a\"},`ca_file`)),` or\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_defaults_ca_path\"},mdx(\"inlineCode\",{parentName:\"a\"},`ca_path`)),`. By default, this is false, and Consul\nwill not make use of TLS for outgoing connections. This applies to clients\nand servers as both will make outgoing connections. This setting does not\napply to the gRPC interface as Consul makes no outgoing connections on this\ninterface. When set to true for the HTTPS interface, this parameter applies to `,mdx(\"a\",{parentName:\"p\",\"href\":\"/consul/docs/dynamic-app-config/watches\"},`watches`),`, which operate by making HTTPS requests to the local agent.`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"grpc-2\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"tls_grpc\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_grpc\",\"aria-label\":\"grpc permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`grpc`)),` Provides settings for the gRPC/xDS interface. To enable\nthe gRPC interface you must define a port via `,mdx(\"a\",{parentName:\"p\",\"href\":\"#grpc_tls_port\"},mdx(\"inlineCode\",{parentName:\"a\"},`ports.grpc_tls`)),`.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"ca_file-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"tls_grpc_ca_file\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_grpc_ca_file\",\"aria-label\":\"ca_file permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`ca_file`)),` Overrides `,mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_defaults_ca_file\"},mdx(\"inlineCode\",{parentName:\"a\"},`tls.defaults.ca_file`)),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"ca_path-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"tls_grpc_ca_path\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_grpc_ca_path\",\"aria-label\":\"ca_path permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`ca_path`)),` Overrides `,mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_defaults_ca_path\"},mdx(\"inlineCode\",{parentName:\"a\"},`tls.defaults.ca_path`)),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"cert_file-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"tls_grpc_cert_file\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_grpc_cert_file\",\"aria-label\":\"cert_file permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`cert_file`)),` Overrides `,mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_defaults_cert_file\"},mdx(\"inlineCode\",{parentName:\"a\"},`tls.defaults.cert_file`)),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"key_file-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"tls_grpc_key_file\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_grpc_key_file\",\"aria-label\":\"key_file permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`key_file`)),` Overrides `,mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_defaults_key_file\"},mdx(\"inlineCode\",{parentName:\"a\"},`tls.defaults.key_file`)),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"tls_min_version-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"tls_grpc_tls_min_version\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_grpc_tls_min_version\",\"aria-label\":\"tls_min_version permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`tls_min_version`)),` Overrides `,mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_defaults_tls_min_version\"},mdx(\"inlineCode\",{parentName:\"a\"},`tls.defaults.tls_min_version`)),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"tls_cipher_suites-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"tls_grpc_tls_cipher_suites\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_grpc_tls_cipher_suites\",\"aria-label\":\"tls_cipher_suites permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`tls_cipher_suites`)),` Overrides `,mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_defaults_tls_cipher_suites\"},mdx(\"inlineCode\",{parentName:\"a\"},`tls.defaults.tls_cipher_suites`)),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"verify_incoming-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"tls_grpc_verify_incoming\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_grpc_verify_incoming\",\"aria-label\":\"verify_incoming permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`verify_incoming`)),` - Overrides `,mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_defaults_verify_incoming\"},mdx(\"inlineCode\",{parentName:\"a\"},`tls.defaults.verify_incoming`)),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"use_auto_cert\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#use_auto_cert\",\"aria-label\":\"use_auto_cert permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`use_auto_cert`)),` - (Defaults to `,mdx(\"inlineCode\",{parentName:\"p\"},`false`),`) Enables or disables TLS on gRPC servers. Set to `,mdx(\"inlineCode\",{parentName:\"p\"},`true`),` to allow `,mdx(\"inlineCode\",{parentName:\"p\"},`auto_encrypt`),` TLS settings to apply to gRPC listeners. We recommend disabling TLS on gRPC servers if you are using `,mdx(\"inlineCode\",{parentName:\"p\"},`auto_encrypt`),` for other TLS purposes, such as enabling HTTPS.`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"https-2\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"tls_https\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_https\",\"aria-label\":\"https permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`https`)),` Provides settings for the HTTPS interface. To enable\nthe HTTPS interface you must define a port via `,mdx(\"a\",{parentName:\"p\",\"href\":\"#https_port\"},mdx(\"inlineCode\",{parentName:\"a\"},`ports.https`)),`.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"ca_file-2\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"tls_https_ca_file\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_https_ca_file\",\"aria-label\":\"ca_file permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`ca_file`)),` Overrides `,mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_defaults_ca_file\"},mdx(\"inlineCode\",{parentName:\"a\"},`tls.defaults.ca_file`)),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"ca_path-2\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"tls_https_ca_path\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_https_ca_path\",\"aria-label\":\"ca_path permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`ca_path`)),` Overrides `,mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_defaults_ca_path\"},mdx(\"inlineCode\",{parentName:\"a\"},`tls.defaults.ca_path`)),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"cert_file-2\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"tls_https_cert_file\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_https_cert_file\",\"aria-label\":\"cert_file permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`cert_file`)),` Overrides `,mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_defaults_cert_file\"},mdx(\"inlineCode\",{parentName:\"a\"},`tls.defaults.cert_file`)),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"key_file-2\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"tls_https_key_file\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_https_key_file\",\"aria-label\":\"key_file permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`key_file`)),` Overrides `,mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_defaults_key_file\"},mdx(\"inlineCode\",{parentName:\"a\"},`tls.defaults.key_file`)),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"tls_min_version-2\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"tls_https_tls_min_version\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_https_tls_min_version\",\"aria-label\":\"tls_min_version permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`tls_min_version`)),` Overrides `,mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_defaults_tls_min_version\"},mdx(\"inlineCode\",{parentName:\"a\"},`tls.defaults.tls_min_version`)),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"tls_cipher_suites-2\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"tls_https_tls_cipher_suites\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_https_tls_cipher_suites\",\"aria-label\":\"tls_cipher_suites permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`tls_cipher_suites`)),` Overrides `,mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_defaults_tls_cipher_suites\"},mdx(\"inlineCode\",{parentName:\"a\"},`tls.defaults.tls_cipher_suites`)),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"verify_incoming-2\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"tls_https_verify_incoming\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_https_verify_incoming\",\"aria-label\":\"verify_incoming permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`verify_incoming`)),` - Overrides `,mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_defaults_verify_incoming\"},mdx(\"inlineCode\",{parentName:\"a\"},`tls.defaults.verify_incoming`)),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"verify_outgoing-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"tls_https_verify_outgoing\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_https_verify_outgoing\",\"aria-label\":\"verify_outgoing permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`verify_outgoing`)),` - Overrides `,mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_defaults_verify_outgoing\"},mdx(\"inlineCode\",{parentName:\"a\"},`tls.defaults.verify_outgoing`)),`.`)))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"internal_rpc\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"tls_internal_rpc\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_internal_rpc\",\"aria-label\":\"internal_rpc permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`internal_rpc`)),` Provides settings for the internal\n\"server\" RPC interface configured by `,mdx(\"a\",{parentName:\"p\",\"href\":\"#server_rpc_port\"},mdx(\"inlineCode\",{parentName:\"a\"},`ports.server`)),`.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"ca_file-3\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"tls_internal_rpc_ca_file\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_internal_rpc_ca_file\",\"aria-label\":\"ca_file permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`ca_file`)),` Overrides `,mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_defaults_ca_file\"},mdx(\"inlineCode\",{parentName:\"a\"},`tls.defaults.ca_file`)),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"ca_path-3\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"tls_internal_rpc_ca_path\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_internal_rpc_ca_path\",\"aria-label\":\"ca_path permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`ca_path`)),` Overrides `,mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_defaults_ca_path\"},mdx(\"inlineCode\",{parentName:\"a\"},`tls.defaults.ca_path`)),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"cert_file-3\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"tls_internal_rpc_cert_file\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_internal_rpc_cert_file\",\"aria-label\":\"cert_file permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`cert_file`)),` Overrides `,mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_defaults_cert_file\"},mdx(\"inlineCode\",{parentName:\"a\"},`tls.defaults.cert_file`)),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"key_file-3\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"tls_internal_rpc_key_file\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_internal_rpc_key_file\",\"aria-label\":\"key_file permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`key_file`)),` Overrides `,mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_defaults_key_file\"},mdx(\"inlineCode\",{parentName:\"a\"},`tls.defaults.key_file`)),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"tls_min_version-3\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"tls_internal_rpc_tls_min_version\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_internal_rpc_tls_min_version\",\"aria-label\":\"tls_min_version permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`tls_min_version`)),` Overrides `,mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_defaults_tls_min_version\"},mdx(\"inlineCode\",{parentName:\"a\"},`tls.defaults.tls_min_version`)),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"tls_cipher_suites-3\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"tls_internal_rpc_tls_cipher_suites\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_internal_rpc_tls_cipher_suites\",\"aria-label\":\"tls_cipher_suites permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`tls_cipher_suites`)),` Overrides `,mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_defaults_tls_cipher_suites\"},mdx(\"inlineCode\",{parentName:\"a\"},`tls.defaults.tls_cipher_suites`)),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"verify_incoming-3\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"tls_internal_rpc_verify_incoming\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_internal_rpc_verify_incoming\",\"aria-label\":\"verify_incoming permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`verify_incoming`)),` - Overrides `,mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_defaults_verify_incoming\"},mdx(\"inlineCode\",{parentName:\"a\"},`tls.defaults.verify_incoming`)),`.`),mdx(\"div\",{parentName:\"li\",\"className\":\"alert alert-warning g-type-body\"},mdx(\"p\",{parentName:\"div\"},``,mdx(\"strong\",{parentName:\"p\"},`Security Note:`),` `,mdx(\"inlineCode\",{parentName:\"p\"},`verify_incoming`),` `,mdx(\"em\",{parentName:\"p\"},`must`),` be set to true to prevent\nanyone with access to the internal RPC port from gaining full access to\nthe Consul cluster.`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"verify_outgoing-2\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"a\",{parentName:\"li\",\"className\":\"__target-lic __compat\",\"id\":\"tls_internal_rpc_verify_outgoing\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_internal_rpc_verify_outgoing\",\"aria-label\":\"verify_outgoing permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`verify_outgoing`)),` Overrides `,mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_defaults_verify_outgoing\"},mdx(\"inlineCode\",{parentName:\"a\"},`tls.defaults.verify_outgoing`)),`.`),mdx(\"div\",{parentName:\"li\",\"className\":\"alert alert-warning g-type-body\"},mdx(\"p\",{parentName:\"div\"},``,mdx(\"strong\",{parentName:\"p\"},`Security Note:`),` Servers that specify `,mdx(\"inlineCode\",{parentName:\"p\"},`verify_outgoing = true`),` will\nalways talk to other servers over TLS, but they still `,mdx(\"em\",{parentName:\"p\"},`accept`),` non-TLS\nconnections to allow for a transition of all clients to TLS. Currently the\nonly way to enforce that no client can communicate with a server unencrypted\nis to also enable `,mdx(\"inlineCode\",{parentName:\"p\"},`verify_incoming`),` which requires client certificates too.`))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"verify_server_hostname-1\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#verify_server_hostname-1\",\"aria-label\":\"verify_server_hostname permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`verify_server_hostname`)),` Overrides `,mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_defaults_verify_server_hostname\"},`tls.defaults.verify_server_hostname`),`. When\nset to true, Consul verifies the TLS certificate presented by the servers\nmatch the hostname `,mdx(\"inlineCode\",{parentName:\"p\"},`server.\u003cdatacenter\u003e.\u003cdomain\u003e`),`. By default this is false,\nand Consul does not verify the hostname of the certificate, only that it\nis signed by a trusted CA.`),mdx(\"div\",{parentName:\"li\",\"className\":\"alert alert-warning g-type-body\"},mdx(\"p\",{parentName:\"div\"},``,mdx(\"strong\",{parentName:\"p\"},`Security Note:`),` `,mdx(\"inlineCode\",{parentName:\"p\"},`verify_server_hostname`),` `,mdx(\"em\",{parentName:\"p\"},`must`),` be set to true to prevent a\ncompromised client from gaining full read and write access to all cluster\ndata `,mdx(\"em\",{parentName:\"p\"},`including all ACL tokens and service mesh CA root keys`),`.`))))))),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"server_name\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#server_name\",\"aria-label\":\"server_name permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`server_name`)),` When provided, this overrides the `,mdx(\"a\",{parentName:\"p\",\"href\":\"#_node\"},mdx(\"inlineCode\",{parentName:\"a\"},`node_name`)),`\nfor the TLS certificate. It can be used to ensure that the certificate name matches\nthe hostname we declare.`))),mdx(\"h3\",{\"id\":\"deprecated-options\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#tls_deprecated_options\",\"aria-label\":\"deprecated options permalink\"},`\\xbb`),mdx(\"a\",{parentName:\"h3\",\"className\":\"__target-h __compat\",\"id\":\"tls_deprecated_options\",\"aria-hidden\":\"true\"}),`Deprecated Options`),mdx(\"p\",null,`The following options were deprecated in Consul 1.12, please use the\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"#tls-1\"},mdx(\"inlineCode\",{parentName:\"a\"},`tls`)),` stanza instead.`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"ca_file-4\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#ca_file-4\",\"aria-label\":\"ca_file permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`ca_file`)),` See: `,mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_defaults_ca_file\"},mdx(\"inlineCode\",{parentName:\"a\"},`tls.defaults.ca_file`)),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"ca_path-4\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#ca_path-4\",\"aria-label\":\"ca_path permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`ca_path`)),` See: `,mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_defaults_ca_path\"},mdx(\"inlineCode\",{parentName:\"a\"},`tls.defaults.ca_path`)),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"cert_file-4\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#cert_file-4\",\"aria-label\":\"cert_file permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`cert_file`)),` See: `,mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_defaults_cert_file\"},mdx(\"inlineCode\",{parentName:\"a\"},`tls.defaults.cert_file`)),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"key_file-4\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#key_file-4\",\"aria-label\":\"key_file permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`key_file`)),` See: `,mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_defaults_key_file\"},mdx(\"inlineCode\",{parentName:\"a\"},`tls.defaults.key_file`)),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"tls_min_version-4\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_min_version-4\",\"aria-label\":\"tls_min_version permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`tls_min_version`)),` Added in Consul 0.7.4.\nSee: `,mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_defaults_tls_min_version\"},mdx(\"inlineCode\",{parentName:\"a\"},`tls.defaults.tls_min_version`)),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"tls_cipher_suites-4\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_cipher_suites-4\",\"aria-label\":\"tls_cipher_suites permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`tls_cipher_suites`)),` Added in Consul 0.8.2.\nSee: `,mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_defaults_tls_cipher_suites\"},mdx(\"inlineCode\",{parentName:\"a\"},`tls.defaults.tls_cipher_suites`)),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"tls_prefer_server_cipher_suites\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_prefer_server_cipher_suites\",\"aria-label\":\"tls_prefer_server_cipher_suites permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`tls_prefer_server_cipher_suites`)),` Added in Consul 0.8.2. This setting will\nbe ignored (see `,mdx(\"a\",{parentName:\"p\",\"href\":\"https://go.dev/blog/tls-cipher-suites\"},`this post`),` for details).`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"verify_incoming-4\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#verify_incoming-4\",\"aria-label\":\"verify_incoming permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`verify_incoming`)),` See: `,mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_defaults_verify_incoming\"},mdx(\"inlineCode\",{parentName:\"a\"},`tls.defaults.verify_incoming`)),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"verify_incoming_rpc\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#verify_incoming_rpc\",\"aria-label\":\"verify_incoming_rpc permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`verify_incoming_rpc`)),` See: `,mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_internal_rpc_verify_incoming\"},mdx(\"inlineCode\",{parentName:\"a\"},`tls.internal_rpc.verify_incoming`)),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"verify_incoming_https\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#verify_incoming_https\",\"aria-label\":\"verify_incoming_https permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`verify_incoming_https`)),` See: `,mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_https_verify_incoming\"},mdx(\"inlineCode\",{parentName:\"a\"},`tls.https.verify_incoming`)),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"verify_outgoing-3\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#verify_outgoing-3\",\"aria-label\":\"verify_outgoing permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`verify_outgoing`)),` See: `,mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_defaults_verify_outgoing\"},mdx(\"inlineCode\",{parentName:\"a\"},`tls.defaults.verify_outgoing`)),`.`)),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"verify_server_hostname-2\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#verify_server_hostname-2\",\"aria-label\":\"verify_server_hostname permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`verify_server_hostname`)),` See: `,mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_internal_rpc_verify_server_hostname\"},mdx(\"inlineCode\",{parentName:\"a\"},`tls.internal_rpc.verify_server_hostname`)),`.`))),mdx(\"h3\",{\"id\":\"example-configuration-file-with-tls\"},mdx(\"a\",{parentName:\"h3\",\"className\":\"__permalink-h\",\"href\":\"#example-configuration-file-with-tls\",\"aria-label\":\"example configuration file with tls permalink\"},`\\xbb`),`Example Configuration File, with TLS`),mdx(\"div\",{\"className\":\"alert alert-warning g-type-body\"},mdx(\"p\",{parentName:\"div\"},``,mdx(\"strong\",{parentName:\"p\"},`Security Note:`),` all three verify options should be set as `,mdx(\"inlineCode\",{parentName:\"p\"},`true`),` to enable\nsecure mTLS communication, enabling both encryption and authentication. Failing\nto set `,mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_defaults_verify_incoming\"},mdx(\"inlineCode\",{parentName:\"a\"},`verify_incoming`)),` or\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_defaults_verify_outgoing\"},mdx(\"inlineCode\",{parentName:\"a\"},`verify_outgoing`)),` either in the\ninterface-specific stanza (e.g. `,mdx(\"inlineCode\",{parentName:\"p\"},`tls.internal_rpc`),`, `,mdx(\"inlineCode\",{parentName:\"p\"},`tls.https`),`) or in\n`,mdx(\"inlineCode\",{parentName:\"p\"},`tls.defaults`),` will result in TLS not being enabled at all, even when specifying\na `,mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_defaults_ca_file\"},mdx(\"inlineCode\",{parentName:\"a\"},`ca_file`)),`, `,mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_defaults_cert_file\"},mdx(\"inlineCode\",{parentName:\"a\"},`cert_file`)),`,\nand `,mdx(\"a\",{parentName:\"p\",\"href\":\"#tls_defaults_key_file\"},mdx(\"inlineCode\",{parentName:\"a\"},`key_file`)),`.`)),mdx(\"p\",null,`See, especially, the use of the `,mdx(\"inlineCode\",{parentName:\"p\"},`ports`),` setting highlighted below.`),mdx(CodeTabs,{heading:\"Example configuration with TLS\",mdxType:\"CodeTabs\"},mdx(CodeBlockConfig,{lineNumbers:true,highlight:\"10-12\",mdxType:\"CodeBlockConfig\"},mdx(\"pre\",{\"className\":\"language-hcl\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-hcl\"},mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`datacenter`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`=`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"east-aws\"`),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`data_dir`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`=`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"/opt/consul\"`),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`log_level`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`=`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"INFO\"`),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`node_name`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`=`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"foobar\"`),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`server`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`=`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token boolean\"},`true`),`\n`,`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`addresses`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`=`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`{`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`https`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`=`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"0.0.0.0\"`),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`}`),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"token keyword\"},`ports`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`{`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`https`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`=`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token number\"},`8501`),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`}`),`\n`,`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"token keyword\"},`tls`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`{`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token keyword\"},`defaults`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`{`),`\n`,`    `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`key_file`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`=`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"/etc/pki/tls/private/my.key\"`),`\n`,`    `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`cert_file`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`=`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"/etc/pki/tls/certs/my.crt\"`),`\n`,`    `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`ca_file`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`=`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"/etc/pki/tls/certs/ca-bundle.crt\"`),`\n`,`    `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`verify_incoming`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`=`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token boolean\"},`true`),`\n`,`    `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`verify_outgoing`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`=`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token boolean\"},`true`),`\n`,`    `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`verify_server_hostname`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`=`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token boolean\"},`true`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`}`),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`}`),`\n`))),mdx(CodeBlockConfig,{lineNumbers:true,highlight:\"10-12\",mdxType:\"CodeBlockConfig\"},mdx(\"pre\",{\"className\":\"language-json\"},mdx(\"code\",{parentName:\"pre\",\"className\":\"language-json\"},mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`{`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`\"datacenter\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"east-aws\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`,`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`\"data_dir\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"/opt/consul\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`,`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`\"log_level\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"INFO\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`,`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`\"node_name\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"foobar\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`,`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`\"server\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token boolean\"},`true`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`,`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`\"addresses\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`{`),`\n`,`    `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`\"https\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"0.0.0.0\"`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`}`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`,`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`\"ports\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`{`),`\n`,`    `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`\"https\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token number\"},`8501`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`}`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`,`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`\"tls\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`{`),`\n`,`    `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`\"defaults\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`{`),`\n`,`      `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`\"key_file\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"/etc/pki/tls/private/my.key\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`,`),`\n`,`      `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`\"cert_file\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"/etc/pki/tls/certs/my.crt\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`,`),`\n`,`      `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`\"ca_file\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token string\"},`\"/etc/pki/tls/certs/ca-bundle.crt\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`,`),`\n`,`      `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`\"verify_incoming\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token boolean\"},`true`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`,`),`\n`,`      `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`\"verify_outgoing\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token boolean\"},`true`),mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`,`),`\n`,`      `,mdx(\"span\",{parentName:\"code\",\"className\":\"token property\"},`\"verify_server_hostname\"`),mdx(\"span\",{parentName:\"code\",\"className\":\"token operator\"},`:`),` `,mdx(\"span\",{parentName:\"code\",\"className\":\"token boolean\"},`true`),`\n`,`    `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`}`),`\n`,`  `,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`}`),`\n`,mdx(\"span\",{parentName:\"code\",\"className\":\"token punctuation\"},`}`),`\n`)))),mdx(\"p\",null,`Consul will not enable TLS for the HTTP or gRPC API unless the `,mdx(\"inlineCode\",{parentName:\"p\"},`https`),` port has\nbeen assigned a port number `,mdx(\"inlineCode\",{parentName:\"p\"},`\u003e 0`),`. We recommend using `,mdx(\"inlineCode\",{parentName:\"p\"},`8501`),` for `,mdx(\"inlineCode\",{parentName:\"p\"},`https`),` as this\ndefault will automatically work with some tooling.`),mdx(\"h2\",{\"id\":\"xds-server-parameters\"},mdx(\"a\",{parentName:\"h2\",\"className\":\"__permalink-h\",\"href\":\"#xds-server-parameters\",\"aria-label\":\"xds server parameters permalink\"},`\\xbb`),`xDS Server Parameters`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"xds\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#xds\",\"aria-label\":\"xds permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`xds`)),`: This object allows you to configure the behavior of Consul's\n`,mdx(\"a\",{parentName:\"p\",\"href\":\"https://www.envoyproxy.io/docs/envoy/latest/api-docs/xds_protocol\"},`xDS protocol`),`\nserver.`),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",{parentName:\"li\",\"id\":\"update_max_per_second\",\"className\":\"__target-lic\",\"aria-hidden\":\"true\"}),mdx(\"p\",{parentName:\"li\"},mdx(\"a\",{parentName:\"p\",\"href\":\"#update_max_per_second\",\"aria-label\":\"update_max_per_second permalink\",\"className\":\"__permalink-lic\"},mdx(\"inlineCode\",{parentName:\"a\"},`update_max_per_second`)),`: Specifies the number of proxy configuration updates across all connected xDS streams that are allowed per second. This configuration prevents updates to global resources, such as wildcard intentions, from consuming system resources at the expense of other processes, such as Raft and Gossip, which could cause general cluster instability.`),mdx(\"p\",{parentName:\"li\"},`The default value is `,mdx(\"inlineCode\",{parentName:\"p\"},`250`),`. It is based on a load test of 5,000 streams connected to a single server with two CPU cores.`),mdx(\"p\",{parentName:\"li\"},`If necessary, you can lower or increase the limit without a rolling restart by using the `,mdx(\"inlineCode\",{parentName:\"p\"},`consul reload`),` command or by sending the server a `,mdx(\"inlineCode\",{parentName:\"p\"},`SIGHUP`),`.`))))))};MDXContent.isMDXComponent=true;","scope":{"version":"latest"}},"product":{"name":"Consul","slug":"consul","algoliaConfig":{"indexName":"product_CONSUL","searchOnlyApiKey":"fbd5dc1f0078d41509fcc560386fd534"},"analyticsConfig":{"includedDomains":"consul.io www.consul.io","segmentWriteKey":"IyzLrqXkox5KJ8XL4fo8vTYNGfiKlTCm"},"datoToken":"88b4984480dad56295a8aadae6caad","metadata":{"title":"Consul by HashiCorp","description":"Consul is a service networking solution to automate network configurations, discover services, and enable secure connectivity across any cloud or runtime.","image":"https://www.consulproject.io/consul-public/img/og-image.png","icon":[{"href":"/consul-public/_favicon.ico"}]},"alertBannerActive":true,"alertBanner":{"tag":"HashiDays","url":"https://hashicorp.com/conferences/hashidays","text":"One conference. Three cities.","linkText":"Find a city near you","expirationDate":"2024-06-14T00:00:00-08:00"},"version":"1.11.3","subnavItems":[],"basePaths":["docs","api-docs","commands","downloads"],"rootDocsPaths":[{"iconName":"docs","name":"Documentation","path":"docs"},{"iconName":"api","name":"API","path":"api-docs"},{"iconName":"terminal-screen","name":"CLI","path":"commands"}],"currentRootDocsPath":{"iconName":"docs","name":"Documentation","path":"docs"}},"projectName":null,"versions":null},"__N_SSG":true},"page":"/consul/docs/[...page]","query":{"page":["agent","config","config-files"]},"buildId":"f5wdX0EOZ27fkDNaP1WJh","isFallback":false,"gsp":true,"scriptLoader":[]}</script><script nomodule="">window.MSInputMethodContext && document.documentMode && document.write('<script src="/ie-warning.js"><\x2fscript>');</script></body></html>