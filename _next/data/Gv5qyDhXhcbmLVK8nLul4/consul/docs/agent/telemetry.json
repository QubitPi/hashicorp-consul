{"pageProps":{"layoutProps":{"breadcrumbLinks":[{"title":"Developer","url":"/"},{"title":"Consul","url":"/consul"},{"title":"Documentation","url":"/consul/docs","isCurrentPage":false},{"title":"Agent","url":"/consul/docs/agent"},{"title":"Telemetry","url":"/consul/docs/agent/telemetry","isCurrentPage":true}],"sidebarNavDataLevels":[{"levelButtonProps":{"levelDownButtonText":"Consul Home"},"menuItems":[{"leadingIconName":"home","title":"HashiCorp Developer","href":"/"},{"leadingIconName":"guide","title":"Tutorials","href":"/tutorials"},{"divider":true},{"heading":"Products"},{"leadingIconName":"hcp","title":"HashiCorp Cloud Platform","href":"/hcp"},{"leadingIconName":"terraform","title":"Terraform","href":"/terraform"},{"leadingIconName":"packer","title":"Packer","href":"/packer"},{"leadingIconName":"consul","title":"Consul","href":"/consul"},{"leadingIconName":"vault","title":"Vault","href":"/vault"},{"leadingIconName":"boundary","title":"Boundary","href":"/boundary"},{"leadingIconName":"nomad","title":"Nomad","href":"/nomad"},{"leadingIconName":"waypoint","title":"Waypoint","href":"/waypoint"},{"leadingIconName":"vagrant","title":"Vagrant","href":"/vagrant"}],"showFilterInput":false,"title":"Main Menu"},{"levelButtonProps":{"levelUpButtonText":"Main Menu","levelDownButtonText":"Previous"},"menuItems":[{"title":"Consul","fullPath":"/consul","theme":"consul"},{"title":"Install","fullPath":"/consul/install"},{"title":"Tutorials","fullPath":"/consul/tutorials"},{"title":"Documentation","fullPath":"/consul/docs"},{"title":"API","fullPath":"/consul/api-docs"},{"title":"CLI","fullPath":"/consul/commands"}],"showFilterInput":false,"title":"Consul","visuallyHideTitle":true},{"backToLinkProps":{"text":"Consul Home","href":"/consul"},"levelButtonProps":{"levelUpButtonText":"Consul Home"},"menuItems":[{"title":"Documentation","fullPath":"/consul/docs","theme":"consul"},{"title":"What is Consul?","path":"intro","filePath":"../content/docs/intro/index.mdx","fullPath":"/consul/docs/intro","id":"sidebar-nav-item-0"},{"title":"Why Choose Consul?","routes":[{"title":"Overview","path":"consul-vs-other","filePath":"../content/docs/consul-vs-other/index.mdx","fullPath":"/consul/docs/consul-vs-other","id":"sidebar-nav-item-2"},{"title":"Service Meshes","path":"consul-vs-other/service-mesh-compare","filePath":"../content/docs/consul-vs-other/service-mesh-compare.mdx","fullPath":"/consul/docs/consul-vs-other/service-mesh-compare","id":"sidebar-nav-item-3"},{"title":"DNS Tools","path":"consul-vs-other/dns-tools-compare","filePath":"../content/docs/consul-vs-other/dns-tools-compare.mdx","fullPath":"/consul/docs/consul-vs-other/dns-tools-compare","id":"sidebar-nav-item-4"},{"title":"Configuration Management Tools","path":"consul-vs-other/config-management-compare","filePath":"../content/docs/consul-vs-other/config-management-compare.mdx","fullPath":"/consul/docs/consul-vs-other/config-management-compare","id":"sidebar-nav-item-5"},{"title":"API Gateways","path":"consul-vs-other/api-gateway-compare","filePath":"../content/docs/consul-vs-other/api-gateway-compare.mdx","fullPath":"/consul/docs/consul-vs-other/api-gateway-compare","id":"sidebar-nav-item-6"}],"id":"sidebar-nav-item-1"},{"title":"Core Concepts","routes":[{"title":"Service Discovery","path":"concepts/service-discovery","filePath":"../content/docs/concepts/service-discovery.mdx","fullPath":"/consul/docs/concepts/service-discovery","id":"sidebar-nav-item-8"},{"title":"Service Mesh","path":"concepts/service-mesh","filePath":"../content/docs/concepts/service-mesh.mdx","fullPath":"/consul/docs/concepts/service-mesh","id":"sidebar-nav-item-9"}],"id":"sidebar-nav-item-7"},{"title":"Get Started","routes":[{"title":"Install Consul","path":"install","filePath":"../content/docs/install/index.mdx","fullPath":"/consul/docs/install","id":"sidebar-nav-item-11"},{"title":"Learn HCP Consul","href":"https://developer.hashicorp.com/consul/tutorials/get-started-hcp","id":"sidebar-nav-item-12"},{"title":"Learn Consul on Kubernetes","href":"https://developer.hashicorp.com/consul/tutorials/get-started-kubernetes","id":"sidebar-nav-item-13"},{"title":"Learn Consul on VMs","href":"https://developer.hashicorp.com/consul/tutorials/get-started-vms","id":"sidebar-nav-item-14"},{"title":"Consul Agent","href":null,"fullPath":"/consul/docs/agent","id":"sidebar-nav-item-15","path":"/docs/agent"},{"title":"Glossary","path":"install/glossary","filePath":"../content/docs/install/glossary.mdx","fullPath":"/consul/docs/install/glossary","id":"sidebar-nav-item-16"},{"title":"Required Ports","path":"install/ports","filePath":"../content/docs/install/ports.mdx","fullPath":"/consul/docs/install/ports","id":"sidebar-nav-item-17"},{"title":"Bootstrapping a Datacenter","path":"install/bootstrapping","filePath":"../content/docs/install/bootstrapping.mdx","fullPath":"/consul/docs/install/bootstrapping","id":"sidebar-nav-item-18"},{"title":"Cloud Auto-join","path":"install/cloud-auto-join","filePath":"../content/docs/install/cloud-auto-join.mdx","fullPath":"/consul/docs/install/cloud-auto-join","id":"sidebar-nav-item-19"},{"title":"Server Performance","path":"install/performance","filePath":"../content/docs/install/performance.mdx","fullPath":"/consul/docs/install/performance","id":"sidebar-nav-item-20"},{"title":"Kubernetes","href":null,"fullPath":"/consul/docs/k8s","id":"sidebar-nav-item-21","path":"/docs/k8s"}],"id":"sidebar-nav-item-10"},{"title":"Architecture","routes":[{"title":"Overview","path":"architecture","filePath":"../content/docs/architecture/index.mdx","fullPath":"/consul/docs/architecture","id":"sidebar-nav-item-23"},{"title":"v1 Catalog","path":"architecture/catalog","filePath":"../content/docs/architecture/catalog.mdx","fullPath":"/consul/docs/architecture/catalog","id":"sidebar-nav-item-24"},{"title":"v2 architecture","routes":[{"title":"Overview","path":"architecture/v2","filePath":"../content/docs/architecture/v2/index.mdx","fullPath":"/consul/docs/architecture/v2","id":"sidebar-nav-item-26"},{"title":"Catalog","path":"architecture/v2/catalog","filePath":"../content/docs/architecture/v2/catalog.mdx","fullPath":"/consul/docs/architecture/v2/catalog","id":"sidebar-nav-item-27"},{"title":"Resource groups","path":"architecture/v2/groups","filePath":"../content/docs/architecture/v2/groups.mdx","fullPath":"/consul/docs/architecture/v2/groups","id":"sidebar-nav-item-28"}],"id":"sidebar-nav-item-25"},{"title":"Improving Consul Resilience","path":"architecture/improving-consul-resilience","filePath":"../content/docs/architecture/improving-consul-resilience.mdx","fullPath":"/consul/docs/architecture/improving-consul-resilience","id":"sidebar-nav-item-29"},{"title":"Anti-Entropy","path":"architecture/anti-entropy","filePath":"../content/docs/architecture/anti-entropy.mdx","fullPath":"/consul/docs/architecture/anti-entropy","id":"sidebar-nav-item-30"},{"title":"Consensus Protocol","path":"architecture/consensus","filePath":"../content/docs/architecture/consensus.mdx","fullPath":"/consul/docs/architecture/consensus","id":"sidebar-nav-item-31"},{"title":"Gossip Protocol","path":"architecture/gossip","filePath":"../content/docs/architecture/gossip.mdx","fullPath":"/consul/docs/architecture/gossip","id":"sidebar-nav-item-32"},{"title":"Jepsen Testing","path":"architecture/jepsen","filePath":"../content/docs/architecture/jepsen.mdx","fullPath":"/consul/docs/architecture/jepsen","id":"sidebar-nav-item-33"},{"title":"Network Coordinates","path":"architecture/coordinates","filePath":"../content/docs/architecture/coordinates.mdx","fullPath":"/consul/docs/architecture/coordinates","id":"sidebar-nav-item-34"},{"title":"Consul at Scale","path":"architecture/scale","filePath":"../content/docs/architecture/scale.mdx","fullPath":"/consul/docs/architecture/scale","id":"sidebar-nav-item-35"}],"id":"sidebar-nav-item-22"},{"divider":true,"id":"sidebar-nav-item-36"},{"title":"Release Notes","routes":[{"title":"Overview","path":"release-notes","filePath":"../content/docs/release-notes/index.mdx","fullPath":"/consul/docs/release-notes","id":"sidebar-nav-item-38"},{"title":"Consul","routes":[{"title":"v1.18.x","path":"release-notes/consul/v1_18_x","filePath":"../content/docs/release-notes/consul/v1_18_x.mdx","fullPath":"/consul/docs/release-notes/consul/v1_18_x","id":"sidebar-nav-item-40"},{"title":"v1.17.x","path":"release-notes/consul/v1_17_x","filePath":"../content/docs/release-notes/consul/v1_17_x.mdx","fullPath":"/consul/docs/release-notes/consul/v1_17_x","id":"sidebar-nav-item-41"},{"title":"v1.16.x","path":"release-notes/consul/v1_16_x","filePath":"../content/docs/release-notes/consul/v1_16_x.mdx","fullPath":"/consul/docs/release-notes/consul/v1_16_x","id":"sidebar-nav-item-42"},{"title":"v1.15.x","path":"release-notes/consul/v1_15_x","filePath":"../content/docs/release-notes/consul/v1_15_x.mdx","fullPath":"/consul/docs/release-notes/consul/v1_15_x","id":"sidebar-nav-item-43"},{"title":"v1.14.x","path":"release-notes/consul/v1_14_x","filePath":"../content/docs/release-notes/consul/v1_14_x.mdx","fullPath":"/consul/docs/release-notes/consul/v1_14_x","id":"sidebar-nav-item-44"},{"title":"v1.13.x","path":"release-notes/consul/v1_13_x","filePath":"../content/docs/release-notes/consul/v1_13_x.mdx","fullPath":"/consul/docs/release-notes/consul/v1_13_x","id":"sidebar-nav-item-45"},{"title":"v1.12.x","path":"release-notes/consul/v1_12_x","filePath":"../content/docs/release-notes/consul/v1_12_x.mdx","fullPath":"/consul/docs/release-notes/consul/v1_12_x","id":"sidebar-nav-item-46"},{"title":"v1.11.x","path":"release-notes/consul/v1_11_x","filePath":"../content/docs/release-notes/consul/v1_11_x.mdx","fullPath":"/consul/docs/release-notes/consul/v1_11_x","id":"sidebar-nav-item-47"},{"title":"v1.10.x","path":"release-notes/consul/v1_10_x","filePath":"../content/docs/release-notes/consul/v1_10_x.mdx","fullPath":"/consul/docs/release-notes/consul/v1_10_x","id":"sidebar-nav-item-48"},{"title":"v1.9.x","path":"release-notes/consul/v1_9_x","filePath":"../content/docs/release-notes/consul/v1_9_x.mdx","fullPath":"/consul/docs/release-notes/consul/v1_9_x","id":"sidebar-nav-item-49"}],"id":"sidebar-nav-item-39"},{"title":"Consul K8s","routes":[{"title":"v1.4.x","path":"release-notes/consul-k8s/v1_4_x","filePath":"../content/docs/release-notes/consul-k8s/v1_4_x.mdx","fullPath":"/consul/docs/release-notes/consul-k8s/v1_4_x","id":"sidebar-nav-item-51"},{"title":"v1.3.x","path":"release-notes/consul-k8s/v1_3_x","filePath":"../content/docs/release-notes/consul-k8s/v1_3_x.mdx","fullPath":"/consul/docs/release-notes/consul-k8s/v1_3_x","id":"sidebar-nav-item-52"},{"title":"v1.2.x","path":"release-notes/consul-k8s/v1_2_x","filePath":"../content/docs/release-notes/consul-k8s/v1_2_x.mdx","fullPath":"/consul/docs/release-notes/consul-k8s/v1_2_x","id":"sidebar-nav-item-53"},{"title":"v1.1.x","path":"release-notes/consul-k8s/v1_1_x","filePath":"../content/docs/release-notes/consul-k8s/v1_1_x.mdx","fullPath":"/consul/docs/release-notes/consul-k8s/v1_1_x","id":"sidebar-nav-item-54"},{"title":"v1.0.x","path":"release-notes/consul-k8s/v1_0_x","filePath":"../content/docs/release-notes/consul-k8s/v1_0_x.mdx","fullPath":"/consul/docs/release-notes/consul-k8s/v1_0_x","id":"sidebar-nav-item-55"},{"title":"v0.49.x","path":"release-notes/consul-k8s/v0_49_x","filePath":"../content/docs/release-notes/consul-k8s/v0_49_x.mdx","fullPath":"/consul/docs/release-notes/consul-k8s/v0_49_x","id":"sidebar-nav-item-56"},{"title":"v0.48.x","path":"release-notes/consul-k8s/v0_48_x","filePath":"../content/docs/release-notes/consul-k8s/v0_48_x.mdx","fullPath":"/consul/docs/release-notes/consul-k8s/v0_48_x","id":"sidebar-nav-item-57"},{"title":"v0.47.x","path":"release-notes/consul-k8s/v0_47_x","filePath":"../content/docs/release-notes/consul-k8s/v0_47_x.mdx","fullPath":"/consul/docs/release-notes/consul-k8s/v0_47_x","id":"sidebar-nav-item-58"}],"id":"sidebar-nav-item-50"},{"title":"API Gateway for Kubernetes","routes":[{"title":"v0.5.x","path":"release-notes/consul-api-gateway/v0_5_x","filePath":"../content/docs/release-notes/consul-api-gateway/v0_5_x.mdx","fullPath":"/consul/docs/release-notes/consul-api-gateway/v0_5_x","id":"sidebar-nav-item-60"},{"title":"v0.4.x","path":"release-notes/consul-api-gateway/v0_4_x","filePath":"../content/docs/release-notes/consul-api-gateway/v0_4_x.mdx","fullPath":"/consul/docs/release-notes/consul-api-gateway/v0_4_x","id":"sidebar-nav-item-61"},{"title":"v0.3.x","path":"release-notes/consul-api-gateway/v0_3_x","filePath":"../content/docs/release-notes/consul-api-gateway/v0_3_x.mdx","fullPath":"/consul/docs/release-notes/consul-api-gateway/v0_3_x","id":"sidebar-nav-item-62"},{"title":"v0.2.x","path":"release-notes/consul-api-gateway/v0_2_x","filePath":"../content/docs/release-notes/consul-api-gateway/v0_2_x.mdx","fullPath":"/consul/docs/release-notes/consul-api-gateway/v0_2_x","id":"sidebar-nav-item-63"},{"title":"v0.1.x","path":"release-notes/consul-api-gateway/v0_1_x","filePath":"../content/docs/release-notes/consul-api-gateway/v0_1_x.mdx","fullPath":"/consul/docs/release-notes/consul-api-gateway/v0_1_x","id":"sidebar-nav-item-64"}],"id":"sidebar-nav-item-59"},{"title":"Consul ECS","routes":[{"title":"v0.7.x","path":"release-notes/consul-ecs/v0_7_x","filePath":"../content/docs/release-notes/consul-ecs/v0_7_x.mdx","fullPath":"/consul/docs/release-notes/consul-ecs/v0_7_x","id":"sidebar-nav-item-66"},{"title":"v0.5.x","path":"release-notes/consul-ecs/v0_5_x","filePath":"../content/docs/release-notes/consul-ecs/v0_5_x.mdx","fullPath":"/consul/docs/release-notes/consul-ecs/v0_5_x","id":"sidebar-nav-item-67"},{"title":"v0.4.x","path":"release-notes/consul-ecs/v0_4_x","filePath":"../content/docs/release-notes/consul-ecs/v0_4_x.mdx","fullPath":"/consul/docs/release-notes/consul-ecs/v0_4_x","id":"sidebar-nav-item-68"},{"title":"v0.3.x","path":"release-notes/consul-ecs/v0_3_x","filePath":"../content/docs/release-notes/consul-ecs/v0_3_x.mdx","fullPath":"/consul/docs/release-notes/consul-ecs/v0_3_x","id":"sidebar-nav-item-69"},{"title":"v0.2.x","path":"release-notes/consul-ecs/v0_2_x","filePath":"../content/docs/release-notes/consul-ecs/v0_2_x.mdx","fullPath":"/consul/docs/release-notes/consul-ecs/v0_2_x","id":"sidebar-nav-item-70"}],"id":"sidebar-nav-item-65"},{"title":"Consul Terraform Sync","routes":[{"title":"v0.6.x","path":"release-notes/consul-terraform-sync/v0_6_x","filePath":"../content/docs/release-notes/consul-terraform-sync/v0_6_x.mdx","fullPath":"/consul/docs/release-notes/consul-terraform-sync/v0_6_x","id":"sidebar-nav-item-72"},{"title":"v0.5.x","path":"release-notes/consul-terraform-sync/v0_5_x","filePath":"../content/docs/release-notes/consul-terraform-sync/v0_5_x.mdx","fullPath":"/consul/docs/release-notes/consul-terraform-sync/v0_5_x","id":"sidebar-nav-item-73"}],"id":"sidebar-nav-item-71"}],"id":"sidebar-nav-item-37"},{"title":"Upgrade","routes":[{"title":"Overview","path":"upgrading","filePath":"../content/docs/upgrading/index.mdx","fullPath":"/consul/docs/upgrading","id":"sidebar-nav-item-75"},{"title":"Compatibility Promise","path":"upgrading/compatibility","filePath":"../content/docs/upgrading/compatibility.mdx","fullPath":"/consul/docs/upgrading/compatibility","id":"sidebar-nav-item-76"},{"title":"Specific Version Details","path":"upgrading/upgrade-specific","filePath":"../content/docs/upgrading/upgrade-specific.mdx","fullPath":"/consul/docs/upgrading/upgrade-specific","id":"sidebar-nav-item-77"},{"title":"Upgrade Instructions","routes":[{"title":"Overview","path":"upgrading/instructions","filePath":"../content/docs/upgrading/instructions/index.mdx","fullPath":"/consul/docs/upgrading/instructions","id":"sidebar-nav-item-79"},{"title":"General Process","path":"upgrading/instructions/general-process","filePath":"../content/docs/upgrading/instructions/general-process.mdx","fullPath":"/consul/docs/upgrading/instructions/general-process","id":"sidebar-nav-item-80"},{"title":"Upgrading to Latest 1.2.x","path":"upgrading/instructions/upgrade-to-1-2-x","filePath":"../content/docs/upgrading/instructions/upgrade-to-1-2-x.mdx","fullPath":"/consul/docs/upgrading/instructions/upgrade-to-1-2-x","id":"sidebar-nav-item-81"},{"title":"Upgrading to Latest 1.6.x","path":"upgrading/instructions/upgrade-to-1-6-x","filePath":"../content/docs/upgrading/instructions/upgrade-to-1-6-x.mdx","fullPath":"/consul/docs/upgrading/instructions/upgrade-to-1-6-x","id":"sidebar-nav-item-82"},{"title":"Upgrading to Latest 1.8.x","path":"upgrading/instructions/upgrade-to-1-8-x","filePath":"../content/docs/upgrading/instructions/upgrade-to-1-8-x.mdx","fullPath":"/consul/docs/upgrading/instructions/upgrade-to-1-8-x","id":"sidebar-nav-item-83"},{"title":"Upgrading to Latest 1.10.x","path":"upgrading/instructions/upgrade-to-1-10-x","filePath":"../content/docs/upgrading/instructions/upgrade-to-1-10-x.mdx","fullPath":"/consul/docs/upgrading/instructions/upgrade-to-1-10-x","id":"sidebar-nav-item-84"}],"id":"sidebar-nav-item-78"}],"id":"sidebar-nav-item-74"},{"divider":true,"id":"sidebar-nav-item-85"},{"title":"Services","routes":[{"title":"Overview","path":"services/services","filePath":"../content/docs/services/services.mdx","fullPath":"/consul/docs/services/services","id":"sidebar-nav-item-87"},{"title":"Usage","routes":[{"title":"Define services","path":"services/usage/define-services","filePath":"../content/docs/services/usage/define-services.mdx","fullPath":"/consul/docs/services/usage/define-services","id":"sidebar-nav-item-89"},{"title":"Define health checks","path":"services/usage/checks","filePath":"../content/docs/services/usage/checks.mdx","fullPath":"/consul/docs/services/usage/checks","id":"sidebar-nav-item-90"},{"title":"Register services and health checks","path":"services/usage/register-services-checks","filePath":"../content/docs/services/usage/register-services-checks.mdx","fullPath":"/consul/docs/services/usage/register-services-checks","id":"sidebar-nav-item-91"}],"id":"sidebar-nav-item-88"},{"title":"Discover services with DNS","routes":[{"title":"Overview","path":"services/discovery/dns-overview","filePath":"../content/docs/services/discovery/dns-overview.mdx","fullPath":"/consul/docs/services/discovery/dns-overview","id":"sidebar-nav-item-93"},{"title":"Configure DNS behavior","path":"services/discovery/dns-configuration","filePath":"../content/docs/services/discovery/dns-configuration.mdx","fullPath":"/consul/docs/services/discovery/dns-configuration","id":"sidebar-nav-item-94"},{"title":"Perform static DNS lookups","path":"services/discovery/dns-static-lookups","filePath":"../content/docs/services/discovery/dns-static-lookups.mdx","fullPath":"/consul/docs/services/discovery/dns-static-lookups","id":"sidebar-nav-item-95"},{"title":"Enable dynamic DNS lookups","path":"services/discovery/dns-dynamic-lookups","filePath":"../content/docs/services/discovery/dns-dynamic-lookups.mdx","fullPath":"/consul/docs/services/discovery/dns-dynamic-lookups","id":"sidebar-nav-item-96"}],"id":"sidebar-nav-item-92"},{"title":"Configuration","routes":[{"title":"Overview","path":"services/configuration/services-configuration-overview","filePath":"../content/docs/services/configuration/services-configuration-overview.mdx","fullPath":"/consul/docs/services/configuration/services-configuration-overview","id":"sidebar-nav-item-98"},{"title":"Services","path":"services/configuration/services-configuration-reference","filePath":"../content/docs/services/configuration/services-configuration-reference.mdx","fullPath":"/consul/docs/services/configuration/services-configuration-reference","id":"sidebar-nav-item-99"},{"title":"Health checks","path":"services/configuration/checks-configuration-reference","filePath":"../content/docs/services/configuration/checks-configuration-reference.mdx","fullPath":"/consul/docs/services/configuration/checks-configuration-reference","id":"sidebar-nav-item-100"},{"title":"Service defaults","href":null,"fullPath":"/consul/docs/connect/config-entries/service-defaults","id":"sidebar-nav-item-101","path":"connect/config-entries/service-defaults"}],"id":"sidebar-nav-item-97"}],"id":"sidebar-nav-item-86"},{"title":"Service Mesh","routes":[{"title":"Overview","path":"connect","filePath":"../content/docs/connect/index.mdx","fullPath":"/consul/docs/connect","id":"sidebar-nav-item-103"},{"title":"How Service Mesh Works","path":"connect/connect-internals","filePath":"../content/docs/connect/connect-internals.mdx","fullPath":"/consul/docs/connect/connect-internals","id":"sidebar-nav-item-104"},{"title":"Configuration","path":"connect/configuration","filePath":"../content/docs/connect/configuration.mdx","fullPath":"/consul/docs/connect/configuration","id":"sidebar-nav-item-105"},{"title":"Configuration entries","routes":[{"title":"Overview","path":"connect/config-entries","filePath":"../content/docs/connect/config-entries/index.mdx","fullPath":"/consul/docs/connect/config-entries","id":"sidebar-nav-item-107"},{"title":"API gateway","path":"connect/config-entries/api-gateway","filePath":"../content/docs/connect/config-entries/api-gateway.mdx","fullPath":"/consul/docs/connect/config-entries/api-gateway","id":"sidebar-nav-item-108"},{"title":"HTTP route","path":"connect/config-entries/http-route","filePath":"../content/docs/connect/config-entries/http-route.mdx","fullPath":"/consul/docs/connect/config-entries/http-route","id":"sidebar-nav-item-109"},{"title":"TCP route","path":"connect/config-entries/tcp-route","filePath":"../content/docs/connect/config-entries/tcp-route.mdx","fullPath":"/consul/docs/connect/config-entries/tcp-route","id":"sidebar-nav-item-110"},{"title":"Inline certificate","path":"connect/config-entries/inline-certificate","filePath":"../content/docs/connect/config-entries/inline-certificate.mdx","fullPath":"/consul/docs/connect/config-entries/inline-certificate","id":"sidebar-nav-item-111"},{"title":"Ingress gateway","path":"connect/config-entries/ingress-gateway","filePath":"../content/docs/connect/config-entries/ingress-gateway.mdx","fullPath":"/consul/docs/connect/config-entries/ingress-gateway","id":"sidebar-nav-item-112"},{"title":"JWT Provider","path":"connect/config-entries/jwt-provider","filePath":"../content/docs/connect/config-entries/jwt-provider.mdx","fullPath":"/consul/docs/connect/config-entries/jwt-provider","id":"sidebar-nav-item-113"},{"title":"Mesh","path":"connect/config-entries/mesh","filePath":"../content/docs/connect/config-entries/mesh.mdx","fullPath":"/consul/docs/connect/config-entries/mesh","id":"sidebar-nav-item-114"},{"title":"Exported services","path":"connect/config-entries/exported-services","filePath":"../content/docs/connect/config-entries/exported-services.mdx","fullPath":"/consul/docs/connect/config-entries/exported-services","id":"sidebar-nav-item-115"},{"title":"Proxy defaults","path":"connect/config-entries/proxy-defaults","filePath":"../content/docs/connect/config-entries/proxy-defaults.mdx","fullPath":"/consul/docs/connect/config-entries/proxy-defaults","id":"sidebar-nav-item-116"},{"title":"Sameness Group","path":"connect/config-entries/sameness-group","filePath":"../content/docs/connect/config-entries/sameness-group.mdx","fullPath":"/consul/docs/connect/config-entries/sameness-group","id":"sidebar-nav-item-117"},{"title":"Service Defaults","path":"connect/config-entries/service-defaults","filePath":"../content/docs/connect/config-entries/service-defaults.mdx","fullPath":"/consul/docs/connect/config-entries/service-defaults","id":"sidebar-nav-item-118"},{"title":"Service intentions","path":"connect/config-entries/service-intentions","filePath":"../content/docs/connect/config-entries/service-intentions.mdx","fullPath":"/consul/docs/connect/config-entries/service-intentions","id":"sidebar-nav-item-119"},{"title":"Service resolver","path":"connect/config-entries/service-resolver","filePath":"../content/docs/connect/config-entries/service-resolver.mdx","fullPath":"/consul/docs/connect/config-entries/service-resolver","id":"sidebar-nav-item-120"},{"title":"Service router","path":"connect/config-entries/service-router","filePath":"../content/docs/connect/config-entries/service-router.mdx","fullPath":"/consul/docs/connect/config-entries/service-router","id":"sidebar-nav-item-121"},{"title":"Service splitter","path":"connect/config-entries/service-splitter","filePath":"../content/docs/connect/config-entries/service-splitter.mdx","fullPath":"/consul/docs/connect/config-entries/service-splitter","id":"sidebar-nav-item-122"},{"title":"Terminating gateway","path":"connect/config-entries/terminating-gateway","filePath":"../content/docs/connect/config-entries/terminating-gateway.mdx","fullPath":"/consul/docs/connect/config-entries/terminating-gateway","id":"sidebar-nav-item-123"},{"title":"Control plane request limit","path":"connect/config-entries/control-plane-request-limit","filePath":"../content/docs/connect/config-entries/control-plane-request-limit.mdx","fullPath":"/consul/docs/connect/config-entries/control-plane-request-limit","id":"sidebar-nav-item-124"}],"id":"sidebar-nav-item-106"},{"title":"Proxies","routes":[{"title":"Overview","path":"connect/proxies","filePath":"../content/docs/connect/proxies/index.mdx","fullPath":"/consul/docs/connect/proxies","id":"sidebar-nav-item-126"},{"title":"Deploy service mesh proxies","path":"connect/proxies/deploy-service-mesh-proxies","filePath":"../content/docs/connect/proxies/deploy-service-mesh-proxies.mdx","fullPath":"/consul/docs/connect/proxies/deploy-service-mesh-proxies","id":"sidebar-nav-item-127"},{"title":"Deploy sidecar services","path":"connect/proxies/deploy-sidecar-services","filePath":"../content/docs/connect/proxies/deploy-sidecar-services.mdx","fullPath":"/consul/docs/connect/proxies/deploy-sidecar-services","id":"sidebar-nav-item-128"},{"title":"Envoy Extensions","routes":[{"title":"Overview","path":"connect/proxies/envoy-extensions","filePath":"../content/docs/connect/proxies/envoy-extensions/index.mdx","fullPath":"/consul/docs/connect/proxies/envoy-extensions","id":"sidebar-nav-item-130"},{"title":"Usage","routes":[{"title":"Delegate authorization to Apigee","path":"connect/proxies/envoy-extensions/usage/apigee-ext-authz","filePath":"../content/docs/connect/proxies/envoy-extensions/usage/apigee-ext-authz.mdx","fullPath":"/consul/docs/connect/proxies/envoy-extensions/usage/apigee-ext-authz","id":"sidebar-nav-item-132"},{"title":"Delegate authorization to external services","path":"connect/proxies/envoy-extensions/usage/ext-authz","filePath":"../content/docs/connect/proxies/envoy-extensions/usage/ext-authz.mdx","fullPath":"/consul/docs/connect/proxies/envoy-extensions/usage/ext-authz","id":"sidebar-nav-item-133"},{"title":"Run Lua scripts in Envoy proxies","path":"connect/proxies/envoy-extensions/usage/lua","filePath":"../content/docs/connect/proxies/envoy-extensions/usage/lua.mdx","fullPath":"/consul/docs/connect/proxies/envoy-extensions/usage/lua","id":"sidebar-nav-item-134"},{"title":"Invoke Lambda functions in Envoy proxies","path":"connect/proxies/envoy-extensions/usage/lambda","filePath":"../content/docs/connect/proxies/envoy-extensions/usage/lambda.mdx","fullPath":"/consul/docs/connect/proxies/envoy-extensions/usage/lambda","id":"sidebar-nav-item-135"},{"title":"Send access logs to OpenTelemetry collector service","path":"connect/proxies/envoy-extensions/usage/otel-access-logging","filePath":"../content/docs/connect/proxies/envoy-extensions/usage/otel-access-logging.mdx","fullPath":"/consul/docs/connect/proxies/envoy-extensions/usage/otel-access-logging","id":"sidebar-nav-item-136"},{"title":"Configure Envoy proxy properties","path":"connect/proxies/envoy-extensions/usage/property-override","filePath":"../content/docs/connect/proxies/envoy-extensions/usage/property-override.mdx","fullPath":"/consul/docs/connect/proxies/envoy-extensions/usage/property-override","id":"sidebar-nav-item-137"},{"title":"Run WebAssembly plug-ins in Envoy proxies","path":"connect/proxies/envoy-extensions/usage/wasm","filePath":"../content/docs/connect/proxies/envoy-extensions/usage/wasm.mdx","fullPath":"/consul/docs/connect/proxies/envoy-extensions/usage/wasm","id":"sidebar-nav-item-138"}],"id":"sidebar-nav-item-131"},{"title":"Configuration","routes":[{"title":"External authorization","path":"connect/proxies/envoy-extensions/configuration/ext-authz","filePath":"../content/docs/connect/proxies/envoy-extensions/configuration/ext-authz.mdx","fullPath":"/consul/docs/connect/proxies/envoy-extensions/configuration/ext-authz","id":"sidebar-nav-item-140"},{"title":"OpenTelemetry Access Logging","path":"connect/proxies/envoy-extensions/configuration/otel-access-logging","filePath":"../content/docs/connect/proxies/envoy-extensions/configuration/otel-access-logging.mdx","fullPath":"/consul/docs/connect/proxies/envoy-extensions/configuration/otel-access-logging","id":"sidebar-nav-item-141"},{"title":"Property override","path":"connect/proxies/envoy-extensions/configuration/property-override","filePath":"../content/docs/connect/proxies/envoy-extensions/configuration/property-override.mdx","fullPath":"/consul/docs/connect/proxies/envoy-extensions/configuration/property-override","id":"sidebar-nav-item-142"},{"title":"WebAssembly","path":"connect/proxies/envoy-extensions/configuration/wasm","filePath":"../content/docs/connect/proxies/envoy-extensions/configuration/wasm.mdx","fullPath":"/consul/docs/connect/proxies/envoy-extensions/configuration/wasm","id":"sidebar-nav-item-143"}],"id":"sidebar-nav-item-139"}],"id":"sidebar-nav-item-129"},{"title":"Proxy integration","path":"connect/proxies/integrate","filePath":"../content/docs/connect/proxies/integrate.mdx","fullPath":"/consul/docs/connect/proxies/integrate","id":"sidebar-nav-item-144"},{"title":"Proxy defaults configuration reference","href":null,"fullPath":"/consul/docs/connect/config-entries/proxy-defaults","id":"sidebar-nav-item-145","path":"/consul/docs/connect/config-entries/proxy-defaults"},{"title":"Envoy proxies reference","path":"connect/proxies/envoy","filePath":"../content/docs/connect/proxies/envoy.mdx","fullPath":"/consul/docs/connect/proxies/envoy","id":"sidebar-nav-item-146"},{"title":"Built-in proxy reference","path":"connect/proxies/built-in","filePath":"../content/docs/connect/proxies/built-in.mdx","fullPath":"/consul/docs/connect/proxies/built-in","id":"sidebar-nav-item-147"},{"title":"Service mesh proxy configuration reference","path":"connect/proxies/proxy-config-reference","filePath":"../content/docs/connect/proxies/proxy-config-reference.mdx","fullPath":"/consul/docs/connect/proxies/proxy-config-reference","id":"sidebar-nav-item-148"}],"id":"sidebar-nav-item-125"},{"title":"Service intentions","routes":[{"title":"Overview","path":"connect/intentions","filePath":"../content/docs/connect/intentions/index.mdx","fullPath":"/consul/docs/connect/intentions","id":"sidebar-nav-item-150"},{"title":"Create and manage service intentions","path":"connect/intentions/create-manage-intentions","filePath":"../content/docs/connect/intentions/create-manage-intentions.mdx","fullPath":"/consul/docs/connect/intentions/create-manage-intentions","id":"sidebar-nav-item-151"},{"title":"JWT authorization for intentions","path":"connect/intentions/jwt-authorization","filePath":"../content/docs/connect/intentions/jwt-authorization.mdx","fullPath":"/consul/docs/connect/intentions/jwt-authorization","id":"sidebar-nav-item-152"},{"title":"Service intentions legacy mode","path":"connect/intentions/legacy","filePath":"../content/docs/connect/intentions/legacy.mdx","fullPath":"/consul/docs/connect/intentions/legacy","id":"sidebar-nav-item-153"},{"title":"Configuration","href":null,"fullPath":"/consul/docs/connect/config-entries/service-intentions","id":"sidebar-nav-item-154","path":"/consul/docs/connect/config-entries/service-intentions"}],"id":"sidebar-nav-item-149"},{"title":"Observability","routes":[{"title":"Overview","path":"connect/observability","filePath":"../content/docs/connect/observability/index.mdx","fullPath":"/consul/docs/connect/observability","id":"sidebar-nav-item-156"},{"title":"Access Logs","path":"connect/observability/access-logs","filePath":"../content/docs/connect/observability/access-logs.mdx","fullPath":"/consul/docs/connect/observability/access-logs","id":"sidebar-nav-item-157"},{"title":"UI Visualization","path":"connect/observability/ui-visualization","filePath":"../content/docs/connect/observability/ui-visualization.mdx","fullPath":"/consul/docs/connect/observability/ui-visualization","id":"sidebar-nav-item-158"}],"id":"sidebar-nav-item-155"},{"title":"Manage traffic","routes":[{"title":"Overview","path":"connect/manage-traffic","filePath":"../content/docs/connect/manage-traffic/index.mdx","fullPath":"/consul/docs/connect/manage-traffic","id":"sidebar-nav-item-160"},{"title":"Route traffic to local upstreams","path":"connect/manage-traffic/route-to-local-upstreams","filePath":"../content/docs/connect/manage-traffic/route-to-local-upstreams.mdx","fullPath":"/consul/docs/connect/manage-traffic/route-to-local-upstreams","id":"sidebar-nav-item-161"},{"title":"Limit request rates to services","path":"connect/manage-traffic/limit-request-rates","filePath":"../content/docs/connect/manage-traffic/limit-request-rates.mdx","fullPath":"/consul/docs/connect/manage-traffic/limit-request-rates","id":"sidebar-nav-item-162"},{"title":"Fault Injection","path":"connect/manage-traffic/fault-injection","filePath":"../content/docs/connect/manage-traffic/fault-injection.mdx","fullPath":"/consul/docs/connect/manage-traffic/fault-injection","id":"sidebar-nav-item-163"},{"title":"Failover","routes":[{"title":"Overview","path":"connect/manage-traffic/failover","filePath":"../content/docs/connect/manage-traffic/failover/index.mdx","fullPath":"/consul/docs/connect/manage-traffic/failover","id":"sidebar-nav-item-165"},{"title":"Configure failover services for Kubernetes","href":null,"fullPath":"/consul/docs/k8s/l7-traffic/failover-tproxy","id":"sidebar-nav-item-166","path":"/docs/k8s/l7-traffic/failover-tproxy"},{"title":"Automate geo-failover with prepared queries","href":null,"fullPath":"/consul/tutorials/developer-discovery/automate-geo-failover","id":"sidebar-nav-item-167","path":"/tutorials/developer-discovery/automate-geo-failover"},{"title":"Failover with sameness groups","path":"connect/manage-traffic/failover/sameness","filePath":"../content/docs/connect/manage-traffic/failover/sameness.mdx","fullPath":"/consul/docs/connect/manage-traffic/failover/sameness","id":"sidebar-nav-item-168"},{"title":"Configuration","routes":[{"title":"Service resolver","href":null,"fullPath":"/consul/docs/connect/config-entries/service-resolver","id":"sidebar-nav-item-170","path":"/consul/docs/connect/config-entries/service-resolver"},{"title":"Service intentions","href":null,"fullPath":"/consul/docs/connect/config-entries/service-intentions","id":"sidebar-nav-item-171","path":"/consul/docs/connect/config-entries/service-intentions"}],"id":"sidebar-nav-item-169"}],"id":"sidebar-nav-item-164"},{"title":"Discovery chain reference","path":"connect/manage-traffic/discovery-chain","filePath":"../content/docs/connect/manage-traffic/discovery-chain.mdx","fullPath":"/consul/docs/connect/manage-traffic/discovery-chain","id":"sidebar-nav-item-172"}],"id":"sidebar-nav-item-159"},{"title":"Connectivity Tasks","path":"connect/connectivity-tasks","filePath":"../content/docs/connect/connectivity-tasks.mdx","fullPath":"/consul/docs/connect/connectivity-tasks","id":"sidebar-nav-item-173"},{"title":"Distributed Tracing","path":"connect/distributed-tracing","filePath":"../content/docs/connect/distributed-tracing.mdx","fullPath":"/consul/docs/connect/distributed-tracing","id":"sidebar-nav-item-174"},{"title":"Gateways","routes":[{"title":"Overview","path":"connect/gateways","filePath":"../content/docs/connect/gateways/index.mdx","fullPath":"/consul/docs/connect/gateways","id":"sidebar-nav-item-176"},{"title":"API Gateways","routes":[{"title":"Overview","path":"connect/gateways/api-gateway","filePath":"../content/docs/connect/gateways/api-gateway/index.mdx","fullPath":"/consul/docs/connect/gateways/api-gateway","id":"sidebar-nav-item-178"},{"title":"Technical specifications for Kubernetes","path":"connect/gateways/api-gateway/tech-specs","filePath":"../content/docs/connect/gateways/api-gateway/tech-specs.mdx","fullPath":"/consul/docs/connect/gateways/api-gateway/tech-specs","id":"sidebar-nav-item-179"},{"title":"Install on Kubernetes","path":"connect/gateways/api-gateway/install-k8s","filePath":"../content/docs/connect/gateways/api-gateway/install-k8s.mdx","fullPath":"/consul/docs/connect/gateways/api-gateway/install-k8s","id":"sidebar-nav-item-180"},{"title":"Upgrade on Kubernetes","path":"connect/gateways/api-gateway/upgrades-k8s","filePath":"../content/docs/connect/gateways/api-gateway/upgrades-k8s.mdx","fullPath":"/consul/docs/connect/gateways/api-gateway/upgrades-k8s","id":"sidebar-nav-item-181"},{"title":"Deploy listeners","routes":[{"title":"Deploy listeners to VMs","path":"connect/gateways/api-gateway/deploy/listeners-vms","filePath":"../content/docs/connect/gateways/api-gateway/deploy/listeners-vms.mdx","fullPath":"/consul/docs/connect/gateways/api-gateway/deploy/listeners-vms","id":"sidebar-nav-item-183"},{"title":"Deploy listeners to Kubernetes","path":"connect/gateways/api-gateway/deploy/listeners-k8s","filePath":"../content/docs/connect/gateways/api-gateway/deploy/listeners-k8s.mdx","fullPath":"/consul/docs/connect/gateways/api-gateway/deploy/listeners-k8s","id":"sidebar-nav-item-184"}],"id":"sidebar-nav-item-182"},{"title":"Define routes","routes":[{"title":"Define routes on VMs","path":"connect/gateways/api-gateway/define-routes/routes-vms","filePath":"../content/docs/connect/gateways/api-gateway/define-routes/routes-vms.mdx","fullPath":"/consul/docs/connect/gateways/api-gateway/define-routes/routes-vms","id":"sidebar-nav-item-186"},{"title":"Define routes on Kubernetes","path":"connect/gateways/api-gateway/define-routes/routes-k8s","filePath":"../content/docs/connect/gateways/api-gateway/define-routes/routes-k8s.mdx","fullPath":"/consul/docs/connect/gateways/api-gateway/define-routes/routes-k8s","id":"sidebar-nav-item-187"},{"title":"Reroute traffic in Kubernetes","path":"connect/gateways/api-gateway/define-routes/reroute-http-requests","filePath":"../content/docs/connect/gateways/api-gateway/define-routes/reroute-http-requests.mdx","fullPath":"/consul/docs/connect/gateways/api-gateway/define-routes/reroute-http-requests","id":"sidebar-nav-item-188"},{"title":"Route to peered services in Kubernetes","path":"connect/gateways/api-gateway/define-routes/route-to-peered-services","filePath":"../content/docs/connect/gateways/api-gateway/define-routes/route-to-peered-services.mdx","fullPath":"/consul/docs/connect/gateways/api-gateway/define-routes/route-to-peered-services","id":"sidebar-nav-item-189"}],"id":"sidebar-nav-item-185"},{"title":"Secure traffic","routes":[{"title":"Encrypt traffic on virtual machines","path":"connect/gateways/api-gateway/secure-traffic/encrypt-vms","filePath":"../content/docs/connect/gateways/api-gateway/secure-traffic/encrypt-vms.mdx","fullPath":"/consul/docs/connect/gateways/api-gateway/secure-traffic/encrypt-vms","id":"sidebar-nav-item-191"},{"title":"Verify incoming requests with JWTs on virtual machines","path":"connect/gateways/api-gateway/secure-traffic/verify-jwts-vms","filePath":"../content/docs/connect/gateways/api-gateway/secure-traffic/verify-jwts-vms.mdx","fullPath":"/consul/docs/connect/gateways/api-gateway/secure-traffic/verify-jwts-vms","id":"sidebar-nav-item-192"},{"title":"Verify incoming requests with JWTs on Kubernetes","path":"connect/gateways/api-gateway/secure-traffic/verify-jwts-k8s","filePath":"../content/docs/connect/gateways/api-gateway/secure-traffic/verify-jwts-k8s.mdx","fullPath":"/consul/docs/connect/gateways/api-gateway/secure-traffic/verify-jwts-k8s","id":"sidebar-nav-item-193"}],"id":"sidebar-nav-item-190"},{"title":"Configuration","routes":[{"title":"Overview","path":"connect/gateways/api-gateway/configuration","filePath":"../content/docs/connect/gateways/api-gateway/configuration/index.mdx","fullPath":"/consul/docs/connect/gateways/api-gateway/configuration","id":"sidebar-nav-item-195"},{"title":"Gateway","path":"connect/gateways/api-gateway/configuration/gateway","filePath":"../content/docs/connect/gateways/api-gateway/configuration/gateway.mdx","fullPath":"/consul/docs/connect/gateways/api-gateway/configuration/gateway","id":"sidebar-nav-item-196"},{"title":"GatewayClass","path":"connect/gateways/api-gateway/configuration/gatewayclass","filePath":"../content/docs/connect/gateways/api-gateway/configuration/gatewayclass.mdx","fullPath":"/consul/docs/connect/gateways/api-gateway/configuration/gatewayclass","id":"sidebar-nav-item-197"},{"title":"GatewayClassConfig","path":"connect/gateways/api-gateway/configuration/gatewayclassconfig","filePath":"../content/docs/connect/gateways/api-gateway/configuration/gatewayclassconfig.mdx","fullPath":"/consul/docs/connect/gateways/api-gateway/configuration/gatewayclassconfig","id":"sidebar-nav-item-198"},{"title":"GatewayPolicy","path":"connect/gateways/api-gateway/configuration/gatewaypolicy","filePath":"../content/docs/connect/gateways/api-gateway/configuration/gatewaypolicy.mdx","fullPath":"/consul/docs/connect/gateways/api-gateway/configuration/gatewaypolicy","id":"sidebar-nav-item-199"},{"title":"RouteAuthFilter","path":"connect/gateways/api-gateway/configuration/routeauthfilter","filePath":"../content/docs/connect/gateways/api-gateway/configuration/routeauthfilter.mdx","fullPath":"/consul/docs/connect/gateways/api-gateway/configuration/routeauthfilter","id":"sidebar-nav-item-200"},{"title":"Routes","path":"connect/gateways/api-gateway/configuration/routes","filePath":"../content/docs/connect/gateways/api-gateway/configuration/routes.mdx","fullPath":"/consul/docs/connect/gateways/api-gateway/configuration/routes","id":"sidebar-nav-item-201"},{"title":"RouteRetryFilter","path":"connect/gateways/api-gateway/configuration/routeretryfilter","filePath":"../content/docs/connect/gateways/api-gateway/configuration/routeretryfilter.mdx","fullPath":"/consul/docs/connect/gateways/api-gateway/configuration/routeretryfilter","id":"sidebar-nav-item-202"},{"title":"RouteTimeoutFilter","path":"connect/gateways/api-gateway/configuration/routetimeoutfilter","filePath":"../content/docs/connect/gateways/api-gateway/configuration/routetimeoutfilter.mdx","fullPath":"/consul/docs/connect/gateways/api-gateway/configuration/routetimeoutfilter","id":"sidebar-nav-item-203"},{"title":"MeshService","path":"connect/gateways/api-gateway/configuration/meshservice","filePath":"../content/docs/connect/gateways/api-gateway/configuration/meshservice.mdx","fullPath":"/consul/docs/connect/gateways/api-gateway/configuration/meshservice","id":"sidebar-nav-item-204"}],"id":"sidebar-nav-item-194"},{"title":"Error Messages","path":"connect/gateways/api-gateway/errors","filePath":"../content/docs/connect/gateways/api-gateway/errors.mdx","fullPath":"/consul/docs/connect/gateways/api-gateway/errors","id":"sidebar-nav-item-205"}],"id":"sidebar-nav-item-177"},{"title":"Mesh Gateways","routes":[{"title":"Overview","path":"connect/gateways/mesh-gateway","filePath":"../content/docs/connect/gateways/mesh-gateway/index.mdx","fullPath":"/consul/docs/connect/gateways/mesh-gateway","id":"sidebar-nav-item-207"},{"title":"Enabling WAN Federation Control Plane Traffic","path":"connect/gateways/mesh-gateway/wan-federation-via-mesh-gateways","filePath":"../content/docs/connect/gateways/mesh-gateway/wan-federation-via-mesh-gateways.mdx","fullPath":"/consul/docs/connect/gateways/mesh-gateway/wan-federation-via-mesh-gateways","id":"sidebar-nav-item-208"},{"title":"Enabling Service-to-service Traffic Across WAN Federated Datacenters","path":"connect/gateways/mesh-gateway/service-to-service-traffic-wan-datacenters","filePath":"../content/docs/connect/gateways/mesh-gateway/service-to-service-traffic-wan-datacenters.mdx","fullPath":"/consul/docs/connect/gateways/mesh-gateway/service-to-service-traffic-wan-datacenters","id":"sidebar-nav-item-209"},{"title":"Enabling Service-to-service Traffic Across Admin Partitions","path":"connect/gateways/mesh-gateway/service-to-service-traffic-partitions","filePath":"../content/docs/connect/gateways/mesh-gateway/service-to-service-traffic-partitions.mdx","fullPath":"/consul/docs/connect/gateways/mesh-gateway/service-to-service-traffic-partitions","id":"sidebar-nav-item-210"},{"title":"Enabling Peering Control Plane Traffic","path":"connect/gateways/mesh-gateway/peering-via-mesh-gateways","filePath":"../content/docs/connect/gateways/mesh-gateway/peering-via-mesh-gateways.mdx","fullPath":"/consul/docs/connect/gateways/mesh-gateway/peering-via-mesh-gateways","id":"sidebar-nav-item-211"}],"id":"sidebar-nav-item-206"},{"title":"Ingress Gateways","routes":[{"title":"Overview","path":"connect/gateways/ingress-gateway","filePath":"../content/docs/connect/gateways/ingress-gateway/index.mdx","fullPath":"/consul/docs/connect/gateways/ingress-gateway","id":"sidebar-nav-item-213"},{"title":"Implement an ingress gateway","path":"connect/gateways/ingress-gateway/usage","filePath":"../content/docs/connect/gateways/ingress-gateway/usage.mdx","fullPath":"/consul/docs/connect/gateways/ingress-gateway/usage","id":"sidebar-nav-item-214"},{"title":"Serve TLS certificates from an external service","path":"connect/gateways/ingress-gateway/tls-external-service","filePath":"../content/docs/connect/gateways/ingress-gateway/tls-external-service.mdx","fullPath":"/consul/docs/connect/gateways/ingress-gateway/tls-external-service","id":"sidebar-nav-item-215"},{"title":"Configuration","href":null,"fullPath":"/consul/docs/connect/config-entries/ingress-gateway","id":"sidebar-nav-item-216","path":"/consul/docs/connect/config-entries/ingress-gateway"}],"id":"sidebar-nav-item-212"},{"title":"Terminating Gateways","path":"connect/gateways/terminating-gateway","filePath":"../content/docs/connect/gateways/terminating-gateway.mdx","fullPath":"/consul/docs/connect/gateways/terminating-gateway","id":"sidebar-nav-item-217"}],"id":"sidebar-nav-item-175"},{"title":"Cluster Peering","routes":[{"title":"Overview","path":"connect/cluster-peering","filePath":"../content/docs/connect/cluster-peering/index.mdx","fullPath":"/consul/docs/connect/cluster-peering","id":"sidebar-nav-item-219"},{"title":"Technical Specifications","path":"connect/cluster-peering/tech-specs","filePath":"../content/docs/connect/cluster-peering/tech-specs.mdx","fullPath":"/consul/docs/connect/cluster-peering/tech-specs","id":"sidebar-nav-item-220"},{"title":"Usage","routes":[{"title":"Establish Cluster Peering Connections","path":"connect/cluster-peering/usage/establish-cluster-peering","filePath":"../content/docs/connect/cluster-peering/usage/establish-cluster-peering.mdx","fullPath":"/consul/docs/connect/cluster-peering/usage/establish-cluster-peering","id":"sidebar-nav-item-222"},{"title":"Manage Cluster Peering Connections","path":"connect/cluster-peering/usage/manage-connections","filePath":"../content/docs/connect/cluster-peering/usage/manage-connections.mdx","fullPath":"/consul/docs/connect/cluster-peering/usage/manage-connections","id":"sidebar-nav-item-223"},{"title":"Manage L7 Traffic With Cluster Peering","path":"connect/cluster-peering/usage/peering-traffic-management","filePath":"../content/docs/connect/cluster-peering/usage/peering-traffic-management.mdx","fullPath":"/consul/docs/connect/cluster-peering/usage/peering-traffic-management","id":"sidebar-nav-item-224"},{"title":"Create Sameness Groups","path":"connect/cluster-peering/usage/create-sameness-groups","filePath":"../content/docs/connect/cluster-peering/usage/create-sameness-groups.mdx","fullPath":"/consul/docs/connect/cluster-peering/usage/create-sameness-groups","id":"sidebar-nav-item-225"}],"id":"sidebar-nav-item-221"}],"id":"sidebar-nav-item-218"},{"title":"Nomad","path":"connect/nomad","filePath":"../content/docs/connect/nomad.mdx","fullPath":"/consul/docs/connect/nomad","id":"sidebar-nav-item-226"},{"title":"Kubernetes","href":null,"fullPath":"/consul/docs/k8s/connect","id":"sidebar-nav-item-227","path":"/docs/k8s/connect"},{"title":"Native App Integration","routes":[{"title":"Overview","path":"connect/native","filePath":"../content/docs/connect/native/index.mdx","fullPath":"/consul/docs/connect/native","id":"sidebar-nav-item-229"},{"title":"Go Integration","path":"connect/native/go","filePath":"../content/docs/connect/native/go.mdx","fullPath":"/consul/docs/connect/native/go","id":"sidebar-nav-item-230"}],"id":"sidebar-nav-item-228"},{"title":"Certificate Management","routes":[{"title":"Overview","path":"connect/ca","filePath":"../content/docs/connect/ca/index.mdx","fullPath":"/consul/docs/connect/ca","id":"sidebar-nav-item-232"},{"title":"Built-In CA","path":"connect/ca/consul","filePath":"../content/docs/connect/ca/consul.mdx","fullPath":"/consul/docs/connect/ca/consul","id":"sidebar-nav-item-233"},{"title":"Vault","path":"connect/ca/vault","filePath":"../content/docs/connect/ca/vault.mdx","fullPath":"/consul/docs/connect/ca/vault","id":"sidebar-nav-item-234"},{"title":"ACM Private CA","path":"connect/ca/aws","filePath":"../content/docs/connect/ca/aws.mdx","fullPath":"/consul/docs/connect/ca/aws","id":"sidebar-nav-item-235"}],"id":"sidebar-nav-item-231"},{"title":"Develop and Debug","path":"connect/dev","filePath":"../content/docs/connect/dev.mdx","fullPath":"/consul/docs/connect/dev","id":"sidebar-nav-item-236"},{"title":"Consul Dataplane","routes":[{"title":"Overview","path":"connect/dataplane","filePath":"../content/docs/connect/dataplane/index.mdx","fullPath":"/consul/docs/connect/dataplane","id":"sidebar-nav-item-238"},{"title":"CLI Reference","path":"connect/dataplane/consul-dataplane","filePath":"../content/docs/connect/dataplane/consul-dataplane.mdx","fullPath":"/consul/docs/connect/dataplane/consul-dataplane","id":"sidebar-nav-item-239"},{"title":"Telemetry","path":"connect/dataplane/telemetry","filePath":"../content/docs/connect/dataplane/telemetry.mdx","fullPath":"/consul/docs/connect/dataplane/telemetry","id":"sidebar-nav-item-240"}],"id":"sidebar-nav-item-237"}],"id":"sidebar-nav-item-102"},{"title":"Dynamic App Configuration","routes":[{"title":"Consul KV","path":"dynamic-app-config/kv","filePath":"../content/docs/dynamic-app-config/kv.mdx","fullPath":"/consul/docs/dynamic-app-config/kv","id":"sidebar-nav-item-242"},{"title":"Sessions","path":"dynamic-app-config/sessions","filePath":"../content/docs/dynamic-app-config/sessions.mdx","fullPath":"/consul/docs/dynamic-app-config/sessions","id":"sidebar-nav-item-243"},{"title":"Watches","path":"dynamic-app-config/watches","filePath":"../content/docs/dynamic-app-config/watches.mdx","fullPath":"/consul/docs/dynamic-app-config/watches","id":"sidebar-nav-item-244"}],"id":"sidebar-nav-item-241"},{"title":"Security","routes":[{"title":"Overview","path":"security","filePath":"../content/docs/security/index.mdx","fullPath":"/consul/docs/security","id":"sidebar-nav-item-246"},{"title":"Access Control (ACLs)","routes":[{"title":"ACL System Overview","path":"security/acl","filePath":"../content/docs/security/acl/index.mdx","fullPath":"/consul/docs/security/acl","id":"sidebar-nav-item-248"},{"title":"Tokens","routes":[{"title":"Overview","path":"security/acl/tokens","filePath":"../content/docs/security/acl/tokens/index.mdx","fullPath":"/consul/docs/security/acl/tokens","id":"sidebar-nav-item-250"},{"title":"Create ACL Tokens","routes":[{"title":"Create a service token","path":"security/acl/tokens/create/create-a-service-token","filePath":"../content/docs/security/acl/tokens/create/create-a-service-token.mdx","fullPath":"/consul/docs/security/acl/tokens/create/create-a-service-token","id":"sidebar-nav-item-252"},{"title":"Create an agent token","path":"security/acl/tokens/create/create-an-agent-token","filePath":"../content/docs/security/acl/tokens/create/create-an-agent-token.mdx","fullPath":"/consul/docs/security/acl/tokens/create/create-an-agent-token","id":"sidebar-nav-item-253"},{"title":"Create a UI token","path":"security/acl/tokens/create/create-a-ui-token","filePath":"../content/docs/security/acl/tokens/create/create-a-ui-token.mdx","fullPath":"/consul/docs/security/acl/tokens/create/create-a-ui-token","id":"sidebar-nav-item-254"},{"title":"Create a mesh gateway token","path":"security/acl/tokens/create/create-a-mesh-gateway-token","filePath":"../content/docs/security/acl/tokens/create/create-a-mesh-gateway-token.mdx","fullPath":"/consul/docs/security/acl/tokens/create/create-a-mesh-gateway-token","id":"sidebar-nav-item-255"},{"title":"Create an ingress gateway token","path":"security/acl/tokens/create/create-an-ingress-gateway-token","filePath":"../content/docs/security/acl/tokens/create/create-an-ingress-gateway-token.mdx","fullPath":"/consul/docs/security/acl/tokens/create/create-an-ingress-gateway-token","id":"sidebar-nav-item-256"},{"title":"Create a terminating gateway token","path":"security/acl/tokens/create/create-a-terminating-gateway-token","filePath":"../content/docs/security/acl/tokens/create/create-a-terminating-gateway-token.mdx","fullPath":"/consul/docs/security/acl/tokens/create/create-a-terminating-gateway-token","id":"sidebar-nav-item-257"},{"title":"Create a DNS token","path":"security/acl/tokens/create/create-a-dns-token","filePath":"../content/docs/security/acl/tokens/create/create-a-dns-token.mdx","fullPath":"/consul/docs/security/acl/tokens/create/create-a-dns-token","id":"sidebar-nav-item-258"},{"title":"Create a replication token","path":"security/acl/tokens/create/create-a-replication-token","filePath":"../content/docs/security/acl/tokens/create/create-a-replication-token.mdx","fullPath":"/consul/docs/security/acl/tokens/create/create-a-replication-token","id":"sidebar-nav-item-259"},{"title":"Create a snapshot agent token","path":"security/acl/tokens/create/create-a-snapshot-agent-token","filePath":"../content/docs/security/acl/tokens/create/create-a-snapshot-agent-token.mdx","fullPath":"/consul/docs/security/acl/tokens/create/create-a-snapshot-agent-token","id":"sidebar-nav-item-260"},{"title":"Create a token for Vault's Consul storage backend","path":"security/acl/tokens/create/create-a-token-for-vault-consul-storage","filePath":"../content/docs/security/acl/tokens/create/create-a-token-for-vault-consul-storage.mdx","fullPath":"/consul/docs/security/acl/tokens/create/create-a-token-for-vault-consul-storage","id":"sidebar-nav-item-261"},{"title":"Create a Consul ESM token","path":"security/acl/tokens/create/create-a-consul-esm-token","filePath":"../content/docs/security/acl/tokens/create/create-a-consul-esm-token.mdx","fullPath":"/consul/docs/security/acl/tokens/create/create-a-consul-esm-token","id":"sidebar-nav-item-262"}],"id":"sidebar-nav-item-251"}],"id":"sidebar-nav-item-249"},{"title":"Policies","path":"security/acl/acl-policies","filePath":"../content/docs/security/acl/acl-policies.mdx","fullPath":"/consul/docs/security/acl/acl-policies","id":"sidebar-nav-item-263"},{"title":"Roles","path":"security/acl/acl-roles","filePath":"../content/docs/security/acl/acl-roles.mdx","fullPath":"/consul/docs/security/acl/acl-roles","id":"sidebar-nav-item-264"},{"title":"Rules Reference","path":"security/acl/acl-rules","filePath":"../content/docs/security/acl/acl-rules.mdx","fullPath":"/consul/docs/security/acl/acl-rules","id":"sidebar-nav-item-265"},{"title":"ACLs in Federated Datacenters","path":"security/acl/acl-federated-datacenters","filePath":"../content/docs/security/acl/acl-federated-datacenters.mdx","fullPath":"/consul/docs/security/acl/acl-federated-datacenters","id":"sidebar-nav-item-266"},{"title":"Auth Methods","routes":[{"title":"Overview","path":"security/acl/auth-methods","filePath":"../content/docs/security/acl/auth-methods/index.mdx","fullPath":"/consul/docs/security/acl/auth-methods","id":"sidebar-nav-item-268"},{"title":"Kubernetes","path":"security/acl/auth-methods/kubernetes","filePath":"../content/docs/security/acl/auth-methods/kubernetes.mdx","fullPath":"/consul/docs/security/acl/auth-methods/kubernetes","id":"sidebar-nav-item-269"},{"title":"JWT","path":"security/acl/auth-methods/jwt","filePath":"../content/docs/security/acl/auth-methods/jwt.mdx","fullPath":"/consul/docs/security/acl/auth-methods/jwt","id":"sidebar-nav-item-270"},{"title":"OIDC","path":"security/acl/auth-methods/oidc","filePath":"../content/docs/security/acl/auth-methods/oidc.mdx","fullPath":"/consul/docs/security/acl/auth-methods/oidc","id":"sidebar-nav-item-271"},{"title":"AWS IAM","path":"security/acl/auth-methods/aws-iam","filePath":"../content/docs/security/acl/auth-methods/aws-iam.mdx","fullPath":"/consul/docs/security/acl/auth-methods/aws-iam","id":"sidebar-nav-item-272"}],"id":"sidebar-nav-item-267"}],"id":"sidebar-nav-item-247"},{"title":"Encryption","path":"security/encryption","filePath":"../content/docs/security/encryption.mdx","fullPath":"/consul/docs/security/encryption","id":"sidebar-nav-item-273"},{"title":"Security Models","routes":[{"title":"Overview","path":"security/security-models","filePath":"../content/docs/security/security-models/index.mdx","fullPath":"/consul/docs/security/security-models","id":"sidebar-nav-item-275"},{"title":"Core","path":"security/security-models/core","filePath":"../content/docs/security/security-models/core.mdx","fullPath":"/consul/docs/security/security-models/core","id":"sidebar-nav-item-276"},{"title":"Network Infrastructure Automation","path":"security/security-models/nia","filePath":"../content/docs/security/security-models/nia.mdx","fullPath":"/consul/docs/security/security-models/nia","id":"sidebar-nav-item-277"}],"id":"sidebar-nav-item-274"}],"id":"sidebar-nav-item-245"},{"title":"Agent","routes":[{"title":"Overview","path":"agent","filePath":"../content/docs/agent/index.mdx","fullPath":"/consul/docs/agent","id":"sidebar-nav-item-279"},{"title":"Configuration","routes":[{"title":"General","path":"agent/config","filePath":"../content/docs/agent/config/index.mdx","fullPath":"/consul/docs/agent/config","id":"sidebar-nav-item-281"},{"title":"CLI Reference","path":"agent/config/cli-flags","filePath":"../content/docs/agent/config/cli-flags.mdx","fullPath":"/consul/docs/agent/config/cli-flags","id":"sidebar-nav-item-282"},{"title":"Configuration Reference","path":"agent/config/config-files","filePath":"../content/docs/agent/config/config-files.mdx","fullPath":"/consul/docs/agent/config/config-files","id":"sidebar-nav-item-283"}],"id":"sidebar-nav-item-280"},{"title":"Limit traffic rates","routes":[{"title":"Overview","path":"agent/limits","filePath":"../content/docs/agent/limits/index.mdx","fullPath":"/consul/docs/agent/limits","id":"sidebar-nav-item-285"},{"title":"Usage","routes":[{"title":"Initialize rate limit settings","path":"agent/limits/usage/init-rate-limits","filePath":"../content/docs/agent/limits/usage/init-rate-limits.mdx","fullPath":"/consul/docs/agent/limits/usage/init-rate-limits","id":"sidebar-nav-item-287"},{"title":"Monitor traffic rate limits","path":"agent/limits/usage/monitor-rate-limits","filePath":"../content/docs/agent/limits/usage/monitor-rate-limits.mdx","fullPath":"/consul/docs/agent/limits/usage/monitor-rate-limits","id":"sidebar-nav-item-288"},{"title":"Set global traffic rate limits","path":"agent/limits/usage/set-global-traffic-rate-limits","filePath":"../content/docs/agent/limits/usage/set-global-traffic-rate-limits.mdx","fullPath":"/consul/docs/agent/limits/usage/set-global-traffic-rate-limits","id":"sidebar-nav-item-289"},{"title":"Limit traffic rates from source IP addresses","path":"agent/limits/usage/limit-request-rates-from-ips","filePath":"../content/docs/agent/limits/usage/limit-request-rates-from-ips.mdx","fullPath":"/consul/docs/agent/limits/usage/limit-request-rates-from-ips","id":"sidebar-nav-item-290"}],"id":"sidebar-nav-item-286"},{"title":"Configuration","href":null,"fullPath":"/consul/docs/connect/config-entries/control-plane-request-limit","id":"sidebar-nav-item-291","path":"/docs/connect/config-entries/control-plane-request-limit"}],"id":"sidebar-nav-item-284"},{"title":"Configuration Entries","path":"agent/config-entries","filePath":"../content/docs/agent/config-entries.mdx","fullPath":"/consul/docs/agent/config-entries","id":"sidebar-nav-item-292"},{"title":"Telemetry","path":"agent/telemetry","filePath":"../content/docs/agent/telemetry.mdx","fullPath":"/consul/docs/agent/telemetry","id":"sidebar-nav-item-293"},{"title":"Sentinel","path":"agent/sentinel","filePath":"../content/docs/agent/sentinel.mdx","fullPath":"/consul/docs/agent/sentinel","id":"sidebar-nav-item-294"},{"title":"Experimental WAL LogStore","routes":[{"title":"Overview","path":"agent/wal-logstore","filePath":"../content/docs/agent/wal-logstore/index.mdx","fullPath":"/consul/docs/agent/wal-logstore","id":"sidebar-nav-item-296"},{"title":"Enable WAL LogStore backend","path":"agent/wal-logstore/enable","filePath":"../content/docs/agent/wal-logstore/enable.mdx","fullPath":"/consul/docs/agent/wal-logstore/enable","id":"sidebar-nav-item-297"},{"title":"Monitor Raft metrics and logs for WAL","path":"agent/wal-logstore/monitoring","filePath":"../content/docs/agent/wal-logstore/monitoring.mdx","fullPath":"/consul/docs/agent/wal-logstore/monitoring","id":"sidebar-nav-item-298"},{"title":"Revert to BoltDB","path":"agent/wal-logstore/revert-to-boltdb","filePath":"../content/docs/agent/wal-logstore/revert-to-boltdb.mdx","fullPath":"/consul/docs/agent/wal-logstore/revert-to-boltdb","id":"sidebar-nav-item-299"}],"id":"sidebar-nav-item-295"}],"id":"sidebar-nav-item-278"},{"title":"Integrations","routes":[{"title":"Consul Integration Program","path":"integrate/partnerships","filePath":"../content/docs/integrate/partnerships.mdx","fullPath":"/consul/docs/integrate/partnerships","id":"sidebar-nav-item-301"},{"title":"NIA Integration Program","path":"integrate/nia-integration","filePath":"../content/docs/integrate/nia-integration.mdx","fullPath":"/consul/docs/integrate/nia-integration","id":"sidebar-nav-item-302"},{"title":"Vault Integration","href":null,"fullPath":"/consul/docs/connect/ca/vault","id":"sidebar-nav-item-303","path":"/docs/connect/ca/vault"},{"title":"Proxy Integration","href":null,"fullPath":"/consul/docs/connect/proxies/integrate","id":"sidebar-nav-item-304","path":"/docs/connect/proxies/integrate"},{"title":"Consul Tools","path":"integrate/download-tools","filePath":"../content/docs/integrate/download-tools.mdx","fullPath":"/consul/docs/integrate/download-tools","id":"sidebar-nav-item-305"}],"id":"sidebar-nav-item-300"},{"title":"Troubleshoot","routes":[{"title":"Service-to-Service Troubleshooting","path":"troubleshoot/troubleshoot-services","filePath":"../content/docs/troubleshoot/troubleshoot-services.mdx","fullPath":"/consul/docs/troubleshoot/troubleshoot-services","id":"sidebar-nav-item-307"},{"title":"Common Error Messages","path":"troubleshoot/common-errors","filePath":"../content/docs/troubleshoot/common-errors.mdx","fullPath":"/consul/docs/troubleshoot/common-errors","id":"sidebar-nav-item-308"},{"title":"FAQ","path":"troubleshoot/faq","filePath":"../content/docs/troubleshoot/faq.mdx","fullPath":"/consul/docs/troubleshoot/faq","id":"sidebar-nav-item-309"}],"id":"sidebar-nav-item-306"},{"divider":true,"id":"sidebar-nav-item-310"},{"title":"Kubernetes","routes":[{"title":"Overview","path":"k8s","filePath":"../content/docs/k8s/index.mdx","fullPath":"/consul/docs/k8s","id":"sidebar-nav-item-312"},{"title":"Architecture","path":"k8s/architecture","filePath":"../content/docs/k8s/architecture.mdx","fullPath":"/consul/docs/k8s/architecture","id":"sidebar-nav-item-313"},{"title":"Installation","routes":[{"title":"Install from Consul K8s CLI","path":"k8s/installation/install-cli","filePath":"../content/docs/k8s/installation/install-cli.mdx","fullPath":"/consul/docs/k8s/installation/install-cli","id":"sidebar-nav-item-315"},{"title":"Install from Helm Chart","path":"k8s/installation/install","filePath":"../content/docs/k8s/installation/install.mdx","fullPath":"/consul/docs/k8s/installation/install","id":"sidebar-nav-item-316"}],"id":"sidebar-nav-item-314"},{"title":"Deployment Configurations","routes":[{"title":"Consul Clients Outside Kubernetes","path":"k8s/deployment-configurations/clients-outside-kubernetes","filePath":"../content/docs/k8s/deployment-configurations/clients-outside-kubernetes.mdx","fullPath":"/consul/docs/k8s/deployment-configurations/clients-outside-kubernetes","id":"sidebar-nav-item-318"},{"title":"Consul Servers Outside Kubernetes","path":"k8s/deployment-configurations/servers-outside-kubernetes","filePath":"../content/docs/k8s/deployment-configurations/servers-outside-kubernetes.mdx","fullPath":"/consul/docs/k8s/deployment-configurations/servers-outside-kubernetes","id":"sidebar-nav-item-319"},{"title":"Single Consul Datacenter in Multiple Kubernetes Clusters","path":"k8s/deployment-configurations/single-dc-multi-k8s","filePath":"../content/docs/k8s/deployment-configurations/single-dc-multi-k8s.mdx","fullPath":"/consul/docs/k8s/deployment-configurations/single-dc-multi-k8s","id":"sidebar-nav-item-320"},{"title":"Consul Enterprise","path":"k8s/deployment-configurations/consul-enterprise","filePath":"../content/docs/k8s/deployment-configurations/consul-enterprise.mdx","fullPath":"/consul/docs/k8s/deployment-configurations/consul-enterprise","id":"sidebar-nav-item-321"},{"title":"Multi-Cluster Federation","routes":[{"title":"Overview","path":"k8s/deployment-configurations/multi-cluster","filePath":"../content/docs/k8s/deployment-configurations/multi-cluster/index.mdx","fullPath":"/consul/docs/k8s/deployment-configurations/multi-cluster","id":"sidebar-nav-item-323"},{"title":"Federation Between Kubernetes Clusters","path":"k8s/deployment-configurations/multi-cluster/kubernetes","filePath":"../content/docs/k8s/deployment-configurations/multi-cluster/kubernetes.mdx","fullPath":"/consul/docs/k8s/deployment-configurations/multi-cluster/kubernetes","id":"sidebar-nav-item-324"},{"title":"Federation Between VMs and Kubernetes","path":"k8s/deployment-configurations/multi-cluster/vms-and-kubernetes","filePath":"../content/docs/k8s/deployment-configurations/multi-cluster/vms-and-kubernetes.mdx","fullPath":"/consul/docs/k8s/deployment-configurations/multi-cluster/vms-and-kubernetes","id":"sidebar-nav-item-325"}],"id":"sidebar-nav-item-322"},{"title":"Vault as Secrets Backend","routes":[{"title":"Overview","path":"k8s/deployment-configurations/vault","filePath":"../content/docs/k8s/deployment-configurations/vault/index.mdx","fullPath":"/consul/docs/k8s/deployment-configurations/vault","id":"sidebar-nav-item-327"},{"title":"Systems Integration","path":"k8s/deployment-configurations/vault/systems-integration","filePath":"../content/docs/k8s/deployment-configurations/vault/systems-integration.mdx","fullPath":"/consul/docs/k8s/deployment-configurations/vault/systems-integration","id":"sidebar-nav-item-328"},{"title":"Data Integration","routes":[{"title":"Overview","path":"k8s/deployment-configurations/vault/data-integration","filePath":"../content/docs/k8s/deployment-configurations/vault/data-integration/index.mdx","fullPath":"/consul/docs/k8s/deployment-configurations/vault/data-integration","id":"sidebar-nav-item-330"},{"title":"Bootstrap Token","path":"k8s/deployment-configurations/vault/data-integration/bootstrap-token","filePath":"../content/docs/k8s/deployment-configurations/vault/data-integration/bootstrap-token.mdx","fullPath":"/consul/docs/k8s/deployment-configurations/vault/data-integration/bootstrap-token","id":"sidebar-nav-item-331"},{"title":"Enterprise License","path":"k8s/deployment-configurations/vault/data-integration/enterprise-license","filePath":"../content/docs/k8s/deployment-configurations/vault/data-integration/enterprise-license.mdx","fullPath":"/consul/docs/k8s/deployment-configurations/vault/data-integration/enterprise-license","id":"sidebar-nav-item-332"},{"title":"Gossip Encryption Key","path":"k8s/deployment-configurations/vault/data-integration/gossip","filePath":"../content/docs/k8s/deployment-configurations/vault/data-integration/gossip.mdx","fullPath":"/consul/docs/k8s/deployment-configurations/vault/data-integration/gossip","id":"sidebar-nav-item-333"},{"title":"Partition Token","path":"k8s/deployment-configurations/vault/data-integration/partition-token","filePath":"../content/docs/k8s/deployment-configurations/vault/data-integration/partition-token.mdx","fullPath":"/consul/docs/k8s/deployment-configurations/vault/data-integration/partition-token","id":"sidebar-nav-item-334"},{"title":"Replication Token","path":"k8s/deployment-configurations/vault/data-integration/replication-token","filePath":"../content/docs/k8s/deployment-configurations/vault/data-integration/replication-token.mdx","fullPath":"/consul/docs/k8s/deployment-configurations/vault/data-integration/replication-token","id":"sidebar-nav-item-335"},{"title":"Server TLS","path":"k8s/deployment-configurations/vault/data-integration/server-tls","filePath":"../content/docs/k8s/deployment-configurations/vault/data-integration/server-tls.mdx","fullPath":"/consul/docs/k8s/deployment-configurations/vault/data-integration/server-tls","id":"sidebar-nav-item-336"},{"title":"Service Mesh Certificates","path":"k8s/deployment-configurations/vault/data-integration/connect-ca","filePath":"../content/docs/k8s/deployment-configurations/vault/data-integration/connect-ca.mdx","fullPath":"/consul/docs/k8s/deployment-configurations/vault/data-integration/connect-ca","id":"sidebar-nav-item-337"},{"title":"Snapshot Agent Config","path":"k8s/deployment-configurations/vault/data-integration/snapshot-agent-config","filePath":"../content/docs/k8s/deployment-configurations/vault/data-integration/snapshot-agent-config.mdx","fullPath":"/consul/docs/k8s/deployment-configurations/vault/data-integration/snapshot-agent-config","id":"sidebar-nav-item-338"},{"title":"Webhook Certificates","path":"k8s/deployment-configurations/vault/data-integration/webhook-certs","filePath":"../content/docs/k8s/deployment-configurations/vault/data-integration/webhook-certs.mdx","fullPath":"/consul/docs/k8s/deployment-configurations/vault/data-integration/webhook-certs","id":"sidebar-nav-item-339"}],"id":"sidebar-nav-item-329"},{"title":"WAN Federation","path":"k8s/deployment-configurations/vault/wan-federation","filePath":"../content/docs/k8s/deployment-configurations/vault/wan-federation.mdx","fullPath":"/consul/docs/k8s/deployment-configurations/vault/wan-federation","id":"sidebar-nav-item-340"}],"id":"sidebar-nav-item-326"},{"title":"Datadog metrics","path":"k8s/deployment-configurations/datadog","filePath":"../content/docs/k8s/deployment-configurations/datadog.mdx","fullPath":"/consul/docs/k8s/deployment-configurations/datadog","id":"sidebar-nav-item-341"}],"id":"sidebar-nav-item-317"},{"title":"Platform Guides","routes":[{"title":"Minikube","href":"https://learn.hashicorp.com/tutorials/consul/kubernetes-minikube?utm_source=consul.io&utm_medium=docs&utm_content=k8s&utm_term=mk","id":"sidebar-nav-item-343"},{"title":"Kind","href":"https://learn.hashicorp.com/tutorials/consul/kubernetes-kind?utm_source=consul.io&utm_medium=docs&utm_content=k8s&utm_term=kind","id":"sidebar-nav-item-344"},{"title":"AKS (Azure)","href":"https://learn.hashicorp.com/tutorials/consul/kubernetes-aks-azure?utm_source=consul.io&utm_medium=docs&utm_content=k8s&utm_term=aks","id":"sidebar-nav-item-345"},{"title":"EKS (AWS)","href":"https://learn.hashicorp.com/tutorials/consul/kubernetes-eks-aws?utm_source=consul.io&utm_medium=docs&utm_content=k8s&utm_term=eks","id":"sidebar-nav-item-346"},{"title":"GKE (Google Cloud)","href":"https://learn.hashicorp.com/tutorials/consul/kubernetes-gke-google?utm_source=consul.io&utm_medium=docs&utm_content=k8s&utm_term=gke","id":"sidebar-nav-item-347"},{"title":"Red Hat OpenShift","href":"https://learn.hashicorp.com/tutorials/consul/kubernetes-openshift-red-hat?utm_source=consul.io&utm_medium=docs&utm_content=k8s&utm_term=openshift","id":"sidebar-nav-item-348"},{"title":"Self Hosted Kubernetes","path":"k8s/platforms/self-hosted-kubernetes","filePath":"../content/docs/k8s/platforms/self-hosted-kubernetes.mdx","fullPath":"/consul/docs/k8s/platforms/self-hosted-kubernetes","id":"sidebar-nav-item-349"}],"id":"sidebar-nav-item-342"},{"title":"Service Mesh","routes":[{"title":"Overview","path":"k8s/connect","filePath":"../content/docs/k8s/connect/index.mdx","fullPath":"/consul/docs/k8s/connect","id":"sidebar-nav-item-351"},{"title":"Admin Partitions","href":null,"fullPath":"/consul/docs/enterprise/admin-partitions","id":"sidebar-nav-item-352","path":"/docs/enterprise/admin-partitions"},{"title":"Cluster Peering","routes":[{"title":"Technical Specifications","path":"k8s/connect/cluster-peering/tech-specs","filePath":"../content/docs/k8s/connect/cluster-peering/tech-specs.mdx","fullPath":"/consul/docs/k8s/connect/cluster-peering/tech-specs","id":"sidebar-nav-item-354"},{"title":"Usage","routes":[{"title":"Establish Cluster Peering Connections","path":"k8s/connect/cluster-peering/usage/establish-peering","filePath":"../content/docs/k8s/connect/cluster-peering/usage/establish-peering.mdx","fullPath":"/consul/docs/k8s/connect/cluster-peering/usage/establish-peering","id":"sidebar-nav-item-356"},{"title":"Manage Cluster Peering Connections","path":"k8s/connect/cluster-peering/usage/manage-peering","filePath":"../content/docs/k8s/connect/cluster-peering/usage/manage-peering.mdx","fullPath":"/consul/docs/k8s/connect/cluster-peering/usage/manage-peering","id":"sidebar-nav-item-357"},{"title":"Manage L7 Traffic With Cluster Peering","path":"k8s/connect/cluster-peering/usage/l7-traffic","filePath":"../content/docs/k8s/connect/cluster-peering/usage/l7-traffic.mdx","fullPath":"/consul/docs/k8s/connect/cluster-peering/usage/l7-traffic","id":"sidebar-nav-item-358"},{"title":"Create Sameness Groups","path":"k8s/connect/cluster-peering/usage/create-sameness-groups","filePath":"../content/docs/k8s/connect/cluster-peering/usage/create-sameness-groups.mdx","fullPath":"/consul/docs/k8s/connect/cluster-peering/usage/create-sameness-groups","id":"sidebar-nav-item-359"}],"id":"sidebar-nav-item-355"}],"id":"sidebar-nav-item-353"},{"title":"Transparent Proxy","routes":[{"title":"Overview","path":"k8s/connect/transparent-proxy","filePath":"../content/docs/k8s/connect/transparent-proxy/index.mdx","fullPath":"/consul/docs/k8s/connect/transparent-proxy","id":"sidebar-nav-item-361"},{"title":"Enable transparent proxy","path":"k8s/connect/transparent-proxy/enable-transparent-proxy","filePath":"../content/docs/k8s/connect/transparent-proxy/enable-transparent-proxy.mdx","fullPath":"/consul/docs/k8s/connect/transparent-proxy/enable-transparent-proxy","id":"sidebar-nav-item-362"},{"title":"Route traffic to virtual services","href":null,"fullPath":"/consul/docs/k8s/l7-traffic/route-to-virtual-services","id":"sidebar-nav-item-363","path":"/docs/k8s/l7-traffic/route-to-virtual-services"}],"id":"sidebar-nav-item-360"},{"title":"Onboarding services in transparent proxy mode","path":"k8s/connect/onboarding-tproxy-mode","filePath":"../content/docs/k8s/connect/onboarding-tproxy-mode.mdx","fullPath":"/consul/docs/k8s/connect/onboarding-tproxy-mode","id":"sidebar-nav-item-364"},{"title":"Ingress Gateways","path":"k8s/connect/ingress-gateways","filePath":"../content/docs/k8s/connect/ingress-gateways.mdx","fullPath":"/consul/docs/k8s/connect/ingress-gateways","id":"sidebar-nav-item-365"},{"title":"Terminating Gateways","path":"k8s/connect/terminating-gateways","filePath":"../content/docs/k8s/connect/terminating-gateways.mdx","fullPath":"/consul/docs/k8s/connect/terminating-gateways","id":"sidebar-nav-item-366"},{"title":"Ingress Controllers","path":"k8s/connect/ingress-controllers","filePath":"../content/docs/k8s/connect/ingress-controllers.mdx","fullPath":"/consul/docs/k8s/connect/ingress-controllers","id":"sidebar-nav-item-367"},{"title":"Configuring a Connect CA Provider","path":"k8s/connect/connect-ca-provider","filePath":"../content/docs/k8s/connect/connect-ca-provider.mdx","fullPath":"/consul/docs/k8s/connect/connect-ca-provider","id":"sidebar-nav-item-368"},{"title":"Health Checks","path":"k8s/connect/health","filePath":"../content/docs/k8s/connect/health.mdx","fullPath":"/consul/docs/k8s/connect/health","id":"sidebar-nav-item-369"},{"title":"Observability","routes":[{"title":"Metrics","path":"k8s/connect/observability/metrics","filePath":"../content/docs/k8s/connect/observability/metrics.mdx","fullPath":"/consul/docs/k8s/connect/observability/metrics","id":"sidebar-nav-item-371"}],"id":"sidebar-nav-item-370"}],"id":"sidebar-nav-item-350"},{"title":"V2 Catalog API","routes":[{"title":"Overview","path":"k8s/multiport","filePath":"../content/docs/k8s/multiport/index.mdx","fullPath":"/consul/docs/k8s/multiport","id":"sidebar-nav-item-373"},{"title":"Configure multi-port services","path":"k8s/multiport/configure","filePath":"../content/docs/k8s/multiport/configure.mdx","fullPath":"/consul/docs/k8s/multiport/configure","id":"sidebar-nav-item-374"},{"title":"Split TCP traffic between multiple ports","path":"k8s/multiport/traffic-split","filePath":"../content/docs/k8s/multiport/traffic-split.mdx","fullPath":"/consul/docs/k8s/multiport/traffic-split","id":"sidebar-nav-item-375"},{"title":"Reference","routes":[{"title":"GRPCRoute resource","path":"k8s/multiport/reference/grpcroute","filePath":"../content/docs/k8s/multiport/reference/grpcroute.mdx","fullPath":"/consul/docs/k8s/multiport/reference/grpcroute","id":"sidebar-nav-item-377"},{"title":"HTTPRoute resource","path":"k8s/multiport/reference/httproute","filePath":"../content/docs/k8s/multiport/reference/httproute.mdx","fullPath":"/consul/docs/k8s/multiport/reference/httproute","id":"sidebar-nav-item-378"},{"title":"ProxyConfiguration resource","path":"k8s/multiport/reference/proxyconfiguration","filePath":"../content/docs/k8s/multiport/reference/proxyconfiguration.mdx","fullPath":"/consul/docs/k8s/multiport/reference/proxyconfiguration","id":"sidebar-nav-item-379"},{"title":"TCPRoute resource","path":"k8s/multiport/reference/tcproute","filePath":"../content/docs/k8s/multiport/reference/tcproute.mdx","fullPath":"/consul/docs/k8s/multiport/reference/tcproute","id":"sidebar-nav-item-380"},{"title":"TrafficPermissions resource","path":"k8s/multiport/reference/trafficpermissions","filePath":"../content/docs/k8s/multiport/reference/trafficpermissions.mdx","fullPath":"/consul/docs/k8s/multiport/reference/trafficpermissions","id":"sidebar-nav-item-381"}],"id":"sidebar-nav-item-376"}],"id":"sidebar-nav-item-372"},{"title":"L7 traffic management","routes":[{"title":"Overview","href":null,"fullPath":"/consul/docs/connect/manage-traffic","id":"sidebar-nav-item-383","path":"/docs/connect/manage-traffic"},{"title":"Configure failover services","path":"k8s/l7-traffic/failover-tproxy","filePath":"../content/docs/k8s/l7-traffic/failover-tproxy.mdx","fullPath":"/consul/docs/k8s/l7-traffic/failover-tproxy","id":"sidebar-nav-item-384"},{"title":"Route traffic to virtual services","path":"k8s/l7-traffic/route-to-virtual-services","filePath":"../content/docs/k8s/l7-traffic/route-to-virtual-services.mdx","fullPath":"/consul/docs/k8s/l7-traffic/route-to-virtual-services","id":"sidebar-nav-item-385"}],"id":"sidebar-nav-item-382"},{"title":"Service Sync","path":"k8s/service-sync","filePath":"../content/docs/k8s/service-sync.mdx","fullPath":"/consul/docs/k8s/service-sync","id":"sidebar-nav-item-386"},{"title":"Custom Resource Definitions","routes":[{"title":"Overview","path":"k8s/crds","filePath":"../content/docs/k8s/crds/index.mdx","fullPath":"/consul/docs/k8s/crds","id":"sidebar-nav-item-388"},{"title":"Upgrade An Existing Cluster to CRDs","path":"k8s/crds/upgrade-to-crds","filePath":"../content/docs/k8s/crds/upgrade-to-crds.mdx","fullPath":"/consul/docs/k8s/crds/upgrade-to-crds","id":"sidebar-nav-item-389"}],"id":"sidebar-nav-item-387"},{"title":"Annotations and Labels","path":"k8s/annotations-and-labels","filePath":"../content/docs/k8s/annotations-and-labels.mdx","fullPath":"/consul/docs/k8s/annotations-and-labels","id":"sidebar-nav-item-390"},{"title":"Consul DNS","path":"k8s/dns","filePath":"../content/docs/k8s/dns.mdx","fullPath":"/consul/docs/k8s/dns","id":"sidebar-nav-item-391"},{"title":"Upgrade","routes":[{"title":"Upgrading Consul on Kubernetes","path":"k8s/upgrade","filePath":"../content/docs/k8s/upgrade/index.mdx","fullPath":"/consul/docs/k8s/upgrade","id":"sidebar-nav-item-393"},{"title":"Upgrading Consul K8s CLI","path":"k8s/upgrade/upgrade-cli","filePath":"../content/docs/k8s/upgrade/upgrade-cli.mdx","fullPath":"/consul/docs/k8s/upgrade/upgrade-cli","id":"sidebar-nav-item-394"}],"id":"sidebar-nav-item-392"},{"title":"Consul Dataplane","routes":[{"title":"Overview","href":null,"fullPath":"/consul/docs/connect/dataplane","id":"sidebar-nav-item-396","path":"/docs/connect/dataplane"},{"title":"CLI Reference","href":null,"fullPath":"/consul/docs/connect/dataplane/consul-dataplane","id":"sidebar-nav-item-397","path":"/docs/connect/dataplane/consul-dataplane"}],"id":"sidebar-nav-item-395"},{"title":"Operations","routes":[{"title":"Uninstall","path":"k8s/operations/uninstall","filePath":"../content/docs/k8s/operations/uninstall.mdx","fullPath":"/consul/docs/k8s/operations/uninstall","id":"sidebar-nav-item-399"},{"title":"Certificate Rotation","path":"k8s/operations/certificate-rotation","filePath":"../content/docs/k8s/operations/certificate-rotation.mdx","fullPath":"/consul/docs/k8s/operations/certificate-rotation","id":"sidebar-nav-item-400"},{"title":"Gossip Encryption Key Rotation","path":"k8s/operations/gossip-encryption-key-rotation","filePath":"../content/docs/k8s/operations/gossip-encryption-key-rotation.mdx","fullPath":"/consul/docs/k8s/operations/gossip-encryption-key-rotation","id":"sidebar-nav-item-401"},{"title":"Configure TLS on an Existing Cluster","path":"k8s/operations/tls-on-existing-cluster","filePath":"../content/docs/k8s/operations/tls-on-existing-cluster.mdx","fullPath":"/consul/docs/k8s/operations/tls-on-existing-cluster","id":"sidebar-nav-item-402"}],"id":"sidebar-nav-item-398"},{"title":"Troubleshoot","routes":[{"title":"Common Error Messages","href":null,"fullPath":"/consul/docs/troubleshoot/common-errors#common-errors-on-kubernetes","id":"sidebar-nav-item-404","path":"/docs/troubleshoot/common-errors#common-errors-on-kubernetes"},{"title":"FAQ","href":null,"fullPath":"/consul/docs/troubleshoot/faq#consul-on-kubernetes","id":"sidebar-nav-item-405","path":"/docs/troubleshoot/faq#consul-on-kubernetes"}],"id":"sidebar-nav-item-403"},{"title":"Compatibility Matrix","path":"k8s/compatibility","filePath":"../content/docs/k8s/compatibility.mdx","fullPath":"/consul/docs/k8s/compatibility","id":"sidebar-nav-item-406"},{"title":"Helm Chart Configuration","path":"k8s/helm","filePath":"../content/docs/k8s/helm.mdx","fullPath":"/consul/docs/k8s/helm","id":"sidebar-nav-item-407"},{"title":"Consul K8s CLI Reference","path":"k8s/k8s-cli","filePath":"../content/docs/k8s/k8s-cli.mdx","fullPath":"/consul/docs/k8s/k8s-cli","id":"sidebar-nav-item-408"}],"id":"sidebar-nav-item-311"},{"title":"Nomad","path":"nomad","filePath":"../content/docs/nomad/index.mdx","fullPath":"/consul/docs/nomad","id":"sidebar-nav-item-409"},{"title":"AWS ECS","routes":[{"title":"Overview","path":"ecs","filePath":"../content/docs/ecs/index.mdx","fullPath":"/consul/docs/ecs","id":"sidebar-nav-item-411"},{"title":"Architecture","path":"ecs/architecture","filePath":"../content/docs/ecs/architecture.mdx","fullPath":"/consul/docs/ecs/architecture","id":"sidebar-nav-item-412"},{"title":"Technical specifications","path":"ecs/tech-specs","filePath":"../content/docs/ecs/tech-specs.mdx","fullPath":"/consul/docs/ecs/tech-specs","id":"sidebar-nav-item-413"},{"title":"Deploy Consul to ECS","routes":[{"title":"Deploy using the Terraform module","path":"ecs/deploy/terraform","filePath":"../content/docs/ecs/deploy/terraform.mdx","fullPath":"/consul/docs/ecs/deploy/terraform","id":"sidebar-nav-item-415"},{"title":"Deploy manually","path":"ecs/deploy/manual","filePath":"../content/docs/ecs/deploy/manual.mdx","fullPath":"/consul/docs/ecs/deploy/manual","id":"sidebar-nav-item-416"},{"title":"Configure the ECS task bind address","path":"ecs/deploy/bind-addresses","filePath":"../content/docs/ecs/deploy/bind-addresses.mdx","fullPath":"/consul/docs/ecs/deploy/bind-addresses","id":"sidebar-nav-item-417"},{"title":"Configure routes between ECS tasks","path":"ecs/deploy/configure-routes","filePath":"../content/docs/ecs/deploy/configure-routes.mdx","fullPath":"/consul/docs/ecs/deploy/configure-routes","id":"sidebar-nav-item-418"},{"title":"Migrate existing tasks","path":"ecs/deploy/migrate-existing-tasks","filePath":"../content/docs/ecs/deploy/migrate-existing-tasks.mdx","fullPath":"/consul/docs/ecs/deploy/migrate-existing-tasks","id":"sidebar-nav-item-419"}],"id":"sidebar-nav-item-414"},{"title":"Upgrade to Consul dataplane architecture","path":"ecs/upgrade-to-dataplanes","filePath":"../content/docs/ecs/upgrade-to-dataplanes.mdx","fullPath":"/consul/docs/ecs/upgrade-to-dataplanes","id":"sidebar-nav-item-420"},{"title":"Consul Enterprise","path":"ecs/enterprise","filePath":"../content/docs/ecs/enterprise.mdx","fullPath":"/consul/docs/ecs/enterprise","id":"sidebar-nav-item-421"},{"title":"Reference","routes":[{"title":"ECS configuration reference","path":"ecs/reference/configuration-reference","filePath":"../content/docs/ecs/reference/configuration-reference.mdx","fullPath":"/consul/docs/ecs/reference/configuration-reference","id":"sidebar-nav-item-423"},{"title":"ECS compatibility matrix","path":"ecs/reference/compatibility","filePath":"../content/docs/ecs/reference/compatibility.mdx","fullPath":"/consul/docs/ecs/reference/compatibility","id":"sidebar-nav-item-424"},{"title":"ECS Consul server JSON schema","path":"ecs/reference/consul-server-json","filePath":"../content/docs/ecs/reference/consul-server-json.mdx","fullPath":"/consul/docs/ecs/reference/consul-server-json","id":"sidebar-nav-item-425"}],"id":"sidebar-nav-item-422"}],"id":"sidebar-nav-item-410"},{"title":"AWS Lambda","routes":[{"title":"Overview","path":"lambda","filePath":"../content/docs/lambda/index.mdx","fullPath":"/consul/docs/lambda","id":"sidebar-nav-item-427"},{"title":"Register Lambda Functions","routes":[{"title":"Requirements","path":"lambda/registration","filePath":"../content/docs/lambda/registration/index.mdx","fullPath":"/consul/docs/lambda/registration","id":"sidebar-nav-item-429"},{"title":"Automate Registration","path":"lambda/registration/automate","filePath":"../content/docs/lambda/registration/automate.mdx","fullPath":"/consul/docs/lambda/registration/automate","id":"sidebar-nav-item-430"},{"title":"Manual Registration","path":"lambda/registration/manual","filePath":"../content/docs/lambda/registration/manual.mdx","fullPath":"/consul/docs/lambda/registration/manual","id":"sidebar-nav-item-431"}],"id":"sidebar-nav-item-428"},{"title":"Invoke Lambda Functions from Services","path":"lambda/invocation","filePath":"../content/docs/lambda/invocation.mdx","fullPath":"/consul/docs/lambda/invocation","id":"sidebar-nav-item-432"},{"title":"Invoke Services from Lambda Functions","path":"lambda/invoke-from-lambda","badge":{"text":"BETA","type":"outlined","color":"neutral"},"filePath":"../content/docs/lambda/invoke-from-lambda.mdx","fullPath":"/consul/docs/lambda/invoke-from-lambda","id":"sidebar-nav-item-433"}],"id":"sidebar-nav-item-426"},{"divider":true,"id":"sidebar-nav-item-434"},{"title":"HCP Consul","href":"/hcp/docs/consul","id":"sidebar-nav-item-435"},{"title":"Consul Enterprise","routes":[{"title":"Overview","path":"enterprise","filePath":"../content/docs/enterprise/index.mdx","fullPath":"/consul/docs/enterprise","id":"sidebar-nav-item-437"},{"title":"Long Term Support (LTS)","path":"enterprise/long-term-support","filePath":"../content/docs/enterprise/long-term-support.mdx","fullPath":"/consul/docs/enterprise/long-term-support","id":"sidebar-nav-item-438"},{"title":"Admin Partitions","path":"enterprise/admin-partitions","filePath":"../content/docs/enterprise/admin-partitions.mdx","fullPath":"/consul/docs/enterprise/admin-partitions","id":"sidebar-nav-item-439"},{"title":"Audit Logging","path":"enterprise/audit-logging","filePath":"../content/docs/enterprise/audit-logging.mdx","fullPath":"/consul/docs/enterprise/audit-logging","id":"sidebar-nav-item-440"},{"title":"Automated Backups","path":"enterprise/backups","filePath":"../content/docs/enterprise/backups.mdx","fullPath":"/consul/docs/enterprise/backups","id":"sidebar-nav-item-441"},{"title":"Automated Upgrades","path":"enterprise/upgrades","filePath":"../content/docs/enterprise/upgrades.mdx","fullPath":"/consul/docs/enterprise/upgrades","id":"sidebar-nav-item-442"},{"title":"Enhanced Read Scalability","path":"enterprise/read-scale","filePath":"../content/docs/enterprise/read-scale.mdx","fullPath":"/consul/docs/enterprise/read-scale","id":"sidebar-nav-item-443"},{"title":"Fault injection","href":null,"fullPath":"/consul/docs/connect/manage-traffic/fault-injection","id":"sidebar-nav-item-444","path":"/docs/connect/manage-traffic/fault-injection"},{"title":"FIPS","path":"enterprise/fips","filePath":"../content/docs/enterprise/fips.mdx","fullPath":"/consul/docs/enterprise/fips","id":"sidebar-nav-item-445"},{"title":"Single sign-on - OIDC","href":null,"fullPath":"/consul/docs/security/acl/auth-methods/oidc","id":"sidebar-nav-item-446","path":"/docs/security/acl/auth-methods/oidc"},{"title":"Redundancy Zones","path":"enterprise/redundancy","filePath":"../content/docs/enterprise/redundancy.mdx","fullPath":"/consul/docs/enterprise/redundancy","id":"sidebar-nav-item-447"},{"title":"Advanced Federation","path":"enterprise/federation","filePath":"../content/docs/enterprise/federation.mdx","fullPath":"/consul/docs/enterprise/federation","id":"sidebar-nav-item-448"},{"title":"Network Segments","routes":[{"title":"Network Segments Overview","path":"enterprise/network-segments/network-segments-overview","filePath":"../content/docs/enterprise/network-segments/network-segments-overview.mdx","fullPath":"/consul/docs/enterprise/network-segments/network-segments-overview","id":"sidebar-nav-item-450"},{"title":"Create a Network Segment","path":"enterprise/network-segments/create-network-segment","filePath":"../content/docs/enterprise/network-segments/create-network-segment.mdx","fullPath":"/consul/docs/enterprise/network-segments/create-network-segment","id":"sidebar-nav-item-451"}],"id":"sidebar-nav-item-449"},{"title":"Namespaces","path":"enterprise/namespaces","filePath":"../content/docs/enterprise/namespaces.mdx","fullPath":"/consul/docs/enterprise/namespaces","id":"sidebar-nav-item-452"},{"title":"NIA with TFE","href":null,"fullPath":"/consul/docs/nia/enterprise","id":"sidebar-nav-item-453","path":"/docs/nia/enterprise"},{"title":"License","routes":[{"title":"Overview","path":"enterprise/license/overview","filePath":"../content/docs/enterprise/license/overview.mdx","fullPath":"/consul/docs/enterprise/license/overview","id":"sidebar-nav-item-455"},{"title":"Automated entitlement utilization reporting","path":"enterprise/license/utilization-reporting","filePath":"../content/docs/enterprise/license/utilization-reporting.mdx","fullPath":"/consul/docs/enterprise/license/utilization-reporting","id":"sidebar-nav-item-456"},{"title":"FAQ","path":"enterprise/license/faq","filePath":"../content/docs/enterprise/license/faq.mdx","fullPath":"/consul/docs/enterprise/license/faq","id":"sidebar-nav-item-457"}],"id":"sidebar-nav-item-454"},{"title":"Enterprise to CE downgrade","path":"enterprise/ent-to-ce-downgrades","filePath":"../content/docs/enterprise/ent-to-ce-downgrades.mdx","fullPath":"/consul/docs/enterprise/ent-to-ce-downgrades","id":"sidebar-nav-item-458"}],"id":"sidebar-nav-item-436"},{"divider":true,"id":"sidebar-nav-item-459"},{"title":"Network Infrastructure Automation","routes":[{"title":"Overview","path":"nia","filePath":"../content/docs/nia/index.mdx","fullPath":"/consul/docs/nia","id":"sidebar-nav-item-461"},{"title":"Get Started","routes":[{"title":"Installation","path":"nia/installation/install","filePath":"../content/docs/nia/installation/install.mdx","fullPath":"/consul/docs/nia/installation/install","id":"sidebar-nav-item-463"},{"title":"Configuration","path":"nia/installation/configure","filePath":"../content/docs/nia/installation/configure.mdx","fullPath":"/consul/docs/nia/installation/configure","id":"sidebar-nav-item-464"}],"id":"sidebar-nav-item-462"},{"title":"Usage","routes":[{"title":"Requirements","path":"nia/usage/requirements","filePath":"../content/docs/nia/usage/requirements.mdx","fullPath":"/consul/docs/nia/usage/requirements","id":"sidebar-nav-item-466"},{"title":"Run Consul-Terraform-Sync","path":"nia/usage/run","filePath":"../content/docs/nia/usage/run.mdx","fullPath":"/consul/docs/nia/usage/run","id":"sidebar-nav-item-467"},{"title":"Run Consul-Terraform-Sync with High Availability","path":"nia/usage/run-ha","filePath":"../content/docs/nia/usage/run-ha.mdx","fullPath":"/consul/docs/nia/usage/run-ha","id":"sidebar-nav-item-468"},{"title":"Error Messages","path":"nia/usage/errors-ref","filePath":"../content/docs/nia/usage/errors-ref.mdx","fullPath":"/consul/docs/nia/usage/errors-ref","id":"sidebar-nav-item-469"}],"id":"sidebar-nav-item-465"},{"title":"Architecture","path":"nia/architecture","filePath":"../content/docs/nia/architecture.mdx","fullPath":"/consul/docs/nia/architecture","id":"sidebar-nav-item-470"},{"title":"API","routes":[{"title":"Overview","path":"nia/api","filePath":"../content/docs/nia/api/index.mdx","fullPath":"/consul/docs/nia/api","id":"sidebar-nav-item-472"},{"title":"Status","path":"nia/api/status","filePath":"../content/docs/nia/api/status.mdx","fullPath":"/consul/docs/nia/api/status","id":"sidebar-nav-item-473"},{"title":"Tasks","path":"nia/api/tasks","filePath":"../content/docs/nia/api/tasks.mdx","fullPath":"/consul/docs/nia/api/tasks","id":"sidebar-nav-item-474"},{"title":"Health","path":"nia/api/health","filePath":"../content/docs/nia/api/health.mdx","fullPath":"/consul/docs/nia/api/health","id":"sidebar-nav-item-475"}],"id":"sidebar-nav-item-471"},{"title":"CLI","routes":[{"title":"Overview","path":"nia/cli","filePath":"../content/docs/nia/cli/index.mdx","fullPath":"/consul/docs/nia/cli","id":"sidebar-nav-item-477"},{"title":"task","path":"nia/cli/task","filePath":"../content/docs/nia/cli/task.mdx","fullPath":"/consul/docs/nia/cli/task","id":"sidebar-nav-item-478"},{"title":"start","path":"nia/cli/start","filePath":"../content/docs/nia/cli/start.mdx","fullPath":"/consul/docs/nia/cli/start","id":"sidebar-nav-item-479"}],"id":"sidebar-nav-item-476"},{"title":"Configuration","path":"nia/configuration","filePath":"../content/docs/nia/configuration.mdx","fullPath":"/consul/docs/nia/configuration","id":"sidebar-nav-item-480"},{"title":"Tasks","path":"nia/tasks","filePath":"../content/docs/nia/tasks.mdx","fullPath":"/consul/docs/nia/tasks","id":"sidebar-nav-item-481"},{"title":"Terraform Modules","path":"nia/terraform-modules","filePath":"../content/docs/nia/terraform-modules.mdx","fullPath":"/consul/docs/nia/terraform-modules","id":"sidebar-nav-item-482"},{"title":"Enterprise","routes":[{"title":"Overview","path":"nia/enterprise","filePath":"../content/docs/nia/enterprise/index.mdx","fullPath":"/consul/docs/nia/enterprise","id":"sidebar-nav-item-484"},{"title":"License","path":"nia/enterprise/license","filePath":"../content/docs/nia/enterprise/license.mdx","fullPath":"/consul/docs/nia/enterprise/license","id":"sidebar-nav-item-485"},{"title":"Terraform Cloud Driver","href":null,"fullPath":"/consul/docs/nia/network-drivers/terraform-cloud","id":"sidebar-nav-item-486","path":"/docs/nia/network-drivers/terraform-cloud"}],"id":"sidebar-nav-item-483"},{"title":"Network Drivers","routes":[{"title":"Overview","path":"nia/network-drivers","filePath":"../content/docs/nia/network-drivers/index.mdx","fullPath":"/consul/docs/nia/network-drivers","id":"sidebar-nav-item-488"},{"title":"Terraform","path":"nia/network-drivers/terraform","filePath":"../content/docs/nia/network-drivers/terraform.mdx","fullPath":"/consul/docs/nia/network-drivers/terraform","id":"sidebar-nav-item-489"},{"title":"Terraform Cloud","path":"nia/network-drivers/terraform-cloud","filePath":"../content/docs/nia/network-drivers/terraform-cloud.mdx","fullPath":"/consul/docs/nia/network-drivers/terraform-cloud","id":"sidebar-nav-item-490"}],"id":"sidebar-nav-item-487"},{"title":"Compatibility","path":"nia/compatibility","filePath":"../content/docs/nia/compatibility.mdx","fullPath":"/consul/docs/nia/compatibility","id":"sidebar-nav-item-491"}],"id":"sidebar-nav-item-460"}],"title":"Documentation","visuallyHideTitle":true}],"mainWidth":"narrow","githubFileUrl":"https://github.com/hashicorp/consul/blob/main/website/../content/docs/agent/telemetry.mdx"},"metadata":{"title":"Agents - Enable Telemetry Metrics","description":"Configure agent telemetry to collect operations metrics you can use to debug and observe Consul behavior and performance. Learn about configuration options, the metrics you can collect, and why they're important.","layout":null},"outlineItems":[{"title":"Agent Telemetry","url":"#agent-telemetry","dataHeapTrack":"toc-list-item-index-0"},{"title":"Key Metrics","url":"#key-metrics","dataHeapTrack":"toc-list-item-index-1"},{"title":"Metrics Reference","url":"#metrics-reference","dataHeapTrack":"toc-list-item-index-2"},{"title":"Server Health","url":"#server-health","dataHeapTrack":"toc-list-item-index-3"},{"title":"Server Workload","url":"#server-workload","dataHeapTrack":"toc-list-item-index-4"},{"title":"Cluster Health","url":"#cluster-health","dataHeapTrack":"toc-list-item-index-5"},{"title":"Service Mesh Built-in Proxy Metrics","url":"#service-mesh-built-in-proxy-metrics","dataHeapTrack":"toc-list-item-index-6"},{"title":"Peering metrics","url":"#peering-metrics","dataHeapTrack":"toc-list-item-index-7"},{"title":"Server Host Metrics","url":"#server-host-metrics","dataHeapTrack":"toc-list-item-index-8"}],"pageHeading":{"id":"agent-telemetry","title":"Agent Telemetry"},"mdxSource":{"compiledSource":"var m=Object.defineProperty,u=Object.defineProperties;var c=Object.getOwnPropertyDescriptors;var l=Object.getOwnPropertySymbols;var i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;var d=(t,n,a)=>n in t?m(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,e=(t,n)=>{for(var a in n||(n={}))i.call(n,a)&&d(t,a,n[a]);if(l)for(var a of l(n))o.call(n,a)&&d(t,a,n[a]);return t},s=(t,n)=>u(t,c(n));var p=(t,n)=>{var a={};for(var r in t)i.call(t,r)&&n.indexOf(r)<0&&(a[r]=t[r]);if(t!=null&&l)for(var r of l(t))n.indexOf(r)<0&&o.call(t,r)&&(a[r]=t[r]);return a};const makeShortcode=t=>function(a){return console.warn(\"Component \"+t+\" was not imported, exported, or provided by MDXProvider as global scope\"),mdx(\"div\",e({},a))},CodeBlockConfig=makeShortcode(\"CodeBlockConfig\"),EnterpriseAlert=makeShortcode(\"EnterpriseAlert\"),CodeTabs=makeShortcode(\"CodeTabs\"),layoutProps={},MDXLayout=\"wrapper\";function MDXContent(a){var r=a,{components:t}=r,n=p(r,[\"components\"]);return mdx(MDXLayout,s(e(e({},layoutProps),n),{components:t,mdxType:\"MDXLayout\"}),mdx(\"p\",null,`The Consul agent collects various runtime metrics about the performance of\ndifferent libraries and subsystems. These metrics are aggregated on a ten\nsecond (10s) interval and are retained for one minute. An `,mdx(\"em\",{parentName:\"p\"},\"interval\"),\" is the period of time between instances of data being collected and aggregated.\"),mdx(\"p\",null,\"When telemetry is being streamed to an external metrics store, the interval is defined to be that store's flush interval.\"),mdx(\"table\",null,mdx(\"thead\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"thead\"},mdx(\"th\",e({parentName:\"tr\"},{align:\"left\"}),\"External Store\"),mdx(\"th\",e({parentName:\"tr\"},{align:\"left\"}),\"Interval (seconds)\"))),mdx(\"tbody\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),mdx(\"a\",e({parentName:\"td\"},{href:\"https://docs.datadoghq.com/developers/dogstatsd/?tab=hostagent#how-it-works\"}),\"dogstatsd\")),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"10s\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),mdx(\"a\",e({parentName:\"td\"},{href:\"https://vector.dev/docs/reference/configuration/sinks/prometheus_exporter/#flush_period_secs\"}),\"Prometheus\")),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"60s\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),mdx(\"a\",e({parentName:\"td\"},{href:\"https://github.com/statsd/statsd/blob/master/docs/metric_types.md#timing\"}),\"statsd\")),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"10s\")))),mdx(\"p\",null,`To view this data, you must send a signal to the Consul process: on Unix,\nthis is `,mdx(\"inlineCode\",{parentName:\"p\"},\"USR1\"),\" while on Windows it is \",mdx(\"inlineCode\",{parentName:\"p\"},\"BREAK\"),`. Once Consul receives the signal,\nit will dump the current telemetry information to the agent's `,mdx(\"inlineCode\",{parentName:\"p\"},\"stderr\"),\".\"),mdx(\"p\",null,`This telemetry information can be used for debugging or otherwise\ngetting a better view of what Consul is doing. Review the `,mdx(\"a\",e({parentName:\"p\"},{href:\"/consul/tutorials/day-2-operations/monitor-datacenter-health?utm_source=docs\"}),`Monitoring and\nMetrics tutorial`),\" to learn how collect and interpret Consul data.\"),mdx(\"p\",null,`By default, all metric names of gauge type are prefixed with the hostname of the consul agent, e.g.,\n`,mdx(\"inlineCode\",{parentName:\"p\"},\"consul.hostname.server.isLeader\"),`. To disable prefixing the hostname, set\n`,mdx(\"inlineCode\",{parentName:\"p\"},\"telemetry.disable_hostname=true\"),\" in the \",mdx(\"a\",e({parentName:\"p\"},{href:\"/consul/docs/agent/config/config-files#telemetry\"}),\"agent configuration\"),\".\"),mdx(\"p\",null,\"Additionally, if the \",mdx(\"a\",e({parentName:\"p\"},{href:\"/consul/docs/agent/config/config-files#telemetry\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"telemetry\"),\" configuration options\"),`\nare provided, the telemetry information will be streamed to a\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"http://github.com/armon/statsite\"}),\"statsite\"),\" or \",mdx(\"a\",e({parentName:\"p\"},{href:\"http://github.com/etsy/statsd\"}),\"statsd\"),` server where\nit can be aggregated and flushed to Graphite or any other metrics store.\nFor a configuration example for Telegraf, review the `,mdx(\"a\",e({parentName:\"p\"},{href:\"/consul/tutorials/day-2-operations/monitor-health-telegraf?utm_source=docs\"}),\"Monitoring with Telegraf tutorial\"),\".\"),mdx(\"p\",null,`This\ninformation can also be viewed with the `,mdx(\"a\",e({parentName:\"p\"},{href:\"/consul/api-docs/agent#view-metrics\"}),\"metrics endpoint\"),` in JSON\nformat or using `,mdx(\"a\",e({parentName:\"p\"},{href:\"https://prometheus.io/\"}),\"Prometheus\"),\" format.\"),mdx(CodeBlockConfig,{heading:\"Sample output of telemetry dump\",mdxType:\"CodeBlockConfig\"},mdx(\"pre\",e({},{className:\"language-log\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-log\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token date number\"}),\"2014-01-29\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token time number\"}),\"10:56:50 -0800\"),\" PST\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),\"G\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),\"'consul-agent.runtime.num_goroutines'\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token number\"}),\"19.000\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token date number\"}),\"2014-01-29\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token time number\"}),\"10:56:50 -0800\"),\" PST\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),\"G\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),\"'consul-agent.runtime.alloc_bytes'\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token number\"}),\"755960.000\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token date number\"}),\"2014-01-29\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token time number\"}),\"10:56:50 -0800\"),\" PST\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),\"G\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),\"'consul-agent.runtime.malloc_count'\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token number\"}),\"7550.000\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token date number\"}),\"2014-01-29\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token time number\"}),\"10:56:50 -0800\"),\" PST\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),\"G\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),\"'consul-agent.runtime.free_count'\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token number\"}),\"4387.000\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token date number\"}),\"2014-01-29\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token time number\"}),\"10:56:50 -0800\"),\" PST\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),\"G\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),\"'consul-agent.runtime.heap_objects'\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token number\"}),\"3163.000\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token date number\"}),\"2014-01-29\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token time number\"}),\"10:56:50 -0800\"),\" PST\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),\"G\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),\"'consul-agent.runtime.total_gc_pause_ns'\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token number\"}),\"1151002.000\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token date number\"}),\"2014-01-29\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token time number\"}),\"10:56:50 -0800\"),\" PST\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),\"G\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),\"'consul-agent.runtime.total_gc_runs'\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token number\"}),\"4.000\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token date number\"}),\"2014-01-29\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token time number\"}),\"10:56:50 -0800\"),\" PST\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),\"C\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),\"'consul-agent.agent.ipc.accept'\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" Count\",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token number\"}),\"5\"),\" Sum\",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token number\"}),\"5.000\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token date number\"}),\"2014-01-29\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token time number\"}),\"10:56:50 -0800\"),\" PST\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),\"C\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),\"'consul-agent.agent.ipc.command'\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" Count\",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token number\"}),\"10\"),\" Sum\",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token number\"}),\"10.000\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token date number\"}),\"2014-01-29\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token time number\"}),\"10:56:50 -0800\"),\" PST\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),\"C\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),\"'consul-agent.serf.events'\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" Count\",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token number\"}),\"5\"),\" Sum\",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token number\"}),\"5.000\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token date number\"}),\"2014-01-29\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token time number\"}),\"10:56:50 -0800\"),\" PST\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),\"C\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),\"'consul-agent.serf.events.foo'\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" Count\",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token number\"}),\"4\"),\" Sum\",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token number\"}),\"4.000\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token date number\"}),\"2014-01-29\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token time number\"}),\"10:56:50 -0800\"),\" PST\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),\"C\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),\"'consul-agent.serf.events.baz'\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" Count\",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token number\"}),\"1\"),\" Sum\",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token number\"}),\"1.000\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token date number\"}),\"2014-01-29\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token time number\"}),\"10:56:50 -0800\"),\" PST\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),\"S\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),\"'consul-agent.memberlist.gossip'\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" Count\",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token number\"}),\"50\"),\" Min\",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token number\"}),\"0.007\"),\" Mean\",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token number\"}),\"0.020\"),\" Max\",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token number\"}),\"0.041\"),\" Stddev\",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token number\"}),\"0.007\"),\" Sum\",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token number\"}),\"0.989\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token date number\"}),\"2014-01-29\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token time number\"}),\"10:56:50 -0800\"),\" PST\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),\"S\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),\"'consul-agent.serf.queue.Intent'\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" Count\",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token number\"}),\"10\"),\" Sum\",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token number\"}),\"0.000\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token date number\"}),\"2014-01-29\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token time number\"}),\"10:56:50 -0800\"),\" PST\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),\"S\",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),\"'consul-agent.serf.queue.Event'\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" Count\",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token number\"}),\"10\"),\" Min\",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token number\"}),\"0.000\"),\" Mean\",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token number\"}),\"2.500\"),\" Max\",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token number\"}),\"5.000\"),\" Stddev\",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token number\"}),\"2.121\"),\" Sum\",mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token number\"}),\"25.000\"),`\n`))),mdx(\"h1\",e({},{id:\"key-metrics\"}),mdx(\"a\",e({parentName:\"h1\"},{className:\"__permalink-h\",href:\"#key-metrics\",\"aria-label\":\"key metrics permalink\"}),\"\\xBB\"),\"Key Metrics\"),mdx(\"p\",null,\"These are some metrics emitted that can help you understand the health of your cluster at a glance. A \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://grafana.com/grafana/dashboards/13396\"}),\"Grafana dashboard\"),\" is also available, which is maintained by the Consul team and displays these metrics for easy visualization. For a full list of metrics emitted by Consul, see \",mdx(\"a\",e({parentName:\"p\"},{href:\"#metrics-reference\"}),\"Metrics Reference\")),mdx(\"h3\",e({},{id:\"transaction-timing\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"__permalink-h\",href:\"#transaction-timing\",\"aria-label\":\"transaction timing permalink\"}),\"\\xBB\"),\"Transaction timing\"),mdx(\"table\",null,mdx(\"thead\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"thead\"},mdx(\"th\",e({parentName:\"tr\"},{align:\"left\"}),\"Metric Name\"),mdx(\"th\",e({parentName:\"tr\"},{align:\"left\"}),\"Description\"),mdx(\"th\",e({parentName:\"tr\"},{align:\"left\"}),\"Unit\"),mdx(\"th\",e({parentName:\"tr\"},{align:\"left\"}),\"Type\"))),mdx(\"tbody\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.kvs.apply\")),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"Measures the time it takes to complete an update to the KV store.\"),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"timer\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.txn.apply\")),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"Measures the time spent applying a transaction operation.\"),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"timer\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.apply\")),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"Counts the number of Raft transactions applied during the interval. This metric is only reported on the leader.\"),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"raft transactions / interval\"),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.commitTime\")),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"Measures the time it takes to commit a new entry to the Raft log on the leader.\"),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"timer\")))),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},\"Why they're important:\"),\" Taken together, these metrics indicate how long it takes to complete write operations in various parts of the Consul cluster. Generally these should all be fairly consistent and no more than a few milliseconds. Sudden changes in any of the timing values could be due to unexpected load on the Consul servers, or due to problems on the servers themselves.\"),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},\"What to look for:\"),\" Deviations (in any of these metrics) of more than 50% from baseline over the previous hour.\"),mdx(\"h3\",e({},{id:\"leadership-changes\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"__permalink-h\",href:\"#leadership-changes\",\"aria-label\":\"leadership changes permalink\"}),\"\\xBB\"),\"Leadership changes\"),mdx(\"table\",null,mdx(\"thead\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"thead\"},mdx(\"th\",e({parentName:\"tr\"},{align:\"left\"}),\"Metric Name\"),mdx(\"th\",e({parentName:\"tr\"},{align:\"left\"}),\"Description\"),mdx(\"th\",e({parentName:\"tr\"},{align:\"left\"}),\"Unit\"),mdx(\"th\",e({parentName:\"tr\"},{align:\"left\"}),\"Type\"))),mdx(\"tbody\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.leader.lastContact\")),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"Measures the time since the leader was last able to contact the follower nodes when checking its leader lease.\"),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"timer\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.state.candidate\")),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"Increments whenever a Consul server starts an election.\"),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"elections\"),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.state.leader\")),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"Increments whenever a Consul server becomes a leader.\"),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"leaders\"),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.server.isLeader\")),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"Track if a server is a leader(1) or not(0).\"),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"1 or 0\"),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"gauge\")))),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},\"Why they're important:\"),\" Normally, your Consul cluster should have a stable leader. If there are frequent elections or leadership changes, it would likely indicate network issues between the Consul servers, or that the Consul servers themselves are unable to keep up with the load.\"),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},\"What to look for:\"),\" For a healthy cluster, you're looking for a \",mdx(\"inlineCode\",{parentName:\"p\"},\"lastContact\"),\" lower than 200ms, \",mdx(\"inlineCode\",{parentName:\"p\"},\"leader\"),\" > 0 and \",mdx(\"inlineCode\",{parentName:\"p\"},\"candidate\"),\" == 0. Deviations from this might indicate flapping leadership.\"),mdx(\"h3\",e({},{id:\"certificate-authority-expiration\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"__permalink-h\",href:\"#certificate-authority-expiration\",\"aria-label\":\"certificate authority expiration permalink\"}),\"\\xBB\"),\"Certificate Authority Expiration\"),mdx(\"table\",null,mdx(\"thead\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"thead\"},mdx(\"th\",e({parentName:\"tr\"},{align:\"left\"}),\"Metric Name\"),mdx(\"th\",e({parentName:\"tr\"},{align:\"left\"}),\"Description\"),mdx(\"th\",e({parentName:\"tr\"},{align:\"left\"}),\"Unit\"),mdx(\"th\",e({parentName:\"tr\"},{align:\"left\"}),\"Type\"))),mdx(\"tbody\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.mesh.active-root-ca.expiry\")),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"The number of seconds until the root CA expires, updated every hour.\"),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"seconds\"),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"gauge\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.mesh.active-signing-ca.expiry\")),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"The number of seconds until the signing CA expires, updated every hour.\"),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"seconds\"),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"gauge\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.agent.tls.cert.expiry\")),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"The number of seconds until the server agent's TLS certificate expires, updated every hour.\"),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"seconds\"),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"gauge\")))),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},\" Why they're important:\"),` Consul Mesh requires a CA to sign all certificates\nused to connect the mesh and the mesh network ceases to work if they expire and\nbecome invalid. The Root is particularly important to monitor as Consul does\nnot automatically rotate it. The TLS certificate metric monitors the certificate\nthat the server's agent uses to connect with the other agents in the cluster.`),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},\" What to look for:\"),` The Root CA should be monitored for an approaching\nexpiration, to indicate it is time for you to rotate the \"root\" CA either\nmanually or with external automation. Consul should rotate the signing (intermediate) certificate\nautomatically, but we recommend monitoring the rotation.  When the certificate does not rotate, check the server agent logs for\nmessages related to the CA system. The agent TLS certificate's rotation handling\nvaries based on the configuration.`),mdx(\"h3\",e({},{id:\"autopilot\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"__permalink-h\",href:\"#autopilot\",\"aria-label\":\"autopilot permalink\"}),\"\\xBB\"),\"Autopilot\"),mdx(\"table\",null,mdx(\"thead\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"thead\"},mdx(\"th\",e({parentName:\"tr\"},{align:\"left\"}),\"Metric Name\"),mdx(\"th\",e({parentName:\"tr\"},{align:\"left\"}),\"Description\"),mdx(\"th\",e({parentName:\"tr\"},{align:\"left\"}),\"Unit\"),mdx(\"th\",e({parentName:\"tr\"},{align:\"left\"}),\"Type\"))),mdx(\"tbody\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.autopilot.healthy\")),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"Tracks the overall health of the local server cluster. If all servers are considered healthy by Autopilot, this will be set to 1. If any are unhealthy, this will be 0.\"),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"health state\"),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"gauge\")))),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},\"Why it's important:\"),\" Autopilot can expose the overall health of your cluster with a simple boolean.\"),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},\"What to look for:\"),\" Alert if \",mdx(\"inlineCode\",{parentName:\"p\"},\"healthy\"),\" is 0. Some other indicators of an unhealthy cluster would be:\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{id:\"consul-raft-committime\",className:\"__target-lic\",\"aria-hidden\":\"true\"})),mdx(\"a\",e({parentName:\"li\"},{href:\"#consul-raft-committime\",\"aria-label\":\"consul raft committime permalink\",className:\"__permalink-lic\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"consul.raft.commitTime\")),` - This can help reflect the speed of state store\nchanges being performed by the agent. If this number is rising, the server may\nbe experiencing an issue due to degraded resources on the host.`),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"#leadership-changes\"}),\"Leadership change metrics\"),` - Check for deviation from\nthe recommended values. This can indicate failed leadership elections or\nflapping nodes.`)),mdx(\"h3\",e({},{id:\"memory-usage\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"__permalink-h\",href:\"#memory-usage\",\"aria-label\":\"memory usage permalink\"}),\"\\xBB\"),\"Memory usage\"),mdx(\"table\",null,mdx(\"thead\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"thead\"},mdx(\"th\",e({parentName:\"tr\"},{align:\"left\"}),\"Metric Name\"),mdx(\"th\",e({parentName:\"tr\"},{align:\"left\"}),\"Description\"),mdx(\"th\",e({parentName:\"tr\"},{align:\"left\"}),\"Unit\"),mdx(\"th\",e({parentName:\"tr\"},{align:\"left\"}),\"Type\"))),mdx(\"tbody\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.runtime.alloc_bytes\")),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"Measures the number of bytes allocated by the Consul process.\"),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"bytes\"),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"gauge\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.runtime.sys_bytes\")),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"Measures the total number of bytes of memory obtained from the OS.\"),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"bytes\"),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"gauge\")))),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},\"Why they're important:\"),\" Consul keeps all of its data in memory. If Consul consumes all available memory, it will crash.\"),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},\"What to look for:\"),\" If \",mdx(\"inlineCode\",{parentName:\"p\"},\"consul.runtime.sys_bytes\"),\" exceeds 90% of total available system memory.\"),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},\"NOTE:\"),` This metric is calculated using Go's runtime package\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"https://golang.org/pkg/runtime/#MemStats\"}),\"MemStats\"),`. This will have a\ndifferent output than using information gathered from `,mdx(\"inlineCode\",{parentName:\"p\"},\"top\"),`. For more\ninformation, see `,mdx(\"a\",e({parentName:\"p\"},{href:\"https://github.com/hashicorp/consul/issues/4734\"}),\"GH-4734\"),\".\"),mdx(\"h3\",e({},{id:\"garbage-collection\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"__permalink-h\",href:\"#garbage-collection\",\"aria-label\":\"garbage collection permalink\"}),\"\\xBB\"),\"Garbage collection\"),mdx(\"table\",null,mdx(\"thead\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"thead\"},mdx(\"th\",e({parentName:\"tr\"},{align:\"left\"}),\"Metric Name\"),mdx(\"th\",e({parentName:\"tr\"},{align:\"left\"}),\"Description\"),mdx(\"th\",e({parentName:\"tr\"},{align:\"left\"}),\"Unit\"),mdx(\"th\",e({parentName:\"tr\"},{align:\"left\"}),\"Type\"))),mdx(\"tbody\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.runtime.total_gc_pause_ns\")),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"Number of nanoseconds consumed by stop-the-world garbage collection (GC) pauses since Consul started.\"),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"ns\"),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"gauge\")))),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},\"Why it's important:\"),' GC pause is a \"stop-the-world\" event, meaning that all runtime threads are blocked until GC completes. Normally these pauses last only a few nanoseconds. But if memory usage is high, the Go runtime may GC so frequently that it starts to slow down Consul.'),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},\"What to look for:\"),\" Warning if \",mdx(\"inlineCode\",{parentName:\"p\"},\"total_gc_pause_ns\"),\" exceeds 2 seconds/minute, critical if it exceeds 5 seconds/minute.\"),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},\"NOTE:\"),\" \",mdx(\"inlineCode\",{parentName:\"p\"},\"total_gc_pause_ns\"),` is a cumulative counter, so in order to calculate rates (such as GC/minute),\nyou will need to apply a function such as InfluxDB's `,mdx(\"a\",e({parentName:\"p\"},{href:\"https://docs.influxdata.com/influxdb/v1.5/query_language/functions/#non-negative-difference\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"non_negative_difference()\")),\".\"),mdx(\"h3\",e({},{id:\"network-activity-rpc-count\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"__permalink-h\",href:\"#network-activity-rpc-count\",\"aria-label\":\"network activity rpc count permalink\"}),\"\\xBB\"),\"Network activity - RPC Count\"),mdx(\"table\",null,mdx(\"thead\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"thead\"},mdx(\"th\",e({parentName:\"tr\"},{align:\"left\"}),\"Metric Name\"),mdx(\"th\",e({parentName:\"tr\"},{align:\"left\"}),\"Description\"),mdx(\"th\",e({parentName:\"tr\"},{align:\"left\"}),\"Unit\"),mdx(\"th\",e({parentName:\"tr\"},{align:\"left\"}),\"Type\"))),mdx(\"tbody\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.client.rpc\")),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"Increments whenever a Consul agent makes an RPC request to a Consul server\"),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"requests\"),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.client.rpc.exceeded\")),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"Increments whenever a Consul agent makes an RPC request to a Consul server gets rate limited by that agent's \",mdx(\"a\",e({parentName:\"td\"},{href:\"/consul/docs/agent/config/config-files#limits\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"limits\")),\" configuration.\"),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"requests\"),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.client.rpc.failed\")),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"Increments whenever a Consul agent makes an RPC request to a Consul server and fails.\"),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"requests\"),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"counter\")))),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},\"Why they're important:\"),\" These measurements indicate the current load created from a Consul agent, including when the load becomes high enough to be rate limited. A high RPC count, especially from \",mdx(\"inlineCode\",{parentName:\"p\"},\"consul.client.rpcexceeded\"),\" meaning that the requests are being rate-limited, could imply a misconfigured Consul agent.\"),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},\"What to look for:\"),`\nSudden large changes to the `,mdx(\"inlineCode\",{parentName:\"p\"},\"consul.client.rpc\"),` metrics (greater than 50% deviation from baseline).\n`,mdx(\"inlineCode\",{parentName:\"p\"},\"consul.client.rpc.exceeded\"),\" or \",mdx(\"inlineCode\",{parentName:\"p\"},\"consul.client.rpc.failed\"),\" count > 0, as it implies that an agent is being rate-limited or fails to make an RPC request to a Consul server\"),mdx(\"h3\",e({},{id:\"raft-thread-saturation\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"__permalink-h\",href:\"#raft-thread-saturation\",\"aria-label\":\"raft thread saturation permalink\"}),\"\\xBB\"),\"Raft Thread Saturation\"),mdx(\"table\",null,mdx(\"thead\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"thead\"},mdx(\"th\",e({parentName:\"tr\"},{align:\"left\"}),\"Metric Name\"),mdx(\"th\",e({parentName:\"tr\"},{align:\"left\"}),\"Description\"),mdx(\"th\",e({parentName:\"tr\"},{align:\"left\"}),\"Unit\"),mdx(\"th\",e({parentName:\"tr\"},{align:\"left\"}),\"Type\"))),mdx(\"tbody\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.thread.main.saturation\")),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"An approximate measurement of the proportion of time the main Raft goroutine is busy and unavailable to accept new work.\"),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"percentage\"),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"sample\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.thread.fsm.saturation\")),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"An approximate measurement of the proportion of time the Raft FSM goroutine is busy and unavailable to accept new work.\"),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"percentage\"),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"sample\")))),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},\"Why they're important:\"),` These measurements are a useful proxy for how much\ncapacity a Consul server has to accept additional write load. High saturation\nof the Raft goroutines can lead to elevated latency in the rest of the system\nand cause cluster instability.`),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},\"What to look for:\"),` Generally, a server's steady-state saturation should be\nless than 50%.`),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},\"NOTE:\"),` These metrics are approximate and under extremely heavy load won't\ngive a perfect fine-grained view of how much headroom a server has available.\nInstead, treat them as an early warning sign.`),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},\" Requirements: \")),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"Consul 1.13.0+\")),mdx(\"h3\",e({},{id:\"raft-replication-capacity-issues\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"__permalink-h\",href:\"#raft-replication-capacity-issues\",\"aria-label\":\"raft replication capacity issues permalink\"}),\"\\xBB\"),\"Raft Replication Capacity Issues\"),mdx(\"table\",null,mdx(\"thead\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"thead\"},mdx(\"th\",e({parentName:\"tr\"},{align:\"left\"}),\"Metric Name\"),mdx(\"th\",e({parentName:\"tr\"},{align:\"left\"}),\"Description\"),mdx(\"th\",e({parentName:\"tr\"},{align:\"left\"}),\"Unit\"),mdx(\"th\",e({parentName:\"tr\"},{align:\"left\"}),\"Type\"))),mdx(\"tbody\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.fsm.lastRestoreDuration\")),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"Measures the time taken to restore the FSM from a snapshot on an agent restart or from the leader calling installSnapshot. This is a gauge that holds it's value since most servers only restore during restarts which are typically infrequent.\"),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"gauge\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.leader.oldestLogAge\")),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"The number of milliseconds since the \",mdx(\"em\",{parentName:\"td\"},\"oldest\"),\" log in the leader's log store was written. This can be important for replication health where write rate is high and the snapshot is large as followers may be unable to recover from a restart if restoring takes longer than the minimum value for the current leader. Compare this with \",mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.fsm.lastRestoreDuration\"),\" and \",mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.rpc.installSnapshot\"),\" to monitor. In normal usage this gauge value will grow linearly over time until a snapshot completes on the leader and the log is truncated.\"),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"gauge\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.rpc.installSnapshot\")),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"Measures the time taken to process the installSnapshot RPC call. This metric should only be seen on agents which are currently in the follower state.\"),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"timer\")))),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},\"Why they're important:\"),` These metrics allow operators to monitor the health\nand capacity of raft replication on servers. `,mdx(\"strong\",{parentName:\"p\"},`When Consul is handling large\namounts of data and high write throughput`),` it is possible for the cluster to\nget into the following state:`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"Write throughput is high (say 500 commits per second or more) and constant\"),mdx(\"li\",{parentName:\"ul\"},\"The leader is writing out a large snapshot every minute or so\"),mdx(\"li\",{parentName:\"ul\"},`The snapshot is large enough that it takes considerable time to restore from\ndisk on a restart or from the leader if a follower gets behind`),mdx(\"li\",{parentName:\"ul\"},`Disk IO available allows the leader to write a snapshot faster than it can be\nrestored from disk on a follower`)),mdx(\"p\",null,`Under these conditions, a follower after a restart may be unable to catch up on\nreplication and become a voter again since it takes longer to restore from disk\nor the leader than the leader takes to write a new snapshot and truncate its\nlogs. Servers retain\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"/consul/docs/agent/config/config-files#raft_trailing_logs\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"raft_trailing_logs\")),` (default\n`,mdx(\"inlineCode\",{parentName:\"p\"},\"10240\"),`) log entries even if their snapshot was more recent. On a leader\nprocessing 500 commits/second, that is only about 20 seconds worth of logs.\nAssuming the leader is able to write out a snapshot and truncate the logs in\nless than 20 seconds, there will only be 20 seconds worth of \"recent\" logs\navailable on the leader right after the leader has taken a snapshot and never\nmore than about 80 seconds worth assuming it is taking a snapshot and truncating\nlogs every 60 seconds.`),mdx(\"p\",null,`In this state, followers must be able to restore a snapshot into memory and\nresume replication in under 80 seconds otherwise they will never be able to\nrejoin the cluster until write rates reduce. If they take more than 20 seconds\nthen there will be a chance that they are unlucky with timing when they restart\nand have to download a snapshot again from the servers one or more times. If\nthey take 50 seconds or more then they will likely fail to catch up more often\nthan they succeed and will remain non-voters for some time until they happen to\ncomplete the restore just before the leader truncates its logs.`),mdx(\"p\",null,`In the worst case, the follower will be left continually downloading snapshots\nfrom the leader which are always too old to use by the time they are restored.\nThis can put additional strain on the leader transferring large snapshots\nrepeatedly as well as reduce the fault tolerance and serving capacity of the\ncluster.`),mdx(\"p\",null,`Since Consul 1.5.3\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"/consul/docs/agent/config/config-files#raft_trailing_logs\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"raft_trailing_logs\")),` has been\nconfigurable. Increasing it allows the leader to retain more logs and give\nfollowers more time to restore and catch up. The tradeoff is potentially\nslower appends which eventually might affect write throughput and latency\nnegatively so setting it arbitrarily high is not recommended. Before Consul\n1.10.0 it required a rolling restart to change this configuration on the leader\nthough and since no followers could restart without loosing health this could\nmean loosing cluster availability and needing to recover the cluster from a loss\nof quorum.`),mdx(\"p\",null,`Since Consul 1.10.0\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"/consul/docs/agent/config/config-files#raft_trailing_logs\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"raft_trailing_logs\")),` is now\nreloadable with `,mdx(\"inlineCode\",{parentName:\"p\"},\"consul reload\"),\" or \",mdx(\"inlineCode\",{parentName:\"p\"},\"SIGHUP\"),` allowing operators to increase this\nwithout the leader restarting or loosing leadership allowing the cluster to be\nrecovered gracefully.`),mdx(\"p\",null,\"Monitoring these metrics can help avoid or diagnose this state.\"),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},\"What to look for:\")),mdx(\"p\",null,mdx(\"inlineCode\",{parentName:\"p\"},\"consul.raft.leader.oldestLogAge\"),` should look like a saw-tooth wave increasing\nlinearly with time until the leader takes a snapshot and then jumping down as\nthe oldest logs are truncated. The lowest point on that line should remain\ncomfortably higher (i.e. 2x or more) than the time it takes to restore a\nsnapshot.`),mdx(\"p\",null,`There are two ways a snapshot can be restored on a follower: from disk on\nstartup or from the leader during an `,mdx(\"inlineCode\",{parentName:\"p\"},\"installSnapshot\"),` RPC. The leader only\nsends an `,mdx(\"inlineCode\",{parentName:\"p\"},\"installSnapshot\"),` RPC if the follower is new and has no state, or if\nit's state is too old for it to catch up with the leaders logs.`),mdx(\"p\",null,mdx(\"inlineCode\",{parentName:\"p\"},\"consul.raft.fsm.lastRestoreDuration\"),` shows the time it took to restore from\neither source the last time it happened. Most of the time this is when the\nserver was started. It's a gauge that will always show the last restore duration\n(in Consul 1.10.0 and later) however long ago that was.`),mdx(\"p\",null,mdx(\"inlineCode\",{parentName:\"p\"},\"consul.raft.rpc.installSnapshot\"),` is the timing information from the leader's\nperspective when it installs a new snapshot on a follower. It includes the time\nspent transferring the data as well as the follower restoring it. Since these\nevents are typically infrequent, you may need to graph the last value observed,\nfor example using `,mdx(\"inlineCode\",{parentName:\"p\"},\"max_over_time\"),` with a large range in Prometheus. While the\nrestore part will also be reflected in `,mdx(\"inlineCode\",{parentName:\"p\"},\"lastRestoreDuration\"),`, it can be useful\nto observe this too since the logs need to be able to cover this entire\noperation including the snapshot delivery to ensure followers can always catch\nup safely.`),mdx(\"p\",null,\"Graphing \",mdx(\"inlineCode\",{parentName:\"p\"},\"consul.raft.leader.oldestLogAge\"),` on the same axes as the other two\nmetrics here can help see at a glance if restore times are creeping dangerously\nclose to the limit of what the leader is retaining at the current write rate.`),mdx(\"p\",null,`Note that if servers don't restart often, then the snapshot could have grown\nsignificantly since the last restore happened so last restore times might not\nreflect what would happen if an agent restarts now.`),mdx(\"h3\",e({},{id:\"license-expiration\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"__permalink-h\",href:\"#license-expiration\",\"aria-label\":\"license expiration permalink\"}),\"\\xBB\"),\"License Expiration \",mdx(EnterpriseAlert,{inline:!0,mdxType:\"EnterpriseAlert\"})),mdx(\"table\",null,mdx(\"thead\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"thead\"},mdx(\"th\",e({parentName:\"tr\"},{align:\"left\"}),\"Metric Name\"),mdx(\"th\",e({parentName:\"tr\"},{align:\"left\"}),\"Description\"),mdx(\"th\",e({parentName:\"tr\"},{align:\"left\"}),\"Unit\"),mdx(\"th\",e({parentName:\"tr\"},{align:\"left\"}),\"Type\"))),mdx(\"tbody\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.system.licenseExpiration\")),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"Number of hours until the Consul Enterprise license will expire.\"),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"hours\"),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"gauge\")))),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},\"Why they're important:\")),mdx(\"p\",null,`This measurement indicates how many hours are left before the Consul Enterprise license expires. When the license expires some\nConsul Enterprise features will cease to work. An example of this is that after expiration, it is no longer possible to create\nor modify resources in non-default namespaces or to manage namespace definitions themselves even though reads of namespaced\nresources will still work.`),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},\"What to look for:\")),mdx(\"p\",null,\"This metric should be monitored to ensure that the license doesn't expire to prevent degradation of functionality.\"),mdx(\"h3\",e({},{id:\"bolt-db-performance\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"__permalink-h\",href:\"#bolt-db-performance\",\"aria-label\":\"bolt db performance permalink\"}),\"\\xBB\"),\"Bolt DB Performance\"),mdx(\"table\",null,mdx(\"thead\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"thead\"},mdx(\"th\",e({parentName:\"tr\"},{align:\"left\"}),\"Metric Name\"),mdx(\"th\",e({parentName:\"tr\"},{align:\"left\"}),\"Description\"),mdx(\"th\",e({parentName:\"tr\"},{align:\"left\"}),\"Unit\"),mdx(\"th\",e({parentName:\"tr\"},{align:\"left\"}),\"Type\"))),mdx(\"tbody\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.boltdb.freelistBytes\")),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"Represents the number of bytes necessary to encode the freelist metadata. When \",mdx(\"a\",e({parentName:\"td\"},{href:\"/consul/docs/agent/config/config-files#raft_logstore_boltdb_no_freelist_sync\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"raft_logstore.boltdb.no_freelist_sync\")),\" is set to \",mdx(\"inlineCode\",{parentName:\"td\"},\"false\"),\" these metadata bytes must also be written to disk for each committed log.\"),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"bytes\"),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"gauge\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.boltdb.logsPerBatch\")),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"Measures the number of logs being written per batch to the db.\"),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"logs\"),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"sample\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.boltdb.storeLogs\")),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"Measures the amount of time spent writing logs to the db.\"),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"timer\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.boltdb.writeCapacity\")),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"Theoretical write capacity in terms of the number of logs that can be written per second. Each sample outputs what the capacity would be if future batched log write operations were similar to this one. This similarity encompasses 4 things: batch size, byte size, disk performance and boltdb performance. While none of these will be static and its highly likely individual samples of this metric will vary, aggregating this metric over a larger time window should provide a decent picture into how this BoltDB store can perform\"),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"logs/second\"),mdx(\"td\",e({parentName:\"tr\"},{align:\"left\"}),\"sample\")))),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},\" Requirements: \")),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"Consul 1.11.0+\")),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},\"Why they're important:\")),mdx(\"p\",null,\"The \",mdx(\"inlineCode\",{parentName:\"p\"},\"consul.raft.boltdb.storeLogs\"),` metric is a direct indicator of disk write performance of a Consul server. If there are issues with the disk or\nperformance degradations related to Bolt DB, these metrics will show the issue and potentially the cause as well.`),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},\"What to look for:\")),mdx(\"p\",null,\"The primary thing to look for are increases in the \",mdx(\"inlineCode\",{parentName:\"p\"},\"consul.raft.boltdb.storeLogs\"),` times. Its value will directly govern an\nupper limit to the throughput of write operations within Consul.`),mdx(\"p\",null,`In Consul each write operation will turn into a single Raft log to be committed. Raft will process these\nlogs and store them within Bolt DB in batches. Each call to store logs within Bolt DB is measured to record how long\nit took as well as how many logs were contained in the batch. Writing logs in this fashion is serialized so that\na subsequent log storage operation can only be started after the previous one completed. The maximum number\nof log storage operations that can be performed each second is represented with the `,mdx(\"inlineCode\",{parentName:\"p\"},\"consul.raft.boltdb.writeCapacity\"),`\nmetric. When log storage operations are becoming slower you may not see an immediate decrease in write capacity\ndue to increased batch sizes of the each operation. However, the max batch size allowed is 64 logs. Therefore if\nthe `,mdx(\"inlineCode\",{parentName:\"p\"},\"logsPerBatch\"),\" metric is near 64 and the \",mdx(\"inlineCode\",{parentName:\"p\"},\"storeLogs\"),` metric is seeing increased time to write each batch to disk,\nthen it is likely that increased write latencies and other errors may occur.`),mdx(\"p\",null,`There can be a number of potential issues that can cause this. Often times it could be performance of the underlying\ndisks that is the issue. Other times it may be caused by Bolt DB behavior. Bolt DB keeps track of free space within\nthe `,mdx(\"inlineCode\",{parentName:\"p\"},\"raft.db\"),` file. When needing to allocate data it will use existing free space first before further expanding the\nfile. By default, Bolt DB will write a data structure containing metadata about free pages within the DB to disk for\nevery log storage operation. Therefore if the free space within the database grows excessively large, such as after\na large spike in writes beyond the normal steady state and a subsequent slow down in the write rate, then Bolt DB\ncould end up writing a large amount of extra data to disk for each log storage operation. This has the potential\nto drastically increase disk write throughput, potentially beyond what the underlying disks can keep up with. To\ndetect this situation you can look at the `,mdx(\"inlineCode\",{parentName:\"p\"},\"consul.raft.boltdb.freelistBytes\"),` metric. This metric is a count of\nthe extra bytes that are being written for each log storage operation beyond the log data itself. While not a clear\nindicator of an actual issue, this metric can be used to diagnose why the `,mdx(\"inlineCode\",{parentName:\"p\"},\"consul.raft.boltdb.storeLogs\"),` metric\nis high.`),mdx(\"p\",null,`If Bolt DB log storage performance becomes an issue and is caused by free list management then setting\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"/consul/docs/agent/config/config-files#raft_logstore_boltdb_no_freelist_sync\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"raft_logstore.boltdb.no_freelist_sync\")),\" to \",mdx(\"inlineCode\",{parentName:\"p\"},\"true\"),` in the server's configuration\nmay help to reduce disk IO and log storage operation times. Disabling free list syncing will however increase\nthe startup time for a server as it must scan the raft.db file for free space instead of loading the already\npopulated free list structure.`),mdx(\"p\",null,\"Consul includes an experiment backend configuration that you can use instead of BoldDB. Refer to \",mdx(\"a\",e({parentName:\"p\"},{href:\"/consul/docs/agent/wal-logstore\"}),\"Experimental WAL LogStore backend\"),\" for more information.\"),mdx(\"h2\",e({},{id:\"metrics-reference\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#metrics-reference\",\"aria-label\":\"metrics reference permalink\"}),\"\\xBB\"),\"Metrics Reference\"),mdx(\"p\",null,\"This is a full list of metrics emitted by Consul.\"),mdx(\"table\",null,mdx(\"thead\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"thead\"},mdx(\"th\",e({parentName:\"tr\"},{align:null}),\"Metric\"),mdx(\"th\",e({parentName:\"tr\"},{align:null}),\"Description\"),mdx(\"th\",e({parentName:\"tr\"},{align:null}),\"Unit\"),mdx(\"th\",e({parentName:\"tr\"},{align:null}),\"Type\"))),mdx(\"tbody\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.acl.blocked.{check,service}.deregistration\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Increments whenever a deregistration fails for an entity (check or service) is blocked by an ACL.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"requests\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.acl.blocked.{check,node,service}.registration\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Increments whenever a registration fails for an entity (check, node or service) is blocked by an ACL.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"requests\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.api.http\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"This samples how long it takes to service the given HTTP request for the given verb and path. Includes labels for \",mdx(\"inlineCode\",{parentName:\"td\"},\"path\"),\" and \",mdx(\"inlineCode\",{parentName:\"td\"},\"method\"),\". \",mdx(\"inlineCode\",{parentName:\"td\"},\"path\"),\" does not include details like service or key names, for these an underscore will be present as a placeholder (eg. path=\",mdx(\"inlineCode\",{parentName:\"td\"},\"v1.kv._\"),\")\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"timer\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.client.rpc\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Increments whenever a Consul agent makes an RPC request to a Consul server. This gives a measure of how much a given agent is loading the Consul servers. Currently, this is only generated by agents in client mode, not Consul servers.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"requests\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.client.rpc.exceeded\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Increments whenever a Consul agent makes an RPC request to a Consul server gets rate limited by that agent's \",mdx(\"a\",e({parentName:\"td\"},{href:\"/consul/docs/agent/config/config-files#limits\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"limits\")),\" configuration. This gives an indication that there's an abusive application making too many requests on the agent, or that the rate limit needs to be increased. Currently, this only applies to agents in client mode, not Consul servers.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"rejected requests\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.client.rpc.failed\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Increments whenever a Consul agent makes an RPC request to a Consul server and fails.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"requests\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.client.api.catalog_register\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Increments whenever a Consul agent receives a catalog register request.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"requests\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.client.api.success.catalog_register\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Increments whenever a Consul agent successfully responds to a catalog register request.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"requests\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.client.rpc.error.catalog_register\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Increments whenever a Consul agent receives an RPC error for a catalog register request.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"errors\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.client.api.catalog_deregister\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Increments whenever a Consul agent receives a catalog deregister request.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"requests\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.client.api.success.catalog_deregister\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Increments whenever a Consul agent successfully responds to a catalog deregister request.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"requests\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.client.rpc.error.catalog_deregister\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Increments whenever a Consul agent receives an RPC error for a catalog deregister request.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"errors\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.client.api.catalog_datacenters\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Increments whenever a Consul agent receives a request to list datacenters in the catalog.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"requests\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.client.api.success.catalog_datacenters\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Increments whenever a Consul agent successfully responds to a request to list datacenters.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"requests\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.client.rpc.error.catalog_datacenters\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Increments whenever a Consul agent receives an RPC error for a request to list datacenters.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"errors\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.client.api.catalog_nodes\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Increments whenever a Consul agent receives a request to list nodes from the catalog.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"requests\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.client.api.success.catalog_nodes\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Increments whenever a Consul agent successfully responds to a request to list nodes.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"requests\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.client.rpc.error.catalog_nodes\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Increments whenever a Consul agent receives an RPC error for a request to list nodes.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"errors\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.client.api.catalog_services\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Increments whenever a Consul agent receives a request to list services from the catalog.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"requests\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.client.api.success.catalog_services\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Increments whenever a Consul agent successfully responds to a request to list services.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"requests\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.client.rpc.error.catalog_services\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Increments whenever a Consul agent receives an RPC error for a request to list services.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"errors\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.client.api.catalog_service_nodes\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Increments whenever a Consul agent receives a request to list nodes offering a service.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"requests\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.client.api.success.catalog_service_nodes\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Increments whenever a Consul agent successfully responds to a request to list nodes offering a service.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"requests\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.client.api.error.catalog_service_nodes\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Increments whenever a Consul agent receives an RPC error for request to list nodes offering a service.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"requests\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.client.rpc.error.catalog_service_nodes\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Increments whenever a Consul agent receives an RPC error for a request to list nodes offering a service.                                                                                                                                                                                                                                                                                                       \\xA0\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"errors\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.client.api.catalog_node_services\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Increments whenever a Consul agent receives a request to list services registered in a node.                                                                                                                                                                                                                                                                                                                   \\xA0\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"requests\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.client.api.success.catalog_node_services\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Increments whenever a Consul agent successfully responds to a request to list services in a node.                                                                                                                                                                                                                                                                                                              \\xA0\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"requests\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.client.rpc.error.catalog_node_services\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Increments whenever a Consul agent receives an RPC error for a request to list services in a node.                                                                                                                                                                                                                                                                                                             \\xA0\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"errors\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.client.api.catalog_node_service_list\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Increments whenever a Consul agent receives a request to list a node's registered services.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"requests\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.client.rpc.error.catalog_node_service_list\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Increments whenever a Consul agent receives an RPC error for request to list a node's registered services.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"errors\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.client.api.success.catalog_node_service_list\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Increments whenever a Consul agent successfully responds to a request to list a node's registered services.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"requests\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.client.api.catalog_gateway_services\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Increments whenever a Consul agent receives a request to list services associated with a gateway.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"requests\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.client.api.success.catalog_gateway_services\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Increments whenever a Consul agent successfully responds to a request to list services associated with a gateway.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"requests\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.client.rpc.error.catalog_gateway_services\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Increments whenever a Consul agent receives an RPC error for a request to list services associated with a gateway.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"errors\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.runtime.num_goroutines\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Tracks the number of running goroutines and is a general load pressure indicator. This may burst from time to time but should return to a steady state value.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"number of goroutines\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"gauge\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.runtime.alloc_bytes\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the number of bytes allocated by the Consul process. This may burst from time to time but should return to a steady state value.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"bytes\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"gauge\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.runtime.heap_objects\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the number of objects allocated on the heap and is a general memory pressure indicator. This may burst from time to time but should return to a steady state value.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"number of objects\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"gauge\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.state.nodes\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the current number of nodes registered with Consul. It is only emitted by Consul servers. Added in v1.9.0.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"number of objects\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"gauge\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.state.peerings\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the current number of peerings registered with Consul. It is only emitted by Consul servers. Added in v1.13.0.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"number of objects\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"gauge\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.state.services\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the current number of unique services registered with Consul, based on service name. It is only emitted by Consul servers. Added in v1.9.0.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"number of objects\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"gauge\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.state.service_instances\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the current number of unique service instances registered with Consul. It is only emitted by Consul servers. Added in v1.9.0.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"number of objects\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"gauge\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.state.kv_entries\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the current number of entries in the Consul KV store. It is only emitted by Consul servers. Added in v1.10.3.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"number of objects\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"gauge\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.state.connect_instances\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the current number of unique mesh service instances registered with Consul labeled by Kind (e.g. connect-proxy, connect-native, etc). Added in v1.10.4\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"number of objects\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"gauge\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.state.config_entries\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the current number of configuration entries registered with Consul labeled by Kind (e.g. service-defaults, proxy-defaults, etc). See \",mdx(\"a\",e({parentName:\"td\"},{href:\"/consul/docs/connect/config-entries\"}),\"Configuration Entries\"),\" for more information. Added in v1.10.4\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"number of objects\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"gauge\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.members.clients\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the current number of client agents registered with Consul. It is only emitted by Consul servers. Added in v1.9.6.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"number of clients\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"gauge\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.members.servers\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the current number of server agents registered with Consul. It is only emitted by Consul servers. Added in v1.9.6.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"number of servers\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"gauge\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.dns.stale_queries\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Increments when an agent serves a query within the allowed stale threshold.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"queries\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.dns.ptr_query\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the time spent handling a reverse DNS query for the given node.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"timer\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.dns.domain_query\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the time spent handling a domain query for the given node.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"timer\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.system.licenseExpiration\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(EnterpriseAlert,{inline:!0,mdxType:\"EnterpriseAlert\"}),\" This measures the number of hours remaining on the agents license.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"hours\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"gauge\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.version\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Represents the Consul version.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"agents\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"gauge\")))),mdx(\"h2\",e({},{id:\"server-health\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#server-health\",\"aria-label\":\"server health permalink\"}),\"\\xBB\"),\"Server Health\"),mdx(\"p\",null,\"These metrics are used to monitor the health of the Consul servers.\"),mdx(\"table\",null,mdx(\"thead\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"thead\"},mdx(\"th\",e({parentName:\"tr\"},{align:null}),\"Metric\"),mdx(\"th\",e({parentName:\"tr\"},{align:null}),\"Description\"),mdx(\"th\",e({parentName:\"tr\"},{align:null}),\"Unit\"),mdx(\"th\",e({parentName:\"tr\"},{align:null}),\"Type\"))),mdx(\"tbody\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.acl.ResolveToken\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the time it takes to resolve an ACL token.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"timer\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.acl.ResolveTokenToIdentity\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the time it takes to resolve an ACL token to an Identity. This metric was removed in Consul 1.12. The time will now be reflected in \",mdx(\"inlineCode\",{parentName:\"td\"},\"consul.acl.ResolveToken\"),\".\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"timer\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.acl.token.cache_hit\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Increments if Consul is able to resolve a token's identity from the cache.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"cache read op\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.acl.token.cache_miss\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Increments if Consul cannot resolve a token's identity from the cache.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"cache read op\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.cache.bypass\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Counts how many times a request bypassed the cache because no cache-key was provided.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.cache.fetch_success\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Counts the number of successful fetches by the cache.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.cache.fetch_error\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Counts the number of failed fetches by the cache.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.cache.evict_expired\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Counts the number of expired entries that are evicted.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.applied_index\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Represents the raft applied index.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"index\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"gauge\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.apply\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Counts the number of Raft transactions occurring over the interval, which is a general indicator of the write load on the Consul servers.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"raft transactions / interval\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.barrier\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Counts the number of times the agent has started the barrier i.e the number of times it has issued a blocking call, to ensure that the agent has all the pending operations that were queued, to be applied to the agent's FSM.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"blocks / interval\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.boltdb.freelistBytes\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Represents the number of bytes necessary to encode the freelist metadata. When \",mdx(\"a\",e({parentName:\"td\"},{href:\"/consul/docs/agent/config/config-files#raft_logstore_boltdb_no_freelist_sync\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"raft_logstore.boltdb.no_freelist_sync\")),\" is set to \",mdx(\"inlineCode\",{parentName:\"td\"},\"false\"),\" these metadata bytes must also be written to disk for each committed log.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"bytes\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"gauge\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.boltdb.freePageBytes\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Represents the number of bytes of free space within the raft.db file.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"bytes\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"gauge\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.boltdb.getLog\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the amount of time spent reading logs from the db.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"timer\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.boltdb.logBatchSize\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the total size in bytes of logs being written to the db in a single batch.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"bytes\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"sample\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.boltdb.logsPerBatch\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the number of logs being written per batch to the db.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"logs\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"sample\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.boltdb.logSize\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the size of logs being written to the db.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"bytes\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"sample\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.boltdb.numFreePages\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Represents the number of free pages within the raft.db file.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"pages\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"gauge\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.boltdb.numPendingPages\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Represents the number of pending pages within the raft.db that will soon become free.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"pages\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"gauge\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.boltdb.openReadTxn\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Represents the number of open read transactions against the db\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"transactions\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"gauge\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.boltdb.totalReadTxn\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Represents the total number of started read transactions against the db\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"transactions\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"gauge\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.boltdb.storeLogs\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the amount of time spent writing logs to the db.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"timer\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.boltdb.txstats.cursorCount\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Counts the number of cursors created since Consul was started.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"cursors\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.boltdb.txstats.nodeCount\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Counts the number of node allocations within the db since Consul was started.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"allocations\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.boltdb.txstats.nodeDeref\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Counts the number of node dereferences in the db since Consul was started.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"dereferences\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.boltdb.txstats.pageAlloc\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Represents the number of bytes allocated within the db since Consul was started. Note that this does not take into account space having been freed and reused. In that case, the value of this metric will still increase.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"bytes\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"gauge\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.boltdb.txstats.pageCount\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Represents the number of pages allocated since Consul was started. Note that this does not take into account space having been freed and reused. In that case, the value of this metric will still increase.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"pages\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"gauge\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.boltdb.txstats.rebalance\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Counts the number of node rebalances performed in the db since Consul was started.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"rebalances\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.boltdb.txstats.rebalanceTime\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the time spent rebalancing nodes in the db.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"timer\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.boltdb.txstats.spill\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Counts the number of nodes spilled in the db since Consul was started.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"spills\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.boltdb.txstats.spillTime\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the time spent spilling nodes in the db.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"timer\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.boltdb.txstats.split\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Counts the number of nodes split in the db since Consul was started.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"splits\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.boltdb.txstats.write\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Counts the number of writes to the db since Consul was started.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"writes\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.boltdb.txstats.writeTime\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the amount of time spent performing writes to the db.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"timer\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.boltdb.writeCapacity\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Theoretical write capacity in terms of the number of logs that can be written per second. Each sample outputs what the capacity would be if future batched log write operations were similar to this one. This similarity encompasses 4 things: batch size, byte size, disk performance and boltdb performance. While none of these will be static and its highly likely individual samples of this metric will vary, aggregating this metric over a larger time window should provide a decent picture into how this BoltDB store can perform\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"logs/second\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"sample\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.commitNumLogs\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the count of logs processed for application to the FSM in a single batch.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"logs\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"gauge\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.commitTime\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the time it takes to commit a new entry to the Raft log on the leader.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"timer\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.fsm.lastRestoreDuration\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the time taken to restore the FSM from a snapshot on an agent restart or from the leader calling installSnapshot. This is a gauge that holds it's value since most servers only restore during restarts which are typically infrequent.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"gauge\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.fsm.snapshot\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the time taken by the FSM to record the current state for the snapshot.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"timer\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.fsm.apply\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the time to apply a log to the FSM.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"timer\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.fsm.enqueue\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the amount of time to enqueue a batch of logs for the FSM to apply.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"timer\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.fsm.restore\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the time taken by the FSM to restore its state from a snapshot.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"timer\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.last_index\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Represents the raft applied index.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"index\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"gauge\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.leader.dispatchLog\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the time it takes for the leader to write log entries to disk.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"timer\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.leader.dispatchNumLogs\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the number of logs committed to disk in a batch.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"logs\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"gauge\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.logstore.verifier.checkpoints_written\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Counts the number of checkpoint entries written to the LogStore.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"checkpoints\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.logstore.verifier.dropped_reports\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Counts how many times the verifier routine was still busy when the next checksum came in and so verification for a range was skipped. If you see this happen, consider increasing the interval between checkpoints with \",mdx(\"a\",e({parentName:\"td\"},{href:\"/consul/docs/agent/config/config-files#raft_logstore_verification\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"raft_logstore.verification.interval\"))),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"reports dropped\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.logstore.verifier.ranges_verified\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Counts the number of log ranges for which a verification report has been completed. Refer to \",mdx(\"a\",e({parentName:\"td\"},{href:\"/consul/docs/agent/wal-logstore/monitoring\"}),\"Monitor Raft metrics and logs for WAL\"),\" for more information.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"log ranges verifications\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.logstore.verifier.read_checksum_failures\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Counts the number of times a range of logs between two check points contained at least one disk corruption. Refer to \",mdx(\"a\",e({parentName:\"td\"},{href:\"/consul/docs/agent/wal-logstore/monitoring\"}),\"Monitor Raft metrics and logs for WAL\"),\" for more information.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"disk corruptions\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.logstore.verifier.write_checksum_failures\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Counts the number of times a follower has a different checksum to the leader at the point where it writes to the log. This could be caused by either a disk-corruption on the leader (unlikely) or some other corruption of the log entries in-flight.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"in-flight corruptions\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.leader.lastContact\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the time since the leader was last able to contact the follower nodes when checking its leader lease. It can be used as a measure for how stable the Raft timing is and how close the leader is to timing out its lease.The lease timeout is 500 ms times the \",mdx(\"a\",e({parentName:\"td\"},{href:\"/consul/docs/agent/config/config-files#raft_multiplier\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"raft_multiplier\"),\" configuration\"),\", so this telemetry value should not be getting close to that configured value, otherwise the Raft timing is marginal and might need to be tuned, or more powerful servers might be needed. See the \",mdx(\"a\",e({parentName:\"td\"},{href:\"/consul/docs/install/performance\"}),\"Server Performance\"),\" guide for more details.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"timer\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.leader.oldestLogAge\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"The number of milliseconds since the \",mdx(\"em\",{parentName:\"td\"},\"oldest\"),\" log in the leader's log store was written. This can be important for replication health where write rate is high and the snapshot is large as followers may be unable to recover from a restart if restoring takes longer than the minimum value for the current leader. Compare this with \",mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.fsm.lastRestoreDuration\"),\" and \",mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.rpc.installSnapshot\"),\" to monitor. In normal usage this gauge value will grow linearly over time until a snapshot completes on the leader and the log is truncated. Note: this metric won't be emitted until the leader writes a snapshot. After an upgrade to Consul 1.10.0 it won't be emitted until the oldest log was written after the upgrade.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"gauge\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.replication.heartbeat\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the time taken to invoke appendEntries on a peer, so that it doesn't timeout on a periodic basis.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"timer\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.replication.appendEntries\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the time it takes to replicate log entries to followers. This is a general indicator of the load pressure on the Consul servers, as well as the performance of the communication between the servers.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"timer\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.replication.appendEntries.rpc\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the time taken by the append entries RPC to replicate the log entries of a leader agent onto its follower agent(s).\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"timer\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.replication.appendEntries.logs\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Counts the number of logs replicated to an agent to bring it up to speed with the leader's logs.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"logs appended/ interval\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.restore\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Counts the number of times the restore operation has been performed by the agent. Here, restore refers to the action of raft consuming an external snapshot to restore its state.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"operation invoked / interval\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.restoreUserSnapshot\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the time taken by the agent to restore the FSM state from a user's snapshot\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"timer\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.rpc.appendEntries\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the time taken to process an append entries RPC call from an agent.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"timer\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.rpc.appendEntries.storeLogs\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the time taken to add any outstanding logs for an agent, since the last appendEntries was invoked\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"timer\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.rpc.appendEntries.processLogs\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the time taken to process the outstanding log entries of an agent.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"timer\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.rpc.installSnapshot\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the time taken to process the installSnapshot RPC call. This metric should only be seen on agents which are currently in the follower state.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"timer\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.rpc.processHeartBeat\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the time taken to process a heartbeat request.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"timer\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.rpc.requestVote\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the time taken to process the request vote RPC call.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"timer\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.snapshot.create\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the time taken to initialize the snapshot process.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"timer\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.snapshot.persist\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the time taken to dump the current snapshot taken by the Consul agent to the disk.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"timer\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.snapshot.takeSnapshot\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the total time involved in taking the current snapshot (creating one and persisting it) by the Consul agent.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"timer\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.serf.snapshot.appendLine\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the time taken by the Consul agent to append an entry into the existing log.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"timer\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.serf.snapshot.compact\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the time taken by the Consul agent to compact a log. This operation occurs only when the snapshot becomes large enough to justify the compaction .\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"timer\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.state.candidate\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Increments whenever a Consul server starts an election. If this increments without a leadership change occurring it could indicate that a single server is overloaded or is experiencing network connectivity issues.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"election attempts / interval\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.state.leader\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Increments whenever a Consul server becomes a leader. If there are frequent leadership changes this may be indication that the servers are overloaded and aren't meeting the soft real-time requirements for Raft, or that there are networking problems between the servers.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"leadership transitions / interval\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.state.follower\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Counts the number of times an agent has entered the follower mode. This happens when a new agent joins the cluster or after the end of a leader election.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"follower state entered / interval\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.transition.heartbeat_timeout\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"The number of times an agent has transitioned to the Candidate state, after receive no heartbeat messages from the last known leader.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"timeouts / interval\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.verify_leader\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"This metric doesn't have a direct correlation to the leader change.  It just counts the number of times an agent checks if it is still the leader or not.  For example, during every consistent read, the check is done.  Depending on the load in the system, this metric count can be high as it is incremented each time a consistent read is completed.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"checks / interval\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.wal.head_truncations\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Counts how many log entries have been truncated from the head - i.e. the oldest entries. by graphing the rate of change over time you can see individual truncate calls as spikes.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"logs entries truncated\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.wal.last_segment_age_seconds\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"A gauge that is set each time we rotate a segment and describes the number of seconds between when that segment file was first created and when it was sealed. this gives a rough estimate how quickly writes are filling the disk.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"seconds\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"gauge\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.wal.log_appends\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Counts the number of calls to StoreLog(s) i.e. number of batches of entries appended.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"calls\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.wal.log_entries_read\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Counts the number of log entries read.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"log entries read\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.wal.log_entries_written\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Counts the number of log entries written.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"log entries written\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.wal.log_entry_bytes_read\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Counts the bytes of log entry read from segments before decoding. actual bytes read from disk might be higher as it includes headers and index entries and possible secondary reads for large entries that don't fit in buffers.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"bytes\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.wal.log_entry_bytes_written\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Counts the bytes of log entry after encoding with Codec. Actual bytes written to disk might be slightly higher as it includes headers and index entries.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"bytes\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.wal.segment_rotations\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Counts how many times we move to a new segment file.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"rotations\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.wal.stable_gets\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Counts how many calls to StableStore.Get or GetUint64.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"calls\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.wal.stable_sets\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Counts how many calls to StableStore.Set or SetUint64.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"calls\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.raft.wal.tail_truncations\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Counts how many log entries have been truncated from the head - i.e. the newest entries. by graphing the rate of change over time you can see individual truncate calls as spikes.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"logs entries truncated\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.rpc.accept_conn\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Increments when a server accepts an RPC connection.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"connections\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.rpc.rate_limit.exceeded\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Increments whenever an RPC is over a configured rate limit. In permissive mode, the RPC is still allowed to proceed.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"RPCs\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.rpc.rate_limit.log_dropped\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Increments whenever a log that is emitted because an RPC exceeded a rate limit gets dropped because the output buffer is full.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"log messages dropped\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.catalog.register\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the time it takes to complete a catalog register operation.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"timer\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.catalog.deregister\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the time it takes to complete a catalog deregister operation.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"timer\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.server.isLeader\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Track if a server is a leader(1) or not(0)\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"1 or 0\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"gauge\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.fsm.register\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the time it takes to apply a catalog register operation to the FSM.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"timer\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.fsm.deregister\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the time it takes to apply a catalog deregister operation to the FSM.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"timer\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.fsm.session\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the time it takes to apply the given session operation to the FSM.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"timer\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.fsm.kvs\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the time it takes to apply the given KV operation to the FSM.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"timer\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.fsm.tombstone\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the time it takes to apply the given tombstone operation to the FSM.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"timer\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.fsm.coordinate.batch-update\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the time it takes to apply the given batch coordinate update to the FSM.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"timer\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.fsm.prepared-query\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the time it takes to apply the given prepared query update operation to the FSM.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"timer\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.fsm.txn\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the time it takes to apply the given transaction update to the FSM.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"timer\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.fsm.autopilot\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the time it takes to apply the given autopilot update to the FSM.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"timer\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.fsm.persist\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the time it takes to persist the FSM to a raft snapshot.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"timer\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.fsm.intention\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the time it takes to apply an intention operation to the state store.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"timer\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.fsm.ca\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the time it takes to apply CA configuration operations to the FSM.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"timer\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.fsm.ca.leaf\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the time it takes to apply an operation while signing a leaf certificate.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"timer\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.fsm.acl.token\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the time it takes to apply an ACL token operation to the FSM.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"timer\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.fsm.acl.policy\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the time it takes to apply an ACL policy operation to the FSM.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"timer\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.fsm.acl.bindingrule\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the time it takes to apply an ACL binding rule operation to the FSM.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"timer\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.fsm.acl.authmethod\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the time it takes to apply an ACL authmethod operation to the FSM.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"timer\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.fsm.system_metadata\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the time it takes to apply a system metadata operation to the FSM.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"timer\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.kvs.apply\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the time it takes to complete an update to the KV store.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"timer\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.leader.barrier\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the time spent waiting for the raft barrier upon gaining leadership.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"timer\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.leader.reconcile\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the time spent updating the raft store from the serf member information.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"timer\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.leader.reconcileMember\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the time spent updating the raft store for a single serf member's information.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"timer\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.leader.reapTombstones\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the time spent clearing tombstones.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"timer\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.leader.replication.acl-policies.status\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"This will only be emitted by the leader in a secondary datacenter. The value will be a 1 if the last round of ACL policy replication was successful or 0 if there was an error.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"healthy\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"gauge\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.leader.replication.acl-policies.index\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"This will only be emitted by the leader in a secondary datacenter. Increments to the index of ACL policies in the primary datacenter that have been successfully replicated.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"index\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"gauge\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.leader.replication.acl-roles.status\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"This will only be emitted by the leader in a secondary datacenter. The value will be a 1 if the last round of ACL role replication was successful or 0 if there was an error.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"healthy\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"gauge\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.leader.replication.acl-roles.index\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"This will only be emitted by the leader in a secondary datacenter. Increments to the index of ACL roles in the primary datacenter that have been successfully replicated.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"index\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"gauge\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.leader.replication.acl-tokens.status\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"This will only be emitted by the leader in a secondary datacenter. The value will be a 1 if the last round of ACL token replication was successful or 0 if there was an error.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"healthy\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"gauge\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.leader.replication.acl-tokens.index\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"This will only be emitted by the leader in a secondary datacenter. Increments to the index of ACL tokens in the primary datacenter that have been successfully replicated.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"index\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"gauge\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.leader.replication.config-entries.status\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"This will only be emitted by the leader in a secondary datacenter. The value will be a 1 if the last round of config entry replication was successful or 0 if there was an error.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"healthy\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"gauge\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.leader.replication.config-entries.index\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"This will only be emitted by the leader in a secondary datacenter. Increments to the index of config entries in the primary datacenter that have been successfully replicated.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"index\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"gauge\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.leader.replication.federation-state.status\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"This will only be emitted by the leader in a secondary datacenter. The value will be a 1 if the last round of federation state replication was successful or 0 if there was an error.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"healthy\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"gauge\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.leader.replication.federation-state.index\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"This will only be emitted by the leader in a secondary datacenter. Increments to the index of federation states in the primary datacenter that have been successfully replicated.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"index\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"gauge\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.leader.replication.namespaces.status\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(EnterpriseAlert,{inline:!0,mdxType:\"EnterpriseAlert\"}),\" This will only be emitted by the leader in a secondary datacenter. The value will be a 1 if the last round of namespace replication was successful or 0 if there was an error.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"healthy\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"gauge\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.leader.replication.namespaces.index\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(EnterpriseAlert,{inline:!0,mdxType:\"EnterpriseAlert\"}),\" This will only be emitted by the leader in a secondary datacenter. Increments to the index of namespaces in the primary datacenter that have been successfully replicated.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"index\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"gauge\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.prepared-query.apply\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the time it takes to apply a prepared query update.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"timer\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.prepared-query.execute_remote\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the time it takes to process a prepared query execute request that was forwarded to another datacenter.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"timer\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.prepared-query.execute\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the time it takes to process a prepared query execute request.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"timer\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.prepared-query.explain\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the time it takes to process a prepared query explain request.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"timer\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.rpc.raft_handoff\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Increments when a server accepts a Raft-related RPC connection.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"connections\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.rpc.request\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Increments when a server receives a Consul-related RPC request.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"requests\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.rpc.request_error\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Increments when a server returns an error from an RPC request.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"errors\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.rpc.query\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Increments when a server receives a read RPC request, indicating the rate of new read queries. See consul.rpc.queries_blocking for the current number of in-flight blocking RPC calls. This metric changed in 1.7.0 to only increment on the start of a query. The rate of queries will appear lower, but is more accurate.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"queries\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.rpc.queries_blocking\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"The current number of in-flight blocking queries the server is handling.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"queries\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"gauge\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.rpc.cross-dc\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Increments when a server sends a (potentially blocking) cross datacenter RPC query.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"queries\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.rpc.consistentRead\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the time spent confirming that a consistent read can be performed.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"timer\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.session.apply\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the time spent applying a session update.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"timer\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.session.renew\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the time spent renewing a session.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"timer\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.session_ttl.invalidate\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the time spent invalidating an expired session.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"timer\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.txn.apply\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the time spent applying a transaction operation.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"timer\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.txn.read\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the time spent returning a read transaction.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"timer\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.grpc.client.request.count\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Counts the number of gRPC requests made by the client agent to a Consul server. Includes a \",mdx(\"inlineCode\",{parentName:\"td\"},\"server_type\"),\" label indicating either the \",mdx(\"inlineCode\",{parentName:\"td\"},\"internal\"),\" or \",mdx(\"inlineCode\",{parentName:\"td\"},\"external\"),\" gRPC server.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"requests\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.grpc.client.connection.count\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Counts the number of new gRPC connections opened by the client agent to a Consul server. Includes a \",mdx(\"inlineCode\",{parentName:\"td\"},\"server_type\"),\" label indicating either the \",mdx(\"inlineCode\",{parentName:\"td\"},\"internal\"),\" or \",mdx(\"inlineCode\",{parentName:\"td\"},\"external\"),\" gRPC server.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"connections\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.grpc.client.connections\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the number of active gRPC connections open from the client agent to any Consul servers. Includes a \",mdx(\"inlineCode\",{parentName:\"td\"},\"server_type\"),\" label indicating either the \",mdx(\"inlineCode\",{parentName:\"td\"},\"internal\"),\" or \",mdx(\"inlineCode\",{parentName:\"td\"},\"external\"),\" gRPC server.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"connections\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"gauge\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.grpc.server.request.count\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Counts the number of gRPC requests received by the server. Includes a \",mdx(\"inlineCode\",{parentName:\"td\"},\"server_type\"),\" label indicating either the \",mdx(\"inlineCode\",{parentName:\"td\"},\"internal\"),\" or \",mdx(\"inlineCode\",{parentName:\"td\"},\"external\"),\" gRPC server.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"requests\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.grpc.server.connection.count\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Counts the number of new gRPC connections received by the server. Includes a \",mdx(\"inlineCode\",{parentName:\"td\"},\"server_type\"),\" label indicating either the \",mdx(\"inlineCode\",{parentName:\"td\"},\"internal\"),\" or \",mdx(\"inlineCode\",{parentName:\"td\"},\"external\"),\" gRPC server.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"connections\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.grpc.server.connections\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the number of active gRPC connections open on the server. Includes a \",mdx(\"inlineCode\",{parentName:\"td\"},\"server_type\"),\" label indicating either the \",mdx(\"inlineCode\",{parentName:\"td\"},\"internal\"),\" or \",mdx(\"inlineCode\",{parentName:\"td\"},\"external\"),\" gRPC server.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"connections\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"gauge\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.grpc.server.stream.count\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Counts the number of new gRPC streams received by the server. Includes a \",mdx(\"inlineCode\",{parentName:\"td\"},\"server_type\"),\" label indicating either the \",mdx(\"inlineCode\",{parentName:\"td\"},\"internal\"),\" or \",mdx(\"inlineCode\",{parentName:\"td\"},\"external\"),\" gRPC server.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"streams\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.grpc.server.streams\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the number of active gRPC streams handled by the server. Includes a \",mdx(\"inlineCode\",{parentName:\"td\"},\"server_type\"),\" label indicating either the \",mdx(\"inlineCode\",{parentName:\"td\"},\"internal\"),\" or \",mdx(\"inlineCode\",{parentName:\"td\"},\"external\"),\" gRPC server.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"streams\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"gauge\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.xds.server.streams\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the number of active xDS streams handled by the server split by protocol version.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"streams\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"gauge\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.xds.server.streamsUnauthenticated\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the number of active xDS streams handled by the server that are unauthenticated because ACLs are not enabled or ACL tokens were missing.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"streams\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"gauge\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.xds.server.idealStreamsMax\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"The maximum number of xDS streams per server, chosen to achieve a roughly even spread of load across servers.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"streams\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"gauge\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.xds.server.streamDrained\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Counts the number of xDS streams that are drained when rebalancing the load between servers.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"streams\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.xds.server.streamStart\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the time taken to first generate xDS resources after an xDS stream is opened.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"timer\")))),mdx(\"h2\",e({},{id:\"server-workload\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#server-workload\",\"aria-label\":\"server workload permalink\"}),\"\\xBB\"),\"Server Workload\"),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},\" Requirements: \")),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"Consul 1.12.0+\")),mdx(\"p\",null,\"The following label-based RPC metrics provide insight about the workload on a Consul server and the source of the workload.\"),mdx(\"p\",null,\"The \",mdx(\"a\",e({parentName:\"p\"},{href:\"/consul/docs/agent/config/config-files#telemetry-prefix_filter\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"prefix_filter\")),\" telemetry configuration setting blocks or enables all RPC metric method calls. Specify the RPC metrics you want to allow in the \",mdx(\"inlineCode\",{parentName:\"p\"},\"prefix_filter\"),\":\"),mdx(CodeTabs,{heading:\"Example prefix_filter allowing all RPC metrics\",mdxType:\"CodeTabs\"},mdx(\"pre\",e({},{className:\"language-hcl\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-hcl\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token keyword\"}),\"telemetry\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),\"prefix_filter\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"=\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"+consul.rpc.server.call\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`)),mdx(\"pre\",e({},{className:\"language-json\"}),mdx(\"code\",e({parentName:\"pre\"},{className:\"language-json\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"telemetry\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"{\"),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token property\"}),'\"prefix_filter\"'),mdx(\"span\",e({parentName:\"code\"},{className:\"token operator\"}),\":\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"[\"),`\n`,\"      \",mdx(\"span\",e({parentName:\"code\"},{className:\"token string\"}),'\"+consul.rpc.server.call\"'),`\n`,\"    \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"]\"),`\n`,\"  \",mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"token punctuation\"}),\"}\"),`\n`))),mdx(\"table\",null,mdx(\"thead\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"thead\"},mdx(\"th\",e({parentName:\"tr\"},{align:null}),\"Metric\"),mdx(\"th\",e({parentName:\"tr\"},{align:null}),\"Description\"),mdx(\"th\",e({parentName:\"tr\"},{align:null}),\"Unit\"),mdx(\"th\",e({parentName:\"tr\"},{align:null}),\"Type\"))),mdx(\"tbody\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.rpc.server.call\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the elapsed time taken to complete an RPC call.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"summary\")))),mdx(\"h3\",e({},{id:\"labels\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"__permalink-h\",href:\"#labels\",\"aria-label\":\"labels permalink\"}),\"\\xBB\"),\"Labels\"),mdx(\"p\",null,\"The server workload metrics above come with the following labels:\"),mdx(\"table\",null,mdx(\"thead\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"thead\"},mdx(\"th\",e({parentName:\"tr\"},{align:null}),\"Label Name\"),mdx(\"th\",e({parentName:\"tr\"},{align:null}),\"Description\"),mdx(\"th\",e({parentName:\"tr\"},{align:null}),\"Possible values\"))),mdx(\"tbody\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"method\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"The name of the RPC method.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"The value of any RPC request in Consul.\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"errored\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Indicates whether the RPC call errored.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"true\"),\" or \",mdx(\"inlineCode\",{parentName:\"td\"},\"false\"),\".\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"request_type\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Whether it is a \",mdx(\"inlineCode\",{parentName:\"td\"},\"read\"),\" or \",mdx(\"inlineCode\",{parentName:\"td\"},\"write\"),\" request.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"read\"),\", \",mdx(\"inlineCode\",{parentName:\"td\"},\"write\"),\" or \",mdx(\"inlineCode\",{parentName:\"td\"},\"unreported\"),\".\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"rpc_type\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"The RPC implementation.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"net/rpc\"),\" or \",mdx(\"inlineCode\",{parentName:\"td\"},\"internal\"),\".\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"leader\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Whether the server was a \",mdx(\"inlineCode\",{parentName:\"td\"},\"leader\"),\" or not at the time of the request.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"true\"),\", \",mdx(\"inlineCode\",{parentName:\"td\"},\"false\"),\" or \",mdx(\"inlineCode\",{parentName:\"td\"},\"unreported\"),\".\")))),mdx(\"h4\",e({},{id:\"label-explanations\"}),mdx(\"a\",e({parentName:\"h4\"},{className:\"__permalink-h\",href:\"#label-explanations\",\"aria-label\":\"label explanations permalink\"}),\"\\xBB\"),\"Label Explanations\"),mdx(\"p\",null,\"The \",mdx(\"inlineCode\",{parentName:\"p\"},\"internal\"),\" value for the \",mdx(\"inlineCode\",{parentName:\"p\"},\"rpc_type\"),` in the table above refers to leader and cluster management RPC operations that Consul performs.\nHistorically, `,mdx(\"inlineCode\",{parentName:\"p\"},\"internal\"),\" RPC operation metrics were accounted under the same metric names.\"),mdx(\"p\",null,\"The \",mdx(\"inlineCode\",{parentName:\"p\"},\"unreported\"),\" value for the \",mdx(\"inlineCode\",{parentName:\"p\"},\"request_type\"),\" in the table above refers to RPC requests within Consul where it is difficult to ascertain whether a request is \",mdx(\"inlineCode\",{parentName:\"p\"},\"read\"),\" or \",mdx(\"inlineCode\",{parentName:\"p\"},\"write\"),\" type.\"),mdx(\"p\",null,\"The \",mdx(\"inlineCode\",{parentName:\"p\"},\"unreported\"),\" value for the \",mdx(\"inlineCode\",{parentName:\"p\"},\"leader\"),\" label in the table above refers to RPC requests where Consul cannot determine the leadership status for a server.\"),mdx(\"h4\",e({},{id:\"read-request-labels\"}),mdx(\"a\",e({parentName:\"h4\"},{className:\"__permalink-h\",href:\"#read-request-labels\",\"aria-label\":\"read request labels permalink\"}),\"\\xBB\"),\"Read Request Labels\"),mdx(\"p\",null,\"In addition to the labels above, for read requests, the following may be populated:\"),mdx(\"table\",null,mdx(\"thead\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"thead\"},mdx(\"th\",e({parentName:\"tr\"},{align:null}),\"Label Name\"),mdx(\"th\",e({parentName:\"tr\"},{align:null}),\"Description\"),mdx(\"th\",e({parentName:\"tr\"},{align:null}),\"Possible values\"))),mdx(\"tbody\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"blocking\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Whether the read request passed in a \",mdx(\"inlineCode\",{parentName:\"td\"},\"MinQueryIndex\"),\".\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"true\"),\" if a MinQueryIndex was passed, \",mdx(\"inlineCode\",{parentName:\"td\"},\"false\"),\" otherwise.\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"target_datacenter\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"The target datacenter for the read request.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"The string value of the target datacenter for the request.\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"locality\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Gives an indication of whether the RPC request is local or has been forwarded.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"local\"),\" if current server data center is the same as \",mdx(\"inlineCode\",{parentName:\"td\"},\"target_datacenter\"),\", otherwise \",mdx(\"inlineCode\",{parentName:\"td\"},\"forwarded\"),\".\")))),mdx(\"p\",null,\"Here is a Prometheus style example of an RPC metric and its labels:\"),mdx(CodeBlockConfig,{heading:\"Sample output of telemetry dump\",mdxType:\"CodeBlockConfig\"},mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),\"    ...\",`\n`,'    consul_rpc_server_call{errored=\"false\",method=\"Catalog.ListNodes\",request_type=\"read\",rpc_type=\"net/rpc\",quantile=\"0.5\"} 255',`\n`,\"    ...\",`\n`))),mdx(\"h2\",e({},{id:\"cluster-health\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#cluster-health\",\"aria-label\":\"cluster health permalink\"}),\"\\xBB\"),\"Cluster Health\"),mdx(\"p\",null,`These metrics give insight into the health of the cluster as a whole.\nQuery for the `,mdx(\"inlineCode\",{parentName:\"p\"},\"consul.memberlist.*\"),\" and \",mdx(\"inlineCode\",{parentName:\"p\"},\"consul.serf.*\"),` metrics can be appended\nwith certain labels to further distinguish data between different gossip pools.\nThe supported label for CE is `,mdx(\"inlineCode\",{parentName:\"p\"},\"network\"),\", while \",mdx(\"inlineCode\",{parentName:\"p\"},\"segment\"),\", \",mdx(\"inlineCode\",{parentName:\"p\"},\"partition\"),\", \",mdx(\"inlineCode\",{parentName:\"p\"},\"area\"),`\nare allowed for `,mdx(EnterpriseAlert,{inline:!0,mdxType:\"EnterpriseAlert\"}),\".\"),mdx(\"table\",null,mdx(\"thead\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"thead\"},mdx(\"th\",e({parentName:\"tr\"},{align:null}),\"Metric\"),mdx(\"th\",e({parentName:\"tr\"},{align:null}),\"Description\"),mdx(\"th\",e({parentName:\"tr\"},{align:null}),\"Unit\"),mdx(\"th\",e({parentName:\"tr\"},{align:null}),\"Type\"))),mdx(\"tbody\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.memberlist.degraded.probe\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Counts the number of times the agent has performed failure detection on another agent at a slower probe rate. The agent uses its own health metric as an indicator to perform this action. (If its health score is low, means that the node is healthy, and vice versa.)\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"probes / interval\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.memberlist.degraded.timeout\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Counts the number of times an agent was marked as a dead node, whilst not getting enough confirmations from a randomly selected list of agent nodes in an agent's membership.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"occurrence / interval\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.memberlist.msg.dead\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Counts the number of times an agent has marked another agent to be a dead node.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"messages / interval\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.memberlist.health.score\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),`Describes a node's perception of its own health based on how well it is meeting the soft real-time requirements of the protocol. This metric ranges from 0 to 8, where 0 indicates \"totally healthy\". This health score is used to scale the time between outgoing probes, and higher scores translate into longer probing intervals. For more details see section IV of the Lifeguard paper: `,mdx(\"a\",e({parentName:\"td\"},{href:\"https://arxiv.org/pdf/1707.00788.pdf\"}),\"https://arxiv.org/pdf/1707.00788.pdf\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"score\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"gauge\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.memberlist.msg.suspect\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Increments when an agent suspects another as failed when executing random probes as part of the gossip protocol. These can be an indicator of overloaded agents, network problems, or configuration errors where agents can not connect to each other on the \",mdx(\"a\",e({parentName:\"td\"},{href:\"/consul/docs/agent/config/config-files#ports\"}),\"required ports\"),\".\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"suspect messages received / interval\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.memberlist.tcp.accept\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Counts the number of times an agent has accepted an incoming TCP stream connection.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"connections accepted / interval\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.memberlist.udp.sent/received\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the total number of bytes sent/received by an agent through the UDP protocol.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"bytes sent or bytes received / interval\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.memberlist.tcp.connect\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Counts the number of times an agent has initiated a push/pull sync with an other agent.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"push/pull initiated / interval\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.memberlist.tcp.sent\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the total number of bytes sent by an agent through the TCP protocol\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"bytes sent / interval\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.memberlist.gossip\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the time taken for gossip messages to be broadcasted to a set of randomly selected nodes.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"ms\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"timer\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.memberlist.msg_alive\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Counts the number of alive messages, that the agent has processed so far, based on the message information given by the network layer.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"messages / Interval\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.memberlist.msg_dead\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"The number of dead messages that the agent has processed so far, based on the message information given by the network layer.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"messages / Interval\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.memberlist.msg_suspect\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"The number of suspect messages that the agent has processed so far, based on the message information given by the network layer.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"messages / Interval\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.memberlist.node.instances\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Tracks the number of instances in each of the node states: alive, dead, suspect, and left.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"nodes\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"gauge\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.memberlist.probeNode\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the time taken to perform a single round of failure detection on a select agent.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"nodes / Interval\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.memberlist.pushPullNode\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the number of agents that have exchanged state with this agent.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"nodes / Interval\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.memberlist.queue.broadcasts\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the number of messages waiting to be broadcast to other gossip participants.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"messages\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"sample\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.memberlist.size.local\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the size in bytes of the memberlist before it is sent to another gossip recipient.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"bytes\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"gauge\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.memberlist.size.remote\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Measures the size in bytes of incoming memberlists from other gossip participants.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"bytes\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"gauge\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.serf.member.failed\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Increments when an agent is marked dead. This can be an indicator of overloaded agents, network problems, or configuration errors where agents cannot connect to each other on the \",mdx(\"a\",e({parentName:\"td\"},{href:\"/consul/docs/agent/config/config-files#ports\"}),\"required ports\"),\".\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"failures / interval\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.serf.member.flap\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Available in Consul 0.7 and later, this increments when an agent is marked dead and then recovers within a short time period. This can be an indicator of overloaded agents, network problems, or configuration errors where agents cannot connect to each other on the \",mdx(\"a\",e({parentName:\"td\"},{href:\"/consul/docs/agent/config/config-files#ports\"}),\"required ports\"),\".\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"flaps / interval\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.serf.member.join\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Increments when an agent joins the cluster. If an agent flapped or failed this counter also increments when it re-joins.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"joins / interval\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.serf.member.left\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Increments when an agent leaves the cluster.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"leaves / interval\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.serf.events\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Increments when an agent processes an \",mdx(\"a\",e({parentName:\"td\"},{href:\"/consul/commands/event\"}),\"event\"),\". Consul uses events internally so there may be additional events showing in telemetry. There are also a per-event counters emitted as \",mdx(\"inlineCode\",{parentName:\"td\"},\"consul.serf.events.\"),\".\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"events / interval\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.serf.events.<type>\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Breakdown of \",mdx(\"inlineCode\",{parentName:\"td\"},\"consul.serf.events\"),\" by type of event.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"events / interval\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.serf.msgs.sent\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"This metric is sample of the number of bytes of messages broadcast to the cluster. In a given time interval, the sum of this metric is the total number of bytes sent and the count is the number of messages sent.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"message bytes / interval\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.autopilot.failure_tolerance\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Tracks the number of voting servers that the cluster can lose while continuing to function.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"servers\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"gauge\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.autopilot.healthy\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Tracks the overall health of the local server cluster. If all servers are considered healthy by Autopilot, this will be set to 1. If any are unhealthy, this will be 0.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"boolean\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"gauge\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.session_ttl.active\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Tracks the active number of sessions being tracked.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"sessions\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"gauge\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.catalog.service.query\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Increments for each catalog query for the given service.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"queries\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.catalog.service.query-tag\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Increments for each catalog query for the given service with the given tag.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"queries\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.catalog.service.query-tags\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Increments for each catalog query for the given service with the given tags.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"queries\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.catalog.service.not-found\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Increments for each catalog query where the given service could not be found.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"queries\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.catalog.connect.query\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Increments for each mesh-based catalog query for the given service.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"queries\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.catalog.connect.query-tag\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Increments for each mesh-based catalog query for the given service with the given tag.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"queries\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.catalog.connect.query-tags\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Increments for each mesh-based catalog query for the given service with the given tags.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"queries\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.catalog.connect.not-found\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Increments for each mesh-based catalog query where the given service could not be found.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"queries\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")))),mdx(\"h2\",e({},{id:\"service-mesh-built-in-proxy-metrics\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#service-mesh-built-in-proxy-metrics\",\"aria-label\":\"service mesh built in proxy metrics permalink\"}),\"\\xBB\"),\"Service Mesh Built-in Proxy Metrics\"),mdx(\"p\",null,`Consul service mesh's built-in proxy is by default configured to log metrics to the\nsame sink as the agent that starts it.`),mdx(\"p\",null,`When running in this mode it emits some basic metrics. These will be expanded\nupon in the future.`),mdx(\"p\",null,\"All metrics are prefixed with \",mdx(\"inlineCode\",{parentName:\"p\"},\"consul.proxy.<proxied-service-id>\"),` to distinguish\nbetween multiple proxies on a given host. The table below use `,mdx(\"inlineCode\",{parentName:\"p\"},\"web\"),` as an\nexample service name for brevity.`),mdx(\"h3\",e({},{id:\"labels-1\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"__permalink-h\",href:\"#labels-1\",\"aria-label\":\"labels permalink\"}),\"\\xBB\"),\"Labels\"),mdx(\"p\",null,\"Most labels have a \",mdx(\"inlineCode\",{parentName:\"p\"},\"dst\"),\" label and some have a \",mdx(\"inlineCode\",{parentName:\"p\"},\"src\"),` label. When using metrics\nsinks and timeseries stores that support labels or tags, these allow aggregating\nthe connections by service name.`),mdx(\"p\",null,`Assuming all services are using a managed built-in proxy, you can get a complete\noverview of both number of open connections and bytes sent and received between\nall services by aggregating over these metrics.`),mdx(\"p\",null,\"For example aggregating over all \",mdx(\"inlineCode\",{parentName:\"p\"},\"upstream\"),` (i.e. outbound) connections which\nhave both `,mdx(\"inlineCode\",{parentName:\"p\"},\"src\"),\" and \",mdx(\"inlineCode\",{parentName:\"p\"},\"dst\"),` labels, you can get a sum of all the bandwidth in and\nout of a given service or the total number of connections between two services.`),mdx(\"h3\",e({},{id:\"metrics-reference-1\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"__permalink-h\",href:\"#metrics-reference-1\",\"aria-label\":\"metrics reference permalink\"}),\"\\xBB\"),\"Metrics Reference\"),mdx(\"p\",null,\"The standard go runtime metrics are exported by \",mdx(\"inlineCode\",{parentName:\"p\"},\"go-metrics\"),` as with Consul\nagent. The table below describes the additional metrics exported by the proxy.`),mdx(\"table\",null,mdx(\"thead\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"thead\"},mdx(\"th\",e({parentName:\"tr\"},{align:null}),\"Metric\"),mdx(\"th\",e({parentName:\"tr\"},{align:null}),\"Description\"),mdx(\"th\",e({parentName:\"tr\"},{align:null}),\"Unit\"),mdx(\"th\",e({parentName:\"tr\"},{align:null}),\"Type\"))),mdx(\"tbody\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.proxy.web.runtime.*\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"The same go runtime metrics as documented for the agent above.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"mixed\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"mixed\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.proxy.web.inbound.conns\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Shows the current number of connections open from inbound requests to the proxy. Where supported a \",mdx(\"inlineCode\",{parentName:\"td\"},\"dst\"),\" label is added indicating the service name the proxy represents.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"connections\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"gauge\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.proxy.web.inbound.rx_bytes\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Increments by the number of bytes received from an inbound client connection. Where supported a \",mdx(\"inlineCode\",{parentName:\"td\"},\"dst\"),\" label is added indicating the service name the proxy represents.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"bytes\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.proxy.web.inbound.tx_bytes\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Increments by the number of bytes transferred to an inbound client connection. Where supported a \",mdx(\"inlineCode\",{parentName:\"td\"},\"dst\"),\" label is added indicating the service name the proxy represents.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"bytes\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.proxy.web.upstream.conns\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Shows the current number of connections open from a proxy instance to an upstream. Where supported a \",mdx(\"inlineCode\",{parentName:\"td\"},\"src\"),\" label is added indicating the service name the proxy represents, and a \",mdx(\"inlineCode\",{parentName:\"td\"},\"dst\"),\" label is added indicating the service name the upstream is connecting to.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"connections\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"gauge\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.proxy.web.inbound.rx_bytes\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Increments by the number of bytes received from an upstream connection. Where supported a \",mdx(\"inlineCode\",{parentName:\"td\"},\"src\"),\" label is added indicating the service name the proxy represents, and a \",mdx(\"inlineCode\",{parentName:\"td\"},\"dst\"),\" label is added indicating the service name the upstream is connecting to.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"bytes\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.proxy.web.inbound.tx_bytes\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Increments by the number of bytes transferred to an upstream connection. Where supported a \",mdx(\"inlineCode\",{parentName:\"td\"},\"src\"),\" label is added indicating the service name the proxy represents, and a \",mdx(\"inlineCode\",{parentName:\"td\"},\"dst\"),\" label is added indicating the service name the upstream is connecting to.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"bytes\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"counter\")))),mdx(\"h2\",e({},{id:\"peering-metrics\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#peering-metrics\",\"aria-label\":\"peering metrics permalink\"}),\"\\xBB\"),\"Peering metrics\"),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},\"Requirements:\")),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"Consul 1.13.0+\")),mdx(\"p\",null,mdx(\"a\",e({parentName:\"p\"},{href:\"/consul/docs/connect/cluster-peering\"}),\"Cluster peering\"),\" refers to Consul clusters that communicate through a peer connection, as opposed to a federated connection. Consul collects metrics that describe the number of services exported to a peered cluster. Peering metrics are only emitted by the leader server. These metrics are emitted every 9 seconds.\"),mdx(\"table\",null,mdx(\"thead\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"thead\"},mdx(\"th\",e({parentName:\"tr\"},{align:null}),\"Metric\"),mdx(\"th\",e({parentName:\"tr\"},{align:null}),\"Description\"),mdx(\"th\",e({parentName:\"tr\"},{align:null}),\"Unit\"),mdx(\"th\",e({parentName:\"tr\"},{align:null}),\"Type\"))),mdx(\"tbody\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.peering.exported_services\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Counts the number of services exported with \",mdx(\"a\",e({parentName:\"td\"},{href:\"/consul/docs/connect/config-entries/exported-services\"}),\"exported service configuration entries\"),\" to a peer cluster.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"count\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"gauge\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.peering.healthy\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Tracks the health of a peering connection as reported by the server. If Consul detects errors while sending or receiving from a peer which do not recover within a reasonable time, this metric returns 0. Healthy connections return 1.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"health\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"gauge\")))),mdx(\"h3\",e({},{id:\"labels-2\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"__permalink-h\",href:\"#labels-2\",\"aria-label\":\"labels permalink\"}),\"\\xBB\"),\"Labels\"),mdx(\"p\",null,\"Consul attaches the following labels to metric values.\"),mdx(\"table\",null,mdx(\"thead\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"thead\"},mdx(\"th\",e({parentName:\"tr\"},{align:null}),\"Label Name\"),mdx(\"th\",e({parentName:\"tr\"},{align:null}),\"Description\"),mdx(\"th\",e({parentName:\"tr\"},{align:null}),\"Possible values\"))),mdx(\"tbody\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"peer_name\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"The name of the peering on the reporting cluster or leader.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Any defined peer name in the cluster\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"peer_id\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"The ID of a peer connected to the reporting cluster or leader.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Any UUID\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"partition\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(EnterpriseAlert,{inline:!0,mdxType:\"EnterpriseAlert\"}),\" Name of the partition that the peering is created in.\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"Any defined partition name in the cluster\")))),mdx(\"h2\",e({},{id:\"server-host-metrics\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"__permalink-h\",href:\"#server-host-metrics\",\"aria-label\":\"server host metrics permalink\"}),\"\\xBB\"),\"Server Host Metrics\"),mdx(\"p\",null,`Consul servers can report the following metrics about the host's system resources.\nThis feature must be enabled in the `,mdx(\"a\",e({parentName:\"p\"},{href:\"/consul/docs/agent/config/config-files#telemetry-enable_host_metrics\"}),\"agent telemetry configuration\"),`.\nNote that if the Consul server is operating inside a container these metrics\nstill report host resource usage and do not report any resource limits placed\non the container.`),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},\"Requirements:\")),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"Consul 1.15.3+\")),mdx(\"table\",null,mdx(\"thead\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"thead\"},mdx(\"th\",e({parentName:\"tr\"},{align:null}),\"Metric\"),mdx(\"th\",e({parentName:\"tr\"},{align:null}),\"Description\"),mdx(\"th\",e({parentName:\"tr\"},{align:null}),\"Unit\"),mdx(\"th\",e({parentName:\"tr\"},{align:null}),\"Type\"))),mdx(\"tbody\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.host.memory.total\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"The total physical memory in bytes\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"mixed\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"mixed\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.host.memory.available\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"The available physical memory in bytes\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"mixed\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"mixed\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.host.memory.free\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"The free physical memory in bytes\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"mixed\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"mixed\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.host.memory.used\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"The used physical memory in bytes\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"mixed\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"mixed\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.host.memory.used_percent\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"The used physical memory as a percentage of total physical memory\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"mixed\"),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"mixed\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.host.cpu.total\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"The host's total cpu utilization\"),mdx(\"td\",e({parentName:\"tr\"},{align:null})),mdx(\"td\",e({parentName:\"tr\"},{align:null}))),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.host.cpu.user\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"The cpu utilization in user space\"),mdx(\"td\",e({parentName:\"tr\"},{align:null})),mdx(\"td\",e({parentName:\"tr\"},{align:null}))),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.host.cpu.idle\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"The cpu utilization in idle state\"),mdx(\"td\",e({parentName:\"tr\"},{align:null})),mdx(\"td\",e({parentName:\"tr\"},{align:null}))),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.host.cpu.iowait\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"The cpu utilization in iowait state\"),mdx(\"td\",e({parentName:\"tr\"},{align:null})),mdx(\"td\",e({parentName:\"tr\"},{align:null}))),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.host.cpu.system\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"The cpu utilization in system space\"),mdx(\"td\",e({parentName:\"tr\"},{align:null})),mdx(\"td\",e({parentName:\"tr\"},{align:null}))),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.host.disk.size\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"The size in bytes of the data_dir disk\"),mdx(\"td\",e({parentName:\"tr\"},{align:null})),mdx(\"td\",e({parentName:\"tr\"},{align:null}))),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.host.disk.used\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"The number of bytes used on the data_dir disk\"),mdx(\"td\",e({parentName:\"tr\"},{align:null})),mdx(\"td\",e({parentName:\"tr\"},{align:null}))),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.host.disk.available\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"The number of bytes available on the data_dir disk\"),mdx(\"td\",e({parentName:\"tr\"},{align:null})),mdx(\"td\",e({parentName:\"tr\"},{align:null}))),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.host.disk.used_percent\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"The percentage of disk space used on the data_dir disk\"),mdx(\"td\",e({parentName:\"tr\"},{align:null})),mdx(\"td\",e({parentName:\"tr\"},{align:null}))),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.host.disk.inodes_percent\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"The percentage of inode usage on the data_dir disk\"),mdx(\"td\",e({parentName:\"tr\"},{align:null})),mdx(\"td\",e({parentName:\"tr\"},{align:null}))),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",e({parentName:\"tr\"},{align:null}),mdx(\"inlineCode\",{parentName:\"td\"},\"consul.host.uptime\")),mdx(\"td\",e({parentName:\"tr\"},{align:null}),\"The uptime of the host in seconds\"),mdx(\"td\",e({parentName:\"tr\"},{align:null})),mdx(\"td\",e({parentName:\"tr\"},{align:null}))))))}MDXContent.isMDXComponent=!0;\n","scope":{"version":"latest"}},"product":{"name":"Consul","slug":"consul","algoliaConfig":{"indexName":"product_CONSUL","searchOnlyApiKey":"fbd5dc1f0078d41509fcc560386fd534"},"analyticsConfig":{"includedDomains":"consul.io www.consul.io","segmentWriteKey":"IyzLrqXkox5KJ8XL4fo8vTYNGfiKlTCm"},"datoToken":"88b4984480dad56295a8aadae6caad","metadata":{"title":"Consul by HashiCorp","description":"Consul is a service networking solution to automate network configurations, discover services, and enable secure connectivity across any cloud or runtime.","image":"https://www.consulproject.io/consul-public/img/og-image.png","icon":[{"href":"/consul-public/_favicon.ico"}]},"alertBannerActive":true,"alertBanner":{"tag":"HashiConf","url":"https://hashiconf.com/2023?utm_source=direct&utm_medium=banner&utm_campaign=23Q3_HASHICONFGLOBAL_EVENT&utm_content=&utm_offer=event","text":"Our community conference is taking place in San Francisco and online October 10-12.","linkText":"Register now","expirationDate":""},"version":"1.11.3","subnavItems":[],"basePaths":["docs","api-docs","commands","downloads"],"rootDocsPaths":[{"iconName":"docs","name":"Documentation","path":"docs"},{"iconName":"api","name":"API","path":"api-docs"},{"iconName":"terminal-screen","name":"CLI","path":"commands"}],"currentRootDocsPath":{"iconName":"docs","name":"Documentation","path":"docs"}},"projectName":null,"versions":null},"__N_SSG":true}